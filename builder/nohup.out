=> Booting Puma
=> Rails 5.1.1 application starting in development on http://localhost:3000
=> Run `rails server -h` for more startup options
Puma starting in single mode...
* Version 3.8.2 (ruby 2.4.1-p111), codename: Sassy Salamander
* Min threads: 5, max threads: 5
* Environment: development
* Listening on tcp://0.0.0.0:3000
Use Ctrl-C to stop
=> Booting Puma
=> Rails 5.1.1 application starting in development on http://localhost:3000
=> Run `rails server -h` for more startup options
Puma starting in single mode...
* Version 3.8.2 (ruby 2.4.1-p111), codename: Sassy Salamander
* Min threads: 5, max threads: 5
* Environment: development
* Listening on tcp://0.0.0.0:3000
Use Ctrl-C to stop
Started GET "/builder" for 192.168.5.26 at 2017-07-19 12:16:32 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.3ms)
Completed 200 OK in 1302ms (Views: 829.2ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-07-19 12:16:37 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.2ms)
Completed 200 OK in 88ms (Views: 83.6ms)


Started GET "/jenkins" for 192.168.5.26 at 2017-07-19 12:16:40 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by JenkinsController#index as HTML
  Rendering jenkins/index.html.erb within layouts/application
  Rendered jenkins/index.html.erb within layouts/application (8.2ms)
Completed 200 OK in 113ms (Views: 107.4ms)


Started POST "/start" for 192.168.5.26 at 2017-07-19 12:16:50 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"teast", "branch"=>"testa", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"kawqVB5UrTZ0+YgVRGI7if+k8Lmw3StdcjIl2B4xb4q52ap2CbEqTV3GsKSU0EPJUT3llLhgYAtCYxTdvus7pQ=="}
pid is 997
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t teast -e qishanqing@dafy.com -E '' -b testa -T add -d ''
+ TEMP=' -u '\'''\'' -t '\''teast'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''testa'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''teast'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''testa'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u '' -t teast -e qishanqing@dafy.com -E '' -b testa -T add -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=teast
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=testa
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ teast
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: teast: command not found
++ for y in '$trunk'
++ echo teast
+ trunks=teast
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z teast ']'
+ '[' -z testa ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170719
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707191216
+ move_dir=Closed/--close+
+ Trunk_name=https://192.168.0.220/svn/tech/Trunk/teast
+ branch_name=https://192.168.0.220/svn/tech/Branch/20170719-testa/Develop/teast
+ source_name=https://192.168.0.220/svn/tech/Branch/testa
+ dest_name=https://192.168.0.220/svn/tech/Branch/Closed/--close+201707191216-testa
++ echo https://192.168.0.220/svn/tech/Branch/20170719-testa/Develop/teast
++ awk -F / '{print $7}'
+ br=20170719-testa
+ access=20170719-testa
+ svn copy https://192.168.0.220/svn/tech/Trunk/teast https://192.168.0.220/svn/tech/Branch/20170719-testa/Develop/teast --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ die 'Svn branch create the reasons for failure are as follows'
+ echo 'Svn branch create the reasons for failure are as follows'
+ mails-cm -i 'svn branch create failed'
+ test -e /home/qishanqing/tmp/output.997
+ echo
+ cat /home/qishanqing/tmp/output.997
+ rm -rf /home/qishanqing/tmp/output.997
+ kill 997
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 1081ms (Views: 65.9ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-07-19 12:17:47 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 54ms (Views: 52.2ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-07-19 12:17:48 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.8ms)
Completed 200 OK in 81ms (Views: 79.7ms)


Started GET "/jenkins" for 192.168.5.26 at 2017-07-19 12:17:49 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by JenkinsController#index as HTML
  Rendering jenkins/index.html.erb within layouts/application
  Rendered jenkins/index.html.erb within layouts/application (8.1ms)
Completed 200 OK in 96ms (Views: 93.3ms)


Started GET "/jenkins" for 192.168.5.26 at 2017-07-19 12:17:49 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by JenkinsController#index as HTML
  Rendering jenkins/index.html.erb within layouts/application
  Rendered jenkins/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 54ms (Views: 52.3ms)


Started GET "/jenkins" for 192.168.5.26 at 2017-07-19 12:17:49 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by JenkinsController#index as HTML
  Rendering jenkins/index.html.erb within layouts/application
  Rendered jenkins/index.html.erb within layouts/application (4.1ms)
Completed 200 OK in 53ms (Views: 50.8ms)


Started GET "/articles/index" for 192.168.5.26 at 2017-07-19 12:17:50 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.erb within layouts/application
  Rendered articles/index.html.erb within layouts/application (6.0ms)
Completed 200 OK in 119ms (Views: 72.7ms)


Started GET "/articles/index" for 192.168.5.26 at 2017-07-19 12:17:50 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.erb within layouts/application
  Rendered articles/index.html.erb within layouts/application (5.1ms)
Completed 200 OK in 54ms (Views: 52.3ms)


Started GET "/articles/index" for 192.168.5.26 at 2017-07-19 12:17:50 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.erb within layouts/application
  Rendered articles/index.html.erb within layouts/application (9.7ms)
Completed 200 OK in 83ms (Views: 78.9ms)


Started GET "/jenkins" for 192.168.5.26 at 2017-07-19 12:19:14 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by JenkinsController#index as HTML
  Rendering jenkins/index.html.erb within layouts/application
  Rendered jenkins/index.html.erb within layouts/application (4.6ms)
Completed 200 OK in 66ms (Views: 64.1ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-07-19 12:19:15 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.7ms)
Completed 200 OK in 66ms (Views: 63.7ms)


Started GET "/start" for 192.168.5.26 at 2017-07-19 12:20:36 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  
ActionController::RoutingError (No route matches [GET] "/start"):
  
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/start" for 192.168.5.26 at 2017-07-19 12:20:36 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  
ActionController::RoutingError (No route matches [GET] "/start"):
  
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/start" for 192.168.5.26 at 2017-07-19 12:20:37 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  
ActionController::RoutingError (No route matches [GET] "/start"):
  
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/start" for 192.168.5.26 at 2017-07-19 12:20:38 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  
ActionController::RoutingError (No route matches [GET] "/start"):
  
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 192.168.5.26 at 2017-07-19 12:20:40 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 59ms (Views: 56.9ms)


Started GET "/" for 192.168.5.26 at 2017-07-19 12:20:41 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (5.7ms)
Completed 200 OK in 104ms (Views: 100.7ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-07-19 12:20:45 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (7.5ms)
Completed 200 OK in 93ms (Views: 87.4ms)


Started GET "/jenkins" for 192.168.5.26 at 2017-07-19 12:20:46 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by JenkinsController#index as HTML
  Rendering jenkins/index.html.erb within layouts/application
  Rendered jenkins/index.html.erb within layouts/application (3.9ms)
Completed 200 OK in 65ms (Views: 62.6ms)


A server is already running. Check /home/qishanqing/myscript/builder/tmp/pids/server.pid.
=> Booting Puma
=> Rails 5.1.1 application starting in development on http://localhost:3000
=> Run `rails server -h` for more startup options
Exiting
Started GET "/merge/new" for 192.168.5.26 at 2017-07-19 12:24:24 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (20.8ms)
Completed 200 OK in 106ms (Views: 104.6ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-07-19 12:24:24 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.4ms)
Completed 200 OK in 54ms (Views: 52.0ms)


Started GET "/jenkins" for 192.168.5.26 at 2017-07-19 12:24:25 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by JenkinsController#index as HTML
  Rendering jenkins/index.html.erb within layouts/application
  Rendered jenkins/index.html.erb within layouts/application (3.8ms)
Completed 200 OK in 64ms (Views: 61.5ms)


Started GET "/" for 192.168.5.26 at 2017-07-19 12:24:26 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.1ms)
Completed 200 OK in 84ms (Views: 81.1ms)


Started GET "/articles/index" for 192.168.5.26 at 2017-07-19 12:24:27 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.erb within layouts/application
  Rendered articles/index.html.erb within layouts/application (7.1ms)
Completed 200 OK in 75ms (Views: 71.7ms)


Started GET "/jenkins" for 192.168.5.26 at 2017-07-19 12:24:28 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by JenkinsController#index as HTML
  Rendering jenkins/index.html.erb within layouts/application
  Rendered jenkins/index.html.erb within layouts/application (5.8ms)
Completed 200 OK in 68ms (Views: 65.9ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-07-19 12:26:59 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (5.8ms)
Completed 200 OK in 77ms (Views: 74.1ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-07-19 12:26:59 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.9ms)
Completed 200 OK in 57ms (Views: 55.8ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-07-19 12:26:59 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.0ms)
Completed 200 OK in 67ms (Views: 65.4ms)


Started GET "/" for 192.168.5.26 at 2017-07-19 12:27:00 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.6ms)
Completed 200 OK in 82ms (Views: 79.7ms)


Started GET "/jenkins" for 192.168.5.26 at 2017-07-19 12:27:01 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by JenkinsController#index as HTML
  Rendering jenkins/index.html.erb within layouts/application
  Rendered jenkins/index.html.erb within layouts/application (4.0ms)
Completed 200 OK in 51ms (Views: 49.1ms)


Started GET "/articles/index" for 192.168.5.26 at 2017-07-19 12:27:02 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.erb within layouts/application
  Rendered articles/index.html.erb within layouts/application (6.2ms)
Completed 200 OK in 72ms (Views: 69.8ms)


Started GET "/" for 192.168.5.26 at 2017-07-19 14:01:21 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (6.5ms)
Completed 200 OK in 215ms (Views: 210.2ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-07-19 14:01:24 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (5.0ms)
Completed 200 OK in 78ms (Views: 74.5ms)


Started GET "/jenkins" for 192.168.5.26 at 2017-07-19 14:01:25 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by JenkinsController#index as HTML
  Rendering jenkins/index.html.erb within layouts/application
  Rendered jenkins/index.html.erb within layouts/application (18.2ms)
Completed 200 OK in 86ms (Views: 82.8ms)


Started GET "/" for 192.168.5.26 at 2017-07-19 14:19:22 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (11.0ms)
Completed 200 OK in 145ms (Views: 143.1ms)


Started GET "/" for 192.168.5.26 at 2017-07-19 14:19:23 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 61ms (Views: 59.3ms)


Started GET "/" for 192.168.5.26 at 2017-07-19 14:19:23 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 65ms (Views: 63.6ms)


A server is already running. Check /home/qishanqing/myscript/builder/tmp/pids/server.pid.
=> Booting Puma
=> Rails 5.1.1 application starting in development on http://localhost:3000
=> Run `rails server -h` for more startup options
Exiting
Started GET "/" for 192.168.5.26 at 2017-07-19 14:22:10 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 44ms (Views: 42.2ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-07-19 14:22:11 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (6.9ms)
Completed 200 OK in 196ms (Views: 193.4ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-07-19 14:22:12 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 49ms (Views: 48.0ms)


Started GET "/jenkins" for 192.168.5.26 at 2017-07-19 14:22:13 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by JenkinsController#index as HTML
  Rendering jenkins/index.html.erb within layouts/application
  Rendered jenkins/index.html.erb within layouts/application (4.1ms)
Completed 200 OK in 83ms (Views: 74.9ms)


Started GET "/jenkins" for 192.168.5.26 at 2017-07-19 14:22:13 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by JenkinsController#index as HTML
  Rendering jenkins/index.html.erb within layouts/application
  Rendered jenkins/index.html.erb within layouts/application (3.5ms)
Completed 200 OK in 57ms (Views: 55.4ms)


Started GET "/" for 192.168.5.26 at 2017-07-19 14:56:49 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (10.8ms)
Completed 200 OK in 155ms (Views: 153.3ms)


Started GET "/" for 192.168.5.26 at 2017-07-19 14:56:50 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (8.3ms)
Completed 200 OK in 66ms (Views: 64.9ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-07-19 17:21:16 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (7.5ms)
Completed 200 OK in 212ms (Views: 209.8ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-07-19 17:21:19 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (5.0ms)
Completed 200 OK in 99ms (Views: 97.0ms)


Started GET "/jenkins" for 192.168.5.26 at 2017-07-19 17:21:20 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by JenkinsController#index as HTML
  Rendering jenkins/index.html.erb within layouts/application
  Rendered jenkins/index.html.erb within layouts/application (8.6ms)
Completed 200 OK in 81ms (Views: 77.2ms)


Started GET "/merge/new" for 192.168.0.232 at 2017-07-19 17:39:36 +0800
Cannot render console from 192.168.0.232! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Filter chain halted as #<Proc:0x007f7441db4798@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Completed 401 Unauthorized in 4ms


Started GET "/" for 192.168.0.232 at 2017-07-19 17:40:08 +0800
Cannot render console from 192.168.0.232! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (7.3ms)
Completed 200 OK in 101ms (Views: 95.5ms)


Started GET "/" for 192.168.5.26 at 2017-07-19 17:42:45 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (7.4ms)
Completed 200 OK in 140ms (Views: 133.8ms)


Started POST "/start" for 192.168.5.26 at 2017-07-19 17:46:47 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"gaochenchen@dafy.com", "types"=>"add", "trunk"=>"分期商城/分期商城3.0/MallManager 分期商城/分期商城3.0/MallManageGoodsBusiness", "branch"=>"商品标签管理新需求", "user"=>"gaochenchen", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"iou2cBuJYV6mrSjsYBc51AANvOBVZ8Ir6Kl9D9t+E32i/jZSDGzmJY+SEF2wpUGUrpSpzV3aiX3Y+EwKe6RHUg=="}
pid is 11514
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u gaochenchen -t '分期商城/分期商城3.0/MallManager 分期商城/分期商城3.0/MallManageGoodsBusiness' -e gaochenchen@dafy.com -E '' -b $'\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202' -T add -d ''
+ TEMP=' -u '\''gaochenchen'\'' -t '\''分期商城/分期商城3.0/MallManager 分期商城/分期商城3.0/MallManageGoodsBusiness'\'' -e '\''gaochenchen@dafy.com'\'' -E '\'''\'' -b '\''商品标签管理新需求'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''gaochenchen'\'' -t '\''分期商城/分期商城3.0/MallManager 分期商城/分期商城3.0/MallManageGoodsBusiness'\'' -e '\''gaochenchen@dafy.com'\'' -E '\'''\'' -b '\''商品标签管理新需求'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u gaochenchen -t '分期商城/分期商城3.0/MallManager 分期商城/分期商城3.0/MallManageGoodsBusiness' -e gaochenchen@dafy.com -E '' -b $'\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202' -T add -d '' --
+ true
+ case "$1" in
+ user=gaochenchen
+ shift 2
+ true
+ case "$1" in
+ trunk='分期商城/分期商城3.0/MallManager 分期商城/分期商城3.0/MallManageGoodsBusiness'
+ shift 2
+ true
+ case "$1" in
+ email=gaochenchen@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=gaochenchen@dafy.com '
+ SMARTCM_EXTRA_MAIL='gaochenchen@dafy.com '
++ gaochenchen
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: gaochenchen: command not found
++ for x in '$user'
++ echo gaochenchen=rw
+ users=gaochenchen=rw
++ $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 分期商城/分期商城3.0/MallManager: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ for y in '$trunk'
++ echo $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ trunks='分期商城/分期商城3.0/MallManager
分期商城/分期商城3.0/MallManageGoodsBusiness'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' ']'
+ '[' -z $'\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170719
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707191746
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707191746-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F / '{print $7}'
+ br=$'20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202'
+ access=$'20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.11514
+ echo $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallManager'\'', '\''https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManager'\'',now(),'\''gaochenchen'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallManager'\'', '\''https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManager'\'',now(),'\''gaochenchen'\'');'
+ cat /tmp/cmdb.db.11514
+ rm -f /tmp/cmdb.db.11514
+ check-acces
+ grep -c '20170719-商品标签管理新需求]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ cat
+ test -z gaochenchen=rw
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness' ']'
+ '[' -z $'\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170719
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707191746
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707191746-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
++ awk -F / '{print $7}'
+ br=$'20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202'
+ access=$'20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness' $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.11514
+ echo $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallManageGoodsBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness'\'',now(),'\''gaochenchen'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallManageGoodsBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness'\'',now(),'\''gaochenchen'\'');'
+ cat /tmp/cmdb.db.11514
+ rm -f /tmp/cmdb.db.11514
+ check-acces
+ grep -c '20170719-商品标签管理新需求]' /mnt/svn/authz.conf
+ read num
+ '[' 1 -eq 0 ']'
++ sed '/20170719-商品标签管理新需求]/,/^[ \t]*$/!d;/20170719-商品标签管理新需求]/d;/^[ \t]*$/d' /mnt/svn/authz.conf
+ [[ gaochenchen=rw
@admin=rw
*= =~ gaochenchen=rw ]]
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 10375ms (Views: 47.3ms)


Started GET "/jenkins" for 192.168.5.26 at 2017-07-19 18:18:09 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by JenkinsController#index as HTML
  Rendering jenkins/index.html.erb within layouts/application
  Rendered jenkins/index.html.erb within layouts/application (253.4ms)
Completed 200 OK in 493ms (Views: 490.7ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-19 18:46:57 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature\r\nhttps://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory\r\nhttps://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite", "task"=>"http://192.168.0.221/zentao/task-view-41908.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"meIFzEAGeHUYo6xatPGcHc1LIsQHpsdJHQq2RZxAswaxl4XuV+P/DjGclOtkQ+RdY9I36Q8bjB8tW4dAPJrnKQ=="}
pid is 13017
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-41908.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory
https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-41908.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory
https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-41908.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory
https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-41908.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory
https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-41908.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory
https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r' $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory\r' $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
/home/qishanqing/myscript/sh/svn-merged.sh: line 105: https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory\r'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory
https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.13017
+ echo
+ cat /home/qishanqing/tmp/merged/output.13017
+ rm -f /home/qishanqing/tmp/merged/output.13017
+ rm -f /home/qishanqing/tmp/merged/output.13017
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r'
+ die '基础业务/用户中心/ProtocolSignature  project code no found'
+ echo '基础业务/用户中心/ProtocolSignature  project code no found'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.13017
+ rm -f /home/qishanqing/tmp/merged/output.13017
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory\r'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory\r'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.13017
+ echo
+ cat /home/qishanqing/tmp/merged/output.13017
+ rm -f /home/qishanqing/tmp/merged/output.13017
+ rm -f /home/qishanqing/tmp/merged/output.13017
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory\r'
+ die '基础业务/用户中心/PDFFactory  project code no found'
+ echo '基础业务/用户中心/PDFFactory  project code no found'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.13017
+ rm -f /home/qishanqing/tmp/merged/output.13017
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ rm -f /home/qishanqing/tmp/merged/output.13017
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite'
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ awk -F '|' '{print$1}'
+ revision=
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ head='r129286 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r127770 '
+ '[' '!' -z r127770 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r127770' $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r127770' $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-41908.html
Merged revision(s) r127770 -r129286   from Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite' --username qishanqing --password q372232
svn: E155015: 提交失败(细节如下): 
svn: E155015: 提交终止: “/home/qishanqing/workspace/code/Trunk/老系统/新达飞贷/网站中心/BossSite/WebRoot/protocolmanager/view/show/zhjr-jkzx.htm” 处于冲突状态
+ die 'Svn merged conflicts the reasons for failure are as follows'
+ echo 'Svn merged conflicts the reasons for failure are as follows'
+ test -e /home/qishanqing/tmp/merged/output.13017
+ echo
+ mails-cm -i 'svn merged faild'
+ cat /home/qishanqing/tmp/merged/output.13017
+ rm -f /home/qishanqing/tmp/merged/output.13017
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (34.9ms)
Completed 200 OK in 223079ms (Views: 154.7ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-19 18:51:00 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (20.1ms)
Completed 200 OK in 77ms (Views: 74.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-19 18:51:28 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature\r\nhttps://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory\r\n", "task"=>"http://192.168.0.221/zentao/task-view-41908.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"UPLmsD7JW4WLUKWzTlggZY12XIxRGoCKs4/zFi0BFcN4h2aSKSzc/qJvnQKe6lglI+9JoVmny9yD3sITjdtB7A=="}
pid is 13185
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-41908.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory
' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-41908.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory
'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-41908.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory
'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-41908.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory
' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-41908.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory
'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r' $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory\r'
/home/qishanqing/myscript/sh/svn-merged.sh: line 105: https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory\r'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.13185
+ echo
+ cat /home/qishanqing/tmp/merged/output.13185
+ rm -f /home/qishanqing/tmp/merged/output.13185
+ rm -f /home/qishanqing/tmp/merged/output.13185
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r'
+ die '基础业务/用户中心/ProtocolSignature  project code no found'
+ echo '基础业务/用户中心/ProtocolSignature  project code no found'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.13185
+ rm -f /home/qishanqing/tmp/merged/output.13185
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory\r'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory\r'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ test -e /home/qishanqing/tmp/merged/output.13185
+ echo
+ cat /home/qishanqing/tmp/merged/output.13185
+ rm -f /home/qishanqing/tmp/merged/output.13185
+ rm -f /home/qishanqing/tmp/merged/output.13185
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory\r'
+ die '基础业务/用户中心/PDFFactory  project code no found'
+ echo '基础业务/用户中心/PDFFactory  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.13185
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.13185
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 334ms (Views: 61.5ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-19 18:52:15 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (467.5ms)
Completed 200 OK in 777ms (Views: 775.1ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-19 18:53:54 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature\r\nhttps://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory", "task"=>"http://192.168.0.221/zentao/task-view-41908.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"qTzaCuhLRFp074X2sM+qf3xwupdzTwn1J/F35po1ZZKBSVoo/67DIV3QvUdgfdI/0umvunvyQqMXoEbjOu8xvQ=="}
pid is 13256
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-41908.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-41908.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-41908.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-41908.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-41908.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r' $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
/home/qishanqing/myscript/sh/svn-merged.sh: line 105: https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.13256
+ echo
+ cat /home/qishanqing/tmp/merged/output.13256
+ rm -f /home/qishanqing/tmp/merged/output.13256
+ rm -f /home/qishanqing/tmp/merged/output.13256
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r'
+ die '基础业务/用户中心/ProtocolSignature  project code no found'
+ echo '基础业务/用户中心/ProtocolSignature  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.13256
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.13256
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ rm -f /home/qishanqing/tmp/merged/output.13256
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r128174 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r129286 '
+ '[' '!' -z r128174 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory@r128174' $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory@r128174' $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-41908.html
Merged revision(s) r128174 -r129286   from Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory' --username qishanqing --password q372232
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 19906ms (Views: 43.7ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-19 18:55:09 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (7.3ms)
Completed 200 OK in 79ms (Views: 76.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-19 18:55:28 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature", "task"=>"http://192.168.0.221/zentao/task-view-41908.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"VHDOr5Lhls8R+Sua0PsD2bKjn/n3Lc2jBA/jAxkxlah8BU6NhQQRtDjGEysASXuZHDqK1P+QhvU0XtIGuevBhw=="}
pid is 13347
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-41908.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-41908.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-41908.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-41908.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-41908.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
/home/qishanqing/myscript/sh/svn-merged.sh: line 105: https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
+ rm -f /home/qishanqing/tmp/merged/output.13347
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
++ awk -F '|' '{print$1}'
+ revision='r128173 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r128138 '
+ '[' '!' -z r128173 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature@r128173' $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature@r128173' $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-41908.html
Merged revision(s) r128173 -r128138   from Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature' --username qishanqing --password q372232
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (46.6ms)
Completed 200 OK in 19307ms (Views: 96.3ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-19 18:57:51 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (32.6ms)
Completed 200 OK in 78ms (Views: 74.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-19 18:58:12 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/lvjinsuo_31\r\nhttps://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/baoyin_26", "task"=>"http://192.168.0.221/zentao/task-view-41944.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"lcuwYGlw66Wns9j2TngfvcXe2/cf02x19D27YXFRy+G9vjBCfpVs3o6M4Eeeymf9a0fO2hduJyPEbIpk0Yufzg=="}
pid is 13468
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-41944.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/lvjinsuo_31
https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/baoyin_26' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-41944.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/lvjinsuo_31
https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/baoyin_26'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-41944.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/lvjinsuo_31
https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/baoyin_26'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-41944.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/lvjinsuo_31
https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/baoyin_26' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-41944.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/lvjinsuo_31
https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/baoyin_26'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31\r' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
/home/qishanqing/myscript/sh/svn-merged.sh: line 105: https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/lvjinsuo_31: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31\r'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/lvjinsuo_31
https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/baoyin_26'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31\r'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31\r'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ test -e /home/qishanqing/tmp/merged/output.13468
+ echo
+ cat /home/qishanqing/tmp/merged/output.13468
+ rm -f /home/qishanqing/tmp/merged/output.13468
+ rm -f /home/qishanqing/tmp/merged/output.13468
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31\r'
+ die '外部业务/P2P/Business/basefundprovider/lvjinsuo_31  project code no found'
+ mails-cm -i 'svn merged faild'
+ echo '外部业务/P2P/Business/basefundprovider/lvjinsuo_31  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.13468
+ rm -f /home/qishanqing/tmp/merged/output.13468
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
+ rm -f /home/qishanqing/tmp/merged/output.13468
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/baoyin_26'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r128133 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r129275 
refine code'
+ '[' '!' -z r128133 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26@r128133' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26@r128133' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-41944.html
Merged revision(s) r128133 -r129275 
refine code  from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/baoyin_26' --username qishanqing --password q372232
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (16.8ms)
Completed 200 OK in 252911ms (Views: 64.3ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-19 19:02:44 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (337.0ms)
Completed 200 OK in 402ms (Views: 399.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-19 19:02:52 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/lvjinsuo_31", "task"=>"http://192.168.0.221/zentao/task-view-41944.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"fQME8QMsf+adnm7dWuUc/PMJv1wzrPSPcIewlf6GpZxVdoTTFMn4nbShVmyKV2S8XZCqcTsRv9lA1oGQXlzxsw=="}
pid is 13643
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-41944.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-41944.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/lvjinsuo_31'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-41944.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/lvjinsuo_31'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-41944.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-41944.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31'
/home/qishanqing/myscript/sh/svn-merged.sh: line 105: https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/lvjinsuo_31: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31'
+ rm -f /home/qishanqing/tmp/merged/output.13643
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/lvjinsuo_31'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r123506 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r129274 
refine code'
+ '[' '!' -z r123506 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31@r123506' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31@r123506' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-41944.html
Merged revision(s) r123506 -r129274 
refine code  from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/lvjinsuo_31' --username qishanqing --password q372232
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (14.3ms)
Completed 200 OK in 109556ms (Views: 45.0ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-20 10:07:54 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (105.7ms)
Completed 200 OK in 536ms (Views: 518.4ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-20 10:07:56 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (15.5ms)
Completed 200 OK in 72ms (Views: 70.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-20 10:10:55 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness2\r\nhttps://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness\r\nhttps://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/APP/BorrowBillSMSNotifyApp", "task"=>"http://192.168.0.221/zentao/task-view-41951.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"iDzuUj21UtpQLCFWQwwEBb5InlZcRRjPtBPzxWYaL4+gSW5wKlDVoXkTGeeTvnxFENGLe1T4U5mEQsLAxsB7oA=="}
pid is 26793
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-41951.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness2
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/APP/BorrowBillSMSNotifyApp' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-41951.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness2
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/APP/BorrowBillSMSNotifyApp'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-41951.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness2
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/APP/BorrowBillSMSNotifyApp'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-41951.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness2
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/APP/BorrowBillSMSNotifyApp' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-41951.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness2
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/APP/BorrowBillSMSNotifyApp'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2\r' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness\r' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/APP/BorrowBillSMSNotifyApp'
/home/qishanqing/myscript/sh/svn-merged.sh: line 105: https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness2: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2\r'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness\r'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/APP/BorrowBillSMSNotifyApp'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness2
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/APP/BorrowBillSMSNotifyApp'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2\r'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2\r'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ test -e /home/qishanqing/tmp/merged/output.26793
+ echo
+ cat /home/qishanqing/tmp/merged/output.26793
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.26793
+ rm -f /home/qishanqing/tmp/merged/output.26793
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2\r'
+ die '外部业务/P2P/Business/BorrowBusiness2  project code no found'
+ echo '外部业务/P2P/Business/BorrowBusiness2  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.26793
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.26793
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness\r'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness\r'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ test -e /home/qishanqing/tmp/merged/output.26793
+ echo
+ cat /home/qishanqing/tmp/merged/output.26793
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.26793
+ rm -f /home/qishanqing/tmp/merged/output.26793
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness\r'
+ die '外部业务/P2P/Business/RepaymentBusiness  project code no found'
+ echo '外部业务/P2P/Business/RepaymentBusiness  project code no found'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.26793
+ rm -f /home/qishanqing/tmp/merged/output.26793
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/APP/BorrowBillSMSNotifyApp'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/APP/BorrowBillSMSNotifyApp'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/APP/BorrowBillSMSNotifyApp'
+ rm -f /home/qishanqing/tmp/merged/output.26793
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/APP/BorrowBillSMSNotifyApp'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/APP/BorrowBillSMSNotifyApp'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/APP/BorrowBillSMSNotifyApp'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/APP/BorrowBillSMSNotifyApp'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170710-消息优化/Develop/外部业务/P2P/APP/BorrowBillSMSNotifyApp'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ awk -F '|' '{print$1}'
++ grep -C 3 $'Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/APP/BorrowBillSMSNotifyApp'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/APP/BorrowBillSMSNotifyApp'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r129421 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/APP/BorrowBillSMSNotifyApp'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r126595 '
+ '[' '!' -z r126595 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/APP/BorrowBillSMSNotifyApp@r126595' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/APP/BorrowBillSMSNotifyApp' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/APP/BorrowBillSMSNotifyApp@r126595' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/APP/BorrowBillSMSNotifyApp'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-41951.html
Merged revision(s) r126595 -r129421   from Branch/20170710-消息优化/Develop/外部业务/P2P/APP/BorrowBillSMSNotifyApp' --username qishanqing --password q372232
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (359.1ms)
Completed 200 OK in 38701ms (Views: 511.5ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-20 10:11:50 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (21.7ms)
Completed 200 OK in 113ms (Views: 110.3ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-20 10:12:15 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness2 \r\nhttps://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness ", "task"=>"http://192.168.0.221/zentao/task-view-41951.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"3wMnmZtyS58pCkMoV36MzQuFaKZJdFtft4wx6AuJIcf3dqe7jJfM5AA1e5mHzPSNpRx9i0HJEAmH3QDtq1N16A=="}
pid is 26897
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-41951.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness2 
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness ' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-41951.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness2 
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness '\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-41951.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness2 
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness '\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-41951.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness2 
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness ' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-41951.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness2 
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness '
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' $'\r' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 105: https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness2: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ for y in '$branch'
++ echo $'\r'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness2

https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ rm -f /home/qishanqing/tmp/merged/output.26897
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ mails-cm -i 'code merged from Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness2'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r129426 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r126593 '
+ '[' '!' -z r126593 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2@r126593' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2@r126593' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-41951.html
Merged revision(s) r126593 -r129426   from Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness2' --username qishanqing --password q372232
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'\r'
+ trunk=$'\r'
+ svn log -l 1 $'\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.26897
+ echo
+ cat /home/qishanqing/tmp/merged/output.26897
+ rm -f /home/qishanqing/tmp/merged/output.26897
+ rm -f /home/qishanqing/tmp/merged/output.26897
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\r'
+ die '  project code no found'
+ echo '  project code no found'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.26897
+ rm -f /home/qishanqing/tmp/merged/output.26897
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.26897
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r129431 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r126594 '
+ '[' '!' -z r126594 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness@r126594' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness@r126594' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-41951.html
Merged revision(s) r126594 -r129431   from Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness' --username qishanqing --password q372232
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (3.3ms)
Completed 200 OK in 186882ms (Views: 99.4ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-20 10:16:06 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (31.6ms)
Completed 200 OK in 207ms (Views: 204.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-20 10:17:19 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Task/MessageNoticeTask https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/HLFundBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/KKCommonBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/SZSBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Task/MessageDoubleNoticeTask https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Task/CalOverDueBillApp https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness2 ", "task"=>"http://192.168.0.221/zentao/task-view-41951.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"hVniO6FM7mkKfAcu3SV8s6wf9H1XDKH4UzcYkHUAtFWtLGIZtqlpEiNDP58NlwTzAobhUF+x6q5jZimV1drgeg=="}
pid is 27049
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-41951.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Task/MessageNoticeTask https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/HLFundBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/KKCommonBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/SZSBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Task/MessageDoubleNoticeTask https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Task/CalOverDueBillApp https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness2 ' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-41951.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Task/MessageNoticeTask https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/HLFundBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/KKCommonBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/SZSBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Task/MessageDoubleNoticeTask https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Task/CalOverDueBillApp https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness2 '\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-41951.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Task/MessageNoticeTask https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/HLFundBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/KKCommonBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/SZSBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Task/MessageDoubleNoticeTask https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Task/CalOverDueBillApp https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness2 '\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-41951.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Task/MessageNoticeTask https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/HLFundBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/KKCommonBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/SZSBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Task/MessageDoubleNoticeTask https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Task/CalOverDueBillApp https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness2 ' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-41951.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Task/MessageNoticeTask https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/HLFundBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/KKCommonBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/SZSBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Task/MessageDoubleNoticeTask https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Task/CalOverDueBillApp https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness2 '
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/KKCommonBusiness' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/CalOverDueBillApp' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
/home/qishanqing/myscript/sh/svn-merged.sh: line 105: https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Task/MessageNoticeTask: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/KKCommonBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/CalOverDueBillApp'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Task/MessageNoticeTask
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/HLFundBusiness
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/KKCommonBusiness
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/SZSBusiness
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Task/MessageDoubleNoticeTask
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Task/CalOverDueBillApp
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness2'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask'
+ rm -f /home/qishanqing/tmp/merged/output.27049
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask'
+ mails-cm -i 'code merged from Branch/20170710-消息优化/Develop/外部业务/P2P/Task/MessageNoticeTask'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep -C 3 $'Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ revision=
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask'
+ head='r129430 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask'
++ grep '^r'
++ tail -n 4
++ awk -F '|' '{print$1}'
+ revision='r126596 '
+ '[' '!' -z r126596 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask@r126596' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask@r126596' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-41951.html
Merged revision(s) r126596 -r129430   from Branch/20170710-消息优化/Develop/外部业务/P2P/Task/MessageNoticeTask' --username qishanqing --password q372232
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.27049
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness'
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ awk -F '|' '{print$1}'
++ grep '^r'
++ grep -C 3 $'Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ head -n 4
+ revision=
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ head='r129424 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r126597 '
+ '[' '!' -z r126597 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness@r126597' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness' .
+ st='  树冲突：2'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2322' ']'
+ die 'Svn merged conflicts the r126597 -r129424  from Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness'
+ echo 'Svn merged conflicts the r126597 -r129424  from Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.27049
+ rm -f /home/qishanqing/tmp/merged/output.27049
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-41951.html
Merged revision(s) r126597 -r129424   from Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness' --username qishanqing --password q372232
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.27049
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness'
+ mails-cm -i 'code merged from Branch/20170710-消息优化/Develop/外部业务/P2P/Business/HLFundBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness'
+ head='r127241 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r126598 '
+ '[' '!' -z r126598 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness@r126598' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness@r126598' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-41951.html
Merged revision(s) r126598 -r127241   from Branch/20170710-消息优化/Develop/外部业务/P2P/Business/HLFundBusiness' --username qishanqing --password q372232
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/KKCommonBusiness'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/KKCommonBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/KKCommonBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.27049
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/KKCommonBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/KKCommonBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/KKCommonBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/KKCommonBusiness'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170710-消息优化/Develop/外部业务/P2P/Business/KKCommonBusiness'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/KKCommonBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/KKCommonBusiness'
++ awk -F '|' '{print$1}'
+ head='r127243 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/KKCommonBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r126599 '
+ '[' '!' -z r126599 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/KKCommonBusiness@r126599' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/KKCommonBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/KKCommonBusiness@r126599' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/KKCommonBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-41951.html
Merged revision(s) r126599 -r127243   from Branch/20170710-消息优化/Develop/外部业务/P2P/Business/KKCommonBusiness' --username qishanqing --password q372232
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.27049
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170710-消息优化/Develop/外部业务/P2P/Business/SZSBusiness'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ awk -F '|' '{print$1}'
++ head -n 4
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r129436 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r126600 '
+ '[' '!' -z r126600 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness@r126600' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness@r126600' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ echo tc
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-41951.html
Merged revision(s) r126600 -r129436   from Branch/20170710-消息优化/Develop/外部业务/P2P/Business/SZSBusiness' --username qishanqing --password q372232
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.27049
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ svn_from_tb_merged
+ mails-cm -i 'code merged from Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness'
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r129569 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r129431 '
+ '[' '!' -z r129569 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness@r129569' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness@r129569' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-41951.html
Merged revision(s) r129569 -r129431   from Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness' --username qishanqing --password q372232
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask'
+ rm -f /home/qishanqing/tmp/merged/output.27049
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170710-消息优化/Develop/外部业务/P2P/Task/MessageDoubleNoticeTask'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask'
++ grep '^r'
+ head='r129429 '
+ '[' '!' -z ']'
++ awk -F '|' '{print$1}'
++ grep '^r'
++ tail -n 4
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask'
+ revision='r126914 '
+ '[' '!' -z r126914 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask@r126914' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask@r126914' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-41951.html
Merged revision(s) r126914 -r129429   from Branch/20170710-消息优化/Develop/外部业务/P2P/Task/MessageDoubleNoticeTask' --username qishanqing --password q372232
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/CalOverDueBillApp'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/CalOverDueBillApp'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/CalOverDueBillApp'
+ rm -f /home/qishanqing/tmp/merged/output.27049
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/CalOverDueBillApp'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/CalOverDueBillApp'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/CalOverDueBillApp'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/CalOverDueBillApp'
+ mails-cm -i 'code merged from Branch/20170710-消息优化/Develop/外部业务/P2P/Task/CalOverDueBillApp'
+ clean_workspace
+ svn cleanup .
+ grep '^?'
+ xargs rm -rf
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/CalOverDueBillApp'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/CalOverDueBillApp'
+ head='r129427 '
+ '[' '!' -z ']'
++ awk -F '|' '{print$1}'
++ grep '^r'
++ tail -n 4
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/CalOverDueBillApp'
+ revision='r128724 '
+ '[' '!' -z r128724 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/CalOverDueBillApp@r128724' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/CalOverDueBillApp' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/CalOverDueBillApp@r128724' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/CalOverDueBillApp'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-41951.html
Merged revision(s) r128724 -r129427   from Branch/20170710-消息优化/Develop/外部业务/P2P/Task/CalOverDueBillApp' --username qishanqing --password q372232
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ rm -f /home/qishanqing/tmp/merged/output.27049
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness2'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r129435 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ grep '^r'
++ tail -n 4
++ awk -F '|' '{print$1}'
+ revision='r127288 '
+ '[' '!' -z r127288 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2@r127288' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2@r127288' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-41951.html
Merged revision(s) r127288 -r129435   from Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness2' --username qishanqing --password q372232
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 261753ms (Views: 85.8ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-20 10:31:08 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (14.3ms)
Completed 200 OK in 62ms (Views: 59.5ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-20 10:31:28 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170718-实名优化查询速度/Develop/基础业务/账户中心/AccountGateway5 https://192.168.0.220/svn/tech/Branch/20170718-实名优化查询速度/Develop/基础业务/账户中心/AccountGateway21 ", "task"=>"http://192.168.0.221/zentao/task-view-41949.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"IhmV78D/MFnybPVk/GAtSMEapq4gdf/p8uV8cvwS988KbBXN1xq3IttTzdUs0lUIb4OzgyjItL/CtE13XMij4A=="}
pid is 27883
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-41949.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170718-实名优化查询速度/Develop/基础业务/账户中心/AccountGateway5 https://192.168.0.220/svn/tech/Branch/20170718-实名优化查询速度/Develop/基础业务/账户中心/AccountGateway21 ' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-41949.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170718-实名优化查询速度/Develop/基础业务/账户中心/AccountGateway5 https://192.168.0.220/svn/tech/Branch/20170718-实名优化查询速度/Develop/基础业务/账户中心/AccountGateway21 '\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-41949.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170718-实名优化查询速度/Develop/基础业务/账户中心/AccountGateway5 https://192.168.0.220/svn/tech/Branch/20170718-实名优化查询速度/Develop/基础业务/账户中心/AccountGateway21 '\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-41949.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170718-实名优化查询速度/Develop/基础业务/账户中心/AccountGateway5 https://192.168.0.220/svn/tech/Branch/20170718-实名优化查询速度/Develop/基础业务/账户中心/AccountGateway21 ' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-41949.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170718-实名优化查询速度/Develop/基础业务/账户中心/AccountGateway5 https://192.168.0.220/svn/tech/Branch/20170718-实名优化查询速度/Develop/基础业务/账户中心/AccountGateway21 '
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway5' $'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway21'
/home/qishanqing/myscript/sh/svn-merged.sh: line 105: https://192.168.0.220/svn/tech/Branch/20170718-实名优化查询速度/Develop/基础业务/账户中心/AccountGateway5: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway5'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway21'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170718-实名优化查询速度/Develop/基础业务/账户中心/AccountGateway5
https://192.168.0.220/svn/tech/Branch/20170718-实名优化查询速度/Develop/基础业务/账户中心/AccountGateway21'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway5'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway5'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway5'
+ rm -f /home/qishanqing/tmp/merged/output.27883
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway5'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway5'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway5'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170718-实名优化查询速度/Develop/基础业务/账户中心/AccountGateway5'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway5'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ head -n 4
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway5'
++ awk -F '|' '{print$1}'
+ revision=
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway5'
++ awk -F '|' '{print$1}'
+ head='r129331 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway5'
++ tail -n 4
+ revision='r128950 '
+ '[' '!' -z r128950 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway5@r128950' $'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway5' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway5@r128950' $'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway5'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-41949.html
Merged revision(s) r128950 -r129331   from Branch/20170718-实名优化查询速度/Develop/基础业务/账户中心/AccountGateway5' --username qishanqing --password q372232
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway21'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway21'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway21'
+ rm -f /home/qishanqing/tmp/merged/output.27883
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway21'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway21'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway21'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway21'
+ mails-cm -i 'code merged from Branch/20170718-实名优化查询速度/Develop/基础业务/账户中心/AccountGateway21'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway21'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway21'
+ head='r129329 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway21'
+ revision='r128952 '
+ '[' '!' -z r128952 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway21@r128952' $'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway21' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway21@r128952' $'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway21'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-41949.html
Merged revision(s) r128952 -r129329   from Branch/20170718-实名优化查询速度/Develop/基础业务/账户中心/AccountGateway21' --username qishanqing --password q372232
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 287685ms (Views: 79.8ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-20 10:36:18 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.7ms)
Completed 200 OK in 74ms (Views: 70.5ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-20 10:37:16 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 46ms (Views: 36.9ms)


Started POST "/start" for 192.168.5.26 at 2017-07-20 10:37:22 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"tet", "branch"=>"20170718-实名优化查询速度", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"Kzi1KlIDi1Vb2q3JNrMTq/g9loWhLaGVdllUEwIiASQDTTUIReYMLnLllXjmAWvrVqSDqKmQ6sNGCGUWovhVCw=="}
pid is 28254
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t tet -e qishanqing@dafy.com -E '' -b $'20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''tet'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170718-实名优化查询速度'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''tet'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170718-实名优化查询速度'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t tet -e qishanqing@dafy.com -E '' -b $'20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=tet
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ tet
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: tet: command not found
++ for y in '$trunk'
++ echo tet
+ trunks=tet
+ test del = add
+ delbranch
+ '[' -z $'20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170720
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707201037
+ move_dir=Closed/--close+
+ Trunk_name=https://192.168.0.220/svn/tech/Trunk/tet
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170720-20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/tet'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707201037-20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246'
++ awk -F / '{print $7}'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170720-20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/tet'
+ br=$'20170720-20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246'
+ access=$'20170720-20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707201037-20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.28254
+ echo $'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170718-实名优化查询速度%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170718-实名优化查询速度%'\'';'
+ cat /tmp/cmdb.db.28254
+ rm -f /tmp/cmdb.db.28254
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (26.2ms)
Completed 200 OK in 5848ms (Views: 63.3ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-20 10:47:07 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (9.4ms)
Completed 200 OK in 118ms (Views: 111.2ms)


Started POST "/start" for 192.168.5.26 at 2017-07-20 10:47:13 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"fefe", "branch"=>"20170710-消息优化", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"SuL3QZS/waDIlx2RhgbY+gB7xMZNhZVdKelNaUbVy2lil3djg1pG2+GoJSBWtKC6ruLR60U43gsZuHxs5g+fRg=="}
pid is 28360
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t fefe -e qishanqing@dafy.com -E '' -b $'20170710-\346\266\210\346\201\257\344\274\230\345\214\226' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''fefe'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170710-消息优化'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''fefe'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170710-消息优化'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t fefe -e qishanqing@dafy.com -E '' -b $'20170710-\346\266\210\346\201\257\344\274\230\345\214\226' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=fefe
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170710-\346\266\210\346\201\257\344\274\230\345\214\226'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ fefe
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: fefe: command not found
++ for y in '$trunk'
++ echo fefe
+ trunks=fefe
+ test del = add
+ delbranch
+ '[' -z $'20170710-\346\266\210\346\201\257\344\274\230\345\214\226' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170720
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707201047
+ move_dir=Closed/--close+
+ Trunk_name=https://192.168.0.220/svn/tech/Trunk/fefe
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170720-20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/fefe'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707201047-20170710-\346\266\210\346\201\257\344\274\230\345\214\226'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170720-20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/fefe'
++ awk -F / '{print $7}'
+ br=$'20170720-20170710-\346\266\210\346\201\257\344\274\230\345\214\226'
+ access=$'20170720-20170710-\346\266\210\346\201\257\344\274\230\345\214\226'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707201047-20170710-\346\266\210\346\201\257\344\274\230\345\214\226' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.28360
+ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170710-消息优化%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170710-消息优化%'\'';'
+ cat /tmp/cmdb.db.28360
+ rm -f /tmp/cmdb.db.28360
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 31646ms (Views: 47.1ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-20 10:48:03 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170718-配置中心/Develop/外部业务/P2P/Business/ProductBusiness", "task"=>"http://192.168.0.221/zentao/task-view-41971.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"x7j5LYW6sXZybkTPpd8MaYlBmlGIlIP+pKSrL30vsBPvzXkPkl82DVtRfH51bXQpJ9iPfIApyKiU9Zoq3fXkPA=="}
pid is 28396
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-41971.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170718-\351\205\215\347\275\256\344\270\255\345\277\203/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/ProductBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-41971.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170718-配置中心/Develop/外部业务/P2P/Business/ProductBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-41971.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170718-配置中心/Develop/外部业务/P2P/Business/ProductBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-41971.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170718-\351\205\215\347\275\256\344\270\255\345\277\203/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/ProductBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-41971.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170718-\351\205\215\347\275\256\344\270\255\345\277\203/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/ProductBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170718-\351\205\215\347\275\256\344\270\255\345\277\203/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/ProductBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 105: https://192.168.0.220/svn/tech/Branch/20170718-配置中心/Develop/外部业务/P2P/Business/ProductBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170718-\351\205\215\347\275\256\344\270\255\345\277\203/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/ProductBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170718-\351\205\215\347\275\256\344\270\255\345\277\203/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/ProductBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170718-\351\205\215\347\275\256\344\270\255\345\277\203/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/ProductBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/ProductBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170718-\351\205\215\347\275\256\344\270\255\345\277\203/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/ProductBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.28396
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/ProductBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170718-\351\205\215\347\275\256\344\270\255\345\277\203/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/ProductBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/ProductBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170718-配置中心/Develop/外部业务/P2P/Business/ProductBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/ProductBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170718-\351\205\215\347\275\256\344\270\255\345\277\203/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/ProductBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170718-\351\205\215\347\275\256\344\270\255\345\277\203/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/ProductBusiness'
+ head='r129236 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170718-\351\205\215\347\275\256\344\270\255\345\277\203/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/ProductBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r128811 '
+ '[' '!' -z r128811 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170718-\351\205\215\347\275\256\344\270\255\345\277\203/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/ProductBusiness@r128811' $'https://192.168.0.220/svn/tech/Branch/20170718-\351\205\215\347\275\256\344\270\255\345\277\203/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/ProductBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170718-\351\205\215\347\275\256\344\270\255\345\277\203/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/ProductBusiness@r128811' $'https://192.168.0.220/svn/tech/Branch/20170718-\351\205\215\347\275\256\344\270\255\345\277\203/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/ProductBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-41971.html
Merged revision(s) r128811 -r129236   from Branch/20170718-配置中心/Develop/外部业务/P2P/Business/ProductBusiness' --username qishanqing --password q372232
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (41.7ms)
Completed 200 OK in 125750ms (Views: 175.3ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-20 10:50:36 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 180ms (Views: 178.2ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-20 10:51:10 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170719-BOSS后台订单管理/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170719-BOSS后台订单管理/Develop/分期商城/分期商城3.0/MallManageOrderBusiness ", "task"=>"http://192.168.0.221/zentao/task-view-41972.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"UwGNokq9UgF/B6y0jnLHFL+whr/ouWWPuwwpTaXlKmR7dA2AXVjVelY4lAVewL9UESmTkuAELtmLXRhIBT9+Sw=="}
pid is 28501
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-41972.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170719-BOSS后台订单管理/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170719-BOSS后台订单管理/Develop/分期商城/分期商城3.0/MallManageOrderBusiness ' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-41972.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170719-BOSS后台订单管理/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170719-BOSS后台订单管理/Develop/分期商城/分期商城3.0/MallManageOrderBusiness '\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-41972.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170719-BOSS后台订单管理/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170719-BOSS后台订单管理/Develop/分期商城/分期商城3.0/MallManageOrderBusiness '\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-41972.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170719-BOSS后台订单管理/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170719-BOSS后台订单管理/Develop/分期商城/分期商城3.0/MallManageOrderBusiness ' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-41972.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170719-BOSS后台订单管理/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170719-BOSS后台订单管理/Develop/分期商城/分期商城3.0/MallManageOrderBusiness '
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' $'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 105: https://192.168.0.220/svn/tech/Branch/20170719-BOSS后台订单管理/Develop/分期商城/分期商城3.0/MallManager: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170719-BOSS后台订单管理/Develop/分期商城/分期商城3.0/MallManager
https://192.168.0.220/svn/tech/Branch/20170719-BOSS后台订单管理/Develop/分期商城/分期商城3.0/MallManageOrderBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ rm -f /home/qishanqing/tmp/merged/output.28501
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170719-BOSS后台订单管理/Develop/分期商城/分期商城3.0/MallManager'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r129368 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r129361 '
+ '[' '!' -z r129361 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager@r129361' $'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager@r129361' $'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-41972.html
Merged revision(s) r129361 -r129368   from Branch/20170719-BOSS后台订单管理/Develop/分期商城/分期商城3.0/MallManager' --username qishanqing --password q372232
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.28501
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ mails-cm -i 'code merged from Branch/20170719-BOSS后台订单管理/Develop/分期商城/分期商城3.0/MallManageOrderBusiness'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r129362 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r129362 '
+ '[' '!' -z r129362 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness@r129362' $'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness@r129362' $'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-41972.html
Merged revision(s) r129362 -r129362   from Branch/20170719-BOSS后台订单管理/Develop/分期商城/分期商城3.0/MallManageOrderBusiness' --username qishanqing --password q372232
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 88251ms (Views: 344.3ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-20 11:02:11 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.4ms)
Completed 200 OK in 146ms (Views: 142.6ms)


Started POST "/start" for 192.168.5.26 at 2017-07-20 11:02:17 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"fef", "branch"=>"20170719-BOSS后台订单管理", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"ty5ndOwmH6Lk1Q/jEw83M01uEu5JCCWDIQ4l1puDHkOfW+dW+8OY2c3qN1LDvU9z4/cHw0G1btURXxTTO1lKbA=="}
pid is 28705
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t fef -e qishanqing@dafy.com -E '' -b $'20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''fef'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170719-BOSS后台订单管理'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''fef'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170719-BOSS后台订单管理'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t fef -e qishanqing@dafy.com -E '' -b $'20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=fef
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ fef
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: fef: command not found
++ for y in '$trunk'
++ echo fef
+ trunks=fef
+ test del = add
+ delbranch
+ '[' -z $'20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170720
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707201102
+ move_dir=Closed/--close+
+ Trunk_name=https://192.168.0.220/svn/tech/Trunk/fef
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170720-20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/fef'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707201102-20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170720-20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/fef'
++ awk -F / '{print $7}'
+ br=$'20170720-20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206'
+ access=$'20170720-20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707201102-20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.28705
+ echo $'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170719-BOSS后台订单管理%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170719-BOSS后台订单管理%'\'';'
+ cat /tmp/cmdb.db.28705
+ rm -f /tmp/cmdb.db.28705
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (31.5ms)
Completed 200 OK in 1833ms (Views: 149.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-20 11:02:30 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.4ms)
Completed 200 OK in 57ms (Views: 54.3ms)


Started POST "/start" for 192.168.5.26 at 2017-07-20 11:06:09 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"xinruigang@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Task/MessageNoticeTask 外部业务/P2P/Task/MessageDoubleNoticeTask", "branch"=>"消息bug修复", "user"=>"xinruigang", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"M77KU6KZ10S06YjKIeqZ+voTsguemUfn4Ewmc+anjiEby0pxtXxQP53WsHvxWOG6VIqnJpYkDLHQHRd2Rn3aDg=="}
pid is 28766
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u xinruigang -t '外部业务/P2P/Task/MessageNoticeTask 外部业务/P2P/Task/MessageDoubleNoticeTask' -e xinruigang@dafy.com -E '' -b $'\346\266\210\346\201\257bug\344\277\256\345\244\215' -T add -d ''
+ TEMP=' -u '\''xinruigang'\'' -t '\''外部业务/P2P/Task/MessageNoticeTask 外部业务/P2P/Task/MessageDoubleNoticeTask'\'' -e '\''xinruigang@dafy.com'\'' -E '\'''\'' -b '\''消息bug修复'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''xinruigang'\'' -t '\''外部业务/P2P/Task/MessageNoticeTask 外部业务/P2P/Task/MessageDoubleNoticeTask'\'' -e '\''xinruigang@dafy.com'\'' -E '\'''\'' -b '\''消息bug修复'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u xinruigang -t '外部业务/P2P/Task/MessageNoticeTask 外部业务/P2P/Task/MessageDoubleNoticeTask' -e xinruigang@dafy.com -E '' -b $'\346\266\210\346\201\257bug\344\277\256\345\244\215' -T add -d '' --
+ true
+ case "$1" in
+ user=xinruigang
+ shift 2
+ true
+ case "$1" in
+ trunk='外部业务/P2P/Task/MessageNoticeTask 外部业务/P2P/Task/MessageDoubleNoticeTask'
+ shift 2
+ true
+ case "$1" in
+ email=xinruigang@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\346\266\210\346\201\257bug\344\277\256\345\244\215'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=xinruigang@dafy.com '
+ SMARTCM_EXTRA_MAIL='xinruigang@dafy.com '
++ xinruigang
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: xinruigang: command not found
++ for x in '$user'
++ echo xinruigang=rw
+ users=xinruigang=rw
++ $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask' $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 外部业务/P2P/Task/MessageNoticeTask: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask'
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask'
+ trunks='外部业务/P2P/Task/MessageNoticeTask
外部业务/P2P/Task/MessageDoubleNoticeTask'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask' ']'
+ '[' -z $'\346\266\210\346\201\257bug\344\277\256\345\244\215' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170720
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707201106
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170720-\346\266\210\346\201\257bug\344\277\256\345\244\215/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\346\266\210\346\201\257bug\344\277\256\345\244\215'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707201106-\346\266\210\346\201\257bug\344\277\256\345\244\215'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170720-\346\266\210\346\201\257bug\344\277\256\345\244\215/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask'
++ awk -F / '{print $7}'
+ br=$'20170720-\346\266\210\346\201\257bug\344\277\256\345\244\215'
+ access=$'20170720-\346\266\210\346\201\257bug\344\277\256\345\244\215'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask' $'https://192.168.0.220/svn/tech/Branch/20170720-\346\266\210\346\201\257bug\344\277\256\345\244\215/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.28766
+ echo $'https://192.168.0.220/svn/tech/Branch/20170720-\346\266\210\346\201\257bug\344\277\256\345\244\215/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Task/MessageNoticeTask'\'', '\''https://192.168.0.220/svn/tech/Branch/20170720-消息bug修复/Develop/外部业务/P2P/Task/MessageNoticeTask'\'',now(),'\''xinruigang'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Task/MessageNoticeTask'\'', '\''https://192.168.0.220/svn/tech/Branch/20170720-消息bug修复/Develop/外部业务/P2P/Task/MessageNoticeTask'\'',now(),'\''xinruigang'\'');'
+ cat /tmp/cmdb.db.28766
+ rm -f /tmp/cmdb.db.28766
+ check-acces
+ grep -c '20170720-消息bug修复]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ cat
+ test -z xinruigang=rw
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask' ']'
+ '[' -z $'\346\266\210\346\201\257bug\344\277\256\345\244\215' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170720
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707201106
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170720-\346\266\210\346\201\257bug\344\277\256\345\244\215/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\346\266\210\346\201\257bug\344\277\256\345\244\215'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707201106-\346\266\210\346\201\257bug\344\277\256\345\244\215'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170720-\346\266\210\346\201\257bug\344\277\256\345\244\215/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask'
++ awk -F / '{print $7}'
+ br=$'20170720-\346\266\210\346\201\257bug\344\277\256\345\244\215'
+ access=$'20170720-\346\266\210\346\201\257bug\344\277\256\345\244\215'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask' $'https://192.168.0.220/svn/tech/Branch/20170720-\346\266\210\346\201\257bug\344\277\256\345\244\215/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.28766
+ echo $'https://192.168.0.220/svn/tech/Branch/20170720-\346\266\210\346\201\257bug\344\277\256\345\244\215/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Task/MessageDoubleNoticeTask'\'', '\''https://192.168.0.220/svn/tech/Branch/20170720-消息bug修复/Develop/外部业务/P2P/Task/MessageDoubleNoticeTask'\'',now(),'\''xinruigang'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Task/MessageDoubleNoticeTask'\'', '\''https://192.168.0.220/svn/tech/Branch/20170720-消息bug修复/Develop/外部业务/P2P/Task/MessageDoubleNoticeTask'\'',now(),'\''xinruigang'\'');'
+ cat /tmp/cmdb.db.28766
+ rm -f /tmp/cmdb.db.28766
+ check-acces
+ grep -c '20170720-消息bug修复]' /mnt/svn/authz.conf
+ read num
+ '[' 1 -eq 0 ']'
++ sed '/20170720-消息bug修复]/,/^[ \t]*$/!d;/20170720-消息bug修复]/d;/^[ \t]*$/d' /mnt/svn/authz.conf
+ [[ xinruigang=rw
@admin=rw
*= =~ xinruigang=rw ]]
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 7860ms (Views: 90.2ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-20 11:06:44 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 54ms (Views: 52.1ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-20 11:21:39 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 52ms (Views: 49.7ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-07-20 11:21:40 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (5.0ms)
Completed 200 OK in 49ms (Views: 47.1ms)


Started GET "/jenkins" for 192.168.5.26 at 2017-07-20 11:21:41 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by JenkinsController#index as HTML
  Rendering jenkins/index.html.erb within layouts/application
  Rendered jenkins/index.html.erb within layouts/application (34.4ms)
Completed 200 OK in 192ms (Views: 78.0ms)


Started GET "/articles/index" for 192.168.5.26 at 2017-07-20 11:21:42 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.erb within layouts/application
  Rendered articles/index.html.erb within layouts/application (152.5ms)
Completed 200 OK in 297ms (Views: 214.8ms)


Started POST "/start" for 192.168.5.26 at 2017-07-20 11:30:40 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"qfef", "branch"=>"20170718-配置中心", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"H/DXnD84tEPvbUbJ60G68zVZIQcx2bM1z+5yTW5RYmU3hVe+KN0zOMZSfng788Kzm8A0Kjlk+GP/v0NIzos2Sg=="}
pid is 29132
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t qfef -e qishanqing@dafy.com -E '' -b $'20170718-\351\205\215\347\275\256\344\270\255\345\277\203' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''qfef'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170718-配置中心'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''qfef'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170718-配置中心'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t qfef -e qishanqing@dafy.com -E '' -b $'20170718-\351\205\215\347\275\256\344\270\255\345\277\203' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=qfef
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170718-\351\205\215\347\275\256\344\270\255\345\277\203'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ qfef
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: qfef: command not found
++ for y in '$trunk'
++ echo qfef
+ trunks=qfef
+ test del = add
+ delbranch
+ '[' -z $'20170718-\351\205\215\347\275\256\344\270\255\345\277\203' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170720
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707201130
+ move_dir=Closed/--close+
+ Trunk_name=https://192.168.0.220/svn/tech/Trunk/qfef
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170720-20170718-\351\205\215\347\275\256\344\270\255\345\277\203/Develop/qfef'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170718-\351\205\215\347\275\256\344\270\255\345\277\203'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707201130-20170718-\351\205\215\347\275\256\344\270\255\345\277\203'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170720-20170718-\351\205\215\347\275\256\344\270\255\345\277\203/Develop/qfef'
++ awk -F / '{print $7}'
+ br=$'20170720-20170718-\351\205\215\347\275\256\344\270\255\345\277\203'
+ access=$'20170720-20170718-\351\205\215\347\275\256\344\270\255\345\277\203'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170718-\351\205\215\347\275\256\344\270\255\345\277\203' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707201130-20170718-\351\205\215\347\275\256\344\270\255\345\277\203' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.29132
+ echo $'https://192.168.0.220/svn/tech/Branch/20170718-\351\205\215\347\275\256\344\270\255\345\277\203'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170718-配置中心%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170718-配置中心%'\'';'
+ cat /tmp/cmdb.db.29132
+ rm -f /tmp/cmdb.db.29132
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (18.6ms)
Completed 200 OK in 1390ms (Views: 80.3ms)


Started POST "/" for 192.168.0.232 at 2017-07-20 14:34:18 +0800
Cannot render console from 192.168.0.232! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  
ActionController::RoutingError (No route matches [POST] "/"):
  
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/" for 192.168.0.232 at 2017-07-20 14:35:28 +0800
Cannot render console from 192.168.0.232! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  
ActionController::RoutingError (No route matches [POST] "/"):
  
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/builder" for 192.168.5.26 at 2017-07-20 14:36:41 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (47.8ms)
Completed 200 OK in 1404ms (Views: 1255.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-20 14:41:06 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170719-售后说明更换/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-42030.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"n5m40qJQ2P+9iiSUlCoQtZmmViy7+xWKk7yqNFoT+Zy37DjwtbVfhJS1HCVEmGj1Nz9DAbNGXtyj7Zsx+smtsw=="}
pid is 32715
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42030.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42030.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170719-售后说明更换/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42030.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170719-售后说明更换/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42030.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42030.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
/home/qishanqing/myscript/sh/svn-merged.sh: line 105: https://192.168.0.220/svn/tech/Branch/20170719-售后说明更换/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ rm -f /home/qishanqing/tmp/merged/output.32715
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ mails-cm -i 'code merged from Branch/20170719-售后说明更换/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep -C 3 $'Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ revision=
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ grep '^r'
+ head='r129618 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r129304 '
+ '[' '!' -z r129304 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r129304' $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r129304' $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42030.html
Merged revision(s) r129304 -r129618   from Branch/20170719-售后说明更换/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' --username qishanqing --password q372232
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (52.3ms)
Completed 200 OK in 376008ms (Views: 397.0ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-20 16:34:51 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (177.5ms)
Completed 200 OK in 678ms (Views: 650.5ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-20 17:24:47 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (49.2ms)
Completed 200 OK in 615ms (Views: 497.3ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-20 17:26:09 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"dt", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Trunk/事事分期/StageAll/cmsStageManager", "task"=>"", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"OI/HywS5l/DYVVaC8pNQ5Wj8R6WtS/UtmLIIQLX2L6cQ+kfpE1wQi/FqbjMiISilxmVSiKX2vnuo4zlFFSx7iA=="}
pid is 6026
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k '' -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager' -T dt
+ TEMP=' -k '\'''\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Trunk/事事分期/StageAll/cmsStageManager'\'' -T '\''dt'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\'''\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Trunk/事事分期/StageAll/cmsStageManager'\'' -T '\''dt'\'' --'
++ set -- -k '' -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager' -T dt --
+ true
+ case "$1" in
+ task=
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager'
+ shift 2
+ true
+ case "$1" in
+ types=dt
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager'
/home/qishanqing/myscript/sh/svn-merged.sh: line 105: https://192.168.0.220/svn/tech/Trunk/事事分期/StageAll/cmsStageManager: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager'
+ branchs=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager'
+ test dt = add
+ test dt = del
+ test dt = dt
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager'
+ rm -f /home/qishanqing/tmp/merged/output.6026
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager'
+ svn_dt_merged
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
正在升级 '.':
版本 129816。
++ svn log -l 2
++ awk -F '|' '{print$1}'
++ grep '^r'
++ tail -n 1
+ revision='r124784 '
+ '[' -z ']'
+ mails-cm -i $'\345\267\262\345\233\236\351\200\200\345\211\215\344\270\200\344\270\252\347\211\210\346\234\254'
+ svn merge -r HEAD:r124784 .
+ svn ci -m $'\347\211\210\346\234\254\345\233\236\351\200\200'
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (23.6ms)
Completed 200 OK in 42560ms (Views: 359.6ms)


Started POST "/start" for 192.168.5.26 at 2017-07-20 17:34:00 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"yuepeng@dafy.com", "types"=>"add", "trunk"=>"前端业务/营销活动/卡卷系统/CardVoucherBusiness", "branch"=>"优惠券领取活动", "user"=>"yuepeng", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"SuueqgidWJa8RZYV+bIw/jUd/773uAGUYVpcdsL8szJinh6IH3jf7ZV6rqQpAEi+m4Tqk/8FSsJRC21zYibnHQ=="}
pid is 6137
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u yuepeng -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness' -e yuepeng@dafy.com -E '' -b $'\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250' -T add -d ''
+ TEMP=' -u '\''yuepeng'\'' -t '\''前端业务/营销活动/卡卷系统/CardVoucherBusiness'\'' -e '\''yuepeng@dafy.com'\'' -E '\'''\'' -b '\''优惠券领取活动'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''yuepeng'\'' -t '\''前端业务/营销活动/卡卷系统/CardVoucherBusiness'\'' -e '\''yuepeng@dafy.com'\'' -E '\'''\'' -b '\''优惠券领取活动'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u yuepeng -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness' -e yuepeng@dafy.com -E '' -b $'\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250' -T add -d '' --
+ true
+ case "$1" in
+ user=yuepeng
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ shift 2
+ true
+ case "$1" in
+ email=yuepeng@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=yuepeng@dafy.com '
+ SMARTCM_EXTRA_MAIL='yuepeng@dafy.com '
++ yuepeng
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: yuepeng: command not found
++ for x in '$user'
++ echo yuepeng=rw
+ users=yuepeng=rw
++ $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 前端业务/营销活动/卡卷系统/CardVoucherBusiness: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ trunks=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness' ']'
+ '[' -z $'\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170720
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707201734
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170720-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707201734-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170720-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
++ awk -F / '{print $7}'
+ br=$'20170720-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250'
+ access=$'20170720-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness' $'https://192.168.0.220/svn/tech/Branch/20170720-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.6137
+ echo $'https://192.168.0.220/svn/tech/Branch/20170720-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/营销活动/卡卷系统/CardVoucherBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170720-优惠券领取活动/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness'\'',now(),'\''yuepeng'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/营销活动/卡卷系统/CardVoucherBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170720-优惠券领取活动/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness'\'',now(),'\''yuepeng'\'');'
+ cat /tmp/cmdb.db.6137
+ rm -f /tmp/cmdb.db.6137
+ check-acces
+ grep -c '20170720-优惠券领取活动]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ cat
+ test -z yuepeng=rw
+ cat
+ read num
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ cat
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (15.7ms)
Completed 200 OK in 10247ms (Views: 381.9ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-20 17:44:19 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (52.9ms)
Completed 200 OK in 3161ms (Views: 3140.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-20 17:44:33 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/jubaohui_29", "task"=>"http://192.168.0.221/zentao/task-view-42046.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"SIDdFykmeXaMR8pVV0bTqQ3N4G1Rpf5Zw/v7uo32KnVg9V01PsP+DaV48uSH9Kvpo1T1QFkYtQ/zqsq/LSx+Wg=="}
pid is 6503
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42046.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_29' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42046.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/jubaohui_29'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42046.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/jubaohui_29'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42046.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_29' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42046.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_29'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_29'
/home/qishanqing/myscript/sh/svn-merged.sh: line 105: https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/jubaohui_29: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_29'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_29'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_29'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_29'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_29'
+ rm -f /home/qishanqing/tmp/merged/output.6503
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_29'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_29'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_29'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_29'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/jubaohui_29'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep -C 3 $'Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_29'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ revision='r128922 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_29'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r129737 '
+ '[' '!' -z r128922 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_29@r128922' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_29' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_29@r128922' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_29'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42046.html
Merged revision(s) r128922 -r129737   from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/jubaohui_29' --username qishanqing --password q372232
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (15.1ms)
Completed 200 OK in 41197ms (Views: 72.7ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-20 17:45:17 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (15.0ms)
Completed 200 OK in 253ms (Views: 58.3ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-20 17:46:56 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39 \r\nhttps://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway \r\nhttps://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite \r\nhttps://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1 \r\nhttps://192.168.0.220/svn/tech/Branch/20170720-类目排序/Develop/分期商城/分期商城3.0/MallBusiness", "task"=>"", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"33VB8X4Sycp+fJi/8wdGspQm3JiiwKlMH42xZr76sFb3AMHTafdOsVdDoA4jtT7yOr/Jtap94hov3IBjHiDkeQ=="}
pid is 6562
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k '' -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39 
https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway 
https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite 
https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1 
https://192.168.0.220/svn/tech/Branch/20170720-类目排序/Develop/分期商城/分期商城3.0/MallBusiness' -T add
+ TEMP=' -k '\'''\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39 
https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway 
https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite 
https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1 
https://192.168.0.220/svn/tech/Branch/20170720-类目排序/Develop/分期商城/分期商城3.0/MallBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\'''\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39 
https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway 
https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite 
https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1 
https://192.168.0.220/svn/tech/Branch/20170720-类目排序/Develop/分期商城/分期商城3.0/MallBusiness'\'' -T '\''add'\'' --'
++ set -- -k '' -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39 
https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway 
https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite 
https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1 
https://192.168.0.220/svn/tech/Branch/20170720-类目排序/Develop/分期商城/分期商城3.0/MallBusiness' -T add --
+ true
+ case "$1" in
+ task=
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39 
https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway 
https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite 
https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1 
https://192.168.0.220/svn/tech/Branch/20170720-类目排序/Develop/分期商城/分期商城3.0/MallBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39' $'\r' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway' $'\r' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' $'\r' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1' $'\r' $'https://192.168.0.220/svn/tech/Branch/20170720-\347\261\273\347\233\256\346\216\222\345\272\217/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 105: https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
++ for y in '$branch'
++ echo $'\r'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
++ for y in '$branch'
++ echo $'\r'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ for y in '$branch'
++ echo $'\r'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
++ for y in '$branch'
++ echo $'\r'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170720-\347\261\273\347\233\256\346\216\222\345\272\217/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39

https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway

https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite

https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1

https://192.168.0.220/svn/tech/Branch/20170720-类目排序/Develop/分期商城/分期商城3.0/MallBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ rm -f /home/qishanqing/tmp/merged/output.6562
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ die '外部业务/P2P/Business/basefundprovider/aibendi_39  project code no found'
+ echo '外部业务/P2P/Business/basefundprovider/aibendi_39  project code no found'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.6562
+ rm -f /home/qishanqing/tmp/merged/output.6562
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'\r'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'\r'
+ svn log -l 1 $'\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ test -e /home/qishanqing/tmp/merged/output.6562
+ echo
+ cat /home/qishanqing/tmp/merged/output.6562
+ rm -f /home/qishanqing/tmp/merged/output.6562
+ rm -f /home/qishanqing/tmp/merged/output.6562
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\r'
+ die '  project code no found'
+ echo '  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.6562
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.6562
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ rm -f /home/qishanqing/tmp/merged/output.6562
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ die '外部业务/P2P/Business/basefundprovider/aibendi_gateway  project code no found'
+ echo '外部业务/P2P/Business/basefundprovider/aibendi_gateway  project code no found'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.6562
+ rm -f /home/qishanqing/tmp/merged/output.6562
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'\r'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'\r'
+ svn log -l 1 $'\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ test -e /home/qishanqing/tmp/merged/output.6562
+ echo
+ cat /home/qishanqing/tmp/merged/output.6562
+ rm -f /home/qishanqing/tmp/merged/output.6562
+ rm -f /home/qishanqing/tmp/merged/output.6562
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\r'
+ die '  project code no found'
+ mails-cm -i 'svn merged faild'
+ echo '  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.6562
+ rm -f /home/qishanqing/tmp/merged/output.6562
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ rm -f /home/qishanqing/tmp/merged/output.6562
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite'
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ head -n 4
++ grep '^r'
++ svn log
++ awk -F '|' '{print$1}'
++ grep -C 3 $'Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ revision='r128569 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r129694 '
+ '[' '!' -z r128569 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r128569' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r128569' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn ci --username builder --password ant@ -m '
Merged revision(s) r128569 -r129694   from Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite' --username qishanqing --password q372232
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'\r'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'\r'
+ svn log -l 1 $'\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.6562
+ echo
+ cat /home/qishanqing/tmp/merged/output.6562
+ rm -f /home/qishanqing/tmp/merged/output.6562
+ rm -f /home/qishanqing/tmp/merged/output.6562
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\r'
+ die '  project code no found'
+ echo '  project code no found'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.6562
+ rm -f /home/qishanqing/tmp/merged/output.6562
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ rm -f /home/qishanqing/tmp/merged/output.6562
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ svn_from_tb_merged
+ mails-cm -i 'code merged from Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1'
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ head -n 4
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
++ awk -F '|' '{print$1}'
+ revision='r128571 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r129695 '
+ '[' '!' -z r128571 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1@r128571' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1@r128571' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ svn ci --username builder --password ant@ -m '
Merged revision(s) r128571 -r129695   from Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1' --username qishanqing --password q372232
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'\r'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'\r'
+ svn log -l 1 $'\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ test -e /home/qishanqing/tmp/merged/output.6562
+ echo
+ cat /home/qishanqing/tmp/merged/output.6562
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.6562
+ rm -f /home/qishanqing/tmp/merged/output.6562
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\r'
+ die '  project code no found'
+ echo '  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.6562
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.6562
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170720-\347\261\273\347\233\256\346\216\222\345\272\217/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170720-\347\261\273\347\233\256\346\216\222\345\272\217/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.6562
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170720-\347\261\273\347\233\256\346\216\222\345\272\217/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170720-类目排序/Develop/分期商城/分期商城3.0/MallBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170720-\347\261\273\347\233\256\346\216\222\345\272\217/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170720-\347\261\273\347\233\256\346\216\222\345\272\217/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r129799 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170720-\347\261\273\347\233\256\346\216\222\345\272\217/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r129724 '
+ '[' '!' -z r129724 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170720-\347\261\273\347\233\256\346\216\222\345\272\217/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness@r129724' $'https://192.168.0.220/svn/tech/Branch/20170720-\347\261\273\347\233\256\346\216\222\345\272\217/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170720-\347\261\273\347\233\256\346\216\222\345\272\217/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness@r129724' $'https://192.168.0.220/svn/tech/Branch/20170720-\347\261\273\347\233\256\346\216\222\345\272\217/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ svn ci --username builder --password ant@ -m '
Merged revision(s) r129724 -r129799   from Branch/20170720-类目排序/Develop/分期商城/分期商城3.0/MallBusiness' --username qishanqing --password q372232
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (3.5ms)
Completed 200 OK in 219552ms (Views: 176.7ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-20 17:54:01 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (15.1ms)
Completed 200 OK in 114ms (Views: 111.1ms)


Started POST "/start" for 192.168.5.26 at 2017-07-20 17:54:08 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"fef", "branch"=>"20170720-类目排序", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"HzTEtUVaVNnZGb6aQV9SZC8aXNp8kbTbWJAKTEo4CKs3QUSXUr/TovAmhiuR7SokgYNJ93Qs/41owTtJ6uJchA=="}
pid is 7001
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t fef -e qishanqing@dafy.com -E '' -b $'20170720-\347\261\273\347\233\256\346\216\222\345\272\217' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''fef'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170720-类目排序'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''fef'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170720-类目排序'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t fef -e qishanqing@dafy.com -E '' -b $'20170720-\347\261\273\347\233\256\346\216\222\345\272\217' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=fef
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170720-\347\261\273\347\233\256\346\216\222\345\272\217'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ fef
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: fef: command not found
++ for y in '$trunk'
++ echo fef
+ trunks=fef
+ test del = add
+ delbranch
+ '[' -z $'20170720-\347\261\273\347\233\256\346\216\222\345\272\217' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170720
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707201754
+ move_dir=Closed/--close+
+ Trunk_name=https://192.168.0.220/svn/tech/Trunk/fef
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170720-20170720-\347\261\273\347\233\256\346\216\222\345\272\217/Develop/fef'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170720-\347\261\273\347\233\256\346\216\222\345\272\217'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707201754-20170720-\347\261\273\347\233\256\346\216\222\345\272\217'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170720-20170720-\347\261\273\347\233\256\346\216\222\345\272\217/Develop/fef'
++ awk -F / '{print $7}'
+ br=$'20170720-20170720-\347\261\273\347\233\256\346\216\222\345\272\217'
+ access=$'20170720-20170720-\347\261\273\347\233\256\346\216\222\345\272\217'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170720-\347\261\273\347\233\256\346\216\222\345\272\217' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707201754-20170720-\347\261\273\347\233\256\346\216\222\345\272\217' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.7001
+ echo $'https://192.168.0.220/svn/tech/Branch/20170720-\347\261\273\347\233\256\346\216\222\345\272\217'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170720-类目排序%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170720-类目排序%'\'';'
+ cat /tmp/cmdb.db.7001
+ rm -f /tmp/cmdb.db.7001
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (23.4ms)
Completed 200 OK in 2202ms (Views: 98.0ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-20 17:54:10 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 100ms (Views: 97.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-20 17:58:40 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39 \r\nhttps://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway", "task"=>"http://192.168.0.221/zentao/task-view-42047.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"+OKLskVKZpHOyM8SvPOFV0E0N8lc76H5/UHrH3HV2N/QlwuQUq/h6uf396NsQf0X760i5FRS6q/NENoa0Q+M8A=="}
pid is 7171
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42047.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39 
https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42047.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39 
https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42047.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39 
https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42047.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39 
https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42047.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39 
https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39' $'\r' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
/home/qishanqing/myscript/sh/svn-merged.sh: line 105: https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
++ for y in '$branch'
++ echo $'\r'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39

https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ rm -f /home/qishanqing/tmp/merged/output.7171
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39'
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ awk -F '|' '{print$1}'
++ grep -C 3 $'Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ revision='r129650 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r129764 '
+ '[' '!' -z r129650 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39@r129650' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39@r129650' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42047.html
Merged revision(s) r129650 -r129764   from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39' --username qishanqing --password q372232
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'\r'
+ trunk=$'\r'
+ svn log -l 1 $'\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ test -e /home/qishanqing/tmp/merged/output.7171
+ echo
+ cat /home/qishanqing/tmp/merged/output.7171
+ rm -f /home/qishanqing/tmp/merged/output.7171
+ rm -f /home/qishanqing/tmp/merged/output.7171
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\r'
+ die '  project code no found'
+ echo '  project code no found'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.7171
+ rm -f /home/qishanqing/tmp/merged/output.7171
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ rm -f /home/qishanqing/tmp/merged/output.7171
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway'
+ grep '^?'
+ svn st
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r129651 '
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ head='r129783 '
+ '[' '!' -z r129651 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway@r129651' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway@r129651' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42047.html
Merged revision(s) r129651 -r129783   from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway' --username qishanqing --password q372232
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 50971ms (Views: 58.3ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-20 18:01:05 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 242ms (Views: 240.2ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-20 18:01:50 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (57.1ms)
Completed 200 OK in 5658ms (Views: 5655.5ms)


Started GET "/start" for 192.168.5.26 at 2017-07-20 18:15:05 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  
ActionController::RoutingError (No route matches [GET] "/start"):
  
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/builder" for 192.168.5.26 at 2017-07-20 18:15:06 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.6ms)
Completed 200 OK in 1168ms (Views: 1105.0ms)


Started GET "/" for 192.168.5.26 at 2017-07-20 18:15:10 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (67.3ms)
Completed 200 OK in 229ms (Views: 226.7ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-21 09:58:18 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170717-p2p参数管理/Develop/外部业务/P2P/BossBusiness https://192.168.0.220/svn/tech/Branch/20170717-p2p参数管理/Develop/外部业务/P2P/P2PManager", "task"=>"http://192.168.0.221/zentao/task-view-42037.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"PcwII1CRSqPB18u7hxuqGnQw0lc2QHKNuIsQ4Bl6T88VuYgBR3TN2Ojo8wpXqdJa2qnHej79OduI2iHluaAb4A=="}
pid is 20387
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42037.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170717-p2p参数管理/Develop/外部业务/P2P/BossBusiness https://192.168.0.220/svn/tech/Branch/20170717-p2p参数管理/Develop/外部业务/P2P/P2PManager' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42037.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170717-p2p参数管理/Develop/外部业务/P2P/BossBusiness https://192.168.0.220/svn/tech/Branch/20170717-p2p参数管理/Develop/外部业务/P2P/P2PManager'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42037.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170717-p2p参数管理/Develop/外部业务/P2P/BossBusiness https://192.168.0.220/svn/tech/Branch/20170717-p2p参数管理/Develop/外部业务/P2P/P2PManager'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42037.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170717-p2p参数管理/Develop/外部业务/P2P/BossBusiness https://192.168.0.220/svn/tech/Branch/20170717-p2p参数管理/Develop/外部业务/P2P/P2PManager' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42037.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170717-p2p参数管理/Develop/外部业务/P2P/BossBusiness https://192.168.0.220/svn/tech/Branch/20170717-p2p参数管理/Develop/外部业务/P2P/P2PManager'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness' $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
/home/qishanqing/myscript/sh/svn-merged.sh: line 105: https://192.168.0.220/svn/tech/Branch/20170717-p2p参数管理/Develop/外部业务/P2P/BossBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170717-p2p参数管理/Develop/外部业务/P2P/BossBusiness
https://192.168.0.220/svn/tech/Branch/20170717-p2p参数管理/Develop/外部业务/P2P/P2PManager'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.20387
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness'
+ die '外部业务/P2P/BossBusiness  project code no found'
+ mails-cm -i 'svn merged faild'
+ echo '外部业务/P2P/BossBusiness  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.20387
+ rm -f /home/qishanqing/tmp/merged/output.20387
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ rm -f /home/qishanqing/tmp/merged/output.20387
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ mails-cm -i 'code merged from Branch/20170717-p2p参数管理/Develop/外部业务/P2P/P2PManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ awk -F '|' '{print$1}'
++ head -n 4
++ grep -C 3 $'Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ svn log
++ grep '^r'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r129834 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ tail -n 4
+ revision='r128751 '
+ '[' '!' -z r128751 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager@r128751' $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：1'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2321' ']'
+ die 'Svn merged conflicts the r128751 -r129834  from Branch/20170717-p2p参数管理/Develop/外部业务/P2P/P2PManager'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r128751 -r129834  from Branch/20170717-p2p参数管理/Develop/外部业务/P2P/P2PManager'
+ test -e /home/qishanqing/tmp/merged/output.20387
+ rm -f /home/qishanqing/tmp/merged/output.20387
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42037.html
Merged revision(s) r128751 -r129834   from Branch/20170717-p2p参数管理/Develop/外部业务/P2P/P2PManager' --username qishanqing --password q372232
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1558.9ms)
Completed 200 OK in 385831ms (Views: 5746.9ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-21 10:12:29 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (88.5ms)
Completed 200 OK in 307ms (Views: 285.5ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-21 10:12:46 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/网站/网站中心/WebSiteManager", "task"=>"http://192.168.0.221/zentao/task-view-42033.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"nSar5W7njVg8HtEKA+BXlVC3c5wt8Tel6UF+X6CI+f21UyvHeQIKIxUh6bvTUi/V/i5msSVMfPPZEE9aAFKt0g=="}
pid is 21161
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42033.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/网站/网站中心/WebSiteManager' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42033.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/网站/网站中心/WebSiteManager'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42033.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/网站/网站中心/WebSiteManager'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42033.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/网站/网站中心/WebSiteManager' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42033.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/网站/网站中心/WebSiteManager'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter' $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
/home/qishanqing/myscript/sh/svn-merged.sh: line 105: https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter
https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/网站/网站中心/WebSiteManager'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ rm -f /home/qishanqing/tmp/merged/output.21161
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ die '前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter  project code no found'
+ mails-cm -i 'svn merged faild'
+ echo '前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.21161
+ rm -f /home/qishanqing/tmp/merged/output.21161
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
+ rm -f /home/qishanqing/tmp/merged/output.21161
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
+ mails-cm -i 'code merged from Branch/20170511-升级服务新增热部署/Develop/前端业务/网站/网站中心/WebSiteManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r129933 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r113185 '
+ '[' '!' -z r113185 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager@r113185' $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：2'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2322' ']'
+ die 'Svn merged conflicts the r113185 -r129933  from Branch/20170511-升级服务新增热部署/Develop/前端业务/网站/网站中心/WebSiteManager'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r113185 -r129933  from Branch/20170511-升级服务新增热部署/Develop/前端业务/网站/网站中心/WebSiteManager'
+ test -e /home/qishanqing/tmp/merged/output.21161
+ rm -f /home/qishanqing/tmp/merged/output.21161
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42033.html
Merged revision(s) r113185 -r129933   from Branch/20170511-升级服务新增热部署/Develop/前端业务/网站/网站中心/WebSiteManager' --username qishanqing --password q372232
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 71836ms (Views: 304.4ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-21 10:14:28 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 56ms (Views: 54.2ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-21 10:27:09 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"https://192.168.0.220/svn/tech/Trunk/自如/客户端升级/客户端/Mobile/MobileUpgradeCenter", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter", "task"=>"http://192.168.0.221/zentao/task-view-42033.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"onikefMGbzogLQRCvs96CvDwduTqLCnHZKsS/f1cet6KDSRb5OPoQQkSPPNufQJKXmljyeKRYpFU+iP4XYYu8Q=="}
pid is 21519
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42033.html -R '' -t $'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42033.html'\'' -R '\'''\'' -t '\''https://192.168.0.220/svn/tech/Trunk/自如/客户端升级/客户端/Mobile/MobileUpgradeCenter'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42033.html'\'' -R '\'''\'' -t '\''https://192.168.0.220/svn/tech/Trunk/自如/客户端升级/客户端/Mobile/MobileUpgradeCenter'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42033.html -R '' -t $'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42033.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
/home/qishanqing/myscript/sh/svn-merged.sh: line 105: https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ rm -f /home/qishanqing/tmp/merged/output.21519
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ die '前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter  project code no found'
+ mails-cm -i 'svn merged faild'
+ echo '前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.21519
+ rm -f /home/qishanqing/tmp/merged/output.21519
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (52.6ms)
Completed 200 OK in 316ms (Views: 170.0ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-21 10:32:23 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.4ms)
Completed 200 OK in 80ms (Views: 76.8ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-21 10:32:49 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"https://192.168.0.220/svn/tech/Trunk/自如/客户端升级/客户端/Mobile/MobileUpgradeCenter", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter", "task"=>"http://192.168.0.221/zentao/task-view-42033.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"zJ0l68nTKuolqE8jm/P5s2Mxe/6f1jrxQk+QY0CCFSnk6KXJ3jatkQyXd5JLQYHzzahu05drcadyHqFm4FhBBg=="}
pid is 21649
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42033.html -R '' -t $'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42033.html'\'' -R '\'''\'' -t '\''https://192.168.0.220/svn/tech/Trunk/自如/客户端升级/客户端/Mobile/MobileUpgradeCenter'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42033.html'\'' -R '\'''\'' -t '\''https://192.168.0.220/svn/tech/Trunk/自如/客户端升级/客户端/Mobile/MobileUpgradeCenter'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42033.html -R '' -t $'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42033.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z $'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ rm -f /home/qishanqing/tmp/merged/output.21649
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ svn_from_tb_merged
+ mails-cm -i 'code merged from Branch/20170511-升级服务新增热部署/Develop/前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter'
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ svn st
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ awk -F '|' '{print$1}'
++ head -n 4
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ revision=
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
++ awk -F '|' '{print$1}'
+ head='r129934 '
+ '[' '!' -z ']'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
++ grep '^r'
+ revision='r113186 '
+ '[' '!' -z r113186 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter@r113186' $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：3'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2323' ']'
+ die 'Svn merged conflicts the r113186 -r129934  from Branch/20170511-升级服务新增热部署/Develop/前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r113186 -r129934  from Branch/20170511-升级服务新增热部署/Develop/前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter'
+ test -e /home/qishanqing/tmp/merged/output.21649
+ rm -f /home/qishanqing/tmp/merged/output.21649
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42033.html
Merged revision(s) r113186 -r129934   from Branch/20170511-升级服务新增热部署/Develop/前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 23077ms (Views: 61.3ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-21 11:09:22 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.3ms)
Completed 200 OK in 79ms (Views: 75.1ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-21 11:09:56 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BossBusiness", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170717-p2p参数管理/Develop/外部业务/P2P/BossBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42037.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"1c1g3bW3pjeMq7sNoLWh1iwk4bWrJngCpUNO8wbtEOv9uOD/olIhTKWUg7xwB9mWgr30mKObM1SVEn/2pjdExA=="}
pid is 22786
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42037.html -R '' -t $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42037.html'\'' -R '\'''\'' -t '\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BossBusiness'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170717-p2p参数管理/Develop/外部业务/P2P/BossBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42037.html'\'' -R '\'''\'' -t '\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BossBusiness'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170717-p2p参数管理/Develop/外部业务/P2P/BossBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42037.html -R '' -t $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42037.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170717-p2p参数管理/Develop/外部业务/P2P/BossBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.22786
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170717-p2p参数管理/Develop/外部业务/P2P/BossBusiness'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ awk -F '|' '{print$1}'
++ head -n 4
++ grep -C 3 $'Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness'
+ revision=
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness'
+ head='r129723 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r129289 '
+ '[' '!' -z r129289 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness@r129289' $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness@r129289' $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42037.html
Merged revision(s) r129289 -r129723   from Branch/20170717-p2p参数管理/Develop/外部业务/P2P/BossBusiness' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (12.8ms)
Completed 200 OK in 14957ms (Views: 51.4ms)


