=> Booting Puma
=> Rails 5.1.1 application starting in development on http://localhost:3000
=> Run `rails server -h` for more startup options
Puma starting in single mode...
* Version 3.8.2 (ruby 2.4.1-p111), codename: Sassy Salamander
* Min threads: 5, max threads: 5
* Environment: development
* Listening on tcp://0.0.0.0:3000
Use Ctrl-C to stop
=> Booting Puma
=> Rails 5.1.1 application starting in development on http://localhost:3000
=> Run `rails server -h` for more startup options
Puma starting in single mode...
* Version 3.8.2 (ruby 2.4.1-p111), codename: Sassy Salamander
* Min threads: 5, max threads: 5
* Environment: development
* Listening on tcp://0.0.0.0:3000
Use Ctrl-C to stop
Started GET "/builder" for 192.168.5.26 at 2017-07-19 12:16:32 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.3ms)
Completed 200 OK in 1302ms (Views: 829.2ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-07-19 12:16:37 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.2ms)
Completed 200 OK in 88ms (Views: 83.6ms)


Started GET "/jenkins" for 192.168.5.26 at 2017-07-19 12:16:40 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by JenkinsController#index as HTML
  Rendering jenkins/index.html.erb within layouts/application
  Rendered jenkins/index.html.erb within layouts/application (8.2ms)
Completed 200 OK in 113ms (Views: 107.4ms)


Started POST "/start" for 192.168.5.26 at 2017-07-19 12:16:50 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"teast", "branch"=>"testa", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"kawqVB5UrTZ0+YgVRGI7if+k8Lmw3StdcjIl2B4xb4q52ap2CbEqTV3GsKSU0EPJUT3llLhgYAtCYxTdvus7pQ=="}
pid is 997
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t teast -e qishanqing@dafy.com -E '' -b testa -T add -d ''
+ TEMP=' -u '\'''\'' -t '\''teast'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''testa'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''teast'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''testa'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u '' -t teast -e qishanqing@dafy.com -E '' -b testa -T add -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=teast
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=testa
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ teast
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: teast: command not found
++ for y in '$trunk'
++ echo teast
+ trunks=teast
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z teast ']'
+ '[' -z testa ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170719
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707191216
+ move_dir=Closed/--close+
+ Trunk_name=https://192.168.0.220/svn/tech/Trunk/teast
+ branch_name=https://192.168.0.220/svn/tech/Branch/20170719-testa/Develop/teast
+ source_name=https://192.168.0.220/svn/tech/Branch/testa
+ dest_name=https://192.168.0.220/svn/tech/Branch/Closed/--close+201707191216-testa
++ echo https://192.168.0.220/svn/tech/Branch/20170719-testa/Develop/teast
++ awk -F / '{print $7}'
+ br=20170719-testa
+ access=20170719-testa
+ svn copy https://192.168.0.220/svn/tech/Trunk/teast https://192.168.0.220/svn/tech/Branch/20170719-testa/Develop/teast --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ die 'Svn branch create the reasons for failure are as follows'
+ echo 'Svn branch create the reasons for failure are as follows'
+ mails-cm -i 'svn branch create failed'
+ test -e /home/qishanqing/tmp/output.997
+ echo
+ cat /home/qishanqing/tmp/output.997
+ rm -rf /home/qishanqing/tmp/output.997
+ kill 997
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 1081ms (Views: 65.9ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-07-19 12:17:47 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 54ms (Views: 52.2ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-07-19 12:17:48 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.8ms)
Completed 200 OK in 81ms (Views: 79.7ms)


Started GET "/jenkins" for 192.168.5.26 at 2017-07-19 12:17:49 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by JenkinsController#index as HTML
  Rendering jenkins/index.html.erb within layouts/application
  Rendered jenkins/index.html.erb within layouts/application (8.1ms)
Completed 200 OK in 96ms (Views: 93.3ms)


Started GET "/jenkins" for 192.168.5.26 at 2017-07-19 12:17:49 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by JenkinsController#index as HTML
  Rendering jenkins/index.html.erb within layouts/application
  Rendered jenkins/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 54ms (Views: 52.3ms)


Started GET "/jenkins" for 192.168.5.26 at 2017-07-19 12:17:49 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by JenkinsController#index as HTML
  Rendering jenkins/index.html.erb within layouts/application
  Rendered jenkins/index.html.erb within layouts/application (4.1ms)
Completed 200 OK in 53ms (Views: 50.8ms)


Started GET "/articles/index" for 192.168.5.26 at 2017-07-19 12:17:50 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.erb within layouts/application
  Rendered articles/index.html.erb within layouts/application (6.0ms)
Completed 200 OK in 119ms (Views: 72.7ms)


Started GET "/articles/index" for 192.168.5.26 at 2017-07-19 12:17:50 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.erb within layouts/application
  Rendered articles/index.html.erb within layouts/application (5.1ms)
Completed 200 OK in 54ms (Views: 52.3ms)


Started GET "/articles/index" for 192.168.5.26 at 2017-07-19 12:17:50 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.erb within layouts/application
  Rendered articles/index.html.erb within layouts/application (9.7ms)
Completed 200 OK in 83ms (Views: 78.9ms)


Started GET "/jenkins" for 192.168.5.26 at 2017-07-19 12:19:14 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by JenkinsController#index as HTML
  Rendering jenkins/index.html.erb within layouts/application
  Rendered jenkins/index.html.erb within layouts/application (4.6ms)
Completed 200 OK in 66ms (Views: 64.1ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-07-19 12:19:15 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.7ms)
Completed 200 OK in 66ms (Views: 63.7ms)


Started GET "/start" for 192.168.5.26 at 2017-07-19 12:20:36 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  
ActionController::RoutingError (No route matches [GET] "/start"):
  
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/start" for 192.168.5.26 at 2017-07-19 12:20:36 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  
ActionController::RoutingError (No route matches [GET] "/start"):
  
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/start" for 192.168.5.26 at 2017-07-19 12:20:37 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  
ActionController::RoutingError (No route matches [GET] "/start"):
  
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/start" for 192.168.5.26 at 2017-07-19 12:20:38 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  
ActionController::RoutingError (No route matches [GET] "/start"):
  
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 192.168.5.26 at 2017-07-19 12:20:40 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 59ms (Views: 56.9ms)


Started GET "/" for 192.168.5.26 at 2017-07-19 12:20:41 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (5.7ms)
Completed 200 OK in 104ms (Views: 100.7ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-07-19 12:20:45 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (7.5ms)
Completed 200 OK in 93ms (Views: 87.4ms)


Started GET "/jenkins" for 192.168.5.26 at 2017-07-19 12:20:46 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by JenkinsController#index as HTML
  Rendering jenkins/index.html.erb within layouts/application
  Rendered jenkins/index.html.erb within layouts/application (3.9ms)
Completed 200 OK in 65ms (Views: 62.6ms)


A server is already running. Check /home/qishanqing/myscript/builder/tmp/pids/server.pid.
=> Booting Puma
=> Rails 5.1.1 application starting in development on http://localhost:3000
=> Run `rails server -h` for more startup options
Exiting
Started GET "/merge/new" for 192.168.5.26 at 2017-07-19 12:24:24 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (20.8ms)
Completed 200 OK in 106ms (Views: 104.6ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-07-19 12:24:24 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.4ms)
Completed 200 OK in 54ms (Views: 52.0ms)


Started GET "/jenkins" for 192.168.5.26 at 2017-07-19 12:24:25 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by JenkinsController#index as HTML
  Rendering jenkins/index.html.erb within layouts/application
  Rendered jenkins/index.html.erb within layouts/application (3.8ms)
Completed 200 OK in 64ms (Views: 61.5ms)


Started GET "/" for 192.168.5.26 at 2017-07-19 12:24:26 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.1ms)
Completed 200 OK in 84ms (Views: 81.1ms)


Started GET "/articles/index" for 192.168.5.26 at 2017-07-19 12:24:27 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.erb within layouts/application
  Rendered articles/index.html.erb within layouts/application (7.1ms)
Completed 200 OK in 75ms (Views: 71.7ms)


Started GET "/jenkins" for 192.168.5.26 at 2017-07-19 12:24:28 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by JenkinsController#index as HTML
  Rendering jenkins/index.html.erb within layouts/application
  Rendered jenkins/index.html.erb within layouts/application (5.8ms)
Completed 200 OK in 68ms (Views: 65.9ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-07-19 12:26:59 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (5.8ms)
Completed 200 OK in 77ms (Views: 74.1ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-07-19 12:26:59 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.9ms)
Completed 200 OK in 57ms (Views: 55.8ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-07-19 12:26:59 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.0ms)
Completed 200 OK in 67ms (Views: 65.4ms)


Started GET "/" for 192.168.5.26 at 2017-07-19 12:27:00 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.6ms)
Completed 200 OK in 82ms (Views: 79.7ms)


Started GET "/jenkins" for 192.168.5.26 at 2017-07-19 12:27:01 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by JenkinsController#index as HTML
  Rendering jenkins/index.html.erb within layouts/application
  Rendered jenkins/index.html.erb within layouts/application (4.0ms)
Completed 200 OK in 51ms (Views: 49.1ms)


Started GET "/articles/index" for 192.168.5.26 at 2017-07-19 12:27:02 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.erb within layouts/application
  Rendered articles/index.html.erb within layouts/application (6.2ms)
Completed 200 OK in 72ms (Views: 69.8ms)


Started GET "/" for 192.168.5.26 at 2017-07-19 14:01:21 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (6.5ms)
Completed 200 OK in 215ms (Views: 210.2ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-07-19 14:01:24 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (5.0ms)
Completed 200 OK in 78ms (Views: 74.5ms)


Started GET "/jenkins" for 192.168.5.26 at 2017-07-19 14:01:25 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by JenkinsController#index as HTML
  Rendering jenkins/index.html.erb within layouts/application
  Rendered jenkins/index.html.erb within layouts/application (18.2ms)
Completed 200 OK in 86ms (Views: 82.8ms)


Started GET "/" for 192.168.5.26 at 2017-07-19 14:19:22 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (11.0ms)
Completed 200 OK in 145ms (Views: 143.1ms)


Started GET "/" for 192.168.5.26 at 2017-07-19 14:19:23 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 61ms (Views: 59.3ms)


Started GET "/" for 192.168.5.26 at 2017-07-19 14:19:23 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 65ms (Views: 63.6ms)


A server is already running. Check /home/qishanqing/myscript/builder/tmp/pids/server.pid.
=> Booting Puma
=> Rails 5.1.1 application starting in development on http://localhost:3000
=> Run `rails server -h` for more startup options
Exiting
Started GET "/" for 192.168.5.26 at 2017-07-19 14:22:10 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 44ms (Views: 42.2ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-07-19 14:22:11 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (6.9ms)
Completed 200 OK in 196ms (Views: 193.4ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-07-19 14:22:12 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 49ms (Views: 48.0ms)


Started GET "/jenkins" for 192.168.5.26 at 2017-07-19 14:22:13 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by JenkinsController#index as HTML
  Rendering jenkins/index.html.erb within layouts/application
  Rendered jenkins/index.html.erb within layouts/application (4.1ms)
Completed 200 OK in 83ms (Views: 74.9ms)


Started GET "/jenkins" for 192.168.5.26 at 2017-07-19 14:22:13 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by JenkinsController#index as HTML
  Rendering jenkins/index.html.erb within layouts/application
  Rendered jenkins/index.html.erb within layouts/application (3.5ms)
Completed 200 OK in 57ms (Views: 55.4ms)


Started GET "/" for 192.168.5.26 at 2017-07-19 14:56:49 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (10.8ms)
Completed 200 OK in 155ms (Views: 153.3ms)


Started GET "/" for 192.168.5.26 at 2017-07-19 14:56:50 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (8.3ms)
Completed 200 OK in 66ms (Views: 64.9ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-07-19 17:21:16 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (7.5ms)
Completed 200 OK in 212ms (Views: 209.8ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-07-19 17:21:19 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (5.0ms)
Completed 200 OK in 99ms (Views: 97.0ms)


Started GET "/jenkins" for 192.168.5.26 at 2017-07-19 17:21:20 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by JenkinsController#index as HTML
  Rendering jenkins/index.html.erb within layouts/application
  Rendered jenkins/index.html.erb within layouts/application (8.6ms)
Completed 200 OK in 81ms (Views: 77.2ms)


Started GET "/merge/new" for 192.168.0.232 at 2017-07-19 17:39:36 +0800
Cannot render console from 192.168.0.232! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Filter chain halted as #<Proc:0x007f7441db4798@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Completed 401 Unauthorized in 4ms


Started GET "/" for 192.168.0.232 at 2017-07-19 17:40:08 +0800
Cannot render console from 192.168.0.232! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (7.3ms)
Completed 200 OK in 101ms (Views: 95.5ms)


Started GET "/" for 192.168.5.26 at 2017-07-19 17:42:45 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (7.4ms)
Completed 200 OK in 140ms (Views: 133.8ms)


Started POST "/start" for 192.168.5.26 at 2017-07-19 17:46:47 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"gaochenchen@dafy.com", "types"=>"add", "trunk"=>"分期商城/分期商城3.0/MallManager 分期商城/分期商城3.0/MallManageGoodsBusiness", "branch"=>"商品标签管理新需求", "user"=>"gaochenchen", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"iou2cBuJYV6mrSjsYBc51AANvOBVZ8Ir6Kl9D9t+E32i/jZSDGzmJY+SEF2wpUGUrpSpzV3aiX3Y+EwKe6RHUg=="}
pid is 11514
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u gaochenchen -t '分期商城/分期商城3.0/MallManager 分期商城/分期商城3.0/MallManageGoodsBusiness' -e gaochenchen@dafy.com -E '' -b $'\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202' -T add -d ''
+ TEMP=' -u '\''gaochenchen'\'' -t '\''分期商城/分期商城3.0/MallManager 分期商城/分期商城3.0/MallManageGoodsBusiness'\'' -e '\''gaochenchen@dafy.com'\'' -E '\'''\'' -b '\''商品标签管理新需求'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''gaochenchen'\'' -t '\''分期商城/分期商城3.0/MallManager 分期商城/分期商城3.0/MallManageGoodsBusiness'\'' -e '\''gaochenchen@dafy.com'\'' -E '\'''\'' -b '\''商品标签管理新需求'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u gaochenchen -t '分期商城/分期商城3.0/MallManager 分期商城/分期商城3.0/MallManageGoodsBusiness' -e gaochenchen@dafy.com -E '' -b $'\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202' -T add -d '' --
+ true
+ case "$1" in
+ user=gaochenchen
+ shift 2
+ true
+ case "$1" in
+ trunk='分期商城/分期商城3.0/MallManager 分期商城/分期商城3.0/MallManageGoodsBusiness'
+ shift 2
+ true
+ case "$1" in
+ email=gaochenchen@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=gaochenchen@dafy.com '
+ SMARTCM_EXTRA_MAIL='gaochenchen@dafy.com '
++ gaochenchen
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: gaochenchen: command not found
++ for x in '$user'
++ echo gaochenchen=rw
+ users=gaochenchen=rw
++ $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 分期商城/分期商城3.0/MallManager: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ for y in '$trunk'
++ echo $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ trunks='分期商城/分期商城3.0/MallManager
分期商城/分期商城3.0/MallManageGoodsBusiness'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' ']'
+ '[' -z $'\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170719
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707191746
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707191746-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F / '{print $7}'
+ br=$'20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202'
+ access=$'20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.11514
+ echo $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallManager'\'', '\''https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManager'\'',now(),'\''gaochenchen'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallManager'\'', '\''https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManager'\'',now(),'\''gaochenchen'\'');'
+ cat /tmp/cmdb.db.11514
+ rm -f /tmp/cmdb.db.11514
+ check-acces
+ grep -c '20170719-商品标签管理新需求]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ cat
+ test -z gaochenchen=rw
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness' ']'
+ '[' -z $'\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170719
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707191746
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707191746-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
++ awk -F / '{print $7}'
+ br=$'20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202'
+ access=$'20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness' $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.11514
+ echo $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallManageGoodsBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness'\'',now(),'\''gaochenchen'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallManageGoodsBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness'\'',now(),'\''gaochenchen'\'');'
+ cat /tmp/cmdb.db.11514
+ rm -f /tmp/cmdb.db.11514
+ check-acces
+ grep -c '20170719-商品标签管理新需求]' /mnt/svn/authz.conf
+ read num
+ '[' 1 -eq 0 ']'
++ sed '/20170719-商品标签管理新需求]/,/^[ \t]*$/!d;/20170719-商品标签管理新需求]/d;/^[ \t]*$/d' /mnt/svn/authz.conf
+ [[ gaochenchen=rw
@admin=rw
*= =~ gaochenchen=rw ]]
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 10375ms (Views: 47.3ms)


Started GET "/jenkins" for 192.168.5.26 at 2017-07-19 18:18:09 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by JenkinsController#index as HTML
  Rendering jenkins/index.html.erb within layouts/application
  Rendered jenkins/index.html.erb within layouts/application (253.4ms)
Completed 200 OK in 493ms (Views: 490.7ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-19 18:46:57 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature\r\nhttps://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory\r\nhttps://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite", "task"=>"http://192.168.0.221/zentao/task-view-41908.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"meIFzEAGeHUYo6xatPGcHc1LIsQHpsdJHQq2RZxAswaxl4XuV+P/DjGclOtkQ+RdY9I36Q8bjB8tW4dAPJrnKQ=="}
pid is 13017
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-41908.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory
https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-41908.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory
https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-41908.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory
https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-41908.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory
https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-41908.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory
https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r' $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory\r' $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
/home/qishanqing/myscript/sh/svn-merged.sh: line 105: https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory\r'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory
https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.13017
+ echo
+ cat /home/qishanqing/tmp/merged/output.13017
+ rm -f /home/qishanqing/tmp/merged/output.13017
+ rm -f /home/qishanqing/tmp/merged/output.13017
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r'
+ die '基础业务/用户中心/ProtocolSignature  project code no found'
+ echo '基础业务/用户中心/ProtocolSignature  project code no found'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.13017
+ rm -f /home/qishanqing/tmp/merged/output.13017
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory\r'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory\r'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.13017
+ echo
+ cat /home/qishanqing/tmp/merged/output.13017
+ rm -f /home/qishanqing/tmp/merged/output.13017
+ rm -f /home/qishanqing/tmp/merged/output.13017
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory\r'
+ die '基础业务/用户中心/PDFFactory  project code no found'
+ echo '基础业务/用户中心/PDFFactory  project code no found'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.13017
+ rm -f /home/qishanqing/tmp/merged/output.13017
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ rm -f /home/qishanqing/tmp/merged/output.13017
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite'
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ awk -F '|' '{print$1}'
+ revision=
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ head='r129286 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r127770 '
+ '[' '!' -z r127770 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r127770' $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r127770' $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-41908.html
Merged revision(s) r127770 -r129286   from Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite' --username qishanqing --password q372232
svn: E155015: 提交失败(细节如下): 
svn: E155015: 提交终止: “/home/qishanqing/workspace/code/Trunk/老系统/新达飞贷/网站中心/BossSite/WebRoot/protocolmanager/view/show/zhjr-jkzx.htm” 处于冲突状态
+ die 'Svn merged conflicts the reasons for failure are as follows'
+ echo 'Svn merged conflicts the reasons for failure are as follows'
+ test -e /home/qishanqing/tmp/merged/output.13017
+ echo
+ mails-cm -i 'svn merged faild'
+ cat /home/qishanqing/tmp/merged/output.13017
+ rm -f /home/qishanqing/tmp/merged/output.13017
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (34.9ms)
Completed 200 OK in 223079ms (Views: 154.7ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-19 18:51:00 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (20.1ms)
Completed 200 OK in 77ms (Views: 74.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-19 18:51:28 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature\r\nhttps://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory\r\n", "task"=>"http://192.168.0.221/zentao/task-view-41908.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"UPLmsD7JW4WLUKWzTlggZY12XIxRGoCKs4/zFi0BFcN4h2aSKSzc/qJvnQKe6lglI+9JoVmny9yD3sITjdtB7A=="}
pid is 13185
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-41908.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory
' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-41908.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory
'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-41908.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory
'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-41908.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory
' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-41908.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory
'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r' $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory\r'
/home/qishanqing/myscript/sh/svn-merged.sh: line 105: https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory\r'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.13185
+ echo
+ cat /home/qishanqing/tmp/merged/output.13185
+ rm -f /home/qishanqing/tmp/merged/output.13185
+ rm -f /home/qishanqing/tmp/merged/output.13185
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r'
+ die '基础业务/用户中心/ProtocolSignature  project code no found'
+ echo '基础业务/用户中心/ProtocolSignature  project code no found'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.13185
+ rm -f /home/qishanqing/tmp/merged/output.13185
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory\r'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory\r'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ test -e /home/qishanqing/tmp/merged/output.13185
+ echo
+ cat /home/qishanqing/tmp/merged/output.13185
+ rm -f /home/qishanqing/tmp/merged/output.13185
+ rm -f /home/qishanqing/tmp/merged/output.13185
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory\r'
+ die '基础业务/用户中心/PDFFactory  project code no found'
+ echo '基础业务/用户中心/PDFFactory  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.13185
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.13185
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 334ms (Views: 61.5ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-19 18:52:15 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (467.5ms)
Completed 200 OK in 777ms (Views: 775.1ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-19 18:53:54 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature\r\nhttps://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory", "task"=>"http://192.168.0.221/zentao/task-view-41908.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"qTzaCuhLRFp074X2sM+qf3xwupdzTwn1J/F35po1ZZKBSVoo/67DIV3QvUdgfdI/0umvunvyQqMXoEbjOu8xvQ=="}
pid is 13256
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-41908.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-41908.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-41908.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-41908.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-41908.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r' $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
/home/qishanqing/myscript/sh/svn-merged.sh: line 105: https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.13256
+ echo
+ cat /home/qishanqing/tmp/merged/output.13256
+ rm -f /home/qishanqing/tmp/merged/output.13256
+ rm -f /home/qishanqing/tmp/merged/output.13256
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature\r'
+ die '基础业务/用户中心/ProtocolSignature  project code no found'
+ echo '基础业务/用户中心/ProtocolSignature  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.13256
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.13256
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ rm -f /home/qishanqing/tmp/merged/output.13256
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r128174 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r129286 '
+ '[' '!' -z r128174 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory@r128174' $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory@r128174' $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-41908.html
Merged revision(s) r128174 -r129286   from Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory' --username qishanqing --password q372232
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 19906ms (Views: 43.7ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-19 18:55:09 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (7.3ms)
Completed 200 OK in 79ms (Views: 76.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-19 18:55:28 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature", "task"=>"http://192.168.0.221/zentao/task-view-41908.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"VHDOr5Lhls8R+Sua0PsD2bKjn/n3Lc2jBA/jAxkxlah8BU6NhQQRtDjGEysASXuZHDqK1P+QhvU0XtIGuevBhw=="}
pid is 13347
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-41908.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-41908.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-41908.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-41908.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-41908.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
/home/qishanqing/myscript/sh/svn-merged.sh: line 105: https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
+ rm -f /home/qishanqing/tmp/merged/output.13347
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
++ awk -F '|' '{print$1}'
+ revision='r128173 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r128138 '
+ '[' '!' -z r128173 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature@r128173' $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature@r128173' $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-41908.html
Merged revision(s) r128173 -r128138   from Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature' --username qishanqing --password q372232
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (46.6ms)
Completed 200 OK in 19307ms (Views: 96.3ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-19 18:57:51 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (32.6ms)
Completed 200 OK in 78ms (Views: 74.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-19 18:58:12 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/lvjinsuo_31\r\nhttps://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/baoyin_26", "task"=>"http://192.168.0.221/zentao/task-view-41944.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"lcuwYGlw66Wns9j2TngfvcXe2/cf02x19D27YXFRy+G9vjBCfpVs3o6M4Eeeymf9a0fO2hduJyPEbIpk0Yufzg=="}
pid is 13468
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-41944.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/lvjinsuo_31
https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/baoyin_26' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-41944.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/lvjinsuo_31
https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/baoyin_26'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-41944.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/lvjinsuo_31
https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/baoyin_26'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-41944.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/lvjinsuo_31
https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/baoyin_26' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-41944.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/lvjinsuo_31
https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/baoyin_26'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31\r' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
/home/qishanqing/myscript/sh/svn-merged.sh: line 105: https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/lvjinsuo_31: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31\r'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/lvjinsuo_31
https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/baoyin_26'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31\r'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31\r'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ test -e /home/qishanqing/tmp/merged/output.13468
+ echo
+ cat /home/qishanqing/tmp/merged/output.13468
+ rm -f /home/qishanqing/tmp/merged/output.13468
+ rm -f /home/qishanqing/tmp/merged/output.13468
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31\r'
+ die '外部业务/P2P/Business/basefundprovider/lvjinsuo_31  project code no found'
+ mails-cm -i 'svn merged faild'
+ echo '外部业务/P2P/Business/basefundprovider/lvjinsuo_31  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.13468
+ rm -f /home/qishanqing/tmp/merged/output.13468
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
+ rm -f /home/qishanqing/tmp/merged/output.13468
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/baoyin_26'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r128133 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r129275 
refine code'
+ '[' '!' -z r128133 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26@r128133' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26@r128133' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-41944.html
Merged revision(s) r128133 -r129275 
refine code  from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/baoyin_26' --username qishanqing --password q372232
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (16.8ms)
Completed 200 OK in 252911ms (Views: 64.3ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-19 19:02:44 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (337.0ms)
Completed 200 OK in 402ms (Views: 399.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-19 19:02:52 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/lvjinsuo_31", "task"=>"http://192.168.0.221/zentao/task-view-41944.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"fQME8QMsf+adnm7dWuUc/PMJv1wzrPSPcIewlf6GpZxVdoTTFMn4nbShVmyKV2S8XZCqcTsRv9lA1oGQXlzxsw=="}
pid is 13643
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-41944.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-41944.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/lvjinsuo_31'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-41944.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/lvjinsuo_31'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-41944.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-41944.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31'
/home/qishanqing/myscript/sh/svn-merged.sh: line 105: https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/lvjinsuo_31: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31'
+ rm -f /home/qishanqing/tmp/merged/output.13643
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/lvjinsuo_31'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r123506 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r129274 
refine code'
+ '[' '!' -z r123506 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31@r123506' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31@r123506' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-41944.html
Merged revision(s) r123506 -r129274 
refine code  from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/lvjinsuo_31' --username qishanqing --password q372232
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (14.3ms)
Completed 200 OK in 109556ms (Views: 45.0ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-20 10:07:54 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (105.7ms)
Completed 200 OK in 536ms (Views: 518.4ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-20 10:07:56 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (15.5ms)
Completed 200 OK in 72ms (Views: 70.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-20 10:10:55 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness2\r\nhttps://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness\r\nhttps://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/APP/BorrowBillSMSNotifyApp", "task"=>"http://192.168.0.221/zentao/task-view-41951.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"iDzuUj21UtpQLCFWQwwEBb5InlZcRRjPtBPzxWYaL4+gSW5wKlDVoXkTGeeTvnxFENGLe1T4U5mEQsLAxsB7oA=="}
pid is 26793
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-41951.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness2
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/APP/BorrowBillSMSNotifyApp' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-41951.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness2
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/APP/BorrowBillSMSNotifyApp'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-41951.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness2
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/APP/BorrowBillSMSNotifyApp'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-41951.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness2
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/APP/BorrowBillSMSNotifyApp' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-41951.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness2
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/APP/BorrowBillSMSNotifyApp'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2\r' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness\r' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/APP/BorrowBillSMSNotifyApp'
/home/qishanqing/myscript/sh/svn-merged.sh: line 105: https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness2: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2\r'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness\r'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/APP/BorrowBillSMSNotifyApp'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness2
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/APP/BorrowBillSMSNotifyApp'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2\r'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2\r'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ test -e /home/qishanqing/tmp/merged/output.26793
+ echo
+ cat /home/qishanqing/tmp/merged/output.26793
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.26793
+ rm -f /home/qishanqing/tmp/merged/output.26793
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2\r'
+ die '外部业务/P2P/Business/BorrowBusiness2  project code no found'
+ echo '外部业务/P2P/Business/BorrowBusiness2  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.26793
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.26793
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness\r'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness\r'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ test -e /home/qishanqing/tmp/merged/output.26793
+ echo
+ cat /home/qishanqing/tmp/merged/output.26793
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.26793
+ rm -f /home/qishanqing/tmp/merged/output.26793
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness\r'
+ die '外部业务/P2P/Business/RepaymentBusiness  project code no found'
+ echo '外部业务/P2P/Business/RepaymentBusiness  project code no found'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.26793
+ rm -f /home/qishanqing/tmp/merged/output.26793
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/APP/BorrowBillSMSNotifyApp'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/APP/BorrowBillSMSNotifyApp'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/APP/BorrowBillSMSNotifyApp'
+ rm -f /home/qishanqing/tmp/merged/output.26793
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/APP/BorrowBillSMSNotifyApp'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/APP/BorrowBillSMSNotifyApp'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/APP/BorrowBillSMSNotifyApp'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/APP/BorrowBillSMSNotifyApp'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170710-消息优化/Develop/外部业务/P2P/APP/BorrowBillSMSNotifyApp'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ awk -F '|' '{print$1}'
++ grep -C 3 $'Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/APP/BorrowBillSMSNotifyApp'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/APP/BorrowBillSMSNotifyApp'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r129421 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/APP/BorrowBillSMSNotifyApp'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r126595 '
+ '[' '!' -z r126595 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/APP/BorrowBillSMSNotifyApp@r126595' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/APP/BorrowBillSMSNotifyApp' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/APP/BorrowBillSMSNotifyApp@r126595' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/APP/BorrowBillSMSNotifyApp'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-41951.html
Merged revision(s) r126595 -r129421   from Branch/20170710-消息优化/Develop/外部业务/P2P/APP/BorrowBillSMSNotifyApp' --username qishanqing --password q372232
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (359.1ms)
Completed 200 OK in 38701ms (Views: 511.5ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-20 10:11:50 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (21.7ms)
Completed 200 OK in 113ms (Views: 110.3ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-20 10:12:15 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness2 \r\nhttps://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness ", "task"=>"http://192.168.0.221/zentao/task-view-41951.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"3wMnmZtyS58pCkMoV36MzQuFaKZJdFtft4wx6AuJIcf3dqe7jJfM5AA1e5mHzPSNpRx9i0HJEAmH3QDtq1N16A=="}
pid is 26897
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-41951.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness2 
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness ' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-41951.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness2 
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness '\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-41951.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness2 
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness '\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-41951.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness2 
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness ' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-41951.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness2 
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness '
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' $'\r' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 105: https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness2: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ for y in '$branch'
++ echo $'\r'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness2

https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ rm -f /home/qishanqing/tmp/merged/output.26897
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ mails-cm -i 'code merged from Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness2'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r129426 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r126593 '
+ '[' '!' -z r126593 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2@r126593' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2@r126593' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-41951.html
Merged revision(s) r126593 -r129426   from Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness2' --username qishanqing --password q372232
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'\r'
+ trunk=$'\r'
+ svn log -l 1 $'\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.26897
+ echo
+ cat /home/qishanqing/tmp/merged/output.26897
+ rm -f /home/qishanqing/tmp/merged/output.26897
+ rm -f /home/qishanqing/tmp/merged/output.26897
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\r'
+ die '  project code no found'
+ echo '  project code no found'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.26897
+ rm -f /home/qishanqing/tmp/merged/output.26897
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.26897
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r129431 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r126594 '
+ '[' '!' -z r126594 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness@r126594' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness@r126594' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-41951.html
Merged revision(s) r126594 -r129431   from Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness' --username qishanqing --password q372232
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (3.3ms)
Completed 200 OK in 186882ms (Views: 99.4ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-20 10:16:06 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (31.6ms)
Completed 200 OK in 207ms (Views: 204.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-20 10:17:19 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Task/MessageNoticeTask https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/HLFundBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/KKCommonBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/SZSBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Task/MessageDoubleNoticeTask https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Task/CalOverDueBillApp https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness2 ", "task"=>"http://192.168.0.221/zentao/task-view-41951.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"hVniO6FM7mkKfAcu3SV8s6wf9H1XDKH4UzcYkHUAtFWtLGIZtqlpEiNDP58NlwTzAobhUF+x6q5jZimV1drgeg=="}
pid is 27049
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-41951.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Task/MessageNoticeTask https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/HLFundBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/KKCommonBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/SZSBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Task/MessageDoubleNoticeTask https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Task/CalOverDueBillApp https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness2 ' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-41951.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Task/MessageNoticeTask https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/HLFundBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/KKCommonBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/SZSBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Task/MessageDoubleNoticeTask https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Task/CalOverDueBillApp https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness2 '\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-41951.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Task/MessageNoticeTask https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/HLFundBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/KKCommonBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/SZSBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Task/MessageDoubleNoticeTask https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Task/CalOverDueBillApp https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness2 '\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-41951.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Task/MessageNoticeTask https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/HLFundBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/KKCommonBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/SZSBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Task/MessageDoubleNoticeTask https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Task/CalOverDueBillApp https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness2 ' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-41951.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Task/MessageNoticeTask https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/HLFundBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/KKCommonBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/SZSBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Task/MessageDoubleNoticeTask https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Task/CalOverDueBillApp https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness2 '
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/KKCommonBusiness' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/CalOverDueBillApp' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
/home/qishanqing/myscript/sh/svn-merged.sh: line 105: https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Task/MessageNoticeTask: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/KKCommonBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/CalOverDueBillApp'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Task/MessageNoticeTask
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/HLFundBusiness
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/KKCommonBusiness
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/SZSBusiness
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Task/MessageDoubleNoticeTask
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Task/CalOverDueBillApp
https://192.168.0.220/svn/tech/Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness2'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask'
+ rm -f /home/qishanqing/tmp/merged/output.27049
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask'
+ mails-cm -i 'code merged from Branch/20170710-消息优化/Develop/外部业务/P2P/Task/MessageNoticeTask'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep -C 3 $'Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ revision=
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask'
+ head='r129430 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask'
++ grep '^r'
++ tail -n 4
++ awk -F '|' '{print$1}'
+ revision='r126596 '
+ '[' '!' -z r126596 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask@r126596' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask@r126596' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-41951.html
Merged revision(s) r126596 -r129430   from Branch/20170710-消息优化/Develop/外部业务/P2P/Task/MessageNoticeTask' --username qishanqing --password q372232
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.27049
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness'
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ awk -F '|' '{print$1}'
++ grep '^r'
++ grep -C 3 $'Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ head -n 4
+ revision=
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ head='r129424 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r126597 '
+ '[' '!' -z r126597 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness@r126597' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness' .
+ st='  树冲突：2'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2322' ']'
+ die 'Svn merged conflicts the r126597 -r129424  from Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness'
+ echo 'Svn merged conflicts the r126597 -r129424  from Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.27049
+ rm -f /home/qishanqing/tmp/merged/output.27049
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-41951.html
Merged revision(s) r126597 -r129424   from Branch/20170710-消息优化/Develop/外部业务/P2P/Business/BorrowBusiness' --username qishanqing --password q372232
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.27049
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness'
+ mails-cm -i 'code merged from Branch/20170710-消息优化/Develop/外部业务/P2P/Business/HLFundBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness'
+ head='r127241 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r126598 '
+ '[' '!' -z r126598 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness@r126598' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness@r126598' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-41951.html
Merged revision(s) r126598 -r127241   from Branch/20170710-消息优化/Develop/外部业务/P2P/Business/HLFundBusiness' --username qishanqing --password q372232
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/KKCommonBusiness'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/KKCommonBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/KKCommonBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.27049
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/KKCommonBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/KKCommonBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/KKCommonBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/KKCommonBusiness'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170710-消息优化/Develop/外部业务/P2P/Business/KKCommonBusiness'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/KKCommonBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/KKCommonBusiness'
++ awk -F '|' '{print$1}'
+ head='r127243 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/KKCommonBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r126599 '
+ '[' '!' -z r126599 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/KKCommonBusiness@r126599' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/KKCommonBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/KKCommonBusiness@r126599' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/KKCommonBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-41951.html
Merged revision(s) r126599 -r127243   from Branch/20170710-消息优化/Develop/外部业务/P2P/Business/KKCommonBusiness' --username qishanqing --password q372232
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.27049
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170710-消息优化/Develop/外部业务/P2P/Business/SZSBusiness'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ awk -F '|' '{print$1}'
++ head -n 4
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r129436 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r126600 '
+ '[' '!' -z r126600 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness@r126600' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness@r126600' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ echo tc
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-41951.html
Merged revision(s) r126600 -r129436   from Branch/20170710-消息优化/Develop/外部业务/P2P/Business/SZSBusiness' --username qishanqing --password q372232
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.27049
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ svn_from_tb_merged
+ mails-cm -i 'code merged from Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness'
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r129569 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r129431 '
+ '[' '!' -z r129569 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness@r129569' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness@r129569' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-41951.html
Merged revision(s) r129569 -r129431   from Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness' --username qishanqing --password q372232
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask'
+ rm -f /home/qishanqing/tmp/merged/output.27049
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170710-消息优化/Develop/外部业务/P2P/Task/MessageDoubleNoticeTask'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask'
++ grep '^r'
+ head='r129429 '
+ '[' '!' -z ']'
++ awk -F '|' '{print$1}'
++ grep '^r'
++ tail -n 4
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask'
+ revision='r126914 '
+ '[' '!' -z r126914 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask@r126914' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask@r126914' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-41951.html
Merged revision(s) r126914 -r129429   from Branch/20170710-消息优化/Develop/外部业务/P2P/Task/MessageDoubleNoticeTask' --username qishanqing --password q372232
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/CalOverDueBillApp'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/CalOverDueBillApp'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/CalOverDueBillApp'
+ rm -f /home/qishanqing/tmp/merged/output.27049
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/CalOverDueBillApp'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/CalOverDueBillApp'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/CalOverDueBillApp'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/CalOverDueBillApp'
+ mails-cm -i 'code merged from Branch/20170710-消息优化/Develop/外部业务/P2P/Task/CalOverDueBillApp'
+ clean_workspace
+ svn cleanup .
+ grep '^?'
+ xargs rm -rf
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/CalOverDueBillApp'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/CalOverDueBillApp'
+ head='r129427 '
+ '[' '!' -z ']'
++ awk -F '|' '{print$1}'
++ grep '^r'
++ tail -n 4
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/CalOverDueBillApp'
+ revision='r128724 '
+ '[' '!' -z r128724 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/CalOverDueBillApp@r128724' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/CalOverDueBillApp' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/CalOverDueBillApp@r128724' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/CalOverDueBillApp'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-41951.html
Merged revision(s) r128724 -r129427   from Branch/20170710-消息优化/Develop/外部业务/P2P/Task/CalOverDueBillApp' --username qishanqing --password q372232
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ rm -f /home/qishanqing/tmp/merged/output.27049
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness2'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r129435 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ grep '^r'
++ tail -n 4
++ awk -F '|' '{print$1}'
+ revision='r127288 '
+ '[' '!' -z r127288 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2@r127288' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2@r127288' $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-41951.html
Merged revision(s) r127288 -r129435   from Branch/20170710-消息优化/Develop/外部业务/P2P/Business/RepaymentBusiness2' --username qishanqing --password q372232
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 261753ms (Views: 85.8ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-20 10:31:08 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (14.3ms)
Completed 200 OK in 62ms (Views: 59.5ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-20 10:31:28 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170718-实名优化查询速度/Develop/基础业务/账户中心/AccountGateway5 https://192.168.0.220/svn/tech/Branch/20170718-实名优化查询速度/Develop/基础业务/账户中心/AccountGateway21 ", "task"=>"http://192.168.0.221/zentao/task-view-41949.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"IhmV78D/MFnybPVk/GAtSMEapq4gdf/p8uV8cvwS988KbBXN1xq3IttTzdUs0lUIb4OzgyjItL/CtE13XMij4A=="}
pid is 27883
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-41949.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170718-实名优化查询速度/Develop/基础业务/账户中心/AccountGateway5 https://192.168.0.220/svn/tech/Branch/20170718-实名优化查询速度/Develop/基础业务/账户中心/AccountGateway21 ' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-41949.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170718-实名优化查询速度/Develop/基础业务/账户中心/AccountGateway5 https://192.168.0.220/svn/tech/Branch/20170718-实名优化查询速度/Develop/基础业务/账户中心/AccountGateway21 '\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-41949.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170718-实名优化查询速度/Develop/基础业务/账户中心/AccountGateway5 https://192.168.0.220/svn/tech/Branch/20170718-实名优化查询速度/Develop/基础业务/账户中心/AccountGateway21 '\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-41949.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170718-实名优化查询速度/Develop/基础业务/账户中心/AccountGateway5 https://192.168.0.220/svn/tech/Branch/20170718-实名优化查询速度/Develop/基础业务/账户中心/AccountGateway21 ' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-41949.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170718-实名优化查询速度/Develop/基础业务/账户中心/AccountGateway5 https://192.168.0.220/svn/tech/Branch/20170718-实名优化查询速度/Develop/基础业务/账户中心/AccountGateway21 '
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway5' $'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway21'
/home/qishanqing/myscript/sh/svn-merged.sh: line 105: https://192.168.0.220/svn/tech/Branch/20170718-实名优化查询速度/Develop/基础业务/账户中心/AccountGateway5: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway5'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway21'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170718-实名优化查询速度/Develop/基础业务/账户中心/AccountGateway5
https://192.168.0.220/svn/tech/Branch/20170718-实名优化查询速度/Develop/基础业务/账户中心/AccountGateway21'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway5'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway5'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway5'
+ rm -f /home/qishanqing/tmp/merged/output.27883
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway5'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway5'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway5'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170718-实名优化查询速度/Develop/基础业务/账户中心/AccountGateway5'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway5'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ head -n 4
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway5'
++ awk -F '|' '{print$1}'
+ revision=
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway5'
++ awk -F '|' '{print$1}'
+ head='r129331 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway5'
++ tail -n 4
+ revision='r128950 '
+ '[' '!' -z r128950 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway5@r128950' $'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway5' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway5@r128950' $'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway5'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-41949.html
Merged revision(s) r128950 -r129331   from Branch/20170718-实名优化查询速度/Develop/基础业务/账户中心/AccountGateway5' --username qishanqing --password q372232
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway21'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway21'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway21'
+ rm -f /home/qishanqing/tmp/merged/output.27883
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway21'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway21'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway21'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway21'
+ mails-cm -i 'code merged from Branch/20170718-实名优化查询速度/Develop/基础业务/账户中心/AccountGateway21'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway21'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway21'
+ head='r129329 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway21'
+ revision='r128952 '
+ '[' '!' -z r128952 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway21@r128952' $'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway21' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway21@r128952' $'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway21'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-41949.html
Merged revision(s) r128952 -r129329   from Branch/20170718-实名优化查询速度/Develop/基础业务/账户中心/AccountGateway21' --username qishanqing --password q372232
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 287685ms (Views: 79.8ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-20 10:36:18 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.7ms)
Completed 200 OK in 74ms (Views: 70.5ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-20 10:37:16 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 46ms (Views: 36.9ms)


Started POST "/start" for 192.168.5.26 at 2017-07-20 10:37:22 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"tet", "branch"=>"20170718-实名优化查询速度", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"Kzi1KlIDi1Vb2q3JNrMTq/g9loWhLaGVdllUEwIiASQDTTUIReYMLnLllXjmAWvrVqSDqKmQ6sNGCGUWovhVCw=="}
pid is 28254
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t tet -e qishanqing@dafy.com -E '' -b $'20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''tet'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170718-实名优化查询速度'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''tet'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170718-实名优化查询速度'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t tet -e qishanqing@dafy.com -E '' -b $'20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=tet
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ tet
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: tet: command not found
++ for y in '$trunk'
++ echo tet
+ trunks=tet
+ test del = add
+ delbranch
+ '[' -z $'20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170720
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707201037
+ move_dir=Closed/--close+
+ Trunk_name=https://192.168.0.220/svn/tech/Trunk/tet
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170720-20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/tet'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707201037-20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246'
++ awk -F / '{print $7}'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170720-20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246/Develop/tet'
+ br=$'20170720-20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246'
+ access=$'20170720-20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707201037-20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.28254
+ echo $'https://192.168.0.220/svn/tech/Branch/20170718-\345\256\236\345\220\215\344\274\230\345\214\226\346\237\245\350\257\242\351\200\237\345\272\246'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170718-实名优化查询速度%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170718-实名优化查询速度%'\'';'
+ cat /tmp/cmdb.db.28254
+ rm -f /tmp/cmdb.db.28254
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (26.2ms)
Completed 200 OK in 5848ms (Views: 63.3ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-20 10:47:07 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (9.4ms)
Completed 200 OK in 118ms (Views: 111.2ms)


Started POST "/start" for 192.168.5.26 at 2017-07-20 10:47:13 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"fefe", "branch"=>"20170710-消息优化", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"SuL3QZS/waDIlx2RhgbY+gB7xMZNhZVdKelNaUbVy2lil3djg1pG2+GoJSBWtKC6ruLR60U43gsZuHxs5g+fRg=="}
pid is 28360
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t fefe -e qishanqing@dafy.com -E '' -b $'20170710-\346\266\210\346\201\257\344\274\230\345\214\226' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''fefe'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170710-消息优化'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''fefe'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170710-消息优化'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t fefe -e qishanqing@dafy.com -E '' -b $'20170710-\346\266\210\346\201\257\344\274\230\345\214\226' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=fefe
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170710-\346\266\210\346\201\257\344\274\230\345\214\226'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ fefe
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: fefe: command not found
++ for y in '$trunk'
++ echo fefe
+ trunks=fefe
+ test del = add
+ delbranch
+ '[' -z $'20170710-\346\266\210\346\201\257\344\274\230\345\214\226' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170720
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707201047
+ move_dir=Closed/--close+
+ Trunk_name=https://192.168.0.220/svn/tech/Trunk/fefe
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170720-20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/fefe'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707201047-20170710-\346\266\210\346\201\257\344\274\230\345\214\226'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170720-20170710-\346\266\210\346\201\257\344\274\230\345\214\226/Develop/fefe'
++ awk -F / '{print $7}'
+ br=$'20170720-20170710-\346\266\210\346\201\257\344\274\230\345\214\226'
+ access=$'20170720-20170710-\346\266\210\346\201\257\344\274\230\345\214\226'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707201047-20170710-\346\266\210\346\201\257\344\274\230\345\214\226' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.28360
+ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\346\266\210\346\201\257\344\274\230\345\214\226'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170710-消息优化%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170710-消息优化%'\'';'
+ cat /tmp/cmdb.db.28360
+ rm -f /tmp/cmdb.db.28360
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 31646ms (Views: 47.1ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-20 10:48:03 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170718-配置中心/Develop/外部业务/P2P/Business/ProductBusiness", "task"=>"http://192.168.0.221/zentao/task-view-41971.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"x7j5LYW6sXZybkTPpd8MaYlBmlGIlIP+pKSrL30vsBPvzXkPkl82DVtRfH51bXQpJ9iPfIApyKiU9Zoq3fXkPA=="}
pid is 28396
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-41971.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170718-\351\205\215\347\275\256\344\270\255\345\277\203/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/ProductBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-41971.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170718-配置中心/Develop/外部业务/P2P/Business/ProductBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-41971.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170718-配置中心/Develop/外部业务/P2P/Business/ProductBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-41971.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170718-\351\205\215\347\275\256\344\270\255\345\277\203/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/ProductBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-41971.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170718-\351\205\215\347\275\256\344\270\255\345\277\203/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/ProductBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170718-\351\205\215\347\275\256\344\270\255\345\277\203/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/ProductBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 105: https://192.168.0.220/svn/tech/Branch/20170718-配置中心/Develop/外部业务/P2P/Business/ProductBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170718-\351\205\215\347\275\256\344\270\255\345\277\203/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/ProductBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170718-\351\205\215\347\275\256\344\270\255\345\277\203/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/ProductBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170718-\351\205\215\347\275\256\344\270\255\345\277\203/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/ProductBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/ProductBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170718-\351\205\215\347\275\256\344\270\255\345\277\203/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/ProductBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.28396
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/ProductBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170718-\351\205\215\347\275\256\344\270\255\345\277\203/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/ProductBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/ProductBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170718-配置中心/Develop/外部业务/P2P/Business/ProductBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/ProductBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170718-\351\205\215\347\275\256\344\270\255\345\277\203/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/ProductBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170718-\351\205\215\347\275\256\344\270\255\345\277\203/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/ProductBusiness'
+ head='r129236 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170718-\351\205\215\347\275\256\344\270\255\345\277\203/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/ProductBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r128811 '
+ '[' '!' -z r128811 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170718-\351\205\215\347\275\256\344\270\255\345\277\203/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/ProductBusiness@r128811' $'https://192.168.0.220/svn/tech/Branch/20170718-\351\205\215\347\275\256\344\270\255\345\277\203/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/ProductBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170718-\351\205\215\347\275\256\344\270\255\345\277\203/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/ProductBusiness@r128811' $'https://192.168.0.220/svn/tech/Branch/20170718-\351\205\215\347\275\256\344\270\255\345\277\203/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/ProductBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-41971.html
Merged revision(s) r128811 -r129236   from Branch/20170718-配置中心/Develop/外部业务/P2P/Business/ProductBusiness' --username qishanqing --password q372232
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (41.7ms)
Completed 200 OK in 125750ms (Views: 175.3ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-20 10:50:36 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 180ms (Views: 178.2ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-20 10:51:10 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170719-BOSS后台订单管理/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170719-BOSS后台订单管理/Develop/分期商城/分期商城3.0/MallManageOrderBusiness ", "task"=>"http://192.168.0.221/zentao/task-view-41972.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"UwGNokq9UgF/B6y0jnLHFL+whr/ouWWPuwwpTaXlKmR7dA2AXVjVelY4lAVewL9UESmTkuAELtmLXRhIBT9+Sw=="}
pid is 28501
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-41972.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170719-BOSS后台订单管理/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170719-BOSS后台订单管理/Develop/分期商城/分期商城3.0/MallManageOrderBusiness ' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-41972.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170719-BOSS后台订单管理/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170719-BOSS后台订单管理/Develop/分期商城/分期商城3.0/MallManageOrderBusiness '\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-41972.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170719-BOSS后台订单管理/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170719-BOSS后台订单管理/Develop/分期商城/分期商城3.0/MallManageOrderBusiness '\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-41972.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170719-BOSS后台订单管理/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170719-BOSS后台订单管理/Develop/分期商城/分期商城3.0/MallManageOrderBusiness ' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-41972.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170719-BOSS后台订单管理/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170719-BOSS后台订单管理/Develop/分期商城/分期商城3.0/MallManageOrderBusiness '
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' $'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 105: https://192.168.0.220/svn/tech/Branch/20170719-BOSS后台订单管理/Develop/分期商城/分期商城3.0/MallManager: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170719-BOSS后台订单管理/Develop/分期商城/分期商城3.0/MallManager
https://192.168.0.220/svn/tech/Branch/20170719-BOSS后台订单管理/Develop/分期商城/分期商城3.0/MallManageOrderBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ rm -f /home/qishanqing/tmp/merged/output.28501
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170719-BOSS后台订单管理/Develop/分期商城/分期商城3.0/MallManager'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r129368 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r129361 '
+ '[' '!' -z r129361 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager@r129361' $'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager@r129361' $'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-41972.html
Merged revision(s) r129361 -r129368   from Branch/20170719-BOSS后台订单管理/Develop/分期商城/分期商城3.0/MallManager' --username qishanqing --password q372232
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.28501
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ mails-cm -i 'code merged from Branch/20170719-BOSS后台订单管理/Develop/分期商城/分期商城3.0/MallManageOrderBusiness'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r129362 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r129362 '
+ '[' '!' -z r129362 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness@r129362' $'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness@r129362' $'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-41972.html
Merged revision(s) r129362 -r129362   from Branch/20170719-BOSS后台订单管理/Develop/分期商城/分期商城3.0/MallManageOrderBusiness' --username qishanqing --password q372232
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 88251ms (Views: 344.3ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-20 11:02:11 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.4ms)
Completed 200 OK in 146ms (Views: 142.6ms)


Started POST "/start" for 192.168.5.26 at 2017-07-20 11:02:17 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"fef", "branch"=>"20170719-BOSS后台订单管理", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"ty5ndOwmH6Lk1Q/jEw83M01uEu5JCCWDIQ4l1puDHkOfW+dW+8OY2c3qN1LDvU9z4/cHw0G1btURXxTTO1lKbA=="}
pid is 28705
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t fef -e qishanqing@dafy.com -E '' -b $'20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''fef'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170719-BOSS后台订单管理'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''fef'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170719-BOSS后台订单管理'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t fef -e qishanqing@dafy.com -E '' -b $'20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=fef
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ fef
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: fef: command not found
++ for y in '$trunk'
++ echo fef
+ trunks=fef
+ test del = add
+ delbranch
+ '[' -z $'20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170720
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707201102
+ move_dir=Closed/--close+
+ Trunk_name=https://192.168.0.220/svn/tech/Trunk/fef
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170720-20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/fef'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707201102-20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170720-20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206/Develop/fef'
++ awk -F / '{print $7}'
+ br=$'20170720-20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206'
+ access=$'20170720-20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707201102-20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.28705
+ echo $'https://192.168.0.220/svn/tech/Branch/20170719-BOSS\345\220\216\345\217\260\350\256\242\345\215\225\347\256\241\347\220\206'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170719-BOSS后台订单管理%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170719-BOSS后台订单管理%'\'';'
+ cat /tmp/cmdb.db.28705
+ rm -f /tmp/cmdb.db.28705
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (31.5ms)
Completed 200 OK in 1833ms (Views: 149.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-20 11:02:30 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.4ms)
Completed 200 OK in 57ms (Views: 54.3ms)


Started POST "/start" for 192.168.5.26 at 2017-07-20 11:06:09 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"xinruigang@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Task/MessageNoticeTask 外部业务/P2P/Task/MessageDoubleNoticeTask", "branch"=>"消息bug修复", "user"=>"xinruigang", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"M77KU6KZ10S06YjKIeqZ+voTsguemUfn4Ewmc+anjiEby0pxtXxQP53WsHvxWOG6VIqnJpYkDLHQHRd2Rn3aDg=="}
pid is 28766
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u xinruigang -t '外部业务/P2P/Task/MessageNoticeTask 外部业务/P2P/Task/MessageDoubleNoticeTask' -e xinruigang@dafy.com -E '' -b $'\346\266\210\346\201\257bug\344\277\256\345\244\215' -T add -d ''
+ TEMP=' -u '\''xinruigang'\'' -t '\''外部业务/P2P/Task/MessageNoticeTask 外部业务/P2P/Task/MessageDoubleNoticeTask'\'' -e '\''xinruigang@dafy.com'\'' -E '\'''\'' -b '\''消息bug修复'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''xinruigang'\'' -t '\''外部业务/P2P/Task/MessageNoticeTask 外部业务/P2P/Task/MessageDoubleNoticeTask'\'' -e '\''xinruigang@dafy.com'\'' -E '\'''\'' -b '\''消息bug修复'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u xinruigang -t '外部业务/P2P/Task/MessageNoticeTask 外部业务/P2P/Task/MessageDoubleNoticeTask' -e xinruigang@dafy.com -E '' -b $'\346\266\210\346\201\257bug\344\277\256\345\244\215' -T add -d '' --
+ true
+ case "$1" in
+ user=xinruigang
+ shift 2
+ true
+ case "$1" in
+ trunk='外部业务/P2P/Task/MessageNoticeTask 外部业务/P2P/Task/MessageDoubleNoticeTask'
+ shift 2
+ true
+ case "$1" in
+ email=xinruigang@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\346\266\210\346\201\257bug\344\277\256\345\244\215'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=xinruigang@dafy.com '
+ SMARTCM_EXTRA_MAIL='xinruigang@dafy.com '
++ xinruigang
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: xinruigang: command not found
++ for x in '$user'
++ echo xinruigang=rw
+ users=xinruigang=rw
++ $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask' $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 外部业务/P2P/Task/MessageNoticeTask: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask'
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask'
+ trunks='外部业务/P2P/Task/MessageNoticeTask
外部业务/P2P/Task/MessageDoubleNoticeTask'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask' ']'
+ '[' -z $'\346\266\210\346\201\257bug\344\277\256\345\244\215' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170720
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707201106
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170720-\346\266\210\346\201\257bug\344\277\256\345\244\215/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\346\266\210\346\201\257bug\344\277\256\345\244\215'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707201106-\346\266\210\346\201\257bug\344\277\256\345\244\215'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170720-\346\266\210\346\201\257bug\344\277\256\345\244\215/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask'
++ awk -F / '{print $7}'
+ br=$'20170720-\346\266\210\346\201\257bug\344\277\256\345\244\215'
+ access=$'20170720-\346\266\210\346\201\257bug\344\277\256\345\244\215'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask' $'https://192.168.0.220/svn/tech/Branch/20170720-\346\266\210\346\201\257bug\344\277\256\345\244\215/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.28766
+ echo $'https://192.168.0.220/svn/tech/Branch/20170720-\346\266\210\346\201\257bug\344\277\256\345\244\215/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageNoticeTask'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Task/MessageNoticeTask'\'', '\''https://192.168.0.220/svn/tech/Branch/20170720-消息bug修复/Develop/外部业务/P2P/Task/MessageNoticeTask'\'',now(),'\''xinruigang'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Task/MessageNoticeTask'\'', '\''https://192.168.0.220/svn/tech/Branch/20170720-消息bug修复/Develop/外部业务/P2P/Task/MessageNoticeTask'\'',now(),'\''xinruigang'\'');'
+ cat /tmp/cmdb.db.28766
+ rm -f /tmp/cmdb.db.28766
+ check-acces
+ grep -c '20170720-消息bug修复]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ cat
+ test -z xinruigang=rw
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask' ']'
+ '[' -z $'\346\266\210\346\201\257bug\344\277\256\345\244\215' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170720
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707201106
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170720-\346\266\210\346\201\257bug\344\277\256\345\244\215/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\346\266\210\346\201\257bug\344\277\256\345\244\215'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707201106-\346\266\210\346\201\257bug\344\277\256\345\244\215'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170720-\346\266\210\346\201\257bug\344\277\256\345\244\215/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask'
++ awk -F / '{print $7}'
+ br=$'20170720-\346\266\210\346\201\257bug\344\277\256\345\244\215'
+ access=$'20170720-\346\266\210\346\201\257bug\344\277\256\345\244\215'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask' $'https://192.168.0.220/svn/tech/Branch/20170720-\346\266\210\346\201\257bug\344\277\256\345\244\215/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.28766
+ echo $'https://192.168.0.220/svn/tech/Branch/20170720-\346\266\210\346\201\257bug\344\277\256\345\244\215/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/MessageDoubleNoticeTask'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Task/MessageDoubleNoticeTask'\'', '\''https://192.168.0.220/svn/tech/Branch/20170720-消息bug修复/Develop/外部业务/P2P/Task/MessageDoubleNoticeTask'\'',now(),'\''xinruigang'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Task/MessageDoubleNoticeTask'\'', '\''https://192.168.0.220/svn/tech/Branch/20170720-消息bug修复/Develop/外部业务/P2P/Task/MessageDoubleNoticeTask'\'',now(),'\''xinruigang'\'');'
+ cat /tmp/cmdb.db.28766
+ rm -f /tmp/cmdb.db.28766
+ check-acces
+ grep -c '20170720-消息bug修复]' /mnt/svn/authz.conf
+ read num
+ '[' 1 -eq 0 ']'
++ sed '/20170720-消息bug修复]/,/^[ \t]*$/!d;/20170720-消息bug修复]/d;/^[ \t]*$/d' /mnt/svn/authz.conf
+ [[ xinruigang=rw
@admin=rw
*= =~ xinruigang=rw ]]
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 7860ms (Views: 90.2ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-20 11:06:44 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 54ms (Views: 52.1ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-20 11:21:39 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 52ms (Views: 49.7ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-07-20 11:21:40 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (5.0ms)
Completed 200 OK in 49ms (Views: 47.1ms)


Started GET "/jenkins" for 192.168.5.26 at 2017-07-20 11:21:41 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by JenkinsController#index as HTML
  Rendering jenkins/index.html.erb within layouts/application
  Rendered jenkins/index.html.erb within layouts/application (34.4ms)
Completed 200 OK in 192ms (Views: 78.0ms)


Started GET "/articles/index" for 192.168.5.26 at 2017-07-20 11:21:42 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.erb within layouts/application
  Rendered articles/index.html.erb within layouts/application (152.5ms)
Completed 200 OK in 297ms (Views: 214.8ms)


Started POST "/start" for 192.168.5.26 at 2017-07-20 11:30:40 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"qfef", "branch"=>"20170718-配置中心", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"H/DXnD84tEPvbUbJ60G68zVZIQcx2bM1z+5yTW5RYmU3hVe+KN0zOMZSfng788Kzm8A0Kjlk+GP/v0NIzos2Sg=="}
pid is 29132
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t qfef -e qishanqing@dafy.com -E '' -b $'20170718-\351\205\215\347\275\256\344\270\255\345\277\203' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''qfef'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170718-配置中心'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''qfef'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170718-配置中心'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t qfef -e qishanqing@dafy.com -E '' -b $'20170718-\351\205\215\347\275\256\344\270\255\345\277\203' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=qfef
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170718-\351\205\215\347\275\256\344\270\255\345\277\203'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ qfef
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: qfef: command not found
++ for y in '$trunk'
++ echo qfef
+ trunks=qfef
+ test del = add
+ delbranch
+ '[' -z $'20170718-\351\205\215\347\275\256\344\270\255\345\277\203' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170720
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707201130
+ move_dir=Closed/--close+
+ Trunk_name=https://192.168.0.220/svn/tech/Trunk/qfef
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170720-20170718-\351\205\215\347\275\256\344\270\255\345\277\203/Develop/qfef'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170718-\351\205\215\347\275\256\344\270\255\345\277\203'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707201130-20170718-\351\205\215\347\275\256\344\270\255\345\277\203'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170720-20170718-\351\205\215\347\275\256\344\270\255\345\277\203/Develop/qfef'
++ awk -F / '{print $7}'
+ br=$'20170720-20170718-\351\205\215\347\275\256\344\270\255\345\277\203'
+ access=$'20170720-20170718-\351\205\215\347\275\256\344\270\255\345\277\203'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170718-\351\205\215\347\275\256\344\270\255\345\277\203' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707201130-20170718-\351\205\215\347\275\256\344\270\255\345\277\203' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.29132
+ echo $'https://192.168.0.220/svn/tech/Branch/20170718-\351\205\215\347\275\256\344\270\255\345\277\203'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170718-配置中心%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170718-配置中心%'\'';'
+ cat /tmp/cmdb.db.29132
+ rm -f /tmp/cmdb.db.29132
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (18.6ms)
Completed 200 OK in 1390ms (Views: 80.3ms)


Started POST "/" for 192.168.0.232 at 2017-07-20 14:34:18 +0800
Cannot render console from 192.168.0.232! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  
ActionController::RoutingError (No route matches [POST] "/"):
  
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/" for 192.168.0.232 at 2017-07-20 14:35:28 +0800
Cannot render console from 192.168.0.232! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  
ActionController::RoutingError (No route matches [POST] "/"):
  
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/builder" for 192.168.5.26 at 2017-07-20 14:36:41 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (47.8ms)
Completed 200 OK in 1404ms (Views: 1255.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-20 14:41:06 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170719-售后说明更换/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-42030.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"n5m40qJQ2P+9iiSUlCoQtZmmViy7+xWKk7yqNFoT+Zy37DjwtbVfhJS1HCVEmGj1Nz9DAbNGXtyj7Zsx+smtsw=="}
pid is 32715
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42030.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42030.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170719-售后说明更换/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42030.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170719-售后说明更换/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42030.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42030.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
/home/qishanqing/myscript/sh/svn-merged.sh: line 105: https://192.168.0.220/svn/tech/Branch/20170719-售后说明更换/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ rm -f /home/qishanqing/tmp/merged/output.32715
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ mails-cm -i 'code merged from Branch/20170719-售后说明更换/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep -C 3 $'Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ revision=
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ grep '^r'
+ head='r129618 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r129304 '
+ '[' '!' -z r129304 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r129304' $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r129304' $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42030.html
Merged revision(s) r129304 -r129618   from Branch/20170719-售后说明更换/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' --username qishanqing --password q372232
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (52.3ms)
Completed 200 OK in 376008ms (Views: 397.0ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-20 16:34:51 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (177.5ms)
Completed 200 OK in 678ms (Views: 650.5ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-20 17:24:47 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (49.2ms)
Completed 200 OK in 615ms (Views: 497.3ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-20 17:26:09 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"dt", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Trunk/事事分期/StageAll/cmsStageManager", "task"=>"", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"OI/HywS5l/DYVVaC8pNQ5Wj8R6WtS/UtmLIIQLX2L6cQ+kfpE1wQi/FqbjMiISilxmVSiKX2vnuo4zlFFSx7iA=="}
pid is 6026
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k '' -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager' -T dt
+ TEMP=' -k '\'''\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Trunk/事事分期/StageAll/cmsStageManager'\'' -T '\''dt'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\'''\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Trunk/事事分期/StageAll/cmsStageManager'\'' -T '\''dt'\'' --'
++ set -- -k '' -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager' -T dt --
+ true
+ case "$1" in
+ task=
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager'
+ shift 2
+ true
+ case "$1" in
+ types=dt
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager'
/home/qishanqing/myscript/sh/svn-merged.sh: line 105: https://192.168.0.220/svn/tech/Trunk/事事分期/StageAll/cmsStageManager: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager'
+ branchs=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager'
+ test dt = add
+ test dt = del
+ test dt = dt
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager'
+ rm -f /home/qishanqing/tmp/merged/output.6026
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager'
+ svn_dt_merged
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
正在升级 '.':
版本 129816。
++ svn log -l 2
++ awk -F '|' '{print$1}'
++ grep '^r'
++ tail -n 1
+ revision='r124784 '
+ '[' -z ']'
+ mails-cm -i $'\345\267\262\345\233\236\351\200\200\345\211\215\344\270\200\344\270\252\347\211\210\346\234\254'
+ svn merge -r HEAD:r124784 .
+ svn ci -m $'\347\211\210\346\234\254\345\233\236\351\200\200'
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (23.6ms)
Completed 200 OK in 42560ms (Views: 359.6ms)


Started POST "/start" for 192.168.5.26 at 2017-07-20 17:34:00 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"yuepeng@dafy.com", "types"=>"add", "trunk"=>"前端业务/营销活动/卡卷系统/CardVoucherBusiness", "branch"=>"优惠券领取活动", "user"=>"yuepeng", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"SuueqgidWJa8RZYV+bIw/jUd/773uAGUYVpcdsL8szJinh6IH3jf7ZV6rqQpAEi+m4Tqk/8FSsJRC21zYibnHQ=="}
pid is 6137
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u yuepeng -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness' -e yuepeng@dafy.com -E '' -b $'\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250' -T add -d ''
+ TEMP=' -u '\''yuepeng'\'' -t '\''前端业务/营销活动/卡卷系统/CardVoucherBusiness'\'' -e '\''yuepeng@dafy.com'\'' -E '\'''\'' -b '\''优惠券领取活动'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''yuepeng'\'' -t '\''前端业务/营销活动/卡卷系统/CardVoucherBusiness'\'' -e '\''yuepeng@dafy.com'\'' -E '\'''\'' -b '\''优惠券领取活动'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u yuepeng -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness' -e yuepeng@dafy.com -E '' -b $'\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250' -T add -d '' --
+ true
+ case "$1" in
+ user=yuepeng
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ shift 2
+ true
+ case "$1" in
+ email=yuepeng@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=yuepeng@dafy.com '
+ SMARTCM_EXTRA_MAIL='yuepeng@dafy.com '
++ yuepeng
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: yuepeng: command not found
++ for x in '$user'
++ echo yuepeng=rw
+ users=yuepeng=rw
++ $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 前端业务/营销活动/卡卷系统/CardVoucherBusiness: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ trunks=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness' ']'
+ '[' -z $'\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170720
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707201734
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170720-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707201734-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170720-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
++ awk -F / '{print $7}'
+ br=$'20170720-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250'
+ access=$'20170720-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness' $'https://192.168.0.220/svn/tech/Branch/20170720-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.6137
+ echo $'https://192.168.0.220/svn/tech/Branch/20170720-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/营销活动/卡卷系统/CardVoucherBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170720-优惠券领取活动/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness'\'',now(),'\''yuepeng'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/营销活动/卡卷系统/CardVoucherBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170720-优惠券领取活动/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness'\'',now(),'\''yuepeng'\'');'
+ cat /tmp/cmdb.db.6137
+ rm -f /tmp/cmdb.db.6137
+ check-acces
+ grep -c '20170720-优惠券领取活动]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ cat
+ test -z yuepeng=rw
+ cat
+ read num
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ cat
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (15.7ms)
Completed 200 OK in 10247ms (Views: 381.9ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-20 17:44:19 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (52.9ms)
Completed 200 OK in 3161ms (Views: 3140.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-20 17:44:33 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/jubaohui_29", "task"=>"http://192.168.0.221/zentao/task-view-42046.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"SIDdFykmeXaMR8pVV0bTqQ3N4G1Rpf5Zw/v7uo32KnVg9V01PsP+DaV48uSH9Kvpo1T1QFkYtQ/zqsq/LSx+Wg=="}
pid is 6503
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42046.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_29' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42046.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/jubaohui_29'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42046.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/jubaohui_29'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42046.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_29' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42046.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_29'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_29'
/home/qishanqing/myscript/sh/svn-merged.sh: line 105: https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/jubaohui_29: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_29'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_29'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_29'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_29'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_29'
+ rm -f /home/qishanqing/tmp/merged/output.6503
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_29'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_29'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_29'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_29'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/jubaohui_29'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep -C 3 $'Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_29'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ revision='r128922 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_29'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r129737 '
+ '[' '!' -z r128922 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_29@r128922' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_29' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_29@r128922' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_29'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42046.html
Merged revision(s) r128922 -r129737   from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/jubaohui_29' --username qishanqing --password q372232
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (15.1ms)
Completed 200 OK in 41197ms (Views: 72.7ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-20 17:45:17 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (15.0ms)
Completed 200 OK in 253ms (Views: 58.3ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-20 17:46:56 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39 \r\nhttps://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway \r\nhttps://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite \r\nhttps://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1 \r\nhttps://192.168.0.220/svn/tech/Branch/20170720-类目排序/Develop/分期商城/分期商城3.0/MallBusiness", "task"=>"", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"33VB8X4Sycp+fJi/8wdGspQm3JiiwKlMH42xZr76sFb3AMHTafdOsVdDoA4jtT7yOr/Jtap94hov3IBjHiDkeQ=="}
pid is 6562
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k '' -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39 
https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway 
https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite 
https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1 
https://192.168.0.220/svn/tech/Branch/20170720-类目排序/Develop/分期商城/分期商城3.0/MallBusiness' -T add
+ TEMP=' -k '\'''\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39 
https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway 
https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite 
https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1 
https://192.168.0.220/svn/tech/Branch/20170720-类目排序/Develop/分期商城/分期商城3.0/MallBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\'''\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39 
https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway 
https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite 
https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1 
https://192.168.0.220/svn/tech/Branch/20170720-类目排序/Develop/分期商城/分期商城3.0/MallBusiness'\'' -T '\''add'\'' --'
++ set -- -k '' -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39 
https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway 
https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite 
https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1 
https://192.168.0.220/svn/tech/Branch/20170720-类目排序/Develop/分期商城/分期商城3.0/MallBusiness' -T add --
+ true
+ case "$1" in
+ task=
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39 
https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway 
https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite 
https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1 
https://192.168.0.220/svn/tech/Branch/20170720-类目排序/Develop/分期商城/分期商城3.0/MallBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39' $'\r' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway' $'\r' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' $'\r' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1' $'\r' $'https://192.168.0.220/svn/tech/Branch/20170720-\347\261\273\347\233\256\346\216\222\345\272\217/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 105: https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
++ for y in '$branch'
++ echo $'\r'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
++ for y in '$branch'
++ echo $'\r'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ for y in '$branch'
++ echo $'\r'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
++ for y in '$branch'
++ echo $'\r'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170720-\347\261\273\347\233\256\346\216\222\345\272\217/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39

https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway

https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite

https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1

https://192.168.0.220/svn/tech/Branch/20170720-类目排序/Develop/分期商城/分期商城3.0/MallBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ rm -f /home/qishanqing/tmp/merged/output.6562
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ die '外部业务/P2P/Business/basefundprovider/aibendi_39  project code no found'
+ echo '外部业务/P2P/Business/basefundprovider/aibendi_39  project code no found'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.6562
+ rm -f /home/qishanqing/tmp/merged/output.6562
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'\r'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'\r'
+ svn log -l 1 $'\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ test -e /home/qishanqing/tmp/merged/output.6562
+ echo
+ cat /home/qishanqing/tmp/merged/output.6562
+ rm -f /home/qishanqing/tmp/merged/output.6562
+ rm -f /home/qishanqing/tmp/merged/output.6562
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\r'
+ die '  project code no found'
+ echo '  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.6562
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.6562
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ rm -f /home/qishanqing/tmp/merged/output.6562
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ die '外部业务/P2P/Business/basefundprovider/aibendi_gateway  project code no found'
+ echo '外部业务/P2P/Business/basefundprovider/aibendi_gateway  project code no found'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.6562
+ rm -f /home/qishanqing/tmp/merged/output.6562
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'\r'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'\r'
+ svn log -l 1 $'\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ test -e /home/qishanqing/tmp/merged/output.6562
+ echo
+ cat /home/qishanqing/tmp/merged/output.6562
+ rm -f /home/qishanqing/tmp/merged/output.6562
+ rm -f /home/qishanqing/tmp/merged/output.6562
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\r'
+ die '  project code no found'
+ mails-cm -i 'svn merged faild'
+ echo '  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.6562
+ rm -f /home/qishanqing/tmp/merged/output.6562
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ rm -f /home/qishanqing/tmp/merged/output.6562
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite'
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ head -n 4
++ grep '^r'
++ svn log
++ awk -F '|' '{print$1}'
++ grep -C 3 $'Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ revision='r128569 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r129694 '
+ '[' '!' -z r128569 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r128569' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r128569' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn ci --username builder --password ant@ -m '
Merged revision(s) r128569 -r129694   from Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite' --username qishanqing --password q372232
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'\r'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'\r'
+ svn log -l 1 $'\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.6562
+ echo
+ cat /home/qishanqing/tmp/merged/output.6562
+ rm -f /home/qishanqing/tmp/merged/output.6562
+ rm -f /home/qishanqing/tmp/merged/output.6562
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\r'
+ die '  project code no found'
+ echo '  project code no found'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.6562
+ rm -f /home/qishanqing/tmp/merged/output.6562
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ rm -f /home/qishanqing/tmp/merged/output.6562
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ svn_from_tb_merged
+ mails-cm -i 'code merged from Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1'
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ head -n 4
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
++ awk -F '|' '{print$1}'
+ revision='r128571 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r129695 '
+ '[' '!' -z r128571 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1@r128571' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1@r128571' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ svn ci --username builder --password ant@ -m '
Merged revision(s) r128571 -r129695   from Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1' --username qishanqing --password q372232
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'\r'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'\r'
+ svn log -l 1 $'\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ test -e /home/qishanqing/tmp/merged/output.6562
+ echo
+ cat /home/qishanqing/tmp/merged/output.6562
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.6562
+ rm -f /home/qishanqing/tmp/merged/output.6562
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\r'
+ die '  project code no found'
+ echo '  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.6562
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.6562
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170720-\347\261\273\347\233\256\346\216\222\345\272\217/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170720-\347\261\273\347\233\256\346\216\222\345\272\217/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.6562
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170720-\347\261\273\347\233\256\346\216\222\345\272\217/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170720-类目排序/Develop/分期商城/分期商城3.0/MallBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170720-\347\261\273\347\233\256\346\216\222\345\272\217/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170720-\347\261\273\347\233\256\346\216\222\345\272\217/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r129799 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170720-\347\261\273\347\233\256\346\216\222\345\272\217/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r129724 '
+ '[' '!' -z r129724 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170720-\347\261\273\347\233\256\346\216\222\345\272\217/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness@r129724' $'https://192.168.0.220/svn/tech/Branch/20170720-\347\261\273\347\233\256\346\216\222\345\272\217/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170720-\347\261\273\347\233\256\346\216\222\345\272\217/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness@r129724' $'https://192.168.0.220/svn/tech/Branch/20170720-\347\261\273\347\233\256\346\216\222\345\272\217/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ svn ci --username builder --password ant@ -m '
Merged revision(s) r129724 -r129799   from Branch/20170720-类目排序/Develop/分期商城/分期商城3.0/MallBusiness' --username qishanqing --password q372232
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (3.5ms)
Completed 200 OK in 219552ms (Views: 176.7ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-20 17:54:01 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (15.1ms)
Completed 200 OK in 114ms (Views: 111.1ms)


Started POST "/start" for 192.168.5.26 at 2017-07-20 17:54:08 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"fef", "branch"=>"20170720-类目排序", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"HzTEtUVaVNnZGb6aQV9SZC8aXNp8kbTbWJAKTEo4CKs3QUSXUr/TovAmhiuR7SokgYNJ93Qs/41owTtJ6uJchA=="}
pid is 7001
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t fef -e qishanqing@dafy.com -E '' -b $'20170720-\347\261\273\347\233\256\346\216\222\345\272\217' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''fef'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170720-类目排序'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''fef'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170720-类目排序'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t fef -e qishanqing@dafy.com -E '' -b $'20170720-\347\261\273\347\233\256\346\216\222\345\272\217' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=fef
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170720-\347\261\273\347\233\256\346\216\222\345\272\217'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ fef
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: fef: command not found
++ for y in '$trunk'
++ echo fef
+ trunks=fef
+ test del = add
+ delbranch
+ '[' -z $'20170720-\347\261\273\347\233\256\346\216\222\345\272\217' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170720
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707201754
+ move_dir=Closed/--close+
+ Trunk_name=https://192.168.0.220/svn/tech/Trunk/fef
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170720-20170720-\347\261\273\347\233\256\346\216\222\345\272\217/Develop/fef'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170720-\347\261\273\347\233\256\346\216\222\345\272\217'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707201754-20170720-\347\261\273\347\233\256\346\216\222\345\272\217'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170720-20170720-\347\261\273\347\233\256\346\216\222\345\272\217/Develop/fef'
++ awk -F / '{print $7}'
+ br=$'20170720-20170720-\347\261\273\347\233\256\346\216\222\345\272\217'
+ access=$'20170720-20170720-\347\261\273\347\233\256\346\216\222\345\272\217'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170720-\347\261\273\347\233\256\346\216\222\345\272\217' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707201754-20170720-\347\261\273\347\233\256\346\216\222\345\272\217' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.7001
+ echo $'https://192.168.0.220/svn/tech/Branch/20170720-\347\261\273\347\233\256\346\216\222\345\272\217'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170720-类目排序%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170720-类目排序%'\'';'
+ cat /tmp/cmdb.db.7001
+ rm -f /tmp/cmdb.db.7001
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (23.4ms)
Completed 200 OK in 2202ms (Views: 98.0ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-20 17:54:10 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 100ms (Views: 97.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-20 17:58:40 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39 \r\nhttps://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway", "task"=>"http://192.168.0.221/zentao/task-view-42047.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"+OKLskVKZpHOyM8SvPOFV0E0N8lc76H5/UHrH3HV2N/QlwuQUq/h6uf396NsQf0X760i5FRS6q/NENoa0Q+M8A=="}
pid is 7171
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42047.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39 
https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42047.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39 
https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42047.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39 
https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42047.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39 
https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42047.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39 
https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39' $'\r' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
/home/qishanqing/myscript/sh/svn-merged.sh: line 105: https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
++ for y in '$branch'
++ echo $'\r'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39

https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ rm -f /home/qishanqing/tmp/merged/output.7171
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39'
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ awk -F '|' '{print$1}'
++ grep -C 3 $'Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ revision='r129650 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r129764 '
+ '[' '!' -z r129650 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39@r129650' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39@r129650' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42047.html
Merged revision(s) r129650 -r129764   from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39' --username qishanqing --password q372232
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'\r'
+ trunk=$'\r'
+ svn log -l 1 $'\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ test -e /home/qishanqing/tmp/merged/output.7171
+ echo
+ cat /home/qishanqing/tmp/merged/output.7171
+ rm -f /home/qishanqing/tmp/merged/output.7171
+ rm -f /home/qishanqing/tmp/merged/output.7171
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\r'
+ die '  project code no found'
+ echo '  project code no found'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.7171
+ rm -f /home/qishanqing/tmp/merged/output.7171
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ rm -f /home/qishanqing/tmp/merged/output.7171
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway'
+ grep '^?'
+ svn st
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r129651 '
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ head='r129783 '
+ '[' '!' -z r129651 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway@r129651' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway@r129651' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42047.html
Merged revision(s) r129651 -r129783   from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway' --username qishanqing --password q372232
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 50971ms (Views: 58.3ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-20 18:01:05 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 242ms (Views: 240.2ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-20 18:01:50 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (57.1ms)
Completed 200 OK in 5658ms (Views: 5655.5ms)


Started GET "/start" for 192.168.5.26 at 2017-07-20 18:15:05 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  
ActionController::RoutingError (No route matches [GET] "/start"):
  
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/builder" for 192.168.5.26 at 2017-07-20 18:15:06 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.6ms)
Completed 200 OK in 1168ms (Views: 1105.0ms)


Started GET "/" for 192.168.5.26 at 2017-07-20 18:15:10 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (67.3ms)
Completed 200 OK in 229ms (Views: 226.7ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-21 09:58:18 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170717-p2p参数管理/Develop/外部业务/P2P/BossBusiness https://192.168.0.220/svn/tech/Branch/20170717-p2p参数管理/Develop/外部业务/P2P/P2PManager", "task"=>"http://192.168.0.221/zentao/task-view-42037.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"PcwII1CRSqPB18u7hxuqGnQw0lc2QHKNuIsQ4Bl6T88VuYgBR3TN2Ojo8wpXqdJa2qnHej79OduI2iHluaAb4A=="}
pid is 20387
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42037.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170717-p2p参数管理/Develop/外部业务/P2P/BossBusiness https://192.168.0.220/svn/tech/Branch/20170717-p2p参数管理/Develop/外部业务/P2P/P2PManager' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42037.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170717-p2p参数管理/Develop/外部业务/P2P/BossBusiness https://192.168.0.220/svn/tech/Branch/20170717-p2p参数管理/Develop/外部业务/P2P/P2PManager'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42037.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170717-p2p参数管理/Develop/外部业务/P2P/BossBusiness https://192.168.0.220/svn/tech/Branch/20170717-p2p参数管理/Develop/外部业务/P2P/P2PManager'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42037.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170717-p2p参数管理/Develop/外部业务/P2P/BossBusiness https://192.168.0.220/svn/tech/Branch/20170717-p2p参数管理/Develop/外部业务/P2P/P2PManager' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42037.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170717-p2p参数管理/Develop/外部业务/P2P/BossBusiness https://192.168.0.220/svn/tech/Branch/20170717-p2p参数管理/Develop/外部业务/P2P/P2PManager'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness' $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
/home/qishanqing/myscript/sh/svn-merged.sh: line 105: https://192.168.0.220/svn/tech/Branch/20170717-p2p参数管理/Develop/外部业务/P2P/BossBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170717-p2p参数管理/Develop/外部业务/P2P/BossBusiness
https://192.168.0.220/svn/tech/Branch/20170717-p2p参数管理/Develop/外部业务/P2P/P2PManager'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.20387
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness'
+ die '外部业务/P2P/BossBusiness  project code no found'
+ mails-cm -i 'svn merged faild'
+ echo '外部业务/P2P/BossBusiness  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.20387
+ rm -f /home/qishanqing/tmp/merged/output.20387
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ rm -f /home/qishanqing/tmp/merged/output.20387
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ mails-cm -i 'code merged from Branch/20170717-p2p参数管理/Develop/外部业务/P2P/P2PManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ awk -F '|' '{print$1}'
++ head -n 4
++ grep -C 3 $'Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ svn log
++ grep '^r'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r129834 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ tail -n 4
+ revision='r128751 '
+ '[' '!' -z r128751 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager@r128751' $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：1'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2321' ']'
+ die 'Svn merged conflicts the r128751 -r129834  from Branch/20170717-p2p参数管理/Develop/外部业务/P2P/P2PManager'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r128751 -r129834  from Branch/20170717-p2p参数管理/Develop/外部业务/P2P/P2PManager'
+ test -e /home/qishanqing/tmp/merged/output.20387
+ rm -f /home/qishanqing/tmp/merged/output.20387
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42037.html
Merged revision(s) r128751 -r129834   from Branch/20170717-p2p参数管理/Develop/外部业务/P2P/P2PManager' --username qishanqing --password q372232
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1558.9ms)
Completed 200 OK in 385831ms (Views: 5746.9ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-21 10:12:29 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (88.5ms)
Completed 200 OK in 307ms (Views: 285.5ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-21 10:12:46 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/网站/网站中心/WebSiteManager", "task"=>"http://192.168.0.221/zentao/task-view-42033.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"nSar5W7njVg8HtEKA+BXlVC3c5wt8Tel6UF+X6CI+f21UyvHeQIKIxUh6bvTUi/V/i5msSVMfPPZEE9aAFKt0g=="}
pid is 21161
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42033.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/网站/网站中心/WebSiteManager' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42033.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/网站/网站中心/WebSiteManager'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42033.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/网站/网站中心/WebSiteManager'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42033.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/网站/网站中心/WebSiteManager' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42033.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/网站/网站中心/WebSiteManager'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter' $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
/home/qishanqing/myscript/sh/svn-merged.sh: line 105: https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter
https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/网站/网站中心/WebSiteManager'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ rm -f /home/qishanqing/tmp/merged/output.21161
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ die '前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter  project code no found'
+ mails-cm -i 'svn merged faild'
+ echo '前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.21161
+ rm -f /home/qishanqing/tmp/merged/output.21161
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
+ rm -f /home/qishanqing/tmp/merged/output.21161
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
+ mails-cm -i 'code merged from Branch/20170511-升级服务新增热部署/Develop/前端业务/网站/网站中心/WebSiteManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r129933 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r113185 '
+ '[' '!' -z r113185 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager@r113185' $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：2'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2322' ']'
+ die 'Svn merged conflicts the r113185 -r129933  from Branch/20170511-升级服务新增热部署/Develop/前端业务/网站/网站中心/WebSiteManager'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r113185 -r129933  from Branch/20170511-升级服务新增热部署/Develop/前端业务/网站/网站中心/WebSiteManager'
+ test -e /home/qishanqing/tmp/merged/output.21161
+ rm -f /home/qishanqing/tmp/merged/output.21161
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42033.html
Merged revision(s) r113185 -r129933   from Branch/20170511-升级服务新增热部署/Develop/前端业务/网站/网站中心/WebSiteManager' --username qishanqing --password q372232
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 71836ms (Views: 304.4ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-21 10:14:28 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 56ms (Views: 54.2ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-21 10:27:09 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"https://192.168.0.220/svn/tech/Trunk/自如/客户端升级/客户端/Mobile/MobileUpgradeCenter", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter", "task"=>"http://192.168.0.221/zentao/task-view-42033.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"onikefMGbzogLQRCvs96CvDwduTqLCnHZKsS/f1cet6KDSRb5OPoQQkSPPNufQJKXmljyeKRYpFU+iP4XYYu8Q=="}
pid is 21519
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42033.html -R '' -t $'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42033.html'\'' -R '\'''\'' -t '\''https://192.168.0.220/svn/tech/Trunk/自如/客户端升级/客户端/Mobile/MobileUpgradeCenter'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42033.html'\'' -R '\'''\'' -t '\''https://192.168.0.220/svn/tech/Trunk/自如/客户端升级/客户端/Mobile/MobileUpgradeCenter'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42033.html -R '' -t $'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42033.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
/home/qishanqing/myscript/sh/svn-merged.sh: line 105: https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ unset trunk
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ rm -f /home/qishanqing/tmp/merged/output.21519
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ die '前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter  project code no found'
+ mails-cm -i 'svn merged faild'
+ echo '前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.21519
+ rm -f /home/qishanqing/tmp/merged/output.21519
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (52.6ms)
Completed 200 OK in 316ms (Views: 170.0ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-21 10:32:23 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.4ms)
Completed 200 OK in 80ms (Views: 76.8ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-21 10:32:49 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"https://192.168.0.220/svn/tech/Trunk/自如/客户端升级/客户端/Mobile/MobileUpgradeCenter", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter", "task"=>"http://192.168.0.221/zentao/task-view-42033.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"zJ0l68nTKuolqE8jm/P5s2Mxe/6f1jrxQk+QY0CCFSnk6KXJ3jatkQyXd5JLQYHzzahu05drcadyHqFm4FhBBg=="}
pid is 21649
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42033.html -R '' -t $'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42033.html'\'' -R '\'''\'' -t '\''https://192.168.0.220/svn/tech/Trunk/自如/客户端升级/客户端/Mobile/MobileUpgradeCenter'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42033.html'\'' -R '\'''\'' -t '\''https://192.168.0.220/svn/tech/Trunk/自如/客户端升级/客户端/Mobile/MobileUpgradeCenter'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42033.html -R '' -t $'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42033.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170511-升级服务新增热部署/Develop/前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z $'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ rm -f /home/qishanqing/tmp/merged/output.21649
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ svn_from_tb_merged
+ mails-cm -i 'code merged from Branch/20170511-升级服务新增热部署/Develop/前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter'
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ svn st
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ awk -F '|' '{print$1}'
++ head -n 4
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ revision=
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
++ awk -F '|' '{print$1}'
+ head='r129934 '
+ '[' '!' -z ']'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
++ grep '^r'
+ revision='r113186 '
+ '[' '!' -z r113186 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter@r113186' $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：3'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2323' ']'
+ die 'Svn merged conflicts the r113186 -r129934  from Branch/20170511-升级服务新增热部署/Develop/前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r113186 -r129934  from Branch/20170511-升级服务新增热部署/Develop/前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter'
+ test -e /home/qishanqing/tmp/merged/output.21649
+ rm -f /home/qishanqing/tmp/merged/output.21649
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42033.html
Merged revision(s) r113186 -r129934   from Branch/20170511-升级服务新增热部署/Develop/前端业务/客户端升级/客户端/Mobile/MobileUpgradeCenter' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 23077ms (Views: 61.3ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-21 11:09:22 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.3ms)
Completed 200 OK in 79ms (Views: 75.1ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-21 11:09:56 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BossBusiness", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170717-p2p参数管理/Develop/外部业务/P2P/BossBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42037.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"1c1g3bW3pjeMq7sNoLWh1iwk4bWrJngCpUNO8wbtEOv9uOD/olIhTKWUg7xwB9mWgr30mKObM1SVEn/2pjdExA=="}
pid is 22786
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42037.html -R '' -t $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42037.html'\'' -R '\'''\'' -t '\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BossBusiness'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170717-p2p参数管理/Develop/外部业务/P2P/BossBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42037.html'\'' -R '\'''\'' -t '\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BossBusiness'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170717-p2p参数管理/Develop/外部业务/P2P/BossBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42037.html -R '' -t $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42037.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170717-p2p参数管理/Develop/外部业务/P2P/BossBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.22786
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170717-p2p参数管理/Develop/外部业务/P2P/BossBusiness'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ awk -F '|' '{print$1}'
++ head -n 4
++ grep -C 3 $'Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness'
+ revision=
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness'
+ head='r129723 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r129289 '
+ '[' '!' -z r129289 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness@r129289' $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness@r129289' $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/BossBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42037.html
Merged revision(s) r129289 -r129723   from Branch/20170717-p2p参数管理/Develop/外部业务/P2P/BossBusiness' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (12.8ms)
Completed 200 OK in 14957ms (Views: 51.4ms)


Started POST "/start" for 192.168.5.26 at 2017-07-21 11:17:03 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"fef", "branch"=>"20170717-p2p参数管理", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"+f18KNn3Yl3AS4Fk6ewQ+/ycVXNMzPJa5UttJ6xhe/PRiPwKzhLlJul0udU5Xmi7UgVAXkRxuQzVGlwiDLsv3A=="}
pid is 23428
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t fef -e qishanqing@dafy.com -E '' -b $'20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''fef'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170717-p2p参数管理'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''fef'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170717-p2p参数管理'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t fef -e qishanqing@dafy.com -E '' -b $'20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=fef
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ fef
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: fef: command not found
++ for y in '$trunk'
++ echo fef
+ trunks=fef
+ test del = add
+ delbranch
+ '[' -z $'20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170721
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707211117
+ move_dir=Closed/--close+
+ Trunk_name=https://192.168.0.220/svn/tech/Trunk/fef
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170721-20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/fef'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707211117-20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170721-20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206/Develop/fef'
++ awk -F / '{print $7}'
+ br=$'20170721-20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206'
+ access=$'20170721-20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707211117-20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.23428
+ echo $'https://192.168.0.220/svn/tech/Branch/20170717-p2p\345\217\202\346\225\260\347\256\241\347\220\206'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170717-p2p参数管理%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170717-p2p参数管理%'\'';'
+ cat /tmp/cmdb.db.23428
+ rm -f /tmp/cmdb.db.23428
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 2200ms (Views: 78.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-21 11:17:58 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (19.4ms)
Completed 200 OK in 190ms (Views: 170.4ms)


Started POST "/start" for 192.168.5.26 at 2017-07-21 11:18:36 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"wenshiyu@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/RepaymentBusiness2", "branch"=>"达分期转分期", "user"=>"wenshiyu weishaolong wanghongkai", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"jMv28LbDXleXaaI/XW+JfbCmXwahXQnVTFaKt9Qyv7akvnbSoSbZLL5Wmo6N3fE9Hj9KK6ngQoN8B7uydOjrmQ=="}
pid is 23533
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'wenshiyu weishaolong wanghongkai' -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' -e wenshiyu@dafy.com -E '' -b $'\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237' -T add -d ''
+ TEMP=' -u '\''wenshiyu weishaolong wanghongkai'\'' -t '\''外部业务/P2P/Business/RepaymentBusiness2'\'' -e '\''wenshiyu@dafy.com'\'' -E '\'''\'' -b '\''达分期转分期'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''wenshiyu weishaolong wanghongkai'\'' -t '\''外部业务/P2P/Business/RepaymentBusiness2'\'' -e '\''wenshiyu@dafy.com'\'' -E '\'''\'' -b '\''达分期转分期'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'wenshiyu weishaolong wanghongkai' -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' -e wenshiyu@dafy.com -E '' -b $'\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237' -T add -d '' --
+ true
+ case "$1" in
+ user='wenshiyu weishaolong wanghongkai'
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ shift 2
+ true
+ case "$1" in
+ email=wenshiyu@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=wenshiyu@dafy.com '
+ SMARTCM_EXTRA_MAIL='wenshiyu@dafy.com '
++ wenshiyu weishaolong wanghongkai
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: wenshiyu: command not found
++ for x in '$user'
++ echo wenshiyu=rw
++ for x in '$user'
++ echo weishaolong=rw
++ for x in '$user'
++ echo wanghongkai=rw
+ users='wenshiyu=rw
weishaolong=rw
wanghongkai=rw'
++ $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 外部业务/P2P/Business/RepaymentBusiness2: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ trunks=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' ']'
+ '[' -z $'\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170721
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707211118
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170721-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707211118-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
++ awk -F / '{print $7}'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170721-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ br=$'20170721-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ access=$'20170721-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' $'https://192.168.0.220/svn/tech/Branch/20170721-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.23533
+ echo $'https://192.168.0.220/svn/tech/Branch/20170721-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/RepaymentBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170721-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness2'\'',now(),'\''wenshiyu'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/RepaymentBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170721-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness2'\'',now(),'\''wenshiyu'\'');'
+ cat /tmp/cmdb.db.23533
+ rm -f /tmp/cmdb.db.23533
+ check-acces
+ grep -c '20170721-达分期转分期]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ cat
+ test -z 'wenshiyu=rw
weishaolong=rw
wanghongkai=rw'
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (32.5ms)
Completed 200 OK in 5107ms (Views: 99.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-21 11:30:33 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 229ms (Views: 225.8ms)


Started POST "/start" for 192.168.5.26 at 2017-07-21 11:31:05 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"lishuwei@dafy.com", "types"=>"add", "trunk"=>"分期商城/分期商城3.0/MallMananger", "branch"=>"提现功能流水修改", "user"=>"lishuwei", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"YwbYuwPGVOqL4kJi8AN5MNFlPgqNFIVPX1slEDuUPGBLc1iZFCPTkaLdetMgsQFwf/wrJ4WpzhlvChQVm05oTw=="}
pid is 23875
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u lishuwei -t $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallMananger' -e lishuwei@dafy.com -E '' -b $'\346\217\220\347\216\260\345\212\237\350\203\275\346\265\201\346\260\264\344\277\256\346\224\271' -T add -d ''
+ TEMP=' -u '\''lishuwei'\'' -t '\''分期商城/分期商城3.0/MallMananger'\'' -e '\''lishuwei@dafy.com'\'' -E '\'''\'' -b '\''提现功能流水修改'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''lishuwei'\'' -t '\''分期商城/分期商城3.0/MallMananger'\'' -e '\''lishuwei@dafy.com'\'' -E '\'''\'' -b '\''提现功能流水修改'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u lishuwei -t $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallMananger' -e lishuwei@dafy.com -E '' -b $'\346\217\220\347\216\260\345\212\237\350\203\275\346\265\201\346\260\264\344\277\256\346\224\271' -T add -d '' --
+ true
+ case "$1" in
+ user=lishuwei
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallMananger'
+ shift 2
+ true
+ case "$1" in
+ email=lishuwei@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\346\217\220\347\216\260\345\212\237\350\203\275\346\265\201\346\260\264\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=lishuwei@dafy.com '
+ SMARTCM_EXTRA_MAIL='lishuwei@dafy.com '
++ lishuwei
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: lishuwei: command not found
++ for x in '$user'
++ echo lishuwei=rw
+ users=lishuwei=rw
++ $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallMananger'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 分期商城/分期商城3.0/MallMananger: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallMananger'
+ trunks=$'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallMananger'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallMananger' ']'
+ '[' -z $'\346\217\220\347\216\260\345\212\237\350\203\275\346\265\201\346\260\264\344\277\256\346\224\271' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170721
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707211131
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallMananger'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170721-\346\217\220\347\216\260\345\212\237\350\203\275\346\265\201\346\260\264\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallMananger'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\346\217\220\347\216\260\345\212\237\350\203\275\346\265\201\346\260\264\344\277\256\346\224\271'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707211131-\346\217\220\347\216\260\345\212\237\350\203\275\346\265\201\346\260\264\344\277\256\346\224\271'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170721-\346\217\220\347\216\260\345\212\237\350\203\275\346\265\201\346\260\264\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallMananger'
++ awk -F / '{print $7}'
+ br=$'20170721-\346\217\220\347\216\260\345\212\237\350\203\275\346\265\201\346\260\264\344\277\256\346\224\271'
+ access=$'20170721-\346\217\220\347\216\260\345\212\237\350\203\275\346\265\201\346\260\264\344\277\256\346\224\271'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallMananger' $'https://192.168.0.220/svn/tech/Branch/20170721-\346\217\220\347\216\260\345\212\237\350\203\275\346\265\201\346\260\264\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallMananger' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ die 'Svn branch create the reasons for failure are as follows'
+ echo 'Svn branch create the reasons for failure are as follows'
+ test -e /home/qishanqing/tmp/output.23875
+ echo
+ cat /home/qishanqing/tmp/output.23875
+ mails-cm -i 'svn branch create failed'
+ rm -rf /home/qishanqing/tmp/output.23875
+ kill 23875
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (70.0ms)
Completed 200 OK in 6167ms (Views: 131.7ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-21 11:31:46 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (32.0ms)
Completed 200 OK in 102ms (Views: 97.6ms)


Started POST "/start" for 192.168.5.26 at 2017-07-21 11:34:42 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"lishuwei@dafy.com", "types"=>"add", "trunk"=>"分期商城/分期商城3.0/MallManager", "branch"=>"提现功能流水修改", "user"=>"lishuwei", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"eylNY6hPjoKh49J6WOF0iXvIHQ/R+fuLkx3Os70erOZTXM1Bv6oJ+Yjc6suIUwzJ1VEIItlEsN2jTP+2HcT4yQ=="}
pid is 23931
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u lishuwei -t $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' -e lishuwei@dafy.com -E '' -b $'\346\217\220\347\216\260\345\212\237\350\203\275\346\265\201\346\260\264\344\277\256\346\224\271' -T add -d ''
+ TEMP=' -u '\''lishuwei'\'' -t '\''分期商城/分期商城3.0/MallManager'\'' -e '\''lishuwei@dafy.com'\'' -E '\'''\'' -b '\''提现功能流水修改'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''lishuwei'\'' -t '\''分期商城/分期商城3.0/MallManager'\'' -e '\''lishuwei@dafy.com'\'' -E '\'''\'' -b '\''提现功能流水修改'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u lishuwei -t $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' -e lishuwei@dafy.com -E '' -b $'\346\217\220\347\216\260\345\212\237\350\203\275\346\265\201\346\260\264\344\277\256\346\224\271' -T add -d '' --
+ true
+ case "$1" in
+ user=lishuwei
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ shift 2
+ true
+ case "$1" in
+ email=lishuwei@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\346\217\220\347\216\260\345\212\237\350\203\275\346\265\201\346\260\264\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=lishuwei@dafy.com '
+ SMARTCM_EXTRA_MAIL='lishuwei@dafy.com '
++ lishuwei
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: lishuwei: command not found
++ for x in '$user'
++ echo lishuwei=rw
+ users=lishuwei=rw
++ $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 分期商城/分期商城3.0/MallManager: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ trunks=$'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' ']'
+ '[' -z $'\346\217\220\347\216\260\345\212\237\350\203\275\346\265\201\346\260\264\344\277\256\346\224\271' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170721
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707211134
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170721-\346\217\220\347\216\260\345\212\237\350\203\275\346\265\201\346\260\264\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\346\217\220\347\216\260\345\212\237\350\203\275\346\265\201\346\260\264\344\277\256\346\224\271'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707211134-\346\217\220\347\216\260\345\212\237\350\203\275\346\265\201\346\260\264\344\277\256\346\224\271'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170721-\346\217\220\347\216\260\345\212\237\350\203\275\346\265\201\346\260\264\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F / '{print $7}'
+ br=$'20170721-\346\217\220\347\216\260\345\212\237\350\203\275\346\265\201\346\260\264\344\277\256\346\224\271'
+ access=$'20170721-\346\217\220\347\216\260\345\212\237\350\203\275\346\265\201\346\260\264\344\277\256\346\224\271'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' $'https://192.168.0.220/svn/tech/Branch/20170721-\346\217\220\347\216\260\345\212\237\350\203\275\346\265\201\346\260\264\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.23931
+ echo $'https://192.168.0.220/svn/tech/Branch/20170721-\346\217\220\347\216\260\345\212\237\350\203\275\346\265\201\346\260\264\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallManager'\'', '\''https://192.168.0.220/svn/tech/Branch/20170721-提现功能流水修改/Develop/分期商城/分期商城3.0/MallManager'\'',now(),'\''lishuwei'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallManager'\'', '\''https://192.168.0.220/svn/tech/Branch/20170721-提现功能流水修改/Develop/分期商城/分期商城3.0/MallManager'\'',now(),'\''lishuwei'\'');'
+ cat /tmp/cmdb.db.23931
+ rm -f /tmp/cmdb.db.23931
+ check-acces
+ grep -c '20170721-提现功能流水修改]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z lishuwei=rw
+ cat
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (16.1ms)
Completed 200 OK in 15562ms (Views: 72.7ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-21 11:52:47 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (66.5ms)
Completed 200 OK in 151ms (Views: 148.4ms)


Started POST "/start" for 192.168.5.26 at 2017-07-21 11:52:54 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"dew", "branch"=>"20170511-升级服务新增热部署", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"d3NBHxK6mqnvyw488p+1vBIrz5lO4Bqt/wGLczcjTVFfBsE9BV8d0sb0No0iLc38vLLatEZdUfvPULp2l/kZfg=="}
pid is 24263
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t dew -e qishanqing@dafy.com -E '' -b $'20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''dew'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170511-升级服务新增热部署'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''dew'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170511-升级服务新增热部署'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t dew -e qishanqing@dafy.com -E '' -b $'20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=dew
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ dew
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: dew: command not found
++ for y in '$trunk'
++ echo dew
+ trunks=dew
+ test del = add
+ delbranch
+ '[' -z $'20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170721
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707211152
+ move_dir=Closed/--close+
+ Trunk_name=https://192.168.0.220/svn/tech/Trunk/dew
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170721-20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/dew'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707211152-20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170721-20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262/Develop/dew'
++ awk -F / '{print $7}'
+ br=$'20170721-20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262'
+ access=$'20170721-20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707211152-20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.24263
+ echo $'https://192.168.0.220/svn/tech/Branch/20170511-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\347\203\255\351\203\250\347\275\262'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170511-升级服务新增热部署%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170511-升级服务新增热部署%'\'';'
+ cat /tmp/cmdb.db.24263
+ rm -f /tmp/cmdb.db.24263
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (33.6ms)
Completed 200 OK in 765ms (Views: 75.2ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-21 13:50:48 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (13.7ms)
Completed 200 OK in 361ms (Views: 357.4ms)


Started POST "/start" for 192.168.5.26 at 2017-07-21 13:51:45 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"luxuewei@dafy.com", "types"=>"add", "trunk"=>"催收/服务/SupCCCenter", "branch"=>"考拉理财存管_催收", "user"=>"luxuewei", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"g1gkWXmPkObe8lwdxpu4wEMUrZ6+LP/E9apjvIHLmPurLaR7bmoXnffNZKwWKcCA7Y24s7aRtJLF+1K5IRHM1A=="}
pid is 26321
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u luxuewei -t $'\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCCenter' -e luxuewei@dafy.com -E '' -b $'\350\200\203\346\213\211\347\220\206\350\264\242\345\255\230\347\256\241_\345\202\254\346\224\266' -T add -d ''
+ TEMP=' -u '\''luxuewei'\'' -t '\''催收/服务/SupCCCenter'\'' -e '\''luxuewei@dafy.com'\'' -E '\'''\'' -b '\''考拉理财存管_催收'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''luxuewei'\'' -t '\''催收/服务/SupCCCenter'\'' -e '\''luxuewei@dafy.com'\'' -E '\'''\'' -b '\''考拉理财存管_催收'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u luxuewei -t $'\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCCenter' -e luxuewei@dafy.com -E '' -b $'\350\200\203\346\213\211\347\220\206\350\264\242\345\255\230\347\256\241_\345\202\254\346\224\266' -T add -d '' --
+ true
+ case "$1" in
+ user=luxuewei
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCCenter'
+ shift 2
+ true
+ case "$1" in
+ email=luxuewei@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\350\200\203\346\213\211\347\220\206\350\264\242\345\255\230\347\256\241_\345\202\254\346\224\266'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=luxuewei@dafy.com '
+ SMARTCM_EXTRA_MAIL='luxuewei@dafy.com '
++ luxuewei
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: luxuewei: command not found
++ for x in '$user'
++ echo luxuewei=rw
+ users=luxuewei=rw
++ $'\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCCenter'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 催收/服务/SupCCCenter: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCCenter'
+ trunks=$'\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCCenter'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCCenter' ']'
+ '[' -z $'\350\200\203\346\213\211\347\220\206\350\264\242\345\255\230\347\256\241_\345\202\254\346\224\266' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170721
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707211351
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCCenter'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170721-\350\200\203\346\213\211\347\220\206\350\264\242\345\255\230\347\256\241_\345\202\254\346\224\266/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCCenter'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\350\200\203\346\213\211\347\220\206\350\264\242\345\255\230\347\256\241_\345\202\254\346\224\266'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707211351-\350\200\203\346\213\211\347\220\206\350\264\242\345\255\230\347\256\241_\345\202\254\346\224\266'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170721-\350\200\203\346\213\211\347\220\206\350\264\242\345\255\230\347\256\241_\345\202\254\346\224\266/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCCenter'
++ awk -F / '{print $7}'
+ br=$'20170721-\350\200\203\346\213\211\347\220\206\350\264\242\345\255\230\347\256\241_\345\202\254\346\224\266'
+ access=$'20170721-\350\200\203\346\213\211\347\220\206\350\264\242\345\255\230\347\256\241_\345\202\254\346\224\266'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCCenter' $'https://192.168.0.220/svn/tech/Branch/20170721-\350\200\203\346\213\211\347\220\206\350\264\242\345\255\230\347\256\241_\345\202\254\346\224\266/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCCenter' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.26321
+ echo $'https://192.168.0.220/svn/tech/Branch/20170721-\350\200\203\346\213\211\347\220\206\350\264\242\345\255\230\347\256\241_\345\202\254\346\224\266/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCCenter'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/催收/服务/SupCCCenter'\'', '\''https://192.168.0.220/svn/tech/Branch/20170721-考拉理财存管_催收/Develop/催收/服务/SupCCCenter'\'',now(),'\''luxuewei'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/催收/服务/SupCCCenter'\'', '\''https://192.168.0.220/svn/tech/Branch/20170721-考拉理财存管_催收/Develop/催收/服务/SupCCCenter'\'',now(),'\''luxuewei'\'');'
+ cat /tmp/cmdb.db.26321
+ rm -f /tmp/cmdb.db.26321
+ check-acces
+ grep -c '20170721-考拉理财存管_催收]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z luxuewei=rw
+ cat
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (18.0ms)
Completed 200 OK in 6730ms (Views: 83.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-21 15:22:15 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (82.0ms)
Completed 200 OK in 407ms (Views: 337.4ms)


Started POST "/start" for 192.168.5.26 at 2017-07-21 15:22:22 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170718-发货管理优化", "branch"=>"20170718-发货管理优化", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"Y065cuTpjhb7fYPYz/ap9JdOmhcNaC8BmcVP655HEAJLOzlQ8wwJbdJCu2kfRNG0OdePOgXVZFeplH7uPp1ELQ=="}
pid is 27370
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170718-\345\217\221\350\264\247\347\256\241\347\220\206\344\274\230\345\214\226' -e qishanqing@dafy.com -E '' -b $'20170718-\345\217\221\350\264\247\347\256\241\347\220\206\344\274\230\345\214\226' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170718-发货管理优化'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170718-发货管理优化'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170718-发货管理优化'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170718-发货管理优化'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170718-\345\217\221\350\264\247\347\256\241\347\220\206\344\274\230\345\214\226' -e qishanqing@dafy.com -E '' -b $'20170718-\345\217\221\350\264\247\347\256\241\347\220\206\344\274\230\345\214\226' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170718-\345\217\221\350\264\247\347\256\241\347\220\206\344\274\230\345\214\226'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170718-\345\217\221\350\264\247\347\256\241\347\220\206\344\274\230\345\214\226'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170718-\345\217\221\350\264\247\347\256\241\347\220\206\344\274\230\345\214\226'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170718-发货管理优化: command not found
++ for y in '$trunk'
++ echo $'20170718-\345\217\221\350\264\247\347\256\241\347\220\206\344\274\230\345\214\226'
+ trunks=$'20170718-\345\217\221\350\264\247\347\256\241\347\220\206\344\274\230\345\214\226'
+ test del = add
+ delbranch
+ '[' -z $'20170718-\345\217\221\350\264\247\347\256\241\347\220\206\344\274\230\345\214\226' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170721
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707211522
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170718-\345\217\221\350\264\247\347\256\241\347\220\206\344\274\230\345\214\226'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170721-20170718-\345\217\221\350\264\247\347\256\241\347\220\206\344\274\230\345\214\226/Develop/20170718-\345\217\221\350\264\247\347\256\241\347\220\206\344\274\230\345\214\226'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170718-\345\217\221\350\264\247\347\256\241\347\220\206\344\274\230\345\214\226'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707211522-20170718-\345\217\221\350\264\247\347\256\241\347\220\206\344\274\230\345\214\226'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170721-20170718-\345\217\221\350\264\247\347\256\241\347\220\206\344\274\230\345\214\226/Develop/20170718-\345\217\221\350\264\247\347\256\241\347\220\206\344\274\230\345\214\226'
++ awk -F / '{print $7}'
+ br=$'20170721-20170718-\345\217\221\350\264\247\347\256\241\347\220\206\344\274\230\345\214\226'
+ access=$'20170721-20170718-\345\217\221\350\264\247\347\256\241\347\220\206\344\274\230\345\214\226'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170718-\345\217\221\350\264\247\347\256\241\347\220\206\344\274\230\345\214\226' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707211522-20170718-\345\217\221\350\264\247\347\256\241\347\220\206\344\274\230\345\214\226' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.27370
+ echo $'https://192.168.0.220/svn/tech/Branch/20170718-\345\217\221\350\264\247\347\256\241\347\220\206\344\274\230\345\214\226'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170718-发货管理优化%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170718-发货管理优化%'\'';'
+ cat /tmp/cmdb.db.27370
+ rm -f /tmp/cmdb.db.27370
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (32.4ms)
Completed 200 OK in 1138ms (Views: 134.0ms)


Started GET "/" for 192.168.5.26 at 2017-07-21 16:38:47 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (6.2ms)
Completed 200 OK in 663ms (Views: 596.5ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-21 17:41:05 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (78.1ms)
Completed 200 OK in 156ms (Views: 152.4ms)


Started POST "/start" for 192.168.5.26 at 2017-07-21 17:41:36 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"jiajianjun@dafy.com", "types"=>"add", "trunk"=>"基础业务/账户中心/AccountGateway44", "branch"=>"石嘴山配置", "user"=>"jiajianjun", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"fDQneBiaT3GDpCg1tWXU0qOU5hbaroLG39pZtrUmX9tUQadaD3/ICqqbEIRl16ySDQ3zO9ITyZDvi2izFfwL9A=="}
pid is 29826
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u jiajianjun -t $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44' -e jiajianjun@dafy.com -E '' -b $'\347\237\263\345\230\264\345\261\261\351\205\215\347\275\256' -T add -d ''
+ TEMP=' -u '\''jiajianjun'\'' -t '\''基础业务/账户中心/AccountGateway44'\'' -e '\''jiajianjun@dafy.com'\'' -E '\'''\'' -b '\''石嘴山配置'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''jiajianjun'\'' -t '\''基础业务/账户中心/AccountGateway44'\'' -e '\''jiajianjun@dafy.com'\'' -E '\'''\'' -b '\''石嘴山配置'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u jiajianjun -t $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44' -e jiajianjun@dafy.com -E '' -b $'\347\237\263\345\230\264\345\261\261\351\205\215\347\275\256' -T add -d '' --
+ true
+ case "$1" in
+ user=jiajianjun
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44'
+ shift 2
+ true
+ case "$1" in
+ email=jiajianjun@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\347\237\263\345\230\264\345\261\261\351\205\215\347\275\256'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=jiajianjun@dafy.com '
+ SMARTCM_EXTRA_MAIL='jiajianjun@dafy.com '
++ jiajianjun
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: jiajianjun: command not found
++ for x in '$user'
++ echo jiajianjun=rw
+ users=jiajianjun=rw
++ $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 基础业务/账户中心/AccountGateway44: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44'
+ trunks=$'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44' ']'
+ '[' -z $'\347\237\263\345\230\264\345\261\261\351\205\215\347\275\256' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170721
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707211741
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170721-\347\237\263\345\230\264\345\261\261\351\205\215\347\275\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\347\237\263\345\230\264\345\261\261\351\205\215\347\275\256'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707211741-\347\237\263\345\230\264\345\261\261\351\205\215\347\275\256'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170721-\347\237\263\345\230\264\345\261\261\351\205\215\347\275\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44'
++ awk -F / '{print $7}'
+ br=$'20170721-\347\237\263\345\230\264\345\261\261\351\205\215\347\275\256'
+ access=$'20170721-\347\237\263\345\230\264\345\261\261\351\205\215\347\275\256'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44' $'https://192.168.0.220/svn/tech/Branch/20170721-\347\237\263\345\230\264\345\261\261\351\205\215\347\275\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.29826
+ echo $'https://192.168.0.220/svn/tech/Branch/20170721-\347\237\263\345\230\264\345\261\261\351\205\215\347\275\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/基础业务/账户中心/AccountGateway44'\'', '\''https://192.168.0.220/svn/tech/Branch/20170721-石嘴山配置/Develop/基础业务/账户中心/AccountGateway44'\'',now(),'\''jiajianjun'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/基础业务/账户中心/AccountGateway44'\'', '\''https://192.168.0.220/svn/tech/Branch/20170721-石嘴山配置/Develop/基础业务/账户中心/AccountGateway44'\'',now(),'\''jiajianjun'\'');'
+ cat /tmp/cmdb.db.29826
+ rm -f /tmp/cmdb.db.29826
+ check-acces
+ grep -c '20170721-石嘴山配置]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z jiajianjun=rw
+ cat
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 24014ms (Views: 231.2ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-24 09:47:23 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (539.6ms)
Completed 200 OK in 2156ms (Views: 1815.8ms)


Started POST "/start" for 192.168.5.26 at 2017-07-24 09:48:41 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"chenshuangxi@dafy.com", "types"=>"add", "trunk"=>"分期商城/分期商城3.0/MallBusiness", "branch"=>"商城资金方对接", "user"=>"", "extra_mails"=>"", "riqi"=>"20170704", "authenticity_token"=>"7sQ6DZpEuedBkkudFkJX9aLe4/iH2FbG/bkiphvdVaDGsbovjaE+nGitcyzG8C+1DEf21Y9lHZDN6BOjuwcBjw=="}
pid is 9397
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness' -e chenshuangxi@dafy.com -E '' -b $'\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271\345\257\271\346\216\245' -T add -d 20170704
+ TEMP=' -u '\'''\'' -t '\''分期商城/分期商城3.0/MallBusiness'\'' -e '\''chenshuangxi@dafy.com'\'' -E '\'''\'' -b '\''商城资金方对接'\'' -T '\''add'\'' -d '\''20170704'\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''分期商城/分期商城3.0/MallBusiness'\'' -e '\''chenshuangxi@dafy.com'\'' -E '\'''\'' -b '\''商城资金方对接'\'' -T '\''add'\'' -d '\''20170704'\'' --'
++ set -- -u '' -t $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness' -e chenshuangxi@dafy.com -E '' -b $'\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271\345\257\271\346\216\245' -T add -d 20170704 --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ shift 2
+ true
+ case "$1" in
+ email=chenshuangxi@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271\345\257\271\346\216\245'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=20170704
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=chenshuangxi@dafy.com '
+ SMARTCM_EXTRA_MAIL='chenshuangxi@dafy.com '
+ users=
++ $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 分期商城/分期商城3.0/MallBusiness: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ trunks=$'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness' ']'
+ '[' -z $'\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271\345\257\271\346\216\245' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170724
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707240948
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170704-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271\345\257\271\346\216\245'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707240948-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271\345\257\271\346\216\245'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170704-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
++ awk -F / '{print $7}'
+ br=$'20170704-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271\345\257\271\346\216\245'
+ access=$'20170704-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271\345\257\271\346\216\245'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness' $'https://192.168.0.220/svn/tech/Branch/20170704-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.9397
+ echo $'https://192.168.0.220/svn/tech/Branch/20170704-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170704-商城资金方对接/Develop/分期商城/分期商城3.0/MallBusiness'\'',now(),'\''chenshuangxi'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170704-商城资金方对接/Develop/分期商城/分期商城3.0/MallBusiness'\'',now(),'\''chenshuangxi'\'');'
+ cat /tmp/cmdb.db.9397
+ rm -f /tmp/cmdb.db.9397
+ check-acces
+ grep -c '20170704-商城资金方对接]' /mnt/svn/authz.conf
+ read num
+ '[' 1 -eq 0 ']'
++ sed '/20170704-商城资金方对接]/,/^[ \t]*$/!d;/20170704-商城资金方对接]/d;/^[ \t]*$/d' /mnt/svn/authz.conf
+ [[ zhangruiqiang=rw
chenhongan=rw
chenshuangxi=rw
@admin=rw
*= =~ '' ]]
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (69.1ms)
Completed 200 OK in 40859ms (Views: 248.7ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-24 10:18:42 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (94.4ms)
Completed 200 OK in 542ms (Views: 488.0ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-24 10:20:46 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageModule/StageProductBossManager https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageModule/StageProductBossService https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageModule/StageProductService https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageModule/StageMobile https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageModule/StageBossService https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageModule/StageMerchantService https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageOrderService https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageOrderBossService https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageCenter https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/Task/ProductGroupOnTask https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/Task/PayBackStockTask", "task"=>"http://192.168.0.221/zentao/task-view-42146.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"mTGJVyf0ypBX01naY+MNINWOm4neZpYLYbpJ+GFRz1axRAl1MBFN637sYWuzUXVgexeOpNbb3V1R63j9wYubeQ=="}
pid is 10738
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42146.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageModule/StageProductBossManager https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageModule/StageProductBossService https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageModule/StageProductService https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageModule/StageMobile https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageModule/StageBossService https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageModule/StageMerchantService https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageOrderService https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageOrderBossService https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageCenter https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/Task/ProductGroupOnTask https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/Task/PayBackStockTask' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42146.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageModule/StageProductBossManager https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageModule/StageProductBossService https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageModule/StageProductService https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageModule/StageMobile https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageModule/StageBossService https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageModule/StageMerchantService https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageOrderService https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageOrderBossService https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageCenter https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/Task/ProductGroupOnTask https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/Task/PayBackStockTask'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42146.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageModule/StageProductBossManager https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageModule/StageProductBossService https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageModule/StageProductService https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageModule/StageMobile https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageModule/StageBossService https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageModule/StageMerchantService https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageOrderService https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageOrderBossService https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageCenter https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/Task/ProductGroupOnTask https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/Task/PayBackStockTask'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42146.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageModule/StageProductBossManager https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageModule/StageProductBossService https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageModule/StageProductService https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageModule/StageMobile https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageModule/StageBossService https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageModule/StageMerchantService https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageOrderService https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageOrderBossService https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageCenter https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/Task/ProductGroupOnTask https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/Task/PayBackStockTask' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42146.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageModule/StageProductBossManager https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageModule/StageProductBossService https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageModule/StageProductService https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageModule/StageMobile https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageModule/StageBossService https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageModule/StageMerchantService https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageOrderService https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageOrderBossService https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageCenter https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/Task/ProductGroupOnTask https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/Task/PayBackStockTask'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossManager' $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService' $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService' $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile' $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService' $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMerchantService' $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService' $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderBossService' $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter' $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/ProductGroupOnTask' $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/PayBackStockTask'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageModule/StageProductBossManager: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMerchantService'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderBossService'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/ProductGroupOnTask'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/PayBackStockTask'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageModule/StageProductBossManager
https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageModule/StageProductBossService
https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageModule/StageProductService
https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageModule/StageMobile
https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageModule/StageBossService
https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageModule/StageMerchantService
https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageOrderService
https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageOrderBossService
https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageCenter
https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/Task/ProductGroupOnTask
https://192.168.0.220/svn/tech/Branch/20170714-达分期拆分/Develop/事事分期/StageAll/Task/PayBackStockTask'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossManager'
+ rm -f /home/qishanqing/tmp/merged/output.10738
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossManager'
+ die '事事分期/StageAll/StageModule/StageProductBossManager  project code no found'
+ echo '事事分期/StageAll/StageModule/StageProductBossManager  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.10738
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.10738
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
+ rm -f /home/qishanqing/tmp/merged/output.10738
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
+ die '事事分期/StageAll/StageModule/StageProductBossService  project code no found'
+ mails-cm -i 'svn merged faild'
+ echo '事事分期/StageAll/StageModule/StageProductBossService  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.10738
+ rm -f /home/qishanqing/tmp/merged/output.10738
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService'
+ rm -f /home/qishanqing/tmp/merged/output.10738
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService'
+ die '事事分期/StageAll/StageModule/StageProductService  project code no found'
+ mails-cm -i 'svn merged faild'
+ echo '事事分期/StageAll/StageModule/StageProductService  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.10738
+ rm -f /home/qishanqing/tmp/merged/output.10738
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ rm -f /home/qishanqing/tmp/merged/output.10738
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ die '事事分期/StageAll/StageModule/StageMobile  project code no found'
+ mails-cm -i 'svn merged faild'
+ echo '事事分期/StageAll/StageModule/StageMobile  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.10738
+ rm -f /home/qishanqing/tmp/merged/output.10738
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
+ rm -f /home/qishanqing/tmp/merged/output.10738
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
+ die '事事分期/StageAll/StageModule/StageBossService  project code no found'
+ echo '事事分期/StageAll/StageModule/StageBossService  project code no found'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.10738
+ rm -f /home/qishanqing/tmp/merged/output.10738
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMerchantService'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMerchantService'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMerchantService'
+ rm -f /home/qishanqing/tmp/merged/output.10738
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMerchantService'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMerchantService'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMerchantService'
+ die '事事分期/StageAll/StageModule/StageMerchantService  project code no found'
+ echo '事事分期/StageAll/StageModule/StageMerchantService  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.10738
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.10738
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
+ rm -f /home/qishanqing/tmp/merged/output.10738
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
+ die '事事分期/StageAll/StageOrderService  project code no found'
+ mails-cm -i 'svn merged faild'
+ echo '事事分期/StageAll/StageOrderService  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.10738
+ rm -f /home/qishanqing/tmp/merged/output.10738
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderBossService'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderBossService'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderBossService'
+ rm -f /home/qishanqing/tmp/merged/output.10738
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderBossService'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderBossService'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderBossService'
+ die '事事分期/StageAll/StageOrderBossService  project code no found'
+ echo '事事分期/StageAll/StageOrderBossService  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.10738
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.10738
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ rm -f /home/qishanqing/tmp/merged/output.10738
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ mails-cm -i 'code merged from Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageCenter'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep -C 3 $'Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r130280 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r128242 '
+ '[' '!' -z r128242 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter@r128242' $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter@r128242' $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42146.html
Merged revision(s) r128242 -r130280   from Branch/20170714-达分期拆分/Develop/事事分期/StageAll/StageCenter' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/ProductGroupOnTask'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/ProductGroupOnTask'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/ProductGroupOnTask'
+ rm -f /home/qishanqing/tmp/merged/output.10738
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/ProductGroupOnTask'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/ProductGroupOnTask'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/ProductGroupOnTask'
+ die '事事分期/StageAll/Task/ProductGroupOnTask  project code no found'
+ mails-cm -i 'svn merged faild'
+ echo '事事分期/StageAll/Task/ProductGroupOnTask  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.10738
+ rm -f /home/qishanqing/tmp/merged/output.10738
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/PayBackStockTask'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/PayBackStockTask'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/PayBackStockTask'
+ rm -f /home/qishanqing/tmp/merged/output.10738
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/PayBackStockTask'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170714-\350\276\276\345\210\206\346\234\237\346\213\206\345\210\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/PayBackStockTask'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/PayBackStockTask'
+ die '事事分期/StageAll/Task/PayBackStockTask  project code no found'
+ echo '事事分期/StageAll/Task/PayBackStockTask  project code no found'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.10738
+ rm -f /home/qishanqing/tmp/merged/output.10738
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 424171ms (Views: 55.5ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-24 10:41:24 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (148.1ms)
Completed 200 OK in 280ms (Views: 274.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-24 10:41:33 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/mindai_38", "task"=>"http://192.168.0.221/zentao/task-view-42142.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"uq6y08USqNGwDg+L3F5MyTPTODXalwAlF/GfLwf0Vb+S2zLx0vcvqpkxNzoM7DSJnUotGNIqS3MnoK4qpy4BkA=="}
pid is 11095
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42142.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42142.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/mindai_38'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42142.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/mindai_38'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42142.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42142.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/mindai_38: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38'
+ rm -f /home/qishanqing/tmp/merged/output.11095
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/mindai_38'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r129127 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r130176 '
+ '[' '!' -z r129127 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38@r129127' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38@r129127' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42142.html
Merged revision(s) r129127 -r130176   from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/mindai_38' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (3.9ms)
Completed 200 OK in 28942ms (Views: 145.7ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-24 12:04:07 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (29.0ms)
Completed 200 OK in 107ms (Views: 104.0ms)


Started POST "/start" for 192.168.5.26 at 2017-07-24 12:04:47 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"haochao@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/HLFundBusiness", "branch"=>"红岭改造", "user"=>"haochao", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"kiq7Jx045+4DlU24y2yRQzvPqGSGbgjx5JVK9ksRoti6XzsFCt1glSqqdQkb3ukDlVa9SY7TQ6fUxHvz68v29w=="}
pid is 12217
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u haochao -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness' -e haochao@dafy.com -E '' -b $'\347\272\242\345\262\255\346\224\271\351\200\240' -T add -d ''
+ TEMP=' -u '\''haochao'\'' -t '\''外部业务/P2P/Business/HLFundBusiness'\'' -e '\''haochao@dafy.com'\'' -E '\'''\'' -b '\''红岭改造'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''haochao'\'' -t '\''外部业务/P2P/Business/HLFundBusiness'\'' -e '\''haochao@dafy.com'\'' -E '\'''\'' -b '\''红岭改造'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u haochao -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness' -e haochao@dafy.com -E '' -b $'\347\272\242\345\262\255\346\224\271\351\200\240' -T add -d '' --
+ true
+ case "$1" in
+ user=haochao
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness'
+ shift 2
+ true
+ case "$1" in
+ email=haochao@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\347\272\242\345\262\255\346\224\271\351\200\240'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=haochao@dafy.com '
+ SMARTCM_EXTRA_MAIL='haochao@dafy.com '
++ haochao
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: haochao: command not found
++ for x in '$user'
++ echo haochao=rw
+ users=haochao=rw
++ $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 外部业务/P2P/Business/HLFundBusiness: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness'
+ trunks=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness' ']'
+ '[' -z $'\347\272\242\345\262\255\346\224\271\351\200\240' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170724
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707241204
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170724-\347\272\242\345\262\255\346\224\271\351\200\240/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\347\272\242\345\262\255\346\224\271\351\200\240'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707241204-\347\272\242\345\262\255\346\224\271\351\200\240'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\347\272\242\345\262\255\346\224\271\351\200\240/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness'
++ awk -F / '{print $7}'
+ br=$'20170724-\347\272\242\345\262\255\346\224\271\351\200\240'
+ access=$'20170724-\347\272\242\345\262\255\346\224\271\351\200\240'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness' $'https://192.168.0.220/svn/tech/Branch/20170724-\347\272\242\345\262\255\346\224\271\351\200\240/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.12217
+ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\347\272\242\345\262\255\346\224\271\351\200\240/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLFundBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/HLFundBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170724-红岭改造/Develop/外部业务/P2P/Business/HLFundBusiness'\'',now(),'\''haochao'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/HLFundBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170724-红岭改造/Develop/外部业务/P2P/Business/HLFundBusiness'\'',now(),'\''haochao'\'');'
+ cat /tmp/cmdb.db.12217
+ rm -f /tmp/cmdb.db.12217
+ check-acces
+ grep -c '20170724-红岭改造]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z haochao=rw
+ cat
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (29.4ms)
Completed 200 OK in 6294ms (Views: 101.6ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-24 12:05:10 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.4ms)
Completed 200 OK in 73ms (Views: 70.6ms)


Started POST "/start" for 192.168.5.26 at 2017-07-24 13:43:29 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"事事分期/StageAll/StageCenter 事事分期/StageAll/StageManager 事事分期/StageAll/StageModule", "branch"=>"达分期商户管理优化", "user"=>"zhanghaowei wangkai", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"I6iuxKcUYsTumzE4kPdw2hxFe5hTD3K0GIlxDu2eZWsL3S7msPHlv8ekCYlARQiastxutVuyOeIo2EALTUQxRA=="}
pid is 13397
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'zhanghaowei wangkai' -t '事事分期/StageAll/StageCenter 事事分期/StageAll/StageManager 事事分期/StageAll/StageModule' -e qishanqing@dafy.com -E '' -b $'\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226' -T add -d ''
+ TEMP=' -u '\''zhanghaowei wangkai'\'' -t '\''事事分期/StageAll/StageCenter 事事分期/StageAll/StageManager 事事分期/StageAll/StageModule'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''达分期商户管理优化'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''zhanghaowei wangkai'\'' -t '\''事事分期/StageAll/StageCenter 事事分期/StageAll/StageManager 事事分期/StageAll/StageModule'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''达分期商户管理优化'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'zhanghaowei wangkai' -t '事事分期/StageAll/StageCenter 事事分期/StageAll/StageManager 事事分期/StageAll/StageModule' -e qishanqing@dafy.com -E '' -b $'\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226' -T add -d '' --
+ true
+ case "$1" in
+ user='zhanghaowei wangkai'
+ shift 2
+ true
+ case "$1" in
+ trunk='事事分期/StageAll/StageCenter 事事分期/StageAll/StageManager 事事分期/StageAll/StageModule'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
++ zhanghaowei wangkai
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: zhanghaowei: command not found
++ for x in '$user'
++ echo zhanghaowei=rw
++ for x in '$user'
++ echo wangkai=rw
+ users='zhanghaowei=rw
wangkai=rw'
++ $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter' $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager' $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 事事分期/StageAll/StageCenter: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
++ for y in '$trunk'
++ echo $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
++ for y in '$trunk'
++ echo $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule'
+ trunks='事事分期/StageAll/StageCenter
事事分期/StageAll/StageManager
事事分期/StageAll/StageModule'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter' ']'
+ '[' -z $'\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170724
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707241343
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707241343-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226'
++ awk -F / '{print $7}'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ br=$'20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226'
+ access=$'20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter' $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.13397
+ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/事事分期/StageAll/StageCenter'\'', '\''https://192.168.0.220/svn/tech/Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageCenter'\'',now(),'\''qishanqing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/事事分期/StageAll/StageCenter'\'', '\''https://192.168.0.220/svn/tech/Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageCenter'\'',now(),'\''qishanqing'\'');'
+ cat /tmp/cmdb.db.13397
+ rm -f /tmp/cmdb.db.13397
+ check-acces
+ grep -c '20170724-达分期商户管理优化]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z 'zhanghaowei=rw
wangkai=rw'
+ cat
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ for trunk in '${trunks[@]}'
+ '[' -z $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager' ']'
+ '[' -z $'\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170724
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707241343
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707241343-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
++ awk -F / '{print $7}'
+ br=$'20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226'
+ access=$'20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager' $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.13397
+ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/事事分期/StageAll/StageManager'\'', '\''https://192.168.0.220/svn/tech/Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageManager'\'',now(),'\''qishanqing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/事事分期/StageAll/StageManager'\'', '\''https://192.168.0.220/svn/tech/Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageManager'\'',now(),'\''qishanqing'\'');'
+ cat /tmp/cmdb.db.13397
+ rm -f /tmp/cmdb.db.13397
+ check-acces
+ grep -c '20170724-达分期商户管理优化]' /mnt/svn/authz.conf
+ read num
+ '[' 1 -eq 0 ']'
++ sed '/20170724-达分期商户管理优化]/,/^[ \t]*$/!d;/20170724-达分期商户管理优化]/d;/^[ \t]*$/d' /mnt/svn/authz.conf
+ [[ zhanghaowei=rw
wangkai=rw
@admin=rw
*= =~ zhanghaowei=rw
wangkai=rw ]]
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ for trunk in '${trunks[@]}'
+ '[' -z $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule' ']'
+ '[' -z $'\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170724
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707241343
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707241343-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule'
++ awk -F / '{print $7}'
+ br=$'20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226'
+ access=$'20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule' $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.13397
+ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/事事分期/StageAll/StageModule'\'', '\''https://192.168.0.220/svn/tech/Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageModule'\'',now(),'\''qishanqing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/事事分期/StageAll/StageModule'\'', '\''https://192.168.0.220/svn/tech/Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageModule'\'',now(),'\''qishanqing'\'');'
+ cat /tmp/cmdb.db.13397
+ rm -f /tmp/cmdb.db.13397
+ check-acces
+ grep -c '20170724-达分期商户管理优化]' /mnt/svn/authz.conf
+ read num
+ '[' 1 -eq 0 ']'
++ sed '/20170724-达分期商户管理优化]/,/^[ \t]*$/!d;/20170724-达分期商户管理优化]/d;/^[ \t]*$/d' /mnt/svn/authz.conf
+ [[ zhanghaowei=rw
wangkai=rw
@admin=rw
*= =~ zhanghaowei=rw
wangkai=rw ]]
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (73.7ms)
Completed 200 OK in 16643ms (Views: 142.5ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-24 13:44:01 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.6ms)
Completed 200 OK in 169ms (Views: 166.8ms)


Started POST "/start" for 192.168.5.26 at 2017-07-24 13:44:11 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/CommonRepaymentBusiness", "branch"=>"红岭改造", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"S4NohMbRuWAcRwb/y89jfRJ7T3M0ITGPQ1aJA87T6Zdj9uim0TQ+GzV4Pk4bfRs9vOJaXjycetlzB7gGbgm9uA=="}
pid is 13494
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness' -e qishanqing@dafy.com -E '' -b $'\347\272\242\345\262\255\346\224\271\351\200\240' -T add -d ''
+ TEMP=' -u '\'''\'' -t '\''外部业务/P2P/Business/CommonRepaymentBusiness'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''红岭改造'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''外部业务/P2P/Business/CommonRepaymentBusiness'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''红岭改造'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u '' -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness' -e qishanqing@dafy.com -E '' -b $'\347\272\242\345\262\255\346\224\271\351\200\240' -T add -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\347\272\242\345\262\255\346\224\271\351\200\240'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 外部业务/P2P/Business/CommonRepaymentBusiness: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness'
+ trunks=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness' ']'
+ '[' -z $'\347\272\242\345\262\255\346\224\271\351\200\240' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170724
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707241344
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170724-\347\272\242\345\262\255\346\224\271\351\200\240/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\347\272\242\345\262\255\346\224\271\351\200\240'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707241344-\347\272\242\345\262\255\346\224\271\351\200\240'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\347\272\242\345\262\255\346\224\271\351\200\240/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness'
++ awk -F / '{print $7}'
+ br=$'20170724-\347\272\242\345\262\255\346\224\271\351\200\240'
+ access=$'20170724-\347\272\242\345\262\255\346\224\271\351\200\240'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness' $'https://192.168.0.220/svn/tech/Branch/20170724-\347\272\242\345\262\255\346\224\271\351\200\240/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.13494
+ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\347\272\242\345\262\255\346\224\271\351\200\240/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/CommonRepaymentBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170724-红岭改造/Develop/外部业务/P2P/Business/CommonRepaymentBusiness'\'',now(),'\''qishanqing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/CommonRepaymentBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170724-红岭改造/Develop/外部业务/P2P/Business/CommonRepaymentBusiness'\'',now(),'\''qishanqing'\'');'
+ cat /tmp/cmdb.db.13494
+ rm -f /tmp/cmdb.db.13494
+ check-acces
+ grep -c '20170724-红岭改造]' /mnt/svn/authz.conf
+ read num
+ '[' 1 -eq 0 ']'
++ sed '/20170724-红岭改造]/,/^[ \t]*$/!d;/20170724-红岭改造]/d;/^[ \t]*$/d' /mnt/svn/authz.conf
+ [[ haochao=rw
@admin=rw
*= =~ '' ]]
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 7168ms (Views: 63.9ms)


Started POST "/jenkins/new" for 192.168.5.26 at 2017-07-24 14:08:08 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by JenkinsController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "add"=>"", "copy"=>"", "del"=>"", "num"=>"zombie", "extra_mails"=>"", "authenticity_token"=>"j2amJF2VQ80kkVeqLIcKEGsM/5sCDrTwzThSjf9pYw6nEyYGSnDEtg2ubxv8NXJQxZXqtgqz/6b9aWOIX7M3IQ=="}
+ echo pid is 13783
pid is 13783
+++ basename -- /home/qishanqing/myscript/sh/jenkins.sh
++ getopt -o a:d:n:c:T:e:E:h --long types:,email:,extra_mails:,add:,copy:,del:,num:,help -n jenkins.sh -- -a '' -d '' -n zombie -c '' -e qishanqing@dafy.com -E ''
+ TEMP=' -a '\'''\'' -d '\'''\'' -n '\''zombie'\'' -c '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' --'
+ add=
+ email=
+ extra_mails=
+ del=
+ num=
+ copy=
+ types=
+ eval set -- ' -a '\'''\'' -d '\'''\'' -n '\''zombie'\'' -c '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' --'
++ set -- -a '' -d '' -n zombie -c '' -e qishanqing@dafy.com -E '' --
+ true
+ case "$1" in
+ add=
+ shift 2
+ true
+ case "$1" in
+ del=
+ shift 2
+ true
+ case "$1" in
+ num=zombie
+ shift 2
+ true
+ case "$1" in
+ copy=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ jenkins_url=http://192.168.0.232:8080
+ jenkins_addrs=/root/.jenkins
+ jenkins_cli='~/myscript/jenkins/jenkins-cli.jar'
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ test = add
/home/qishanqing/myscript/sh/jenkins.sh: line 184: test: =: unary operator expected
+ test = del
/home/qishanqing/myscript/sh/jenkins.sh: line 186: test: =: unary operator expected
+ jenkins-clean-range-run
++ java -jar '~/myscript/jenkins/jenkins-cli.jar' -s http://192.168.0.232:8080/ list-jobs
Error: Unable to access jarfile ~/myscript/jenkins/jenkins-cli.jar
+ j=
+ job-info
+ cat
+ mails-cm -i $'jenkinszombie\345\267\262\346\270\205\347\220\206'
++ cat /home/qishanqing/tmp/jenkins/output.13783
cat: /home/qishanqing/tmp/jenkins/output.13783: 没有那个文件或目录
++ java -jar '~/myscript/jenkins/jenkins-cli.jar' -s http://192.168.0.232:8080/ list-jobs
++ wc -l
Error: Unable to access jarfile ~/myscript/jenkins/jenkins-cli.jar
+ rm -rf /home/qishanqing/tmp/jenkins/output.13783
  Rendering jenkins/new.html.erb within layouts/application
  Rendered jenkins/new.html.erb within layouts/application (16.8ms)
Completed 200 OK in 160ms (Views: 66.2ms)


Started GET "/jenkins/index" for 192.168.5.26 at 2017-07-24 14:08:10 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by JenkinsController#index as HTML
  Rendering jenkins/index.html.erb within layouts/application
  Rendered jenkins/index.html.erb within layouts/application (12.8ms)
Completed 200 OK in 71ms (Views: 52.9ms)


Started POST "/jenkins/new" for 192.168.5.26 at 2017-07-24 14:11:21 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by JenkinsController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "add"=>"", "copy"=>"", "del"=>"", "num"=>"zombie", "extra_mails"=>"", "authenticity_token"=>"7fq2Wxj7eBpJmLrMjQOAu/27AatOEowlXIfFai0mddnFjzZ5Dx7/YWCngn1dsfj7UyIUhkavx3Ns1vRvjfwh9g=="}
+ echo pid is 13845
pid is 13845
+++ basename -- /home/qishanqing/myscript/sh/jenkins.sh
++ getopt -o a:d:n:c:T:e:E:h --long types:,email:,extra_mails:,add:,copy:,del:,num:,help -n jenkins.sh -- -a '' -d '' -n zombie -c '' -e qishanqing@dafy.com -E ''
+ TEMP=' -a '\'''\'' -d '\'''\'' -n '\''zombie'\'' -c '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' --'
+ add=
+ email=
+ extra_mails=
+ del=
+ num=
+ copy=
+ types=
+ eval set -- ' -a '\'''\'' -d '\'''\'' -n '\''zombie'\'' -c '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' --'
++ set -- -a '' -d '' -n zombie -c '' -e qishanqing@dafy.com -E '' --
+ true
+ case "$1" in
+ add=
+ shift 2
+ true
+ case "$1" in
+ del=
+ shift 2
+ true
+ case "$1" in
+ num=zombie
+ shift 2
+ true
+ case "$1" in
+ copy=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ jenkins_url=http://192.168.0.232:8080
+ jenkins_addrs=/root/.jenkins
+ jenkins_cli='~/myscript/jenkins/jenkins-cli.jar'
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ test = add
/home/qishanqing/myscript/sh/jenkins.sh: line 184: test: =: unary operator expected
+ test = del
/home/qishanqing/myscript/sh/jenkins.sh: line 186: test: =: unary operator expected
+ jenkins-clean-range-run
++ java -jar '~/myscript/jenkins/jenkins-cli.jar' -s http://192.168.0.232:8080/ list-jobs
Error: Unable to access jarfile ~/myscript/jenkins/jenkins-cli.jar
+ j=
+ job-info
+ cat
+ mails-cm -i $'jenkinszombie\345\267\262\346\270\205\347\220\206'
++ cat /home/qishanqing/tmp/jenkins/output.13845
cat: /home/qishanqing/tmp/jenkins/output.13845: 没有那个文件或目录
++ wc -l
++ java -jar '~/myscript/jenkins/jenkins-cli.jar' -s http://192.168.0.232:8080/ list-jobs
Error: Unable to access jarfile ~/myscript/jenkins/jenkins-cli.jar
+ rm -rf /home/qishanqing/tmp/jenkins/output.13845
  Rendering jenkins/new.html.erb within layouts/application
  Rendered jenkins/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 130ms (Views: 60.6ms)


Started GET "/jenkins/index" for 192.168.5.26 at 2017-07-24 14:12:38 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by JenkinsController#index as HTML
  Rendering jenkins/index.html.erb within layouts/application
  Rendered jenkins/index.html.erb within layouts/application (4.2ms)
Completed 200 OK in 214ms (Views: 210.9ms)


Started POST "/jenkins/new" for 192.168.5.26 at 2017-07-24 14:12:41 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by JenkinsController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "add"=>"", "copy"=>"", "del"=>"", "num"=>"zombie", "extra_mails"=>"", "authenticity_token"=>"oX2NBhWVy153R8OdxVPgc26ZQ56tXBzQLmLULOZsySKJCA0kAnBMJV54+ywV4ZgzwABWs6XhV4YeM+UpRradDQ=="}
+ echo pid is 13882
pid is 13882
+++ basename -- /home/qishanqing/myscript/sh/jenkins.sh
++ getopt -o a:d:n:c:T:e:E:h --long types:,email:,extra_mails:,add:,copy:,del:,num:,help -n jenkins.sh -- -a '' -d '' -n zombie -c '' -e qishanqing@dafy.com -E ''
+ TEMP=' -a '\'''\'' -d '\'''\'' -n '\''zombie'\'' -c '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' --'
+ add=
+ email=
+ extra_mails=
+ del=
+ num=
+ copy=
+ types=
+ eval set -- ' -a '\'''\'' -d '\'''\'' -n '\''zombie'\'' -c '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' --'
++ set -- -a '' -d '' -n zombie -c '' -e qishanqing@dafy.com -E '' --
+ true
+ case "$1" in
+ add=
+ shift 2
+ true
+ case "$1" in
+ del=
+ shift 2
+ true
+ case "$1" in
+ num=zombie
+ shift 2
+ true
+ case "$1" in
+ copy=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ jenkins_url=http://192.168.0.232:8080
+ jenkins_addrs=/root/.jenkins
+ jenkins_cli=/home/qishanqing/myscript/jenkins/jenkins-cli.jar
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ test = add
/home/qishanqing/myscript/sh/jenkins.sh: line 184: test: =: unary operator expected
+ test = del
/home/qishanqing/myscript/sh/jenkins.sh: line 186: test: =: unary operator expected
+ jenkins-clean-range-run
++ java -jar /home/qishanqing/myscript/jenkins/jenkins-cli.jar -s http://192.168.0.232:8080/ list-jobs
+ j='10_MAVEN_WEB_AccountBusiness
10_MAVEN_WEB_AccountGateway44
10_MAVEN_WEB_AccountTradeSpliter
10_MAVEN_WEB_BluntlyBusiness
10_MAVEN_WEB_BluntlyManager
10_MAVEN_WEB_BluntlyWSServer
10_MAVEN_WEB_CoursewareCenter
10_MAVEN_WEB_GatewayBusiness
10_MAVEN_WEB_GatewayManager
10_MAVEN_WEB_TechMonitor
11_MAVEN_TASK_AccountApp
11_MAVEN_TASK_ExportOverdueDataTell
11_MAVEN_TASK_FetchOverdueDataV1
11_MAVEN_TASK_FetchOverdueDataV2
11_MAVEN_TASK_OrderTimeoutCancelTask
11_MAVEN_WEB_AccountGateway44
11_MAVEN_WEB_AccountTradeSpliter
11_MAVEN_WEB_BluntlyBusiness
11_MAVEN_WEB_BluntlyWSServer
11_MAVEN_WEB_cmsStageCenter
11_MAVEN_WEB_cmsStageManager
11_MAVEN_WEB_collectionBusiness
11_MAVEN_WEB_GatewayBusiness
11_MAVEN_WEB_GatewayManager
11_MAVEN_WEB_StageBossService
11_MAVEN_WEB_StageCenter
11_MAVEN_WEB_StageManager
11_MAVEN_WEB_StageMerchantService
11_MAVEN_WEB_StageMobile
11_MAVEN_WEB_StageOrderBossService
11_MAVEN_WEB_StageOrderService
11_MAVEN_WEB_StageProductBossManager
11_MAVEN_WEB_StageProductBossService
11_MAVEN_WEB_StageProductService
11_MAVEN_WEB_StageRiskCenter
11_MAVEN_WEB_StageStore
11_MAVEN_WEB_SupCCBusiness
11_MAVEN_WEB_TechMonitor
12_AccountGatewayApp4_RetryOrder
12_MAVEN_TASK_AccountApp
12_MAVEN_TASK_ApplyBorrowTask
12_MAVEN_TASK_ExportOverdueData
12_MAVEN_TASK_ExportOverdueDataTell
12_MAVEN_TASK_ExportRepayRecordData
12_MAVEN_TASK_FetchOverdueDataV1
12_MAVEN_TASK_FetchOverdueDataV2
12_MAVEN_TASK_FetchUserContactV1
12_MAVEN_TASK_FetchUserContactV2
12_MAVEN_TASK_OrderTimeoutCancelTask
12_MAVEN_TASK_StageLoanTask
12_MAVEN_WEB_AccountBusiness
12_MAVEN_WEB_AccountGateway44
12_MAVEN_WEB_AccountManager
12_MAVEN_WEB_AccountTradeSpliter
12_MAVEN_WEB_BluntlyBusiness
12_MAVEN_WEB_BluntlyManager
12_MAVEN_WEB_BluntlyWSServer
12_MAVEN_WEB_BossSite
12_MAVEN_WEB_cmsStageCenter
12_MAVEN_WEB_cmsStageManager
12_MAVEN_WEB_collectionBusiness
12_MAVEN_WEB_collectionweb
12_MAVEN_WEB_CoursewareCenter
12_MAVEN_WEB_GatewayBusiness
12_MAVEN_WEB_GatewayManager
12_MAVEN_WEB_GatewayRouteBusiness
12_MAVEN_WEB_LendBusiness
12_MAVEN_WEB_MediaCenter
12_MAVEN_WEB_MediaMonitor
12_MAVEN_WEB_MerchantCenter
12_MAVEN_WEB_NewBusinessBus
12_MAVEN_WEB_overdueBusiness
12_MAVEN_WEB_StageBossService
12_MAVEN_WEB_StageCenter
12_MAVEN_WEB_StageManager
12_MAVEN_WEB_StageMerchantService
12_MAVEN_WEB_StageMobile
12_MAVEN_WEB_StageOrderBossService
12_MAVEN_WEB_StageOrderService
12_MAVEN_WEB_StageProductBossManager
12_MAVEN_WEB_StageProductBossService
12_MAVEN_WEB_StageProductService
12_MAVEN_WEB_StageRiskCenter
12_MAVEN_WEB_StageStore
12_MAVEN_WEB_StageStoreApi
12_MAVEN_WEB_SupCCBusiness
12_MAVEN_WEB_TechMonitor
12_MAVEN_ZIP_CloudLoanH5Client_Stage
12_mvn_web_MallManagerNew
12_TASK_AccountApp
12_WEB_AccountManager
12_WEB_MerchantCenter
12_WEB_PocketBusiness
12_WEB_WebSiteBusiness
139_MAVEN_WEB_projectResourcesManager
13_mvn_lib_dflib_mall
13_mvn_srv_MallBusiness
13_mvn_srv_MallBuyerBusiness
13_MVN_SRV_MallManageGoodsBusiness
13_MVN_SRV_MallManageOrderBusiness
13_mvn_srv_MallManageOutAccessBusiness
13_MVN_SRV_MallManageStorageBusiness
13_MVN_SRV_MallRefundBusiness
13_mvn_task_MallTaskBusiness
13_mvn_web_MallManageAccessBusiness
13_MVN_WEB_MallManagerNew
198_MAVEN_WEB_DFPBorrowBusiness
198_MAVEN_WEB_LendBusiness
198_MAVEN_WEB_LendManager
65_MAVEN_WEB_LendManager
rails-rolling'
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/10_MAVEN_WEB_AccountBusiness/lastBuild/
++ xargs -d '>' -n1
++ grep $'\345\220\257\345\212\250\346\227\266\351\227\264'
+ c='启动时间：34 分</div'
+ case "$num" in
+ jenkins-clean-never-run
++ java -jar /home/qishanqing/myscript/jenkins/jenkins-cli.jar -s http://192.168.0.232:8080/ list-jobs
七月 24, 2017 2:12:47 下午 hudson.remoting.SynchronousCommandTransport$ReaderThread run
严重: I/O error in channel CLI connection to http://192.168.0.232:8080/
java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:196)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.io.FilterInputStream.read(FilterInputStream.java:133)
	at java.io.FilterInputStream.read(FilterInputStream.java:107)
	at javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:103)
	at javax.crypto.CipherInputStream.read(CipherInputStream.java:224)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:235)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:254)
	at hudson.remoting.FlightRecorderInputStream.read(FlightRecorderInputStream.java:82)
	at hudson.remoting.ChunkedInputStream.readHeader(ChunkedInputStream.java:72)
	at hudson.remoting.ChunkedInputStream.readUntilBreak(ChunkedInputStream.java:103)
	at hudson.remoting.ChunkedCommandTransport.readBlock(ChunkedCommandTransport.java:33)
	at hudson.remoting.AbstractSynchronousByteArrayCommandTransport.read(AbstractSynchronousByteArrayCommandTransport.java:34)
	at hudson.remoting.SynchronousCommandTransport$ReaderThread.run(SynchronousCommandTransport.java:48)

+ j='10_MAVEN_WEB_AccountBusiness
10_MAVEN_WEB_AccountGateway44
10_MAVEN_WEB_AccountTradeSpliter
10_MAVEN_WEB_BluntlyBusiness
10_MAVEN_WEB_BluntlyManager
10_MAVEN_WEB_BluntlyWSServer
10_MAVEN_WEB_CoursewareCenter
10_MAVEN_WEB_GatewayBusiness
10_MAVEN_WEB_GatewayManager
10_MAVEN_WEB_TechMonitor
11_MAVEN_TASK_AccountApp
11_MAVEN_TASK_ExportOverdueDataTell
11_MAVEN_TASK_FetchOverdueDataV1
11_MAVEN_TASK_FetchOverdueDataV2
11_MAVEN_TASK_OrderTimeoutCancelTask
11_MAVEN_WEB_AccountGateway44
11_MAVEN_WEB_AccountTradeSpliter
11_MAVEN_WEB_BluntlyBusiness
11_MAVEN_WEB_BluntlyWSServer
11_MAVEN_WEB_cmsStageCenter
11_MAVEN_WEB_cmsStageManager
11_MAVEN_WEB_collectionBusiness
11_MAVEN_WEB_GatewayBusiness
11_MAVEN_WEB_GatewayManager
11_MAVEN_WEB_StageBossService
11_MAVEN_WEB_StageCenter
11_MAVEN_WEB_StageManager
11_MAVEN_WEB_StageMerchantService
11_MAVEN_WEB_StageMobile
11_MAVEN_WEB_StageOrderBossService
11_MAVEN_WEB_StageOrderService
11_MAVEN_WEB_StageProductBossManager
11_MAVEN_WEB_StageProductBossService
11_MAVEN_WEB_StageProductService
11_MAVEN_WEB_StageRiskCenter
11_MAVEN_WEB_StageStore
11_MAVEN_WEB_SupCCBusiness
11_MAVEN_WEB_TechMonitor
12_AccountGatewayApp4_RetryOrder
12_MAVEN_TASK_AccountApp
12_MAVEN_TASK_ApplyBorrowTask
12_MAVEN_TASK_ExportOverdueData
12_MAVEN_TASK_ExportOverdueDataTell
12_MAVEN_TASK_ExportRepayRecordData
12_MAVEN_TASK_FetchOverdueDataV1
12_MAVEN_TASK_FetchOverdueDataV2
12_MAVEN_TASK_FetchUserContactV1
12_MAVEN_TASK_FetchUserContactV2
12_MAVEN_TASK_OrderTimeoutCancelTask
12_MAVEN_TASK_StageLoanTask
12_MAVEN_WEB_AccountBusiness
12_MAVEN_WEB_AccountGateway44
12_MAVEN_WEB_AccountManager
12_MAVEN_WEB_AccountTradeSpliter
12_MAVEN_WEB_BluntlyBusiness
12_MAVEN_WEB_BluntlyManager
12_MAVEN_WEB_BluntlyWSServer
12_MAVEN_WEB_BossSite
12_MAVEN_WEB_cmsStageCenter
12_MAVEN_WEB_cmsStageManager
12_MAVEN_WEB_collectionBusiness
12_MAVEN_WEB_collectionweb
12_MAVEN_WEB_CoursewareCenter
12_MAVEN_WEB_GatewayBusiness
12_MAVEN_WEB_GatewayManager
12_MAVEN_WEB_GatewayRouteBusiness
12_MAVEN_WEB_LendBusiness
12_MAVEN_WEB_MediaCenter
12_MAVEN_WEB_MediaMonitor
12_MAVEN_WEB_MerchantCenter
12_MAVEN_WEB_NewBusinessBus
12_MAVEN_WEB_overdueBusiness
12_MAVEN_WEB_StageBossService
12_MAVEN_WEB_StageCenter
12_MAVEN_WEB_StageManager
12_MAVEN_WEB_StageMerchantService
12_MAVEN_WEB_StageMobile
12_MAVEN_WEB_StageOrderBossService
12_MAVEN_WEB_StageOrderService
12_MAVEN_WEB_StageProductBossManager
12_MAVEN_WEB_StageProductBossService
12_MAVEN_WEB_StageProductService
12_MAVEN_WEB_StageRiskCenter
12_MAVEN_WEB_StageStore
12_MAVEN_WEB_StageStoreApi
12_MAVEN_WEB_SupCCBusiness
12_MAVEN_WEB_TechMonitor
12_MAVEN_ZIP_CloudLoanH5Client_Stage
12_mvn_web_MallManagerNew
12_TASK_AccountApp
12_WEB_AccountManager
12_WEB_MerchantCenter
12_WEB_PocketBusiness
12_WEB_WebSiteBusiness
139_MAVEN_WEB_projectResourcesManager
13_mvn_lib_dflib_mall
13_mvn_srv_MallBusiness
13_mvn_srv_MallBuyerBusiness
13_MVN_SRV_MallManageGoodsBusiness
13_MVN_SRV_MallManageOrderBusiness
13_mvn_srv_MallManageOutAccessBusiness
13_MVN_SRV_MallManageStorageBusiness
13_MVN_SRV_MallRefundBusiness
13_mvn_task_MallTaskBusiness
13_mvn_web_MallManageAccessBusiness
13_MVN_WEB_MallManagerNew
198_MAVEN_WEB_DFPBorrowBusiness
198_MAVEN_WEB_LendBusiness
198_MAVEN_WEB_LendManager
65_MAVEN_WEB_LendManager
rails-rolling'
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/10_MAVEN_WEB_AccountBusiness/lastBuild/buildNumber
+ c=30
+ test -z 30
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/10_MAVEN_WEB_AccountGateway44/lastBuild/buildNumber
+ c=1
+ test -z 1
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/10_MAVEN_WEB_AccountTradeSpliter/lastBuild/buildNumber
+ c=1
+ test -z 1
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/10_MAVEN_WEB_BluntlyBusiness/lastBuild/buildNumber
+ c=22
+ test -z 22
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/10_MAVEN_WEB_BluntlyManager/lastBuild/buildNumber
+ c=1
+ test -z 1
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/10_MAVEN_WEB_BluntlyWSServer/lastBuild/buildNumber
+ c=2
+ test -z 2
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/10_MAVEN_WEB_CoursewareCenter/lastBuild/buildNumber
+ c=5
+ test -z 5
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/10_MAVEN_WEB_GatewayBusiness/lastBuild/buildNumber
+ c=5
+ test -z 5
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/10_MAVEN_WEB_GatewayManager/lastBuild/buildNumber
+ c=8
+ test -z 8
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/10_MAVEN_WEB_TechMonitor/lastBuild/buildNumber
+ c=7
+ test -z 7
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_TASK_AccountApp/lastBuild/buildNumber
+ c=11
+ test -z 11
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_TASK_ExportOverdueDataTell/lastBuild/buildNumber
+ c=4
+ test -z 4
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_TASK_FetchOverdueDataV1/lastBuild/buildNumber
+ c=3
+ test -z 3
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_TASK_FetchOverdueDataV2/lastBuild/buildNumber
+ c=16
+ test -z 16
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_TASK_OrderTimeoutCancelTask/lastBuild/buildNumber
+ c=4
+ test -z 4
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_AccountGateway44/lastBuild/buildNumber
+ c=1
+ test -z 1
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_AccountTradeSpliter/lastBuild/buildNumber
+ c=5
+ test -z 5
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_BluntlyBusiness/lastBuild/buildNumber
+ c=8
+ test -z 8
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_BluntlyWSServer/lastBuild/buildNumber
+ c=4
+ test -z 4
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_cmsStageCenter/lastBuild/buildNumber
+ c=9
+ test -z 9
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_cmsStageManager/lastBuild/buildNumber
+ c=4
+ test -z 4
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_collectionBusiness/lastBuild/buildNumber
+ c=1
+ test -z 1
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_GatewayBusiness/lastBuild/buildNumber
+ c=5
+ test -z 5
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_GatewayManager/lastBuild/buildNumber
+ c=7
+ test -z 7
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_StageBossService/lastBuild/buildNumber
+ c=5
+ test -z 5
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_StageCenter/lastBuild/buildNumber
+ c=61
+ test -z 61
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_StageManager/lastBuild/buildNumber
+ c=13
+ test -z 13
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_StageMerchantService/lastBuild/buildNumber
+ c=6
+ test -z 6
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_StageMobile/lastBuild/buildNumber
+ c=9
+ test -z 9
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_StageOrderBossService/lastBuild/buildNumber
+ c=3
+ test -z 3
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_StageOrderService/lastBuild/buildNumber
+ c=14
+ test -z 14
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_StageProductBossManager/lastBuild/buildNumber
+ c=3
+ test -z 3
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_StageProductBossService/lastBuild/buildNumber
+ c=2
+ test -z 2
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_StageProductService/lastBuild/buildNumber
+ c=8
+ test -z 8
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_StageRiskCenter/lastBuild/buildNumber
+ c=6
+ test -z 6
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_StageStore/lastBuild/buildNumber
+ c=10
+ test -z 10
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_SupCCBusiness/lastBuild/buildNumber
+ c=3
+ test -z 3
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_TechMonitor/lastBuild/buildNumber
+ c=
+ test -z ''
+ clean-jenkins-workspace
+ echo 372233
+ sudo rm -rf /root/.jenkins/jobs/11_MAVEN_WEB_TechMonitor
+ echo 11_MAVEN_WEB_TechMonitor
+ unset PROMPT_COMMAND
+ exec sudo -E env 'PATH=/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/bin:/home/qishanqing/.rvm/gems/ruby-2.4.1@global/bin:/home/qishanqing/.rvm/rubies/ruby-2.4.1/bin:/home/qishanqing/external/bin/Linux/ext/debug:/home/qishanqing/system-config/bin/overide:/home/qishanqing/src/github/guilt:/usr/lib/jvm/java-8-openjdk-amd64/bin:/home/qishanqing/external/bin/Linux/ext/x86_64:/home/qishanqing/external/bin/Linux/ext:/home/qishanqing/system-config/bin/Linux:/home/qishanqing/src/github/private-config/bin:/home/qishanqing/system-config/bin:/home/qishanqing/testbed/bin:/home/qishanqing/external/eclipse:/usr/local/bin:/home/qishanqing/external/bin/Linux/ext/android-sdk-linux/tools/ndk/android-ndk-r4b:/home/qishanqing/external/bin/Linux/ext/ndk:/bin:/usr/bin:/usr/local/games:/usr/games:/home/qishanqing/external/bin/Linux/ext/arm-eabi-4.4.0/bin:/home/qishanqing/external/bin/Linux/ext/arm-2010q1/bin:/home/qishanqing/external/bin/Linux/ext/arm-linux-4.1.1/bin:/home/qishanqing/external/bin/Linux/ext/android-sdk-linux/tools:/home/qishanqing/external/bin/Linux/ext/android-sdk-linux/platform-tools:/sbin:/usr/sbin:/usr/local/sbin:/home/qishanqing/src/android/prebuilts/gcc/linux-x86/arm/arm-eabi-4.7/bin:/home/qishanqing/src/github/smartcm:/home/qishanqing/src/github/private-config/tests:/home/qishanqing/system-config/bin/Linux/missing:/home/qishanqing/external/local/bin:/home/qishanqing/external/local/sbin:/home/qishanqing/system-config/bin/windows:/usr/local/jdk1.7.0_65/bin:/usr/local/apache-ant-1.9.6/bin:/usr/local/apache-maven-3.3.9//bin:/usr/local/jdk1.7.0_65/jre/bin:/usr/local/DS-5_v5.23.1/sw/ARMCompiler5.06u1/bin/:/pkg/qct/software/arm/RVDS/5.01bld94/bin64:/pkg/qct/software/arm/RVDS/5.01bld94/bin:~/myscript/sh:/home/qishanqing/.rvm/bin:/home/qishanqing/bin' rm -rf /root/.jenkins/jobs/11_MAVEN_WEB_TechMonitor
sudo：抱歉，您必须拥有一个终端来执行 sudo
+ java -jar /home/qishanqing/myscript/jenkins/jenkins-cli.jar -s http://192.168.0.232:8080/ delete-job 11_MAVEN_WEB_TechMonitor
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_AccountGatewayApp4_RetryOrder/lastBuild/buildNumber
+ c=4
+ test -z 4
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_TASK_AccountApp/lastBuild/buildNumber
+ c=8
+ test -z 8
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_TASK_ApplyBorrowTask/lastBuild/buildNumber
+ c=18
+ test -z 18
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_TASK_ExportOverdueData/lastBuild/buildNumber
+ c=32
+ test -z 32
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_TASK_ExportOverdueDataTell/lastBuild/buildNumber
+ c=4
+ test -z 4
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_TASK_ExportRepayRecordData/lastBuild/buildNumber
+ c=10
+ test -z 10
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_TASK_FetchOverdueDataV1/lastBuild/buildNumber
+ c=8
+ test -z 8
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_TASK_FetchOverdueDataV2/lastBuild/buildNumber
+ c=30
+ test -z 30
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_TASK_FetchUserContactV1/lastBuild/buildNumber
+ c=5
+ test -z 5
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_TASK_FetchUserContactV2/lastBuild/buildNumber
+ c=10
+ test -z 10
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_TASK_OrderTimeoutCancelTask/lastBuild/buildNumber
+ c=8
+ test -z 8
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_TASK_StageLoanTask/lastBuild/buildNumber
+ c=13
+ test -z 13
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_AccountBusiness/lastBuild/buildNumber
+ c=20
+ test -z 20
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_AccountGateway44/lastBuild/buildNumber
+ c=1
+ test -z 1
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_AccountManager/lastBuild/buildNumber
+ c=13
+ test -z 13
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_AccountTradeSpliter/lastBuild/buildNumber
+ c=13
+ test -z 13
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_BluntlyBusiness/lastBuild/buildNumber
+ c=20
+ test -z 20
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_BluntlyManager/lastBuild/buildNumber
+ c=27
+ test -z 27
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_BluntlyWSServer/lastBuild/buildNumber
+ c=13
+ test -z 13
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_BossSite/lastBuild/buildNumber
+ c=1
+ test -z 1
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_cmsStageCenter/lastBuild/buildNumber
+ c=52
+ test -z 52
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_cmsStageManager/lastBuild/buildNumber
+ c=15
+ test -z 15
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_collectionBusiness/lastBuild/buildNumber
+ c=1
+ test -z 1
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_collectionweb/lastBuild/buildNumber
+ c=31
+ test -z 31
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_CoursewareCenter/lastBuild/buildNumber
+ c=12
+ test -z 12
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_GatewayBusiness/lastBuild/buildNumber
+ c=2
+ test -z 2
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_GatewayManager/lastBuild/buildNumber
+ c=3
+ test -z 3
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_GatewayRouteBusiness/lastBuild/buildNumber
+ c=3
+ test -z 3
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_LendBusiness/lastBuild/buildNumber
+ c=52
+ test -z 52
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_MediaCenter/lastBuild/buildNumber
+ c=10
+ test -z 10
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_MediaMonitor/lastBuild/buildNumber
+ c=5
+ test -z 5
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_MerchantCenter/lastBuild/buildNumber
+ c=53
+ test -z 53
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_NewBusinessBus/lastBuild/buildNumber
+ c=1
+ test -z 1
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_overdueBusiness/lastBuild/buildNumber
+ c=11
+ test -z 11
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_StageBossService/lastBuild/buildNumber
+ c=4
+ test -z 4
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_StageCenter/lastBuild/buildNumber
+ c=48
+ test -z 48
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_StageManager/lastBuild/buildNumber
+ c=22
+ test -z 22
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_StageMerchantService/lastBuild/buildNumber
+ c=8
+ test -z 8
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_StageMobile/lastBuild/buildNumber
+ c=6
+ test -z 6
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_StageOrderBossService/lastBuild/buildNumber
+ c=7
+ test -z 7
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_StageOrderService/lastBuild/buildNumber
+ c=13
+ test -z 13
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_StageProductBossManager/lastBuild/buildNumber
+ c=7
+ test -z 7
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_StageProductBossService/lastBuild/buildNumber
+ c=5
+ test -z 5
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_StageProductService/lastBuild/buildNumber
+ c=11
+ test -z 11
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_StageRiskCenter/lastBuild/buildNumber
+ c=5
+ test -z 5
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_StageStore/lastBuild/buildNumber
+ c=19
+ test -z 19
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_StageStoreApi/lastBuild/buildNumber
+ c=3
+ test -z 3
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_SupCCBusiness/lastBuild/buildNumber
+ c=8
+ test -z 8
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_TechMonitor/lastBuild/buildNumber
+ c=2
+ test -z 2
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_ZIP_CloudLoanH5Client_Stage/lastBuild/buildNumber
+ c=1
+ test -z 1
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_mvn_web_MallManagerNew/lastBuild/buildNumber
+ c=
+ test -z ''
+ clean-jenkins-workspace
+ echo 372233
+ sudo rm -rf /root/.jenkins/jobs/12_mvn_web_MallManagerNew
+ echo 12_mvn_web_MallManagerNew
+ unset PROMPT_COMMAND
+ exec sudo -E env 'PATH=/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/bin:/home/qishanqing/.rvm/gems/ruby-2.4.1@global/bin:/home/qishanqing/.rvm/rubies/ruby-2.4.1/bin:/home/qishanqing/external/bin/Linux/ext/debug:/home/qishanqing/system-config/bin/overide:/home/qishanqing/src/github/guilt:/usr/lib/jvm/java-8-openjdk-amd64/bin:/home/qishanqing/external/bin/Linux/ext/x86_64:/home/qishanqing/external/bin/Linux/ext:/home/qishanqing/system-config/bin/Linux:/home/qishanqing/src/github/private-config/bin:/home/qishanqing/system-config/bin:/home/qishanqing/testbed/bin:/home/qishanqing/external/eclipse:/usr/local/bin:/home/qishanqing/external/bin/Linux/ext/android-sdk-linux/tools/ndk/android-ndk-r4b:/home/qishanqing/external/bin/Linux/ext/ndk:/bin:/usr/bin:/usr/local/games:/usr/games:/home/qishanqing/external/bin/Linux/ext/arm-eabi-4.4.0/bin:/home/qishanqing/external/bin/Linux/ext/arm-2010q1/bin:/home/qishanqing/external/bin/Linux/ext/arm-linux-4.1.1/bin:/home/qishanqing/external/bin/Linux/ext/android-sdk-linux/tools:/home/qishanqing/external/bin/Linux/ext/android-sdk-linux/platform-tools:/sbin:/usr/sbin:/usr/local/sbin:/home/qishanqing/src/android/prebuilts/gcc/linux-x86/arm/arm-eabi-4.7/bin:/home/qishanqing/src/github/smartcm:/home/qishanqing/src/github/private-config/tests:/home/qishanqing/system-config/bin/Linux/missing:/home/qishanqing/external/local/bin:/home/qishanqing/external/local/sbin:/home/qishanqing/system-config/bin/windows:/usr/local/jdk1.7.0_65/bin:/usr/local/apache-ant-1.9.6/bin:/usr/local/apache-maven-3.3.9//bin:/usr/local/jdk1.7.0_65/jre/bin:/usr/local/DS-5_v5.23.1/sw/ARMCompiler5.06u1/bin/:/pkg/qct/software/arm/RVDS/5.01bld94/bin64:/pkg/qct/software/arm/RVDS/5.01bld94/bin:~/myscript/sh:/home/qishanqing/.rvm/bin:/home/qishanqing/bin' rm -rf /root/.jenkins/jobs/12_mvn_web_MallManagerNew
sudo：抱歉，您必须拥有一个终端来执行 sudo
+ java -jar /home/qishanqing/myscript/jenkins/jenkins-cli.jar -s http://192.168.0.232:8080/ delete-job 12_mvn_web_MallManagerNew
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_TASK_AccountApp/lastBuild/buildNumber
+ c=10
+ test -z 10
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_WEB_AccountManager/lastBuild/buildNumber
+ c=3
+ test -z 3
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_WEB_MerchantCenter/lastBuild/buildNumber
+ c=14
+ test -z 14
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_WEB_PocketBusiness/lastBuild/buildNumber
+ c=17
+ test -z 17
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_WEB_WebSiteBusiness/lastBuild/buildNumber
+ c=5
+ test -z 5
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/139_MAVEN_WEB_projectResourcesManager/lastBuild/buildNumber
+ c=16
+ test -z 16
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/13_mvn_lib_dflib_mall/lastBuild/buildNumber
+ c=9
+ test -z 9
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/13_mvn_srv_MallBusiness/lastBuild/buildNumber
+ c=8
+ test -z 8
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/13_mvn_srv_MallBuyerBusiness/lastBuild/buildNumber
+ c=12
+ test -z 12
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/13_MVN_SRV_MallManageGoodsBusiness/lastBuild/buildNumber
+ c=1
+ test -z 1
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/13_MVN_SRV_MallManageOrderBusiness/lastBuild/buildNumber
+ c=7
+ test -z 7
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/13_mvn_srv_MallManageOutAccessBusiness/lastBuild/buildNumber
+ c=11
+ test -z 11
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/13_MVN_SRV_MallManageStorageBusiness/lastBuild/buildNumber
+ c=7
+ test -z 7
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/13_MVN_SRV_MallRefundBusiness/lastBuild/buildNumber
+ c=4
+ test -z 4
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/13_mvn_task_MallTaskBusiness/lastBuild/buildNumber
+ c=13
+ test -z 13
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/13_mvn_web_MallManageAccessBusiness/lastBuild/buildNumber
+ c=1
+ test -z 1
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/13_MVN_WEB_MallManagerNew/lastBuild/buildNumber
+ c=19
+ test -z 19
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/198_MAVEN_WEB_DFPBorrowBusiness/lastBuild/buildNumber
+ c=16
+ test -z 16
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/198_MAVEN_WEB_LendBusiness/lastBuild/buildNumber
+ c=14
+ test -z 14
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/198_MAVEN_WEB_LendManager/lastBuild/buildNumber
+ c=19
+ test -z 19
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/65_MAVEN_WEB_LendManager/lastBuild/buildNumber
+ c=1
+ test -z 1
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/rails-rolling/lastBuild/buildNumber
+ c=131
+ test -z 131
+ break
+ job-info
+ cat
+ mails-cm -i $'jenkinszombie\345\267\262\346\270\205\347\220\206'
++ cat /home/qishanqing/tmp/jenkins/output.13882
++ java -jar /home/qishanqing/myscript/jenkins/jenkins-cli.jar -s http://192.168.0.232:8080/ list-jobs
++ wc -l
+ rm -rf /home/qishanqing/tmp/jenkins/output.13882
  Rendering jenkins/new.html.erb within layouts/application
  Rendered jenkins/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 36195ms (Views: 117.9ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-24 14:21:37 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.9ms)
Completed 200 OK in 85ms (Views: 79.0ms)


Started POST "/start" for 192.168.5.26 at 2017-07-24 14:22:22 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"renshibo@dafy.com", "types"=>"add", "trunk"=>"自如/客户端升级/客户端/Mobile/MobileUpgradeCenter", "branch"=>"云贷官网APP下载优化", "user"=>"renshibo chenhangzheng", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"/F1ZF0mAA5jGr2fQW+2MHFqQiThkby7y9W8rOc2AWpXUKNk1XmWE4++QX2GLX/Rc9AmcFWzSZaTFPho8bVoOug=="}
pid is 14661
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'renshibo chenhangzheng' -t $'\350\207\252\345\246\202/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter' -e renshibo@dafy.com -E '' -b $'\344\272\221\350\264\267\345\256\230\347\275\221APP\344\270\213\350\275\275\344\274\230\345\214\226' -T add -d ''
+ TEMP=' -u '\''renshibo chenhangzheng'\'' -t '\''自如/客户端升级/客户端/Mobile/MobileUpgradeCenter'\'' -e '\''renshibo@dafy.com'\'' -E '\'''\'' -b '\''云贷官网APP下载优化'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''renshibo chenhangzheng'\'' -t '\''自如/客户端升级/客户端/Mobile/MobileUpgradeCenter'\'' -e '\''renshibo@dafy.com'\'' -E '\'''\'' -b '\''云贷官网APP下载优化'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'renshibo chenhangzheng' -t $'\350\207\252\345\246\202/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter' -e renshibo@dafy.com -E '' -b $'\344\272\221\350\264\267\345\256\230\347\275\221APP\344\270\213\350\275\275\344\274\230\345\214\226' -T add -d '' --
+ true
+ case "$1" in
+ user='renshibo chenhangzheng'
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\350\207\252\345\246\202/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ shift 2
+ true
+ case "$1" in
+ email=renshibo@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\344\272\221\350\264\267\345\256\230\347\275\221APP\344\270\213\350\275\275\344\274\230\345\214\226'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=renshibo@dafy.com '
+ SMARTCM_EXTRA_MAIL='renshibo@dafy.com '
++ renshibo chenhangzheng
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: renshibo: command not found
++ for x in '$user'
++ echo renshibo=rw
++ for x in '$user'
++ echo chenhangzheng=rw
+ users='renshibo=rw
chenhangzheng=rw'
++ $'\350\207\252\345\246\202/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 自如/客户端升级/客户端/Mobile/MobileUpgradeCenter: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\350\207\252\345\246\202/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ trunks=$'\350\207\252\345\246\202/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\350\207\252\345\246\202/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter' ']'
+ '[' -z $'\344\272\221\350\264\267\345\256\230\347\275\221APP\344\270\213\350\275\275\344\274\230\345\214\226' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170724
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707241422
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170724-\344\272\221\350\264\267\345\256\230\347\275\221APP\344\270\213\350\275\275\344\274\230\345\214\226/Develop/\350\207\252\345\246\202/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\344\272\221\350\264\267\345\256\230\347\275\221APP\344\270\213\350\275\275\344\274\230\345\214\226'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707241422-\344\272\221\350\264\267\345\256\230\347\275\221APP\344\270\213\350\275\275\344\274\230\345\214\226'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\344\272\221\350\264\267\345\256\230\347\275\221APP\344\270\213\350\275\275\344\274\230\345\214\226/Develop/\350\207\252\345\246\202/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
++ awk -F / '{print $7}'
+ br=$'20170724-\344\272\221\350\264\267\345\256\230\347\275\221APP\344\270\213\350\275\275\344\274\230\345\214\226'
+ access=$'20170724-\344\272\221\350\264\267\345\256\230\347\275\221APP\344\270\213\350\275\275\344\274\230\345\214\226'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter' $'https://192.168.0.220/svn/tech/Branch/20170724-\344\272\221\350\264\267\345\256\230\347\275\221APP\344\270\213\350\275\275\344\274\230\345\214\226/Develop/\350\207\252\345\246\202/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.14661
+ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\344\272\221\350\264\267\345\256\230\347\275\221APP\344\270\213\350\275\275\344\274\230\345\214\226/Develop/\350\207\252\345\246\202/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/自如/客户端升级/客户端/Mobile/MobileUpgradeCenter'\'', '\''https://192.168.0.220/svn/tech/Branch/20170724-云贷官网APP下载优化/Develop/自如/客户端升级/客户端/Mobile/MobileUpgradeCenter'\'',now(),'\''renshibo'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/自如/客户端升级/客户端/Mobile/MobileUpgradeCenter'\'', '\''https://192.168.0.220/svn/tech/Branch/20170724-云贷官网APP下载优化/Develop/自如/客户端升级/客户端/Mobile/MobileUpgradeCenter'\'',now(),'\''renshibo'\'');'
+ cat /tmp/cmdb.db.14661
+ rm -f /tmp/cmdb.db.14661
+ check-acces
+ grep -c '20170724-云贷官网APP下载优化]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z 'renshibo=rw
chenhangzheng=rw'
+ cat
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (42.8ms)
Completed 200 OK in 27349ms (Views: 1385.7ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-24 15:40:41 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (8.5ms)
Completed 200 OK in 97ms (Views: 91.6ms)


Started POST "/start" for 192.168.5.26 at 2017-07-24 15:42:12 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"jiajianjun@dafy.com", "types"=>"add", "trunk"=>"基础业务/账户中心/TradingFeedback", "branch"=>"报表加字段", "user"=>"jiajianjun huwenhu liguangwu", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"/N+tJGmtLMRMfKfnxj6J9sTf7dbwYIU+bYgWUwvwpRTUqi0Gfkirv2VDn1YWjPG2akb4+/jdzmhd2SdWqyrxOw=="}
pid is 15503
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'jiajianjun huwenhu liguangwu' -t $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/TradingFeedback' -e jiajianjun@dafy.com -E '' -b $'\346\212\245\350\241\250\345\212\240\345\255\227\346\256\265' -T add -d ''
+ TEMP=' -u '\''jiajianjun huwenhu liguangwu'\'' -t '\''基础业务/账户中心/TradingFeedback'\'' -e '\''jiajianjun@dafy.com'\'' -E '\'''\'' -b '\''报表加字段'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''jiajianjun huwenhu liguangwu'\'' -t '\''基础业务/账户中心/TradingFeedback'\'' -e '\''jiajianjun@dafy.com'\'' -E '\'''\'' -b '\''报表加字段'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'jiajianjun huwenhu liguangwu' -t $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/TradingFeedback' -e jiajianjun@dafy.com -E '' -b $'\346\212\245\350\241\250\345\212\240\345\255\227\346\256\265' -T add -d '' --
+ true
+ case "$1" in
+ user='jiajianjun huwenhu liguangwu'
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/TradingFeedback'
+ shift 2
+ true
+ case "$1" in
+ email=jiajianjun@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\346\212\245\350\241\250\345\212\240\345\255\227\346\256\265'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=jiajianjun@dafy.com '
+ SMARTCM_EXTRA_MAIL='jiajianjun@dafy.com '
++ jiajianjun huwenhu liguangwu
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: jiajianjun: command not found
++ for x in '$user'
++ echo jiajianjun=rw
++ for x in '$user'
++ echo huwenhu=rw
++ for x in '$user'
++ echo liguangwu=rw
+ users='jiajianjun=rw
huwenhu=rw
liguangwu=rw'
++ $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/TradingFeedback'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 基础业务/账户中心/TradingFeedback: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/TradingFeedback'
+ trunks=$'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/TradingFeedback'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/TradingFeedback' ']'
+ '[' -z $'\346\212\245\350\241\250\345\212\240\345\255\227\346\256\265' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170724
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707241542
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/TradingFeedback'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170724-\346\212\245\350\241\250\345\212\240\345\255\227\346\256\265/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/TradingFeedback'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\346\212\245\350\241\250\345\212\240\345\255\227\346\256\265'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707241542-\346\212\245\350\241\250\345\212\240\345\255\227\346\256\265'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\346\212\245\350\241\250\345\212\240\345\255\227\346\256\265/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/TradingFeedback'
++ awk -F / '{print $7}'
+ br=$'20170724-\346\212\245\350\241\250\345\212\240\345\255\227\346\256\265'
+ access=$'20170724-\346\212\245\350\241\250\345\212\240\345\255\227\346\256\265'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/TradingFeedback' $'https://192.168.0.220/svn/tech/Branch/20170724-\346\212\245\350\241\250\345\212\240\345\255\227\346\256\265/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/TradingFeedback' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.15503
+ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\346\212\245\350\241\250\345\212\240\345\255\227\346\256\265/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/TradingFeedback'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/基础业务/账户中心/TradingFeedback'\'', '\''https://192.168.0.220/svn/tech/Branch/20170724-报表加字段/Develop/基础业务/账户中心/TradingFeedback'\'',now(),'\''jiajianjun'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/基础业务/账户中心/TradingFeedback'\'', '\''https://192.168.0.220/svn/tech/Branch/20170724-报表加字段/Develop/基础业务/账户中心/TradingFeedback'\'',now(),'\''jiajianjun'\'');'
+ cat /tmp/cmdb.db.15503
+ rm -f /tmp/cmdb.db.15503
+ check-acces
+ grep -c '20170724-报表加字段]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z 'jiajianjun=rw
huwenhu=rw
liguangwu=rw'
+ cat
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 6051ms (Views: 81.1ms)


Started GET "/" for 192.168.5.26 at 2017-07-24 17:55:37 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (47.5ms)
Completed 200 OK in 128ms (Views: 124.9ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-25 09:31:11 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (33.1ms)
Completed 200 OK in 734ms (Views: 689.3ms)


Started POST "/start" for 192.168.5.26 at 2017-07-25 09:38:35 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"wenshiyu@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/RepaymentBusiness", "branch"=>"资金方V4改造", "user"=>"wenshiyu weishaolong wanghongkai", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"iiqj7ZCoc0HEeVyg4JKAZ4g5izuYq/KNSISsYck5MyCiXyPPh030Ou1GZBEwIPgnJqCeFpAWudt41Z1kaeNnDw=="}
pid is 28859
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'wenshiyu weishaolong wanghongkai' -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness' -e wenshiyu@dafy.com -E '' -b $'\350\265\204\351\207\221\346\226\271V4\346\224\271\351\200\240' -T add -d ''
+ TEMP=' -u '\''wenshiyu weishaolong wanghongkai'\'' -t '\''外部业务/P2P/Business/RepaymentBusiness'\'' -e '\''wenshiyu@dafy.com'\'' -E '\'''\'' -b '\''资金方V4改造'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''wenshiyu weishaolong wanghongkai'\'' -t '\''外部业务/P2P/Business/RepaymentBusiness'\'' -e '\''wenshiyu@dafy.com'\'' -E '\'''\'' -b '\''资金方V4改造'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'wenshiyu weishaolong wanghongkai' -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness' -e wenshiyu@dafy.com -E '' -b $'\350\265\204\351\207\221\346\226\271V4\346\224\271\351\200\240' -T add -d '' --
+ true
+ case "$1" in
+ user='wenshiyu weishaolong wanghongkai'
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ shift 2
+ true
+ case "$1" in
+ email=wenshiyu@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\350\265\204\351\207\221\346\226\271V4\346\224\271\351\200\240'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=wenshiyu@dafy.com '
+ SMARTCM_EXTRA_MAIL='wenshiyu@dafy.com '
++ wenshiyu weishaolong wanghongkai
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: wenshiyu: command not found
++ for x in '$user'
++ echo wenshiyu=rw
++ for x in '$user'
++ echo weishaolong=rw
++ for x in '$user'
++ echo wanghongkai=rw
+ users='wenshiyu=rw
weishaolong=rw
wanghongkai=rw'
++ $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 外部业务/P2P/Business/RepaymentBusiness: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ trunks=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness' ']'
+ '[' -z $'\350\265\204\351\207\221\346\226\271V4\346\224\271\351\200\240' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170725
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707250938
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170725-\350\265\204\351\207\221\346\226\271V4\346\224\271\351\200\240/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\350\265\204\351\207\221\346\226\271V4\346\224\271\351\200\240'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707250938-\350\265\204\351\207\221\346\226\271V4\346\224\271\351\200\240'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170725-\350\265\204\351\207\221\346\226\271V4\346\224\271\351\200\240/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
++ awk -F / '{print $7}'
+ br=$'20170725-\350\265\204\351\207\221\346\226\271V4\346\224\271\351\200\240'
+ access=$'20170725-\350\265\204\351\207\221\346\226\271V4\346\224\271\351\200\240'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness' $'https://192.168.0.220/svn/tech/Branch/20170725-\350\265\204\351\207\221\346\226\271V4\346\224\271\351\200\240/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.28859
+ echo $'https://192.168.0.220/svn/tech/Branch/20170725-\350\265\204\351\207\221\346\226\271V4\346\224\271\351\200\240/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/RepaymentBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170725-资金方V4改造/Develop/外部业务/P2P/Business/RepaymentBusiness'\'',now(),'\''wenshiyu'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/RepaymentBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170725-资金方V4改造/Develop/外部业务/P2P/Business/RepaymentBusiness'\'',now(),'\''wenshiyu'\'');'
+ cat /tmp/cmdb.db.28859
+ rm -f /tmp/cmdb.db.28859
+ check-acces
+ grep -c '20170725-资金方V4改造]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z 'wenshiyu=rw
weishaolong=rw
wanghongkai=rw'
+ cat
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (9.3ms)
Completed 200 OK in 154651ms (Views: 98.9ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-25 10:09:14 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-07-25 10:09:14 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (140.1ms)
  Rendered merge/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 659ms (Views: 270.5ms)


Completed 200 OK in 378ms (Views: 339.5ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-25 10:10:47 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39 https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway https://192.168.0.220/svn/tech/Branch/20170719-爱本地报表优化/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol", "task"=>"http://192.168.0.221/zentao/task-view-42275.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"ESTHo6ANXWWeJlwO3lCe66y7YX/lkUswWsxlXNd3Qg05UUeBt+jaHrcZZL8O4uarAiJ0Uu0sAGZqnVRZd60WIg=="}
pid is 29349
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42275.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39 https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway https://192.168.0.220/svn/tech/Branch/20170719-爱本地报表优化/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42275.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39 https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway https://192.168.0.220/svn/tech/Branch/20170719-爱本地报表优化/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42275.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39 https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway https://192.168.0.220/svn/tech/Branch/20170719-爱本地报表优化/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42275.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39 https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway https://192.168.0.220/svn/tech/Branch/20170719-爱本地报表优化/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42275.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39 https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway https://192.168.0.220/svn/tech/Branch/20170719-爱本地报表优化/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway' $'https://192.168.0.220/svn/tech/Branch/20170719-\347\210\261\346\234\254\345\234\260\346\212\245\350\241\250\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager' $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170719-\347\210\261\346\234\254\345\234\260\346\212\245\350\241\250\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39
https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway
https://192.168.0.220/svn/tech/Branch/20170719-爱本地报表优化/Develop/外部业务/P2P/P2PManager
https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ rm -f /home/qishanqing/tmp/merged/output.29349
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r129858 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r130564 '
+ '[' '!' -z r129858 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39@r129858' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39@r129858' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42275.html
Merged revision(s) r129858 -r130564   from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ rm -f /home/qishanqing/tmp/merged/output.29349
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r129859 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r129939 '
+ '[' '!' -z r129859 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway@r129859' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway@r129859' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42275.html
Merged revision(s) r129859 -r129939   from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170719-\347\210\261\346\234\254\345\234\260\346\212\245\350\241\250\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170719-\347\210\261\346\234\254\345\234\260\346\212\245\350\241\250\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ rm -f /home/qishanqing/tmp/merged/output.29349
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170719-\347\210\261\346\234\254\345\234\260\346\212\245\350\241\250\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ mails-cm -i 'code merged from Branch/20170719-爱本地报表优化/Develop/外部业务/P2P/P2PManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170719-\347\210\261\346\234\254\345\234\260\346\212\245\350\241\250\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170719-\347\210\261\346\234\254\345\234\260\346\212\245\350\241\250\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r130677 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170719-\347\210\261\346\234\254\345\234\260\346\212\245\350\241\250\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r129210 '
+ '[' '!' -z r129210 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170719-\347\210\261\346\234\254\345\234\260\346\212\245\350\241\250\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager@r129210' $'https://192.168.0.220/svn/tech/Branch/20170719-\347\210\261\346\234\254\345\234\260\346\212\245\350\241\250\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：2'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2322' ']'
+ die 'Svn merged conflicts the r129210 -r130677  from Branch/20170719-爱本地报表优化/Develop/外部业务/P2P/P2PManager'
+ echo 'Svn merged conflicts the r129210 -r130677  from Branch/20170719-爱本地报表优化/Develop/外部业务/P2P/P2PManager'
+ test -e /home/qishanqing/tmp/merged/output.29349
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.29349
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42275.html
Merged revision(s) r129210 -r130677   from Branch/20170719-爱本地报表优化/Develop/外部业务/P2P/P2PManager' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ rm -f /home/qishanqing/tmp/merged/output.29349
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ svn_from_tb_merged
+ mails-cm -i 'code merged from Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol'
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep -C 3 $'Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ revision='r128932 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r130673 '
+ '[' '!' -z r128932 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol@r128932' $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol@r128932' $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42275.html
Merged revision(s) r128932 -r130673   from Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (93.7ms)
Completed 200 OK in 840597ms (Views: 171.5ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-25 10:28:54 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.7ms)
Completed 200 OK in 60ms (Views: 47.2ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-25 10:29:18 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170718-新协议管理模块/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol", "task"=>"http://192.168.0.221/zentao/task-view-42250.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"iFFFT5mi44Jh/voIOjO4vDddYfb5SvvkmfZHZW/NveKgJMVtjkdk+UjBwrnqgcD8mcR02/H3sLKpp3ZgzxfpzQ=="}
pid is 30000
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42250.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170718-新协议管理模块/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42250.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170718-新协议管理模块/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42250.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170718-新协议管理模块/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42250.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170718-新协议管理模块/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42250.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170718-新协议管理模块/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170718-\346\226\260\345\215\217\350\256\256\347\256\241\347\220\206\346\250\241\345\235\227/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170718-新协议管理模块/Develop/老系统/新达飞贷/网站中心/BossSite: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170718-\346\226\260\345\215\217\350\256\256\347\256\241\347\220\206\346\250\241\345\235\227/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170718-新协议管理模块/Develop/老系统/新达飞贷/网站中心/BossSite
https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170718-\346\226\260\345\215\217\350\256\256\347\256\241\347\220\206\346\250\241\345\235\227/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170718-\346\226\260\345\215\217\350\256\256\347\256\241\347\220\206\346\250\241\345\235\227/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ rm -f /home/qishanqing/tmp/merged/output.30000
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170718-\346\226\260\345\215\217\350\256\256\347\256\241\347\220\206\346\250\241\345\235\227/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170718-新协议管理模块/Develop/老系统/新达飞贷/网站中心/BossSite'
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep -C 3 $'Branch/20170718-\346\226\260\345\215\217\350\256\256\347\256\241\347\220\206\346\250\241\345\235\227/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ revision='r129839 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170718-\346\226\260\345\215\217\350\256\256\347\256\241\347\220\206\346\250\241\345\235\227/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r130525 '
+ '[' '!' -z r129839 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170718-\346\226\260\345\215\217\350\256\256\347\256\241\347\220\206\346\250\241\345\235\227/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r129839' $'https://192.168.0.220/svn/tech/Branch/20170718-\346\226\260\345\215\217\350\256\256\347\256\241\347\220\206\346\250\241\345\235\227/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170718-\346\226\260\345\215\217\350\256\256\347\256\241\347\220\206\346\250\241\345\235\227/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r129839' $'https://192.168.0.220/svn/tech/Branch/20170718-\346\226\260\345\215\217\350\256\256\347\256\241\347\220\206\346\250\241\345\235\227/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42250.html
Merged revision(s) r129839 -r130525   from Branch/20170718-新协议管理模块/Develop/老系统/新达飞贷/网站中心/BossSite' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ rm -f /home/qishanqing/tmp/merged/output.30000
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r130709 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r130673 '
+ '[' '!' -z r130709 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol@r130709' $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol@r130709' $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42250.html
Merged revision(s) r130709 -r130673   from Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (12.0ms)
Completed 200 OK in 217109ms (Views: 60.5ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-25 10:35:10 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (12.8ms)
Completed 200 OK in 76ms (Views: 72.5ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-25 10:35:42 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1 https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/公共/TaskScheduler/TaskSchedulerManager https://192.168.0.220/svn/tech/Branch/20170512-转化成maven项目/Develop/基础业务/账户中心/AccountManager", "task"=>"http://192.168.0.221/zentao/task-view-42262.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"PKVbji/vdqKVP1UMVyUley/8PYIU6IpUG0ios/KVyqUU0NusOArx2bwAbb2Hl107gWUorxxVwQIrGZm2Uk+eig=="}
pid is 30174
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42262.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1 https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/公共/TaskScheduler/TaskSchedulerManager https://192.168.0.220/svn/tech/Branch/20170512-转化成maven项目/Develop/基础业务/账户中心/AccountManager' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42262.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1 https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/公共/TaskScheduler/TaskSchedulerManager https://192.168.0.220/svn/tech/Branch/20170512-转化成maven项目/Develop/基础业务/账户中心/AccountManager'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42262.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1 https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/公共/TaskScheduler/TaskSchedulerManager https://192.168.0.220/svn/tech/Branch/20170512-转化成maven项目/Develop/基础业务/账户中心/AccountManager'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42262.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1 https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/公共/TaskScheduler/TaskSchedulerManager https://192.168.0.220/svn/tech/Branch/20170512-转化成maven项目/Develop/基础业务/账户中心/AccountManager' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42262.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1 https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/公共/TaskScheduler/TaskSchedulerManager https://192.168.0.220/svn/tech/Branch/20170512-转化成maven项目/Develop/基础业务/账户中心/AccountManager'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1' $'https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite
https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1
https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/公共/TaskScheduler/TaskSchedulerManager
https://192.168.0.220/svn/tech/Branch/20170512-转化成maven项目/Develop/基础业务/账户中心/AccountManager'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ rm -f /home/qishanqing/tmp/merged/output.30174
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn_from_tb_merged
+ mails-cm -i 'code merged from Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite'
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ awk -F '|' '{print$1}'
++ grep '^r'
++ grep -C 3 $'Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ head -n 4
+ revision='r129842 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r130655 '
+ '[' '!' -z r129842 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r129842' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r129842' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ echo tc
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42262.html
Merged revision(s) r129842 -r130655   from Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ rm -f /home/qishanqing/tmp/merged/output.30174
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1'
+ xargs rm -rf
+ svn st
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r129843 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r130657 '
+ '[' '!' -z r129843 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1@r129843' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1@r129843' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42262.html
Merged revision(s) r129843 -r130657   from Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
+ rm -f /home/qishanqing/tmp/merged/output.30174
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20161011-TaskScheduler/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20161011-TaskScheduler/Develop/公共/TaskScheduler/TaskSchedulerManager'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20161011-TaskScheduler/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r118761 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r130566 '
+ '[' '!' -z r118761 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager@r118761' $'https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager@r118761' $'https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42262.html
Merged revision(s) r118761 -r130566   from Branch/20161011-TaskScheduler/Develop/公共/TaskScheduler/TaskSchedulerManager' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
+ rm -f /home/qishanqing/tmp/merged/output.30174
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
+ svn_from_tb_merged
+ mails-cm -i 'code merged from Branch/20170512-转化成maven项目/Develop/基础业务/账户中心/AccountManager'
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r127830 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r130569 '
+ '[' '!' -z r127830 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager@r127830' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager@r127830' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42262.html
Merged revision(s) r127830 -r130569   from Branch/20170512-转化成maven项目/Develop/基础业务/账户中心/AccountManager' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 88146ms (Views: 77.0ms)


Started GET "/" for 192.168.5.26 at 2017-07-25 11:05:34 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (8.2ms)
Completed 200 OK in 120ms (Views: 97.8ms)


Started GET "/" for 192.168.5.26 at 2017-07-25 11:05:46 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.0ms)
Completed 200 OK in 207ms (Views: 204.9ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-25 11:12:07 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (51.9ms)
Completed 200 OK in 89ms (Views: 85.7ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-25 11:12:29 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"dt", "trunk"=>"https://192.168.0.220/svn/tech/Trunk/数据报表/终端数据/MmsProcessor", "branch"=>"", "task"=>"", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"kOTMYgtK4PHzM7NBGsCEEU6koZsKkozCvUM+OVLZz0W4kUxAHK9nitoMi/DKcvxR4D20tgIvx5SNEg888gObag=="}
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (25.2ms)
Completed 200 OK in 77ms (Views: 74.8ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-25 11:12:40 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"https://192.168.0.220/svn/tech/Trunk/数据报表/终端数据/MmsProcessor", "branch"=>"fefe", "task"=>"", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"cw+1jRlF0RvtkbVjHM2+L7gr3PtGMHFJwzOzbG8fbBtbejWvDqBWYMSujdLMf8ZvFrLJ1k6NOh/zYoJpz8U4NA=="}
pid is 31006
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k '' -R '' -t $'https://192.168.0.220/svn/tech/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\347\273\210\347\253\257\346\225\260\346\215\256/MmsProcessor' -e qishanqing@dafy.com -E '' -b fefe -T add
+ TEMP=' -k '\'''\'' -R '\'''\'' -t '\''https://192.168.0.220/svn/tech/Trunk/数据报表/终端数据/MmsProcessor'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''fefe'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\'''\'' -R '\'''\'' -t '\''https://192.168.0.220/svn/tech/Trunk/数据报表/终端数据/MmsProcessor'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''fefe'\'' -T '\''add'\'' --'
++ set -- -k '' -R '' -t $'https://192.168.0.220/svn/tech/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\347\273\210\347\253\257\346\225\260\346\215\256/MmsProcessor' -e qishanqing@dafy.com -E '' -b fefe -T add --
+ true
+ case "$1" in
+ task=
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\347\273\210\347\253\257\346\225\260\346\215\256/MmsProcessor'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=fefe
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ fefe
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: fefe: command not found
++ for y in '$branch'
++ echo fefe
+ branchs=fefe
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z $'https://192.168.0.220/svn/tech/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\347\273\210\347\253\257\346\225\260\346\215\256/MmsProcessor'
+ svn log -l 1 fefe
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.31006
+ echo
+ cat /home/qishanqing/tmp/merged/output.31006
+ rm -f /home/qishanqing/tmp/merged/output.31006
+ rm -f /home/qishanqing/tmp/merged/output.31006
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\347\273\210\347\253\257\346\225\260\346\215\256/MmsProcessor'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=/home/qishanqing/workspace/code/Branch/fefe
+ test -d $'/home/qishanqing/workspace/code/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\347\273\210\347\253\257\346\225\260\346\215\256/MmsProcessor'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\347\273\210\347\253\257\346\225\260\346\215\256/MmsProcessor'
+ mails-cm -i 'code merged from fefe'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 fefe
++ awk -F '|' '{print$1}'
+ revision=
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 fefe
svn: E155010: 找不到节点 '/home/qishanqing/workspace/code/Trunk/数据报表/终端数据/MmsProcessor/fefe'。
+ head=
+ '[' '!' -z ']'
++ svn log --stop-on-copy fefe
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
svn: E155010: 找不到节点 '/home/qishanqing/workspace/code/Trunk/数据报表/终端数据/MmsProcessor/fefe'。
+ revision=
+ '[' '!' -z ']'
+ svn ci --username builder --password ant@ -m '
Merged revision(s) -  from fefe' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 9664ms (Views: 509.9ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-25 11:13:34 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (41.1ms)
Completed 200 OK in 111ms (Views: 108.1ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-25 11:13:44 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"dt", "trunk"=>"https://192.168.0.220/svn/tech/Trunk/数据报表/终端数据/MmsProcessor", "branch"=>"dvd", "task"=>"", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"qEXXjxRPpSHjaFaduUijswXY8SXwPNwOnAXXQdqVityAMFetA6oiWspXbixp+tvzq0HkCPiBl1isVOZEek/e8w=="}
pid is 31059
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k '' -R '' -t $'https://192.168.0.220/svn/tech/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\347\273\210\347\253\257\346\225\260\346\215\256/MmsProcessor' -e qishanqing@dafy.com -E '' -b dvd -T dt
+ TEMP=' -k '\'''\'' -R '\'''\'' -t '\''https://192.168.0.220/svn/tech/Trunk/数据报表/终端数据/MmsProcessor'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''dvd'\'' -T '\''dt'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\'''\'' -R '\'''\'' -t '\''https://192.168.0.220/svn/tech/Trunk/数据报表/终端数据/MmsProcessor'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''dvd'\'' -T '\''dt'\'' --'
++ set -- -k '' -R '' -t $'https://192.168.0.220/svn/tech/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\347\273\210\347\253\257\346\225\260\346\215\256/MmsProcessor' -e qishanqing@dafy.com -E '' -b dvd -T dt --
+ true
+ case "$1" in
+ task=
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\347\273\210\347\253\257\346\225\260\346\215\256/MmsProcessor'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=dvd
+ shift 2
+ true
+ case "$1" in
+ types=dt
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ dvd
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: dvd: command not found
++ for y in '$branch'
++ echo dvd
+ branchs=dvd
+ test dt = add
+ test dt = del
+ test dt = dt
+ Basecode
+ test -z $'https://192.168.0.220/svn/tech/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\347\273\210\347\253\257\346\225\260\346\215\256/MmsProcessor'
+ svn log -l 1 dvd
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ test -e /home/qishanqing/tmp/merged/output.31059
+ echo
+ cat /home/qishanqing/tmp/merged/output.31059
+ rm -f /home/qishanqing/tmp/merged/output.31059
+ rm -f /home/qishanqing/tmp/merged/output.31059
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\347\273\210\347\253\257\346\225\260\346\215\256/MmsProcessor'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=/home/qishanqing/workspace/code/Branch/dvd
+ svn_dt_merged
+ cd $'/home/qishanqing/workspace/code/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\347\273\210\347\253\257\346\225\260\346\215\256/MmsProcessor'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
正在升级 '.':
版本 130753。
++ svn log -l 2
++ awk -F '|' '{print$1}'
++ grep '^r'
++ tail -n 1
+ revision='r111855 '
+ mails-cm -i $'\345\267\262\345\233\236\351\200\200\345\211\215\344\270\200\344\270\252\347\211\210\346\234\254'
+ '[' -z ']'
+ svn merge -r HEAD:r111855 .
+ svn ci -m $'\347\211\210\346\234\254\345\233\236\351\200\200'
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (2459.3ms)
Completed 200 OK in 13849ms (Views: 5164.5ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-25 11:14:53 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.2ms)
Completed 200 OK in 60ms (Views: 57.8ms)


Started GET "/" for 192.168.5.26 at 2017-07-25 14:50:27 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (72.7ms)
Completed 200 OK in 2310ms (Views: 1727.8ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-25 16:34:30 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (29.0ms)
Completed 200 OK in 268ms (Views: 250.3ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-25 17:55:14 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"dt", "trunk"=>"https://192.168.0.220/svn/tech/Trunk/前端业务/口袋助手3.0/MobileWallet", "branch"=>"tet", "task"=>"", "rev"=>"125157", "extra_mails"=>"", "authenticity_token"=>"UgdjcI7rDyN7/DMX3JFEGAW9oPPhvlUY37PQKzyskRB6cuNSmQ6IWFLDC6YMIzxYqyS13ukDHk7v4uEunHbFPw=="}
pid is 6850
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k '' -R 125157 -t $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet' -e qishanqing@dafy.com -E '' -b tet -T dt
+ TEMP=' -k '\'''\'' -R '\''125157'\'' -t '\''https://192.168.0.220/svn/tech/Trunk/前端业务/口袋助手3.0/MobileWallet'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''tet'\'' -T '\''dt'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\'''\'' -R '\''125157'\'' -t '\''https://192.168.0.220/svn/tech/Trunk/前端业务/口袋助手3.0/MobileWallet'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''tet'\'' -T '\''dt'\'' --'
++ set -- -k '' -R 125157 -t $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet' -e qishanqing@dafy.com -E '' -b tet -T dt --
+ true
+ case "$1" in
+ task=
+ shift 2
+ true
+ case "$1" in
+ rev=125157
+ shift 2
+ true
+ case "$1" in
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=tet
+ shift 2
+ true
+ case "$1" in
+ types=dt
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ tet
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: tet: command not found
++ for y in '$branch'
++ echo tet
+ branchs=tet
+ test dt = add
+ test dt = del
+ test dt = dt
+ Basecode
+ test -z $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet'
+ svn log -l 1 tet
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ test -e /home/qishanqing/tmp/merged/output.6850
+ echo
+ cat /home/qishanqing/tmp/merged/output.6850
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.6850
+ rm -f /home/qishanqing/tmp/merged/output.6850
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=/home/qishanqing/workspace/code/Branch/tet
+ svn_dt_merged
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
正在升级 '.':
版本 130886。
++ awk -F '|' '{print$1}'
++ tail -n 1
++ svn log -l 2
++ grep '^r'
+ revision='r112782 '
+ '[' -z 125157 ']'
+ svm merge -r HEAD:125157 .
+ mails-cm -i $'\345\267\262\345\233\236\351\200\200\347\211\210\346\234\254'
/home/qishanqing/myscript/sh/svn-merged.sh: line 184: svm: command not found
+ svn ci -m '版本回退至: 125157'
Null message body; hope that's ok
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (4.9ms)
Completed 200 OK in 27881ms (Views: 572.3ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-25 17:57:56 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (23.0ms)
Completed 200 OK in 108ms (Views: 84.3ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-25 17:58:13 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"dt", "trunk"=>"https://192.168.0.220/svn/tech/Trunk/前端业务/口袋助手3.0/MobileWallet", "branch"=>"etet", "task"=>"", "rev"=>"125157", "extra_mails"=>"", "authenticity_token"=>"MdgYlFTCxsfORdHOSF13KVfIU1T+z603QTVQAoz2K4oZrZi2QydBvOd66X+Y7w9p+VFGefZy5mFxZGEHLCx/pQ=="}
pid is 6912
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k '' -R 125157 -t $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet' -e qishanqing@dafy.com -E '' -b etet -T dt
+ TEMP=' -k '\'''\'' -R '\''125157'\'' -t '\''https://192.168.0.220/svn/tech/Trunk/前端业务/口袋助手3.0/MobileWallet'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''etet'\'' -T '\''dt'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\'''\'' -R '\''125157'\'' -t '\''https://192.168.0.220/svn/tech/Trunk/前端业务/口袋助手3.0/MobileWallet'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''etet'\'' -T '\''dt'\'' --'
++ set -- -k '' -R 125157 -t $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet' -e qishanqing@dafy.com -E '' -b etet -T dt --
+ true
+ case "$1" in
+ task=
+ shift 2
+ true
+ case "$1" in
+ rev=125157
+ shift 2
+ true
+ case "$1" in
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=etet
+ shift 2
+ true
+ case "$1" in
+ types=dt
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ etet
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: etet: command not found
++ for y in '$branch'
++ echo etet
+ branchs=etet
+ test dt = add
+ test dt = del
+ test dt = dt
+ Basecode
+ test -z $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet'
+ svn log -l 1 etet
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.6912
+ echo
+ cat /home/qishanqing/tmp/merged/output.6912
+ rm -f /home/qishanqing/tmp/merged/output.6912
+ rm -f /home/qishanqing/tmp/merged/output.6912
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=/home/qishanqing/workspace/code/Branch/etet
+ svn_dt_merged
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
正在升级 '.':
版本 130887。
++ svn log -l 2
++ awk -F '|' '{print$1}'
++ grep '^r'
++ tail -n 1
+ revision='r112782 '
+ '[' -z 125157 ']'
+ svn merge -r HEAD:125157 .
+ mails-cm -i $'\345\267\262\345\233\236\351\200\200\347\211\210\346\234\254'
+ svn ci -m '版本回退至: 125157'
Null message body; hope that's ok
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 15789ms (Views: 42.3ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-25 18:00:31 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 57ms (Views: 55.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-25 18:00:55 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"dt", "trunk"=>"https://192.168.0.220/svn/tech/Trunk/前端业务/口袋助手3.0/MobileWallet", "branch"=>"", "task"=>"", "rev"=>"r125157", "extra_mails"=>"", "authenticity_token"=>"EE5M0z9G9y7rLS3glmFUS7GbCNGTP6kfoCC1oREll/s4O8zxKKNwVcISFVFG0ywLHwId/JuC4kmQcYSksf/D1A=="}
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (23.3ms)
Completed 200 OK in 60ms (Views: 57.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-25 18:01:15 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"https://192.168.0.220/svn/tech/Trunk/前端业务/口袋助手3.0/MobileWallet", "branch"=>"fef", "task"=>"", "rev"=>"r125157", "extra_mails"=>"", "authenticity_token"=>"4yElsgKIKFAQJl35JWrsr5FkPDpkt7D70Wpr6I/d1x3LVKWQFW2vKzkZZUj12JTvP/0pF2wK+63hO1rtLweDMg=="}
pid is 7005
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k '' -R r125157 -t $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet' -e qishanqing@dafy.com -E '' -b fef -T add
+ TEMP=' -k '\'''\'' -R '\''r125157'\'' -t '\''https://192.168.0.220/svn/tech/Trunk/前端业务/口袋助手3.0/MobileWallet'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''fef'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\'''\'' -R '\''r125157'\'' -t '\''https://192.168.0.220/svn/tech/Trunk/前端业务/口袋助手3.0/MobileWallet'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''fef'\'' -T '\''add'\'' --'
++ set -- -k '' -R r125157 -t $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet' -e qishanqing@dafy.com -E '' -b fef -T add --
+ true
+ case "$1" in
+ task=
+ shift 2
+ true
+ case "$1" in
+ rev=r125157
+ shift 2
+ true
+ case "$1" in
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=fef
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ fef
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: fef: command not found
++ for y in '$branch'
++ echo fef
+ branchs=fef
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet'
+ svn log -l 1 fef
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.7005
+ echo
+ cat /home/qishanqing/tmp/merged/output.7005
+ rm -f /home/qishanqing/tmp/merged/output.7005
+ rm -f /home/qishanqing/tmp/merged/output.7005
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=/home/qishanqing/workspace/code/Branch/fef
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet'
+ mails-cm -i 'code merged from fef'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ awk -F '|' '{print$1}'
++ grep '^r'
++ grep -C 3 fef
++ head -n 4
Started GET "/merge/new" for 192.168.5.26 at 2017-07-25 18:01:48 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.4ms)
Completed 200 OK in 52ms (Views: 48.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-25 18:02:09 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"dt", "trunk"=>"https://192.168.0.220/svn/tech/Trunk/前端业务/口袋助手3.0/MobileWallet", "branch"=>"", "task"=>"", "rev"=>"r125157", "extra_mails"=>"", "authenticity_token"=>"8Qk6Jn4SVksZzxyVcjULRhUWEKdNVO1DMBFkHb3bWu3ZfLoEaffRMDDwJCSih3MGu48FikXpphUAQFUYHQEOwg=="}
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 35ms (Views: 33.1ms)


+ revision=
++ svn log -l 1 fef
++ grep '^r'
++ awk -F '|' '{print$1}'
svn: E155010: 找不到节点 '/home/qishanqing/workspace/code/Trunk/前端业务/口袋助手3.0/MobileWallet/fef'。
+ head=
+ '[' '!' -z ']'
++ svn log --stop-on-copy fef
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
svn: E155010: 找不到节点 '/home/qishanqing/workspace/code/Trunk/前端业务/口袋助手3.0/MobileWallet/fef'。
+ revision=
+ '[' '!' -z ']'
+ svn ci --username builder --password ant@ -m '
Merged revision(s) -  from fef' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 60887ms (Views: 54.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-25 18:02:17 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"https://192.168.0.220/svn/tech/Trunk/前端业务/口袋助手3.0/MobileWallet", "branch"=>"fef", "task"=>"", "rev"=>"r125157", "extra_mails"=>"", "authenticity_token"=>"l/ug4k4II//zx5+L+vvHPbv94FP9KKBwqKRly+22OGO/jiDAWe2khNr4pzoqSb99FWT1fvWV6yaY9VTOTWxsTA=="}
pid is 7061
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k '' -R r125157 -t $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet' -e qishanqing@dafy.com -E '' -b fef -T add
+ TEMP=' -k '\'''\'' -R '\''r125157'\'' -t '\''https://192.168.0.220/svn/tech/Trunk/前端业务/口袋助手3.0/MobileWallet'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''fef'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\'''\'' -R '\''r125157'\'' -t '\''https://192.168.0.220/svn/tech/Trunk/前端业务/口袋助手3.0/MobileWallet'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''fef'\'' -T '\''add'\'' --'
++ set -- -k '' -R r125157 -t $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet' -e qishanqing@dafy.com -E '' -b fef -T add --
+ true
+ case "$1" in
+ task=
+ shift 2
+ true
+ case "$1" in
+ rev=r125157
+ shift 2
+ true
+ case "$1" in
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=fef
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ fef
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: fef: command not found
++ for y in '$branch'
++ echo fef
+ branchs=fef
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet'
+ svn log -l 1 fef
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ test -e /home/qishanqing/tmp/merged/output.7061
+ echo
+ cat /home/qishanqing/tmp/merged/output.7061
+ rm -f /home/qishanqing/tmp/merged/output.7061
+ rm -f /home/qishanqing/tmp/merged/output.7061
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=/home/qishanqing/workspace/code/Branch/fef
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from fef'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet'
+ clean_workspace
+ svn cleanup .
+ grep '^?'
+ xargs rm -rf
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 fef
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 fef
++ grep '^r'
++ awk -F '|' '{print$1}'
svn: E155010: 找不到节点 '/home/qishanqing/workspace/code/Trunk/前端业务/口袋助手3.0/MobileWallet/fef'。
+ head=
+ '[' '!' -z ']'
++ svn log --stop-on-copy fef
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
svn: E155010: 找不到节点 '/home/qishanqing/workspace/code/Trunk/前端业务/口袋助手3.0/MobileWallet/fef'。
+ revision=
+ '[' '!' -z ']'
+ svn ci --username builder --password ant@ -m '
Merged revision(s) -  from fef' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (10.0ms)
Completed 200 OK in 21329ms (Views: 53.1ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-25 18:02:39 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (27.6ms)
Completed 200 OK in 76ms (Views: 74.1ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-25 18:03:07 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"dt", "trunk"=>"https://192.168.0.220/svn/tech/Trunk/前端业务/口袋助手3.0/MobileWallet", "branch"=>"fef", "task"=>"", "rev"=>"r125157", "extra_mails"=>"", "authenticity_token"=>"fK3Q0pHzirmHdmHtIxryljeWUuxnDhqhu9inOP05Zu1U2FDwhhYNwq5JWVzzqIrWmQ9HwW+zUfeLiZY9XeMywg=="}
pid is 7117
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k '' -R r125157 -t $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet' -e qishanqing@dafy.com -E '' -b fef -T dt
+ TEMP=' -k '\'''\'' -R '\''r125157'\'' -t '\''https://192.168.0.220/svn/tech/Trunk/前端业务/口袋助手3.0/MobileWallet'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''fef'\'' -T '\''dt'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\'''\'' -R '\''r125157'\'' -t '\''https://192.168.0.220/svn/tech/Trunk/前端业务/口袋助手3.0/MobileWallet'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''fef'\'' -T '\''dt'\'' --'
++ set -- -k '' -R r125157 -t $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet' -e qishanqing@dafy.com -E '' -b fef -T dt --
+ true
+ case "$1" in
+ task=
+ shift 2
+ true
+ case "$1" in
+ rev=r125157
+ shift 2
+ true
+ case "$1" in
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=fef
+ shift 2
+ true
+ case "$1" in
+ types=dt
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ fef
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: fef: command not found
++ for y in '$branch'
++ echo fef
+ branchs=fef
+ test dt = add
+ test dt = del
+ test dt = dt
+ Basecode
+ test -z $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet'
+ svn log -l 1 fef
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.7117
+ echo
+ cat /home/qishanqing/tmp/merged/output.7117
+ rm -f /home/qishanqing/tmp/merged/output.7117
+ rm -f /home/qishanqing/tmp/merged/output.7117
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=/home/qishanqing/workspace/code/Branch/fef
+ svn_dt_merged
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
正在升级 '.':
版本 130888。
++ svn log -l 2
++ tail -n 1
++ grep '^r'
++ awk -F '|' '{print$1}'
+ revision='r112782 '
+ '[' -z r125157 ']'
+ svn merge -r HEAD:r125157 .
+ mails-cm -i $'\345\267\262\345\233\236\351\200\200\347\211\210\346\234\254'
+ svn ci -m '版本回退至: r125157'
Null message body; hope that's ok
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 8607ms (Views: 55.8ms)


Started POST "/start" for 192.168.5.26 at 2017-07-25 18:18:29 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"zhouwei@dafy.com", "types"=>"add", "trunk"=>"自如/MobileWallet/iOSNew/KDZS/Trunk/KDZS", "branch"=>"界面优化", "user"=>"chenhangzheng zhanggaobo zhouwei", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"XDsAGLJRvqZ1frWdLmuR6ptjk1YXwKKrTAxl34B2m0t0ToA6pbQ53VxBjSz+2emqNfqGex996f18XVTaIKzPZA=="}
pid is 7337
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'chenhangzheng zhanggaobo zhouwei' -t $'\350\207\252\345\246\202/MobileWallet/iOSNew/KDZS/Trunk/KDZS' -e zhouwei@dafy.com -E '' -b $'\347\225\214\351\235\242\344\274\230\345\214\226' -T add -d ''
+ TEMP=' -u '\''chenhangzheng zhanggaobo zhouwei'\'' -t '\''自如/MobileWallet/iOSNew/KDZS/Trunk/KDZS'\'' -e '\''zhouwei@dafy.com'\'' -E '\'''\'' -b '\''界面优化'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''chenhangzheng zhanggaobo zhouwei'\'' -t '\''自如/MobileWallet/iOSNew/KDZS/Trunk/KDZS'\'' -e '\''zhouwei@dafy.com'\'' -E '\'''\'' -b '\''界面优化'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'chenhangzheng zhanggaobo zhouwei' -t $'\350\207\252\345\246\202/MobileWallet/iOSNew/KDZS/Trunk/KDZS' -e zhouwei@dafy.com -E '' -b $'\347\225\214\351\235\242\344\274\230\345\214\226' -T add -d '' --
+ true
+ case "$1" in
+ user='chenhangzheng zhanggaobo zhouwei'
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\350\207\252\345\246\202/MobileWallet/iOSNew/KDZS/Trunk/KDZS'
+ shift 2
+ true
+ case "$1" in
+ email=zhouwei@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\347\225\214\351\235\242\344\274\230\345\214\226'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=zhouwei@dafy.com '
+ SMARTCM_EXTRA_MAIL='zhouwei@dafy.com '
++ chenhangzheng zhanggaobo zhouwei
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: chenhangzheng: command not found
++ for x in '$user'
++ echo chenhangzheng=rw
++ for x in '$user'
++ echo zhanggaobo=rw
++ for x in '$user'
++ echo zhouwei=rw
+ users='chenhangzheng=rw
zhanggaobo=rw
zhouwei=rw'
++ $'\350\207\252\345\246\202/MobileWallet/iOSNew/KDZS/Trunk/KDZS'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 自如/MobileWallet/iOSNew/KDZS/Trunk/KDZS: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\350\207\252\345\246\202/MobileWallet/iOSNew/KDZS/Trunk/KDZS'
+ trunks=$'\350\207\252\345\246\202/MobileWallet/iOSNew/KDZS/Trunk/KDZS'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\350\207\252\345\246\202/MobileWallet/iOSNew/KDZS/Trunk/KDZS' ']'
+ '[' -z $'\347\225\214\351\235\242\344\274\230\345\214\226' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170725
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707251818
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/MobileWallet/iOSNew/KDZS/Trunk/KDZS'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170725-\347\225\214\351\235\242\344\274\230\345\214\226/Develop/\350\207\252\345\246\202/MobileWallet/iOSNew/KDZS/Trunk/KDZS'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\347\225\214\351\235\242\344\274\230\345\214\226'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707251818-\347\225\214\351\235\242\344\274\230\345\214\226'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170725-\347\225\214\351\235\242\344\274\230\345\214\226/Develop/\350\207\252\345\246\202/MobileWallet/iOSNew/KDZS/Trunk/KDZS'
++ awk -F / '{print $7}'
+ br=$'20170725-\347\225\214\351\235\242\344\274\230\345\214\226'
+ access=$'20170725-\347\225\214\351\235\242\344\274\230\345\214\226'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/MobileWallet/iOSNew/KDZS/Trunk/KDZS' $'https://192.168.0.220/svn/tech/Branch/20170725-\347\225\214\351\235\242\344\274\230\345\214\226/Develop/\350\207\252\345\246\202/MobileWallet/iOSNew/KDZS/Trunk/KDZS' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.7337
+ echo $'https://192.168.0.220/svn/tech/Branch/20170725-\347\225\214\351\235\242\344\274\230\345\214\226/Develop/\350\207\252\345\246\202/MobileWallet/iOSNew/KDZS/Trunk/KDZS'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/自如/MobileWallet/iOSNew/KDZS/Trunk/KDZS'\'', '\''https://192.168.0.220/svn/tech/Branch/20170725-界面优化/Develop/自如/MobileWallet/iOSNew/KDZS/Trunk/KDZS'\'',now(),'\''zhouwei'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/自如/MobileWallet/iOSNew/KDZS/Trunk/KDZS'\'', '\''https://192.168.0.220/svn/tech/Branch/20170725-界面优化/Develop/自如/MobileWallet/iOSNew/KDZS/Trunk/KDZS'\'',now(),'\''zhouwei'\'');'
+ cat /tmp/cmdb.db.7337
+ rm -f /tmp/cmdb.db.7337
+ check-acces
+ grep -c '20170725-界面优化]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z 'chenhangzheng=rw
zhanggaobo=rw
zhouwei=rw'
+ cat
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (30.4ms)
Completed 200 OK in 6248ms (Views: 109.2ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-25 18:42:13 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (5.0ms)
Completed 200 OK in 120ms (Views: 116.7ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-25 18:51:56 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.7ms)
Completed 200 OK in 82ms (Views: 61.0ms)


Started POST "/start" for 192.168.5.26 at 2017-07-25 18:52:50 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"wangguan@dafy.com", "types"=>"add", "trunk"=>"前端业务/口袋助手3.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper", "branch"=>"达飞小助手", "user"=>"chenhangzheng zhaojianxin wangguan", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"d4ChSFMBQT9+gzkRvx0y0B+E5PNH5I/PHTAEouGOg/df9SFqROTGRFe8AaBvr0qQsR3x3k9ZxJktYTWnQVTX2A=="}
pid is 8042
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'chenhangzheng zhaojianxin wangguan' -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper' -e wangguan@dafy.com -E '' -b $'\350\276\276\351\243\236\345\260\217\345\212\251\346\211\213' -T add -d ''
+ TEMP=' -u '\''chenhangzheng zhaojianxin wangguan'\'' -t '\''前端业务/口袋助手3.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'\'' -e '\''wangguan@dafy.com'\'' -E '\'''\'' -b '\''达飞小助手'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''chenhangzheng zhaojianxin wangguan'\'' -t '\''前端业务/口袋助手3.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'\'' -e '\''wangguan@dafy.com'\'' -E '\'''\'' -b '\''达飞小助手'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'chenhangzheng zhaojianxin wangguan' -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper' -e wangguan@dafy.com -E '' -b $'\350\276\276\351\243\236\345\260\217\345\212\251\346\211\213' -T add -d '' --
+ true
+ case "$1" in
+ user='chenhangzheng zhaojianxin wangguan'
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'
+ shift 2
+ true
+ case "$1" in
+ email=wangguan@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\350\276\276\351\243\236\345\260\217\345\212\251\346\211\213'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=wangguan@dafy.com '
+ SMARTCM_EXTRA_MAIL='wangguan@dafy.com '
++ chenhangzheng zhaojianxin wangguan
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: chenhangzheng: command not found
++ for x in '$user'
++ echo chenhangzheng=rw
++ for x in '$user'
++ echo zhaojianxin=rw
++ for x in '$user'
++ echo wangguan=rw
+ users='chenhangzheng=rw
zhaojianxin=rw
wangguan=rw'
++ $'\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 前端业务/口袋助手3.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'
+ trunks=$'\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper' ']'
+ '[' -z $'\350\276\276\351\243\236\345\260\217\345\212\251\346\211\213' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170725
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707251852
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170725-\350\276\276\351\243\236\345\260\217\345\212\251\346\211\213/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\350\276\276\351\243\236\345\260\217\345\212\251\346\211\213'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707251852-\350\276\276\351\243\236\345\260\217\345\212\251\346\211\213'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170725-\350\276\276\351\243\236\345\260\217\345\212\251\346\211\213/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'
++ awk -F / '{print $7}'
+ br=$'20170725-\350\276\276\351\243\236\345\260\217\345\212\251\346\211\213'
+ access=$'20170725-\350\276\276\351\243\236\345\260\217\345\212\251\346\211\213'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper' $'https://192.168.0.220/svn/tech/Branch/20170725-\350\276\276\351\243\236\345\260\217\345\212\251\346\211\213/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.8042
+ echo $'https://192.168.0.220/svn/tech/Branch/20170725-\350\276\276\351\243\236\345\260\217\345\212\251\346\211\213/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/口袋助手3.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'\'', '\''https://192.168.0.220/svn/tech/Branch/20170725-达飞小助手/Develop/前端业务/口袋助手3.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'\'',now(),'\''wangguan'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/口袋助手3.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'\'', '\''https://192.168.0.220/svn/tech/Branch/20170725-达飞小助手/Develop/前端业务/口袋助手3.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'\'',now(),'\''wangguan'\'');'
+ cat /tmp/cmdb.db.8042
+ rm -f /tmp/cmdb.db.8042
+ check-acces
+ grep -c '20170725-达飞小助手]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ cat
+ test -z 'chenhangzheng=rw
zhaojianxin=rw
wangguan=rw'
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 6196ms (Views: 64.7ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-26 09:52:28 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170725-团购结算调整/Develop/事事分期/StageAll/StageCenter", "task"=>"http://192.168.0.221/zentao/task-view-42349.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"+ONVMu1nL8/n9SeJE10qsWNbqBCFjBPWs1J62NBTSeHQltUQ+oKotM7KHzjD71LxzcK9PY0xWICDA0vdcIkdzg=="}
pid is 16987
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42349.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170725-\345\233\242\350\264\255\347\273\223\347\256\227\350\260\203\346\225\264/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42349.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170725-团购结算调整/Develop/事事分期/StageAll/StageCenter'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42349.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170725-团购结算调整/Develop/事事分期/StageAll/StageCenter'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42349.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170725-\345\233\242\350\264\255\347\273\223\347\256\227\350\260\203\346\225\264/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42349.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170725-\345\233\242\350\264\255\347\273\223\347\256\227\350\260\203\346\225\264/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170725-\345\233\242\350\264\255\347\273\223\347\256\227\350\260\203\346\225\264/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170725-团购结算调整/Develop/事事分期/StageAll/StageCenter: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170725-\345\233\242\350\264\255\347\273\223\347\256\227\350\260\203\346\225\264/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170725-\345\233\242\350\264\255\347\273\223\347\256\227\350\260\203\346\225\264/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170725-\345\233\242\350\264\255\347\273\223\347\256\227\350\260\203\346\225\264/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170725-\345\233\242\350\264\255\347\273\223\347\256\227\350\260\203\346\225\264/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ rm -f /home/qishanqing/tmp/merged/output.16987
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170725-\345\233\242\350\264\255\347\273\223\347\256\227\350\260\203\346\225\264/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170725-团购结算调整/Develop/事事分期/StageAll/StageCenter'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170725-\345\233\242\350\264\255\347\273\223\347\256\227\350\260\203\346\225\264/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
++ awk -F '|' '{print$1}'
+ revision=
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170725-\345\233\242\350\264\255\347\273\223\347\256\227\350\260\203\346\225\264/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
++ awk -F '|' '{print$1}'
+ head='r130837 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170725-\345\233\242\350\264\255\347\273\223\347\256\227\350\260\203\346\225\264/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
++ tail -n 4
+ revision='r130833 '
+ '[' '!' -z r130833 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170725-\345\233\242\350\264\255\347\273\223\347\256\227\350\260\203\346\225\264/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter@r130833' $'https://192.168.0.220/svn/tech/Branch/20170725-\345\233\242\350\264\255\347\273\223\347\256\227\350\260\203\346\225\264/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170725-\345\233\242\350\264\255\347\273\223\347\256\227\350\260\203\346\225\264/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter@r130833' $'https://192.168.0.220/svn/tech/Branch/20170725-\345\233\242\350\264\255\347\273\223\347\256\227\350\260\203\346\225\264/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42349.html
Merged revision(s) r130833 -r130837   from Branch/20170725-团购结算调整/Develop/事事分期/StageAll/StageCenter' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (49.6ms)
Completed 200 OK in 47034ms (Views: 752.4ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-26 09:53:51 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (26.0ms)
Completed 200 OK in 200ms (Views: 70.1ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-26 09:54:07 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/mindai_38", "task"=>"http://192.168.0.221/zentao/task-view-42348.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"D/gHHRwBtuqz5ZZ9rHXUkzdRMzGjYXnnE8tiLZZvB6EnjYc/C+QxkZrarsx8x6zTmcgmHKvcMrEjmlMoNrVTjg=="}
pid is 17244
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42348.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42348.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/mindai_38'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42348.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/mindai_38'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42348.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42348.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/mindai_38: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38'
+ rm -f /home/qishanqing/tmp/merged/output.17244
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/mindai_38'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r130366 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r130866 '
+ '[' '!' -z r130366 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38@r130366' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38@r130366' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42348.html
Merged revision(s) r130366 -r130866   from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/mindai_38' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 51994ms (Views: 73.3ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-26 09:55:51 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (42.6ms)
Completed 200 OK in 94ms (Views: 92.1ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-26 09:55:59 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/UserBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42363.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"uUSk3Lzs9rtLSEzb66BpxkqhEwgXGytX7gsFpj7bQu6RMST+qwlxwGJ3dGo7EhGG5DgGJR+mYAHeWjSjngEWwQ=="}
pid is 17319
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42363.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42363.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/UserBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42363.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/UserBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42363.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42363.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/UserBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.17319
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170609-资金方协议/Develop/基础业务/用户中心/UserBusiness'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep -C 3 $'Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ revision='r128131 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r130949 '
+ '[' '!' -z r128131 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness@r128131' $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness@r128131' $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42363.html
Merged revision(s) r128131 -r130949   from Branch/20170609-资金方协议/Develop/基础业务/用户中心/UserBusiness' --username qishanqing --password q372232
svn: E155015: 提交失败(细节如下): 
svn: E155015: 提交终止: “/home/qishanqing/workspace/code/Trunk/基础业务/用户中心/UserBusiness/src/com/dafy/ubiz/plugin/UserService.java” 处于冲突状态
+ die 'Svn merged conflicts the reasons for failure are as follows'
+ echo 'Svn merged conflicts the reasons for failure are as follows'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.17319
+ echo
+ cat /home/qishanqing/tmp/merged/output.17319
+ rm -f /home/qishanqing/tmp/merged/output.17319
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 40109ms (Views: 33.4ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-26 09:56:58 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.1ms)
Completed 200 OK in 106ms (Views: 102.1ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-26 09:57:47 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170704-电催提供服务/Develop/催收/服务/SupCCBusinessV1 https://192.168.0.220/svn/tech/Branch/20170704-电催提供服务/Develop/催收/服务/collectionBusiness https://192.168.0.220/svn/tech/Branch/20160718-华兴接入项目/Develop/外部业务/P2P/Business/GHBBusiness https://192.168.0.220/svn/tech/Branch/20170706-催收功能优化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness\r\n", "task"=>"http://192.168.0.221/zentao/task-view-42313.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"M9R2hPzjm7rABCvZlwz9I2Ey/1GaiRnJ7bNagMA0zL8bofam6wYcwek7E2hHvoVjz6vqfJI0Up/d4muFYO6YkA=="}
pid is 17414
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42313.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170704-电催提供服务/Develop/催收/服务/SupCCBusinessV1 https://192.168.0.220/svn/tech/Branch/20170704-电催提供服务/Develop/催收/服务/collectionBusiness https://192.168.0.220/svn/tech/Branch/20160718-华兴接入项目/Develop/外部业务/P2P/Business/GHBBusiness https://192.168.0.220/svn/tech/Branch/20170706-催收功能优化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness
' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42313.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170704-电催提供服务/Develop/催收/服务/SupCCBusinessV1 https://192.168.0.220/svn/tech/Branch/20170704-电催提供服务/Develop/催收/服务/collectionBusiness https://192.168.0.220/svn/tech/Branch/20160718-华兴接入项目/Develop/外部业务/P2P/Business/GHBBusiness https://192.168.0.220/svn/tech/Branch/20170706-催收功能优化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness
'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42313.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170704-电催提供服务/Develop/催收/服务/SupCCBusinessV1 https://192.168.0.220/svn/tech/Branch/20170704-电催提供服务/Develop/催收/服务/collectionBusiness https://192.168.0.220/svn/tech/Branch/20160718-华兴接入项目/Develop/外部业务/P2P/Business/GHBBusiness https://192.168.0.220/svn/tech/Branch/20170706-催收功能优化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness
'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42313.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170704-电催提供服务/Develop/催收/服务/SupCCBusinessV1 https://192.168.0.220/svn/tech/Branch/20170704-电催提供服务/Develop/催收/服务/collectionBusiness https://192.168.0.220/svn/tech/Branch/20160718-华兴接入项目/Develop/外部业务/P2P/Business/GHBBusiness https://192.168.0.220/svn/tech/Branch/20170706-催收功能优化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness
' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42313.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170704-电催提供服务/Develop/催收/服务/SupCCBusinessV1 https://192.168.0.220/svn/tech/Branch/20170704-电催提供服务/Develop/催收/服务/collectionBusiness https://192.168.0.220/svn/tech/Branch/20160718-华兴接入项目/Develop/外部业务/P2P/Business/GHBBusiness https://192.168.0.220/svn/tech/Branch/20170706-催收功能优化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness
'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170704-\347\224\265\345\202\254\346\217\220\344\276\233\346\234\215\345\212\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1' $'https://192.168.0.220/svn/tech/Branch/20170704-\347\224\265\345\202\254\346\217\220\344\276\233\346\234\215\345\212\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/collectionBusiness' $'https://192.168.0.220/svn/tech/Branch/20160718-\345\215\216\345\205\264\346\216\245\345\205\245\351\241\271\347\233\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/GHBBusiness' $'https://192.168.0.220/svn/tech/Branch/20170706-\345\202\254\346\224\266\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness\r'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170704-电催提供服务/Develop/催收/服务/SupCCBusinessV1: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170704-\347\224\265\345\202\254\346\217\220\344\276\233\346\234\215\345\212\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170704-\347\224\265\345\202\254\346\217\220\344\276\233\346\234\215\345\212\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/collectionBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20160718-\345\215\216\345\205\264\346\216\245\345\205\245\351\241\271\347\233\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/GHBBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170706-\345\202\254\346\224\266\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness\r'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170704-电催提供服务/Develop/催收/服务/SupCCBusinessV1
https://192.168.0.220/svn/tech/Branch/20170704-电催提供服务/Develop/催收/服务/collectionBusiness
https://192.168.0.220/svn/tech/Branch/20160718-华兴接入项目/Develop/外部业务/P2P/Business/GHBBusiness
https://192.168.0.220/svn/tech/Branch/20170706-催收功能优化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170704-\347\224\265\345\202\254\346\217\220\344\276\233\346\234\215\345\212\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170704-\347\224\265\345\202\254\346\217\220\344\276\233\346\234\215\345\212\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
+ rm -f /home/qishanqing/tmp/merged/output.17414
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170704-\347\224\265\345\202\254\346\217\220\344\276\233\346\234\215\345\212\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170704-电催提供服务/Develop/催收/服务/SupCCBusinessV1'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170704-\347\224\265\345\202\254\346\217\220\344\276\233\346\234\215\345\212\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170704-\347\224\265\345\202\254\346\217\220\344\276\233\346\234\215\345\212\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r129242 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170704-\347\224\265\345\202\254\346\217\220\344\276\233\346\234\215\345\212\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r128831 '
+ '[' '!' -z r128831 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170704-\347\224\265\345\202\254\346\217\220\344\276\233\346\234\215\345\212\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1@r128831' $'https://192.168.0.220/svn/tech/Branch/20170704-\347\224\265\345\202\254\346\217\220\344\276\233\346\234\215\345\212\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170704-\347\224\265\345\202\254\346\217\220\344\276\233\346\234\215\345\212\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1@r128831' $'https://192.168.0.220/svn/tech/Branch/20170704-\347\224\265\345\202\254\346\217\220\344\276\233\346\234\215\345\212\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42313.html
Merged revision(s) r128831 -r129242   from Branch/20170704-电催提供服务/Develop/催收/服务/SupCCBusinessV1' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170704-\347\224\265\345\202\254\346\217\220\344\276\233\346\234\215\345\212\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/collectionBusiness'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\202\254\346\224\266/\346\234\215\345\212\241/collectionBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170704-\347\224\265\345\202\254\346\217\220\344\276\233\346\234\215\345\212\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/collectionBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.17414
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\202\254\346\224\266/\346\234\215\345\212\241/collectionBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170704-\347\224\265\345\202\254\346\217\220\344\276\233\346\234\215\345\212\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/collectionBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\202\254\346\224\266/\346\234\215\345\212\241/collectionBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170704-电催提供服务/Develop/催收/服务/collectionBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\202\254\346\224\266/\346\234\215\345\212\241/collectionBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170704-\347\224\265\345\202\254\346\217\220\344\276\233\346\234\215\345\212\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/collectionBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170704-\347\224\265\345\202\254\346\217\220\344\276\233\346\234\215\345\212\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/collectionBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r130753 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170704-\347\224\265\345\202\254\346\217\220\344\276\233\346\234\215\345\212\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/collectionBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
++ tail -n 4
+ revision='r125217 '
+ '[' '!' -z r125217 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170704-\347\224\265\345\202\254\346\217\220\344\276\233\346\234\215\345\212\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/collectionBusiness@r125217' $'https://192.168.0.220/svn/tech/Branch/20170704-\347\224\265\345\202\254\346\217\220\344\276\233\346\234\215\345\212\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/collectionBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：1'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2321' ']'
+ die 'Svn merged conflicts the r125217 -r130753  from Branch/20170704-电催提供服务/Develop/催收/服务/collectionBusiness'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r125217 -r130753  from Branch/20170704-电催提供服务/Develop/催收/服务/collectionBusiness'
+ test -e /home/qishanqing/tmp/merged/output.17414
+ rm -f /home/qishanqing/tmp/merged/output.17414
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42313.html
Merged revision(s) r125217 -r130753   from Branch/20170704-电催提供服务/Develop/催收/服务/collectionBusiness' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20160718-\345\215\216\345\205\264\346\216\245\345\205\245\351\241\271\347\233\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/GHBBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/GHBBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20160718-\345\215\216\345\205\264\346\216\245\345\205\245\351\241\271\347\233\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/GHBBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.17414
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/GHBBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20160718-\345\215\216\345\205\264\346\216\245\345\205\245\351\241\271\347\233\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/GHBBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/GHBBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/GHBBusiness'
+ mails-cm -i 'code merged from Branch/20160718-华兴接入项目/Develop/外部业务/P2P/Business/GHBBusiness'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ head -n 4
++ grep '^r'
++ svn log
++ awk -F '|' '{print$1}'
++ grep -C 3 $'Branch/20160718-\345\215\216\345\205\264\346\216\245\345\205\245\351\241\271\347\233\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/GHBBusiness'
+ revision='r127732 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20160718-\345\215\216\345\205\264\346\216\245\345\205\245\351\241\271\347\233\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/GHBBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r127651 '
+ '[' '!' -z r127732 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20160718-\345\215\216\345\205\264\346\216\245\345\205\245\351\241\271\347\233\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/GHBBusiness@r127732' $'https://192.168.0.220/svn/tech/Branch/20160718-\345\215\216\345\205\264\346\216\245\345\205\245\351\241\271\347\233\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/GHBBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20160718-\345\215\216\345\205\264\346\216\245\345\205\245\351\241\271\347\233\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/GHBBusiness@r127732' $'https://192.168.0.220/svn/tech/Branch/20160718-\345\215\216\345\205\264\346\216\245\345\205\245\351\241\271\347\233\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/GHBBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42313.html
Merged revision(s) r127732 -r127651   from Branch/20160718-华兴接入项目/Develop/外部业务/P2P/Business/GHBBusiness' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170706-\345\202\254\346\224\266\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness\r'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness\r'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170706-\345\202\254\346\224\266\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.17414
+ echo
+ cat /home/qishanqing/tmp/merged/output.17414
+ rm -f /home/qishanqing/tmp/merged/output.17414
+ rm -f /home/qishanqing/tmp/merged/output.17414
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170706-\345\202\254\346\224\266\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness\r'
+ die '外部业务/P2P/Business/CollectionOverdueBatchBusiness  project code no found'
+ mails-cm -i 'svn merged faild'
+ echo '外部业务/P2P/Business/CollectionOverdueBatchBusiness  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.17414
+ rm -f /home/qishanqing/tmp/merged/output.17414
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 62070ms (Views: 61.3ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-26 09:59:06 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (87.7ms)
Completed 200 OK in 233ms (Views: 230.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-26 10:03:12 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170721-费率调整/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170721-费率调整/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170721-借款综合费率调整/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/UserBusiness https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature", "task"=>"http://192.168.0.221/zentao/task-view-42357.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"I6kpX9tuW0Qql9aYneLcnVERlEBA3sdRsNzFQxl7ji8L3Kl9zIvcPwOo7ilNUKTd/4iBbUhjjAeAjfRGuaHaAA=="}
pid is 17803
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42357.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170721-费率调整/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170721-费率调整/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170721-借款综合费率调整/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/UserBusiness https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42357.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170721-费率调整/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170721-费率调整/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170721-借款综合费率调整/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/UserBusiness https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42357.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170721-费率调整/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170721-费率调整/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170721-借款综合费率调整/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/UserBusiness https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42357.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170721-费率调整/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170721-费率调整/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170721-借款综合费率调整/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/UserBusiness https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42357.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170721-费率调整/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170721-费率调整/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170721-借款综合费率调整/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/UserBusiness https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170721-\350\264\271\347\216\207\350\260\203\346\225\264/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' $'https://192.168.0.220/svn/tech/Branch/20170721-\350\264\271\347\216\207\350\260\203\346\225\264/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness' $'https://192.168.0.220/svn/tech/Branch/20170721-\345\200\237\346\254\276\347\273\274\345\220\210\350\264\271\347\216\207\350\260\203\346\225\264/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory' $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170721-费率调整/Develop/外部业务/P2P/Business/BorrowBusiness2: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170721-\350\264\271\347\216\207\350\260\203\346\225\264/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170721-\350\264\271\347\216\207\350\260\203\346\225\264/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170721-\345\200\237\346\254\276\347\273\274\345\220\210\350\264\271\347\216\207\350\260\203\346\225\264/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170721-费率调整/Develop/外部业务/P2P/Business/BorrowBusiness2
https://192.168.0.220/svn/tech/Branch/20170721-费率调整/Develop/外部业务/P2P/Business/BossBusiness
https://192.168.0.220/svn/tech/Branch/20170721-借款综合费率调整/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/老系统/新达飞贷/网站中心/BossSite
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/UserBusiness
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170721-\350\264\271\347\216\207\350\260\203\346\225\264/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170721-\350\264\271\347\216\207\350\260\203\346\225\264/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ rm -f /home/qishanqing/tmp/merged/output.17803
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170721-\350\264\271\347\216\207\350\260\203\346\225\264/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ svn_from_tb_merged
+ mails-cm -i 'code merged from Branch/20170721-费率调整/Develop/外部业务/P2P/Business/BorrowBusiness2'
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ awk -F '|' '{print$1}'
++ grep '^r'
++ grep -C 3 $'Branch/20170721-\350\264\271\347\216\207\350\260\203\346\225\264/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ head -n 4
+ revision=
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170721-\350\264\271\347\216\207\350\260\203\346\225\264/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ head='r130785 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170721-\350\264\271\347\216\207\350\260\203\346\225\264/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ tail -n 4
+ revision='r130129 '
+ '[' '!' -z r130129 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170721-\350\264\271\347\216\207\350\260\203\346\225\264/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2@r130129' $'https://192.168.0.220/svn/tech/Branch/20170721-\350\264\271\347\216\207\350\260\203\346\225\264/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170721-\350\264\271\347\216\207\350\260\203\346\225\264/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2@r130129' $'https://192.168.0.220/svn/tech/Branch/20170721-\350\264\271\347\216\207\350\260\203\346\225\264/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42357.html
Merged revision(s) r130129 -r130785   from Branch/20170721-费率调整/Develop/外部业务/P2P/Business/BorrowBusiness2' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170721-\350\264\271\347\216\207\350\260\203\346\225\264/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170721-\350\264\271\347\216\207\350\260\203\346\225\264/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.17803
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170721-\350\264\271\347\216\207\350\260\203\346\225\264/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170721-费率调整/Develop/外部业务/P2P/Business/BossBusiness'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170721-\350\264\271\347\216\207\350\260\203\346\225\264/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170721-\350\264\271\347\216\207\350\260\203\346\225\264/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r130256 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170721-\350\264\271\347\216\207\350\260\203\346\225\264/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
++ tail -n 4
+ revision='r130130 '
+ '[' '!' -z r130130 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170721-\350\264\271\347\216\207\350\260\203\346\225\264/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness@r130130' $'https://192.168.0.220/svn/tech/Branch/20170721-\350\264\271\347\216\207\350\260\203\346\225\264/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170721-\350\264\271\347\216\207\350\260\203\346\225\264/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness@r130130' $'https://192.168.0.220/svn/tech/Branch/20170721-\350\264\271\347\216\207\350\260\203\346\225\264/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42357.html
Merged revision(s) r130130 -r130256   from Branch/20170721-费率调整/Develop/外部业务/P2P/Business/BossBusiness' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170721-\345\200\237\346\254\276\347\273\274\345\220\210\350\264\271\347\216\207\350\260\203\346\225\264/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170721-\345\200\237\346\254\276\347\273\274\345\220\210\350\264\271\347\216\207\350\260\203\346\225\264/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ rm -f /home/qishanqing/tmp/merged/output.17803
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170721-\345\200\237\346\254\276\347\273\274\345\220\210\350\264\271\347\216\207\350\260\203\346\225\264/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ mails-cm -i 'code merged from Branch/20170721-借款综合费率调整/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170721-\345\200\237\346\254\276\347\273\274\345\220\210\350\264\271\347\216\207\350\260\203\346\225\264/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170721-\345\200\237\346\254\276\347\273\274\345\220\210\350\264\271\347\216\207\350\260\203\346\225\264/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r130568 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170721-\345\200\237\346\254\276\347\273\274\345\220\210\350\264\271\347\216\207\350\260\203\346\225\264/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r130110 '
+ '[' '!' -z r130110 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170721-\345\200\237\346\254\276\347\273\274\345\220\210\350\264\271\347\216\207\350\260\203\346\225\264/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r130110' $'https://192.168.0.220/svn/tech/Branch/20170721-\345\200\237\346\254\276\347\273\274\345\220\210\350\264\271\347\216\207\350\260\203\346\225\264/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170721-\345\200\237\346\254\276\347\273\274\345\220\210\350\264\271\347\216\207\350\260\203\346\225\264/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r130110' $'https://192.168.0.220/svn/tech/Branch/20170721-\345\200\237\346\254\276\347\273\274\345\220\210\350\264\271\347\216\207\350\260\203\346\225\264/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42357.html
Merged revision(s) r130110 -r130568   from Branch/20170721-借款综合费率调整/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ rm -f /home/qishanqing/tmp/merged/output.17803
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ mails-cm -i 'code merged from Branch/20170609-资金方协议/Develop/老系统/新达飞贷/网站中心/BossSite'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r128175 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r130947 '
+ '[' '!' -z r128175 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r128175' $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r128175' $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42357.html
Merged revision(s) r128175 -r130947   from Branch/20170609-资金方协议/Develop/老系统/新达飞贷/网站中心/BossSite' --username qishanqing --password q372232
svn: E155015: 提交失败(细节如下): 
svn: E155015: 提交终止: “/home/qishanqing/workspace/code/Trunk/老系统/新达飞贷/网站中心/BossSite/WebRoot/protocolmanager/view/main.htm” 处于冲突状态
+ die 'Svn merged conflicts the reasons for failure are as follows'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the reasons for failure are as follows'
+ test -e /home/qishanqing/tmp/merged/output.17803
+ echo
+ cat /home/qishanqing/tmp/merged/output.17803
+ rm -f /home/qishanqing/tmp/merged/output.17803
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ rm -f /home/qishanqing/tmp/merged/output.17803
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r129518 '
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
++ awk -F '|' '{print$1}'
+ head='r130950 '
+ '[' '!' -z r129518 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory@r129518' $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory@r129518' $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42357.html
Merged revision(s) r129518 -r130950   from Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.17803
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ mails-cm -i 'code merged from Branch/20170609-资金方协议/Develop/基础业务/用户中心/UserBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ awk -F '|' '{print$1}'
++ grep '^r'
++ grep -C 3 $'Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ head -n 4
+ revision='r130977 '
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ grep '^r'
+ head='r130949 '
+ '[' '!' -z r130977 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness@r130977' $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness@r130977' $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42357.html
Merged revision(s) r130977 -r130949   from Branch/20170609-资金方协议/Develop/基础业务/用户中心/UserBusiness' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
+ rm -f /home/qishanqing/tmp/merged/output.17803
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
+ mails-cm -i 'code merged from Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep -C 3 $'Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ revision='r128173 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r128138 '
+ '[' '!' -z r128173 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature@r128173' $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature@r128173' $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42357.html
Merged revision(s) r128173 -r128138   from Branch/20170609-资金方协议/Develop/基础业务/用户中心/ProtocolSignature' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 377294ms (Views: 610.8ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-26 10:14:57 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (30.1ms)
Completed 200 OK in 87ms (Views: 84.3ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-26 10:15:05 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170706-催收功能优化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42357.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"gqeDSwZL04X4H6rPfnLOu3HzHlS1gkebzACZBoOrYkGq0gNpEa5U/tEgkn6uwLb732oLeb0/DM38UagDI3E2bg=="}
pid is 18280
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42357.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170706-\345\202\254\346\224\266\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42357.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170706-催收功能优化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42357.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170706-催收功能优化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42357.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170706-\345\202\254\346\224\266\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42357.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170706-\345\202\254\346\224\266\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170706-\345\202\254\346\224\266\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170706-催收功能优化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170706-\345\202\254\346\224\266\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170706-\345\202\254\346\224\266\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170706-\345\202\254\346\224\266\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170706-\345\202\254\346\224\266\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.18280
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170706-\345\202\254\346\224\266\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170706-催收功能优化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170706-\345\202\254\346\224\266\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170706-\345\202\254\346\224\266\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r125953 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170706-\345\202\254\346\224\266\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r125826 '
+ '[' '!' -z r125826 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170706-\345\202\254\346\224\266\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness@r125826' $'https://192.168.0.220/svn/tech/Branch/20170706-\345\202\254\346\224\266\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170706-\345\202\254\346\224\266\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness@r125826' $'https://192.168.0.220/svn/tech/Branch/20170706-\345\202\254\346\224\266\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42357.html
Merged revision(s) r125826 -r125953   from Branch/20170706-催收功能优化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (33.2ms)
Completed 200 OK in 8460ms (Views: 83.9ms)


