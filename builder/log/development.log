
nohup: 忽略输入
=> Booting Puma
=> Rails 5.1.1 application starting in development on http://localhost:3000
=> Run `rails server -h` for more startup options
Puma starting in single mode...
* Version 3.8.2 (ruby 2.4.1-p111), codename: Sassy Salamander
* Min threads: 5, max threads: 5
* Environment: development
* Listening on tcp://0.0.0.0:3000
Use Ctrl-C to stop
Started GET "/" for 192.168.5.26 at 2017-07-28 14:04:06 +0800
Started GET "/" for 192.168.5.26 at 2017-07-28 14:04:06 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (13.8ms)
  Rendered builder/index.html.erb within layouts/application (13.8ms)
Completed 200 OK in 2154ms (Views: 1312.2ms)


Completed 200 OK in 2154ms (Views: 1312.2ms)


Started POST "/start" for 192.168.5.26 at 2017-07-28 14:04:52 +0800
Started POST "/start" for 192.168.5.26 at 2017-07-28 14:04:52 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"fefe", "branch"=>"fefe", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"gGl4Baviz7TWx59mvKqSO8N16s07glnHsLKWPuD7Z0qoHPgnvAdIz//4p9dsGOp7bez/4DM/EpGA46c7QCEzZQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"fefe", "branch"=>"fefe", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"gGl4Baviz7TWx59mvKqSO8N16s07glnHsLKWPuD7Z0qoHPgnvAdIz//4p9dsGOp7bez/4DM/EpGA46c7QCEzZQ=="}
pid is 13364
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t fefe -e qishanqing@dafy.com -E '' -b fefe -T add -d ''
+ TEMP=' -u '\'''\'' -t '\''fefe'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''fefe'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''fefe'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''fefe'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u '' -t fefe -e qishanqing@dafy.com -E '' -b fefe -T add -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=fefe
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=fefe
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ fefe
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: fefe: command not found
++ for y in '$trunk'
++ echo fefe
+ trunks=fefe
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z fefe ']'
+ '[' -z fefe ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170728
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707281404
+ move_dir=Closed/--close+
+ Trunk_name=https://192.168.0.220/svn/tech/Trunk/fefe
+ branch_name=https://192.168.0.220/svn/tech/Branch/20170728-fefe/Develop/fefe
+ source_name=https://192.168.0.220/svn/tech/Branch/fefe
+ dest_name=https://192.168.0.220/svn/tech/Branch/Closed/--close+201707281404-fefe
++ echo https://192.168.0.220/svn/tech/Branch/20170728-fefe/Develop/fefe
++ awk -F / '{print $7}'
+ br=20170728-fefe
+ access=20170728-fefe
+ svn copy https://192.168.0.220/svn/tech/Trunk/fefe https://192.168.0.220/svn/tech/Branch/20170728-fefe/Develop/fefe --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ die 'Svn branch create the reasons for failure are as follows'
+ echo 'Svn branch create the reasons for failure are as follows'
+ mails-cm -i 'svn branch create failed'
+ test -e /home/qishanqing/tmp/output.13364
+ echo
+ cat /home/qishanqing/tmp/output.13364
+ rm -rf /home/qishanqing/tmp/output.13364
+ kill 13364
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (0.9ms)
  Rendered builder/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 550ms (Views: 57.8ms)


Completed 200 OK in 550ms (Views: 57.8ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-28 14:05:13 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-28 14:05:13 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (1.8ms)
  Rendered builder/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 47ms (Views: 45.2ms)


Completed 200 OK in 47ms (Views: 45.2ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-28 14:05:26 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-07-28 14:05:26 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (2.9ms)
  Rendered merge/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 64ms (Views: 61.0ms)


Completed 200 OK in 64ms (Views: 61.0ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-28 14:21:45 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-28 14:21:45 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (5.7ms)
  Rendered builder/index.html.erb within layouts/application (5.7ms)
Completed 200 OK in 69ms (Views: 66.9ms)


Completed 200 OK in 69ms (Views: 66.9ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-28 14:23:04 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-28 14:23:04 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (1.8ms)
  Rendered builder/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 41ms (Views: 39.8ms)


Completed 200 OK in 41ms (Views: 39.8ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-28 14:23:05 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-28 14:23:05 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.1ms)
  Rendered builder/index.html.erb within layouts/application (3.1ms)
Completed 200 OK in 65ms (Views: 62.9ms)


Completed 200 OK in 65ms (Views: 62.9ms)


Started GET "/" for 192.168.5.26 at 2017-07-28 14:23:07 +0800
Started GET "/" for 192.168.5.26 at 2017-07-28 14:23:07 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.6ms)
  Rendered builder/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 92ms (Views: 89.6ms)


Completed 200 OK in 92ms (Views: 89.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-28 14:24:36 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-07-28 14:24:36 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170728-优惠券有效期BUG修复/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusine", "task"=>"http://192.168.0.221/zentao/task-view-42578.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"soJw9UnlPu2O1/1BysXrakZ3HYs8PkHrRtefo6nWmLKa9/DXXgC5lqfoxfAad5Mq6O4IpjSDCr12hq6mCQzMnQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170728-优惠券有效期BUG修复/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusine", "task"=>"http://192.168.0.221/zentao/task-view-42578.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"soJw9UnlPu2O1/1BysXrakZ3HYs8PkHrRtefo6nWmLKa9/DXXgC5lqfoxfAad5Mq6O4IpjSDCr12hq6mCQzMnQ=="}
pid is 13919
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42578.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusine' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42578.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170728-优惠券有效期BUG修复/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusine'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42578.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170728-优惠券有效期BUG修复/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusine'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42578.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusine' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42578.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusine'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusine'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170728-优惠券有效期BUG修复/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusine: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusine'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusine'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusine'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusine'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusine'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ test -e /home/qishanqing/tmp/merged/output.13919
+ echo
+ cat /home/qishanqing/tmp/merged/output.13919
+ rm -f /home/qishanqing/tmp/merged/output.13919
+ rm -f /home/qishanqing/tmp/merged/output.13919
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusine'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusine'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusine'
+ die '前端业务/营销活动/卡卷系统/CardVoucherBusine  project code no found'
+ echo '前端业务/营销活动/卡卷系统/CardVoucherBusine  project code no found'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.13919
+ rm -f /home/qishanqing/tmp/merged/output.13919
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.5ms)
  Rendered merge/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 350ms (Views: 72.6ms)


Completed 200 OK in 350ms (Views: 72.6ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-28 14:25:46 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-07-28 14:25:46 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.4ms)
  Rendered merge/index.html.erb within layouts/application (3.4ms)
Completed 200 OK in 67ms (Views: 64.2ms)


Completed 200 OK in 67ms (Views: 64.2ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-28 14:26:00 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-07-28 14:26:00 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170728-优惠券有效期BUG修复/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness\r\n", "task"=>"http://192.168.0.221/zentao/task-view-42578.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"fYFm8dfSQxuD1ShDLMR8ebYtH1S8BphmD+IRe/CmM1BV9ObTwDfEYKrqEPL8dgQ5GLQKebS70zA/syB+UHxnfw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170728-优惠券有效期BUG修复/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness\r\n", "task"=>"http://192.168.0.221/zentao/task-view-42578.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"fYFm8dfSQxuD1ShDLMR8ebYtH1S8BphmD+IRe/CmM1BV9ObTwDfEYKrqEPL8dgQ5GLQKebS70zA/syB+UHxnfw=="}
pid is 13955
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42578.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170728-优惠券有效期BUG修复/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness
' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42578.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170728-优惠券有效期BUG修复/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness
'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42578.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170728-优惠券有效期BUG修复/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness
'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42578.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170728-优惠券有效期BUG修复/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness
' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42578.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170728-优惠券有效期BUG修复/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness
'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness\r'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170728-优惠券有效期BUG修复/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness\r'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness\r'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness\r'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness\r'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.13955
+ echo
+ cat /home/qishanqing/tmp/merged/output.13955
+ rm -f /home/qishanqing/tmp/merged/output.13955
+ rm -f /home/qishanqing/tmp/merged/output.13955
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness\r'
+ die '前端业务/营销活动/卡卷系统/CardVoucherBusiness  project code no found'
+ mails-cm -i 'svn merged faild'
+ echo '前端业务/营销活动/卡卷系统/CardVoucherBusiness  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.13955
+ rm -f /home/qishanqing/tmp/merged/output.13955
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.3ms)
  Rendered merge/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 196ms (Views: 50.7ms)


Completed 200 OK in 196ms (Views: 50.7ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-28 14:26:16 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-07-28 14:26:16 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.5ms)
  Rendered merge/index.html.erb within layouts/application (4.5ms)
Completed 200 OK in 86ms (Views: 83.1ms)


Completed 200 OK in 86ms (Views: 83.1ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-28 14:27:18 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-07-28 14:27:18 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170728-优惠券有效期BUG修复/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42578.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"y7619M5riR42dnk/gYUH/LA5drH17hlQyxBraU6cTGjjyzXW2Y4OZR9JQY5RN3+8HqBjnP1TUgb7QVps7kYYRw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170728-优惠券有效期BUG修复/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42578.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"y7619M5riR42dnk/gYUH/LA5drH17hlQyxBraU6cTGjjyzXW2Y4OZR9JQY5RN3+8HqBjnP1TUgb7QVps7kYYRw=="}
pid is 13997
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42578.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42578.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170728-优惠券有效期BUG修复/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42578.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170728-优惠券有效期BUG修复/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42578.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42578.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170728-优惠券有效期BUG修复/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.13997
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ mails-cm -i 'code merged from Branch/20170728-优惠券有效期BUG修复/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep -C 3 $'Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r131941 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r131809 '
+ '[' '!' -z r131809 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness@r131809' $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness@r131809' $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42578.html
Merged revision(s) r131809 -r131941   from Branch/20170728-优惠券有效期BUG修复/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.2ms)
  Rendered merge/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 24630ms (Views: 59.7ms)


Completed 200 OK in 24630ms (Views: 59.7ms)


Started POST "/start" for 192.168.5.26 at 2017-07-28 14:29:00 +0800
Started POST "/start" for 192.168.5.26 at 2017-07-28 14:29:00 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"lubing@dafy.com", "types"=>"add", "trunk"=>"分期商城/分期商城3.0/MallManager 分期商城/分期商城3.0/MallManageGoodsBusiness", "branch"=>"类目功能优化", "user"=>"lubing", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"6ShOicwc96r5otIlCZmBzjkKM3rEXfy1sr/bUTQ6/DXBXc6r2/lw0dCd6pTZK/mOl5MmV8zgt+OC7upUlOCoGg=="}
  Parameters: {"email"=>"lubing@dafy.com", "types"=>"add", "trunk"=>"分期商城/分期商城3.0/MallManager 分期商城/分期商城3.0/MallManageGoodsBusiness", "branch"=>"类目功能优化", "user"=>"lubing", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"6ShOicwc96r5otIlCZmBzjkKM3rEXfy1sr/bUTQ6/DXBXc6r2/lw0dCd6pTZK/mOl5MmV8zgt+OC7upUlOCoGg=="}
pid is 14061
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u lubing -t '分期商城/分期商城3.0/MallManager 分期商城/分期商城3.0/MallManageGoodsBusiness' -e lubing@dafy.com -E '' -b $'\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226' -T add -d ''
+ TEMP=' -u '\''lubing'\'' -t '\''分期商城/分期商城3.0/MallManager 分期商城/分期商城3.0/MallManageGoodsBusiness'\'' -e '\''lubing@dafy.com'\'' -E '\'''\'' -b '\''类目功能优化'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''lubing'\'' -t '\''分期商城/分期商城3.0/MallManager 分期商城/分期商城3.0/MallManageGoodsBusiness'\'' -e '\''lubing@dafy.com'\'' -E '\'''\'' -b '\''类目功能优化'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u lubing -t '分期商城/分期商城3.0/MallManager 分期商城/分期商城3.0/MallManageGoodsBusiness' -e lubing@dafy.com -E '' -b $'\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226' -T add -d '' --
+ true
+ case "$1" in
+ user=lubing
+ shift 2
+ true
+ case "$1" in
+ trunk='分期商城/分期商城3.0/MallManager 分期商城/分期商城3.0/MallManageGoodsBusiness'
+ shift 2
+ true
+ case "$1" in
+ email=lubing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=lubing@dafy.com '
+ SMARTCM_EXTRA_MAIL='lubing@dafy.com '
++ lubing
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: lubing: command not found
++ for x in '$user'
++ echo lubing=rw
+ users=lubing=rw
++ $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 分期商城/分期商城3.0/MallManager: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ for y in '$trunk'
++ echo $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ trunks='分期商城/分期商城3.0/MallManager
分期商城/分期商城3.0/MallManageGoodsBusiness'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' ']'
+ '[' -z $'\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170728
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707281429
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707281429-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F / '{print $7}'
+ br=$'20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226'
+ access=$'20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.14061
+ echo $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallManager'\'', '\''https://192.168.0.220/svn/tech/Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManager'\'',now(),'\''lubing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallManager'\'', '\''https://192.168.0.220/svn/tech/Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManager'\'',now(),'\''lubing'\'');'
+ cat /tmp/cmdb.db.14061
+ rm -f /tmp/cmdb.db.14061
+ check-acces
+ grep -c '20170728-类目功能优化]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z lubing=rw
+ cat
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness' ']'
+ '[' -z $'\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170728
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707281429
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707281429-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
++ awk -F / '{print $7}'
+ br=$'20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226'
+ access=$'20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness' $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.14061
+ echo $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallManageGoodsBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness'\'',now(),'\''lubing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallManageGoodsBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness'\'',now(),'\''lubing'\'');'
+ cat /tmp/cmdb.db.14061
+ rm -f /tmp/cmdb.db.14061
+ check-acces
+ grep -c '20170728-类目功能优化]' /mnt/svn/authz.conf
+ read num
+ '[' 1 -eq 0 ']'
++ sed '/20170728-类目功能优化]/,/^[ \t]*$/!d;/20170728-类目功能优化]/d;/^[ \t]*$/d' /mnt/svn/authz.conf
+ [[ lubing=rw
@admin=rw
*= =~ lubing=rw ]]
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 11418ms (Views: 62.3ms)


Completed 200 OK in 11418ms (Views: 62.3ms)


Started GET "/start" for 192.168.5.26 at 2017-07-28 14:29:29 +0800
Started GET "/start" for 192.168.5.26 at 2017-07-28 14:29:29 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  
  
ActionController::RoutingError (No route matches [GET] "/start"):
ActionController::RoutingError (No route matches [GET] "/start"):
  
  
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 192.168.5.26 at 2017-07-28 14:29:34 +0800
Started GET "/" for 192.168.5.26 at 2017-07-28 14:29:34 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (5.4ms)
  Rendered builder/index.html.erb within layouts/application (5.4ms)
Completed 200 OK in 71ms (Views: 68.1ms)


Completed 200 OK in 71ms (Views: 68.1ms)


Started POST "/start" for 192.168.5.26 at 2017-07-28 14:30:18 +0800
Started POST "/start" for 192.168.5.26 at 2017-07-28 14:30:18 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"wdw", "branch"=>"20170728-优惠券有效期BUG修复", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"yGtgS9Vi8uFY5ZVIzOmRNPjPnyALrFLskjnBcWAUHYHgHuBpwod1mnHarfkcW+l0VlaKDQMRGbqiaPB0wM5Jrg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"wdw", "branch"=>"20170728-优惠券有效期BUG修复", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"yGtgS9Vi8uFY5ZVIzOmRNPjPnyALrFLskjnBcWAUHYHgHuBpwod1mnHarfkcW+l0VlaKDQMRGbqiaPB0wM5Jrg=="}
pid is 14153
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t wdw -e qishanqing@dafy.com -E '' -b $'20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''wdw'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170728-优惠券有效期BUG修复'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''wdw'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170728-优惠券有效期BUG修复'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t wdw -e qishanqing@dafy.com -E '' -b $'20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=wdw
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ wdw
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: wdw: command not found
++ for y in '$trunk'
++ echo wdw
+ trunks=wdw
+ test del = add
+ delbranch
+ '[' -z $'20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170728
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707281430
+ move_dir=Closed/--close+
+ Trunk_name=https://192.168.0.220/svn/tech/Trunk/wdw
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170728-20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/wdw'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707281430-20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170728-20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/wdw'
++ awk -F / '{print $7}'
+ br=$'20170728-20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215'
+ access=$'20170728-20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707281430-20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.14153
+ echo $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170728-优惠券有效期BUG修复%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170728-优惠券有效期BUG修复%'\'';'
+ cat /tmp/cmdb.db.14153
+ rm -f /tmp/cmdb.db.14153
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.1ms)
  Rendered builder/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 8110ms (Views: 50.4ms)


Completed 200 OK in 8110ms (Views: 50.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-28 16:07:41 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-28 16:07:41 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (7.4ms)
  Rendered builder/index.html.erb within layouts/application (7.4ms)
Completed 200 OK in 362ms (Views: 357.9ms)


Completed 200 OK in 362ms (Views: 357.9ms)


Started POST "/start" for 192.168.5.26 at 2017-07-28 16:07:48 +0800
Started POST "/start" for 192.168.5.26 at 2017-07-28 16:07:48 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"dwd", "branch"=>"20170712-增加用户额度提示", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"+AMe67qhkH4oRbmeExZL4ajXvozdotkfJohpq/B4t8XQdp7JrUQXBQF6gS/DpDOhBk6rodUfkkkW2ViuUKLj6g=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"dwd", "branch"=>"20170712-增加用户额度提示", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"+AMe67qhkH4oRbmeExZL4ajXvozdotkfJohpq/B4t8XQdp7JrUQXBQF6gS/DpDOhBk6rodUfkkkW2ViuUKLj6g=="}
pid is 15934
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t dwd -e qishanqing@dafy.com -E '' -b $'20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''dwd'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170712-增加用户额度提示'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''dwd'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170712-增加用户额度提示'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t dwd -e qishanqing@dafy.com -E '' -b $'20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=dwd
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ dwd
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: dwd: command not found
++ for y in '$trunk'
++ echo dwd
+ trunks=dwd
+ test del = add
+ delbranch
+ '[' -z $'20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170728
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707281607
+ move_dir=Closed/--close+
+ Trunk_name=https://192.168.0.220/svn/tech/Trunk/dwd
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170728-20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272/Develop/dwd'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707281607-20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272'
++ awk -F / '{print $7}'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170728-20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272/Develop/dwd'
+ br=$'20170728-20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272'
+ access=$'20170728-20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707281607-20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.15934
+ echo $'https://192.168.0.220/svn/tech/Branch/20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170712-增加用户额度提示%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170712-增加用户额度提示%'\'';'
+ cat /tmp/cmdb.db.15934
+ rm -f /tmp/cmdb.db.15934
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.8ms)
  Rendered builder/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 2191ms (Views: 94.7ms)


Completed 200 OK in 2191ms (Views: 94.7ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-31 09:44:23 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-31 09:44:23 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (54.3ms)
  Rendered builder/index.html.erb within layouts/application (54.3ms)
Completed 200 OK in 939ms (Views: 836.2ms)


Completed 200 OK in 939ms (Views: 836.2ms)


Started POST "/start" for 192.168.5.26 at 2017-07-31 09:45:16 +0800
Started POST "/start" for 192.168.5.26 at 2017-07-31 09:45:16 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"songxinyu@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/CollectionOverdueBatchBusiness", "branch"=>"催收跑批调度", "user"=>"songxinyu", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"0/rmQaSYVhyezdUrHAPToMx4YLQckm0lNGZzMq9y6Qz7j2Zjs33RZ7fy7ZrMsavgYuF1mRQvJnMEN0I3D6i9Iw=="}
  Parameters: {"email"=>"songxinyu@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/CollectionOverdueBatchBusiness", "branch"=>"催收跑批调度", "user"=>"songxinyu", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"0/rmQaSYVhyezdUrHAPToMx4YLQckm0lNGZzMq9y6Qz7j2Zjs33RZ7fy7ZrMsavgYuF1mRQvJnMEN0I3D6i9Iw=="}
pid is 24359
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u songxinyu -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' -e songxinyu@dafy.com -E '' -b $'\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246' -T add -d ''
+ TEMP=' -u '\''songxinyu'\'' -t '\''外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'' -e '\''songxinyu@dafy.com'\'' -E '\'''\'' -b '\''催收跑批调度'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''songxinyu'\'' -t '\''外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'' -e '\''songxinyu@dafy.com'\'' -E '\'''\'' -b '\''催收跑批调度'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u songxinyu -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' -e songxinyu@dafy.com -E '' -b $'\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246' -T add -d '' --
+ true
+ case "$1" in
+ user=songxinyu
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ shift 2
+ true
+ case "$1" in
+ email=songxinyu@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=songxinyu@dafy.com '
+ SMARTCM_EXTRA_MAIL='songxinyu@dafy.com '
++ songxinyu
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: songxinyu: command not found
++ for x in '$user'
++ echo songxinyu=rw
+ users=songxinyu=rw
++ $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 外部业务/P2P/Business/CollectionOverdueBatchBusiness: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ trunks=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' ']'
+ '[' -z $'\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170731
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707310945
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707310945-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
++ awk -F / '{print $7}'
+ br=$'20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246'
+ access=$'20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.24359
+ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170731-催收跑批调度/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'',now(),'\''songxinyu'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170731-催收跑批调度/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'',now(),'\''songxinyu'\'');'
+ cat /tmp/cmdb.db.24359
+ rm -f /tmp/cmdb.db.24359
+ check-acces
+ grep -c '20170731-催收跑批调度]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z songxinyu=rw
+ cat
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.1ms)
  Rendered builder/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 13553ms (Views: 102.6ms)


Completed 200 OK in 13553ms (Views: 102.6ms)


smtp-server: 554 MI:STC You have exceeded the daily message limit. For more information, please visit https://feedback.qiye.163.com/bounce/ZxQ4XjUgD1ceJjxaKEt7HiEkR28bOBxodEtHXiN1
. . . message not sent.
Started GET "/builder" for 192.168.5.26 at 2017-07-31 09:48:38 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-31 09:48:38 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.4ms)
  Rendered builder/index.html.erb within layouts/application (3.4ms)
Completed 200 OK in 49ms (Views: 46.6ms)


Completed 200 OK in 49ms (Views: 46.6ms)


Started POST "/start" for 192.168.5.26 at 2017-07-31 09:48:42 +0800
Started POST "/start" for 192.168.5.26 at 2017-07-31 09:48:42 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"fef", "branch"=>"fefe", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"RnKfAKd446NZJ3EYbhgLgTTcXOHSx/kDQRYdo03HUcluBx8isJ1k2HAYSam+qnPBmkVJzNp6slVxRyym7R0F5g=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"fef", "branch"=>"fefe", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"RnKfAKd446NZJ3EYbhgLgTTcXOHSx/kDQRYdo03HUcluBx8isJ1k2HAYSam+qnPBmkVJzNp6slVxRyym7R0F5g=="}
pid is 24705
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t fef -e qishanqing@dafy.com -E '' -b fefe -T add -d ''
+ TEMP=' -u '\'''\'' -t '\''fef'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''fefe'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''fef'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''fefe'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u '' -t fef -e qishanqing@dafy.com -E '' -b fefe -T add -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=fef
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=fefe
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ fef
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: fef: command not found
++ for y in '$trunk'
++ echo fef
+ trunks=fef
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z fef ']'
+ '[' -z fefe ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170731
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707310948
+ move_dir=Closed/--close+
+ Trunk_name=https://192.168.0.220/svn/tech/Trunk/fef
+ branch_name=https://192.168.0.220/svn/tech/Branch/20170731-fefe/Develop/fef
+ source_name=https://192.168.0.220/svn/tech/Branch/fefe
+ dest_name=https://192.168.0.220/svn/tech/Branch/Closed/--close+201707310948-fefe
++ echo https://192.168.0.220/svn/tech/Branch/20170731-fefe/Develop/fef
++ awk -F / '{print $7}'
+ br=20170731-fefe
+ access=20170731-fefe
+ svn copy https://192.168.0.220/svn/tech/Trunk/fef https://192.168.0.220/svn/tech/Branch/20170731-fefe/Develop/fef --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ die 'Svn branch create the reasons for failure are as follows'
+ echo 'Svn branch create the reasons for failure are as follows'
+ test -e /home/qishanqing/tmp/output.24705
+ mails-cm -i 'svn branch create failed'
+ echo
+ cat /home/qishanqing/tmp/output.24705
+ rm -rf /home/qishanqing/tmp/output.24705
+ kill 24705
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (0.8ms)
  Rendered builder/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 602ms (Views: 32.8ms)


Completed 200 OK in 602ms (Views: 32.8ms)


smtp-server: 554 MI:STC You have exceeded the daily message limit. For more information, please visit https://feedback.qiye.163.com/bounce/YhQ4XjUgDywjHQ9bKzB7HlgiJwAdDhxodElDXSN1
. . . message not sent.
Started GET "/merge/index" for 192.168.5.26 at 2017-07-31 10:34:04 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-07-31 10:34:04 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.6ms)
  Rendered merge/index.html.erb within layouts/application (4.6ms)
Completed 200 OK in 792ms (Views: 457.9ms)


Completed 200 OK in 792ms (Views: 457.9ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 10:34:35 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 10:34:35 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170705-商城对接/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170613-资金方接入/Develop/外部业务/P2P/Business/CommonBorrowBusiness https://192.168.0.220/svn/tech/Branch/20170705-分期商城退款/Develop/外部业务/P2P/Business/CommonRepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170710-商城资金方/Develop/外部业务/P2P/Task/BorrowAgreementTask", "task"=>"http://192.168.0.221/zentao/task-view-42603.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"anoQRgNa7spEjUHZqeASEIq6iIx1yiyWRaBYelQRKcVCD5BkFL9psW2yeWh5UmpQJCOdoX13Z8B18Wl/9Mt96g=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170705-商城对接/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170613-资金方接入/Develop/外部业务/P2P/Business/CommonBorrowBusiness https://192.168.0.220/svn/tech/Branch/20170705-分期商城退款/Develop/外部业务/P2P/Business/CommonRepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170710-商城资金方/Develop/外部业务/P2P/Task/BorrowAgreementTask", "task"=>"http://192.168.0.221/zentao/task-view-42603.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"anoQRgNa7spEjUHZqeASEIq6iIx1yiyWRaBYelQRKcVCD5BkFL9psW2yeWh5UmpQJCOdoX13Z8B18Wl/9Mt96g=="}
pid is 26394
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42603.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170705-商城对接/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170613-资金方接入/Develop/外部业务/P2P/Business/CommonBorrowBusiness https://192.168.0.220/svn/tech/Branch/20170705-分期商城退款/Develop/外部业务/P2P/Business/CommonRepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170710-商城资金方/Develop/外部业务/P2P/Task/BorrowAgreementTask' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42603.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170705-商城对接/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170613-资金方接入/Develop/外部业务/P2P/Business/CommonBorrowBusiness https://192.168.0.220/svn/tech/Branch/20170705-分期商城退款/Develop/外部业务/P2P/Business/CommonRepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170710-商城资金方/Develop/外部业务/P2P/Task/BorrowAgreementTask'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42603.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170705-商城对接/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170613-资金方接入/Develop/外部业务/P2P/Business/CommonBorrowBusiness https://192.168.0.220/svn/tech/Branch/20170705-分期商城退款/Develop/外部业务/P2P/Business/CommonRepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170710-商城资金方/Develop/外部业务/P2P/Task/BorrowAgreementTask'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42603.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170705-商城对接/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170613-资金方接入/Develop/外部业务/P2P/Business/CommonBorrowBusiness https://192.168.0.220/svn/tech/Branch/20170705-分期商城退款/Develop/外部业务/P2P/Business/CommonRepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170710-商城资金方/Develop/外部业务/P2P/Task/BorrowAgreementTask' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42603.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170705-商城对接/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170613-资金方接入/Develop/外部业务/P2P/Business/CommonBorrowBusiness https://192.168.0.220/svn/tech/Branch/20170705-分期商城退款/Develop/外部业务/P2P/Business/CommonRepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170710-商城资金方/Develop/外部业务/P2P/Task/BorrowAgreementTask'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness' $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' $'https://192.168.0.220/svn/tech/Branch/20170705-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' $'https://192.168.0.220/svn/tech/Branch/20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonBorrowBusiness' $'https://192.168.0.220/svn/tech/Branch/20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness' $'https://192.168.0.220/svn/tech/Branch/20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170705-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonBorrowBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness
https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness2
https://192.168.0.220/svn/tech/Branch/20170705-商城对接/Develop/外部业务/P2P/Business/RepaymentBusiness2
https://192.168.0.220/svn/tech/Branch/20170613-资金方接入/Develop/外部业务/P2P/Business/CommonBorrowBusiness
https://192.168.0.220/svn/tech/Branch/20170705-分期商城退款/Develop/外部业务/P2P/Business/CommonRepaymentBusiness
https://192.168.0.220/svn/tech/Branch/20170710-商城资金方/Develop/外部业务/P2P/Task/BorrowAgreementTask'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.26394
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ mails-cm -i 'code merged from Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r132282 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
++ tail -n 4
+ revision='r126401 '
+ '[' '!' -z r126401 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness@r126401' $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：2'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2322' ']'
+ die 'Svn merged conflicts the r126401 -r132282  from Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness'
+ echo 'Svn merged conflicts the r126401 -r132282  from Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness'
+ test -e /home/qishanqing/tmp/merged/output.26394
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.26394
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42603.html
Merged revision(s) r126401 -r132282   from Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ rm -f /home/qishanqing/tmp/merged/output.26394
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness2'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r131976 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ tail -n 4
+ revision='r126878 '
+ '[' '!' -z r126878 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2@r126878' $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2@r126878' $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42603.html
Merged revision(s) r126878 -r131976   from Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness2' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170705-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170705-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ rm -f /home/qishanqing/tmp/merged/output.26394
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170705-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170705-商城对接/Develop/外部业务/P2P/Business/RepaymentBusiness2'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170705-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170705-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132286 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170705-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ grep '^r'
++ tail -n 4
++ awk -F '|' '{print$1}'
+ revision='r125469 '
+ '[' '!' -z r125469 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170705-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2@r125469' $'https://192.168.0.220/svn/tech/Branch/20170705-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' .
+ st='  树冲突：1'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2321' ']'
+ die 'Svn merged conflicts the r125469 -r132286  from Branch/20170705-商城对接/Develop/外部业务/P2P/Business/RepaymentBusiness2'
+ echo 'Svn merged conflicts the r125469 -r132286  from Branch/20170705-商城对接/Develop/外部业务/P2P/Business/RepaymentBusiness2'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.26394
+ rm -f /home/qishanqing/tmp/merged/output.26394
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42603.html
Merged revision(s) r125469 -r132286   from Branch/20170705-商城对接/Develop/外部业务/P2P/Business/RepaymentBusiness2' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonBorrowBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonBorrowBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonBorrowBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.26394
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonBorrowBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonBorrowBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonBorrowBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170613-资金方接入/Develop/外部业务/P2P/Business/CommonBorrowBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonBorrowBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonBorrowBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r119852 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonBorrowBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r129310 '
+ '[' '!' -z r119852 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonBorrowBusiness@r119852' $'https://192.168.0.220/svn/tech/Branch/20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonBorrowBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonBorrowBusiness@r119852' $'https://192.168.0.220/svn/tech/Branch/20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonBorrowBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42603.html
Merged revision(s) r119852 -r129310   from Branch/20170613-资金方接入/Develop/外部业务/P2P/Business/CommonBorrowBusiness' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.26394
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness'
+ mails-cm -i 'code merged from Branch/20170705-分期商城退款/Develop/外部业务/P2P/Business/CommonRepaymentBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r132165 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r125622 '
+ '[' '!' -z r125622 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness@r125622' $'https://192.168.0.220/svn/tech/Branch/20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness@r125622' $'https://192.168.0.220/svn/tech/Branch/20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42603.html
Merged revision(s) r125622 -r132165   from Branch/20170705-分期商城退款/Develop/外部业务/P2P/Business/CommonRepaymentBusiness' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask'
+ rm -f /home/qishanqing/tmp/merged/output.26394
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask'
+ mails-cm -i 'code merged from Branch/20170710-商城资金方/Develop/外部业务/P2P/Task/BorrowAgreementTask'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ awk -F '|' '{print$1}'
++ head -n 4
++ grep -C 3 $'Branch/20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask'
++ grep '^r'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r132160 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r126646 '
+ '[' '!' -z r126646 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask@r126646' $'https://192.168.0.220/svn/tech/Branch/20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask@r126646' $'https://192.168.0.220/svn/tech/Branch/20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42603.html
Merged revision(s) r126646 -r132160   from Branch/20170710-商城资金方/Develop/外部业务/P2P/Task/BorrowAgreementTask' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (4.6ms)
  Rendered merge/new.html.erb within layouts/application (4.6ms)
Completed 200 OK in 561853ms (Views: 413.9ms)


Completed 200 OK in 561853ms (Views: 413.9ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-31 10:46:22 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-07-31 10:46:22 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.8ms)
  Rendered merge/index.html.erb within layouts/application (4.8ms)
Completed 200 OK in 81ms (Views: 78.7ms)


Completed 200 OK in 81ms (Views: 78.7ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 10:46:30 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 10:46:30 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/IncomeBusiness\r\nhttps://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BossBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42684.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"at4+u5o2lmuSL6u3IK7DtPfcu2aEBT50vO62/VAHalFCq76ZjdMRELsQkwbwHLv0WUWuS4y4dSKMv4f48N0+fg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/IncomeBusiness\r\nhttps://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BossBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42684.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"at4+u5o2lmuSL6u3IK7DtPfcu2aEBT50vO62/VAHalFCq76ZjdMRELsQkwbwHLv0WUWuS4y4dSKMv4f48N0+fg=="}
pid is 26805
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42684.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/IncomeBusiness
https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BossBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42684.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/IncomeBusiness
https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BossBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42684.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/IncomeBusiness
https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BossBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42684.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/IncomeBusiness
https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BossBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42684.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/IncomeBusiness
https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BossBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness\r' $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/IncomeBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness\r'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/IncomeBusiness
https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BossBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness\r'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness\r'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ test -e /home/qishanqing/tmp/merged/output.26805
+ echo
+ cat /home/qishanqing/tmp/merged/output.26805
+ rm -f /home/qishanqing/tmp/merged/output.26805
+ rm -f /home/qishanqing/tmp/merged/output.26805
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness\r'
+ die '外部业务/P2P/Business/IncomeBusiness  project code no found'
+ echo '外部业务/P2P/Business/IncomeBusiness  project code no found'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.26805
+ rm -f /home/qishanqing/tmp/merged/output.26805
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.26805
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BossBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ clean_workspace
+ svn cleanup .
smtp-server: 554 DT:SPM 163 smtp1,C9GowAA3nCkHmn5Znp0yCA--.63071S2 1501469191,please see http://mail.163.com/help/help_spam_16.htm?ip=106.120.15.178&hostid=smtp1&time=1501469191
. . . message not sent.
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ head='r132281 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r132273 '
+ '[' '!' -z r132273 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness@r132273' $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness@r132273' $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42684.html
Merged revision(s) r132273 -r132281   from Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BossBusiness' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (0.7ms)
  Rendered merge/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 39724ms (Views: 56.6ms)


Completed 200 OK in 39724ms (Views: 56.6ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-31 10:50:46 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-07-31 10:50:46 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (5.6ms)
  Rendered merge/index.html.erb within layouts/application (5.6ms)
Completed 200 OK in 76ms (Views: 73.9ms)


Completed 200 OK in 76ms (Views: 73.9ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 10:50:52 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 10:50:52 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/IncomeBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42684.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"ALPJS1GoluzwnjTZRaNBrblYeKjYQFNBUVStTSLPtbsoxklpRk0Rl9mhDGiVETntF8FthdD9GBdhBZxIghXhlA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/IncomeBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42684.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"ALPJS1GoluzwnjTZRaNBrblYeKjYQFNBUVStTSLPtbsoxklpRk0Rl9mhDGiVETntF8FthdD9GBdhBZxIghXhlA=="}
pid is 26921
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42684.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42684.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/IncomeBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42684.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/IncomeBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42684.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42684.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/IncomeBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.26921
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170707-商城对接/Develop/外部业务/P2P/Business/IncomeBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r132276 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r132275 '
+ '[' '!' -z r132275 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness@r132275' $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness@r132275' $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42684.html
Merged revision(s) r132275 -r132276   from Branch/20170707-商城对接/Develop/外部业务/P2P/Business/IncomeBusiness' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.8ms)
  Rendered merge/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 29984ms (Views: 75.7ms)


Completed 200 OK in 29984ms (Views: 75.7ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-31 10:58:42 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-07-31 10:58:42 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.8ms)
  Rendered merge/index.html.erb within layouts/application (4.8ms)
Completed 200 OK in 68ms (Views: 65.5ms)


Completed 200 OK in 68ms (Views: 65.5ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 10:59:04 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 10:59:04 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170712-增加用户额度提示/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-42680.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"eeEzPuxdmIZrAogcBGa3s2t4JQQwwvxdpjxCYP0ZKixRlLMc+7gf/UI9sK3U1M/zxeEwKTh/twuWbXNlXcN+Aw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170712-增加用户额度提示/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-42680.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"eeEzPuxdmIZrAogcBGa3s2t4JQQwwvxdpjxCYP0ZKixRlLMc+7gf/UI9sK3U1M/zxeEwKTh/twuWbXNlXcN+Aw=="}
pid is 27030
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42680.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42680.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170712-增加用户额度提示/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42680.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170712-增加用户额度提示/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42680.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42680.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170712-增加用户额度提示/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.27030
+ echo
+ cat /home/qishanqing/tmp/merged/output.27030
+ rm -f /home/qishanqing/tmp/merged/output.27030
+ rm -f /home/qishanqing/tmp/merged/output.27030
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170712-增加用户额度提示/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r131863 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ grep '^r'
++ awk -F '|' '{print$1}'
svn: E160013: 找不到路径 “/svn/tech/!svn/rvr/132342/Branch/20170712-%E5%A2%9E%E5%8A%A0%E7%94%A8%E6%88%B7%E9%A2%9D%E5%BA%A6%E6%8F%90%E7%A4%BA/Develop/%E5%89%8D%E7%AB%AF%E4%B8%9A%E5%8A%A1/%E8%BE%BE%E9%A3%9E%E4%BA%91%E8%B4%B7/%E5%AE%A2%E6%88%B7%E7%AB%AF/Mobile/CloudLoanH5Client”
+ head=
+ '[' '!' -z r131863 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r131863' $'https://192.168.0.220/svn/tech/Branch/20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' .
++ grep -Ei 'conflicts|树冲突'
svn: E160013: 找不到路径 “/svn/tech/!svn/rvr/132342/Branch/20170712-%E5%A2%9E%E5%8A%A0%E7%94%A8%E6%88%B7%E9%A2%9D%E5%BA%A6%E6%8F%90%E7%A4%BA/Develop/%E5%89%8D%E7%AB%AF%E4%B8%9A%E5%8A%A1/%E8%BE%BE%E9%A3%9E%E4%BA%91%E8%B4%B7/%E5%AE%A2%E6%88%B7%E7%AB%AF/Mobile/CloudLoanH5Client”
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r131863' $'https://192.168.0.220/svn/tech/Branch/20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
svn: E160013: 找不到路径 “/svn/tech/!svn/rvr/132342/Branch/20170712-%E5%A2%9E%E5%8A%A0%E7%94%A8%E6%88%B7%E9%A2%9D%E5%BA%A6%E6%8F%90%E7%A4%BA/Develop/%E5%89%8D%E7%AB%AF%E4%B8%9A%E5%8A%A1/%E8%BE%BE%E9%A3%9E%E4%BA%91%E8%B4%B7/%E5%AE%A2%E6%88%B7%E7%AB%AF/Mobile/CloudLoanH5Client”
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42680.html
Merged revision(s) r131863 -  from Branch/20170712-增加用户额度提示/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.1ms)
  Rendered merge/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 54705ms (Views: 50.0ms)


Completed 200 OK in 54705ms (Views: 50.0ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-31 11:03:39 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-07-31 11:03:39 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.8ms)
  Rendered merge/index.html.erb within layouts/application (3.8ms)
Completed 200 OK in 115ms (Views: 112.8ms)


Completed 200 OK in 115ms (Views: 112.8ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 11:03:47 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 11:03:47 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170710-催收修改/Develop/分期商城/分期商城2.0/MallMain", "task"=>"http://192.168.0.221/zentao/task-view-42626.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"yMCBAzh09mgLYlNqhTrl5k3PQAuWhEJOdfCmbutg4wTgtQEhL5FxEyJda9tViJ2m41ZVJp45CRhFoZdrS7q3Kw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170710-催收修改/Develop/分期商城/分期商城2.0/MallMain", "task"=>"http://192.168.0.221/zentao/task-view-42626.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"yMCBAzh09mgLYlNqhTrl5k3PQAuWhEJOdfCmbutg4wTgtQEhL5FxEyJda9tViJ2m41ZVJp45CRhFoZdrS7q3Kw=="}
pid is 27133
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42626.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170710-\345\202\254\346\224\266\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2162.0/MallMain' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42626.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170710-催收修改/Develop/分期商城/分期商城2.0/MallMain'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42626.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170710-催收修改/Develop/分期商城/分期商城2.0/MallMain'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42626.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170710-\345\202\254\346\224\266\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2162.0/MallMain' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42626.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170710-\345\202\254\346\224\266\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2162.0/MallMain'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170710-\345\202\254\346\224\266\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2162.0/MallMain'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170710-催收修改/Develop/分期商城/分期商城2.0/MallMain: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\345\202\254\346\224\266\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2162.0/MallMain'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170710-\345\202\254\346\224\266\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2162.0/MallMain'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\345\202\254\346\224\266\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2162.0/MallMain'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2162.0/MallMain'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\345\202\254\346\224\266\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2162.0/MallMain'
+ rm -f /home/qishanqing/tmp/merged/output.27133
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2162.0/MallMain'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170710-\345\202\254\346\224\266\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2162.0/MallMain'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2162.0/MallMain'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2162.0/MallMain'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170710-催收修改/Develop/分期商城/分期商城2.0/MallMain'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170710-\345\202\254\346\224\266\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2162.0/MallMain'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\345\202\254\346\224\266\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2162.0/MallMain'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132156 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170710-\345\202\254\346\224\266\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2162.0/MallMain'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r126554 '
+ '[' '!' -z r126554 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170710-\345\202\254\346\224\266\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2162.0/MallMain@r126554' $'https://192.168.0.220/svn/tech/Branch/20170710-\345\202\254\346\224\266\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2162.0/MallMain' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170710-\345\202\254\346\224\266\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2162.0/MallMain@r126554' $'https://192.168.0.220/svn/tech/Branch/20170710-\345\202\254\346\224\266\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2162.0/MallMain'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42626.html
Merged revision(s) r126554 -r132156   from Branch/20170710-催收修改/Develop/分期商城/分期商城2.0/MallMain' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.6ms)
  Rendered merge/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 20520ms (Views: 51.4ms)


Completed 200 OK in 20520ms (Views: 51.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-31 11:07:01 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-31 11:07:01 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.2ms)
  Rendered builder/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 55ms (Views: 52.7ms)


Completed 200 OK in 55ms (Views: 52.7ms)


Started POST "/start" for 192.168.5.26 at 2017-07-31 11:07:05 +0800
Started POST "/start" for 192.168.5.26 at 2017-07-31 11:07:05 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"dwd", "branch"=>"20170710-催收修改", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"ROqmAcPMQaRvW2VXae4mvBbR1PHhU4202TldbvEdympsnyYj1CnG30ZkXea5XF78uEjB3OnuxuLpaGxrUceeRQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"dwd", "branch"=>"20170710-催收修改", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"ROqmAcPMQaRvW2VXae4mvBbR1PHhU4202TldbvEdympsnyYj1CnG30ZkXea5XF78uEjB3OnuxuLpaGxrUceeRQ=="}
pid is 27209
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t dwd -e qishanqing@dafy.com -E '' -b $'20170710-\345\202\254\346\224\266\344\277\256\346\224\271' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''dwd'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170710-催收修改'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''dwd'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170710-催收修改'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t dwd -e qishanqing@dafy.com -E '' -b $'20170710-\345\202\254\346\224\266\344\277\256\346\224\271' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=dwd
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170710-\345\202\254\346\224\266\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ dwd
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: dwd: command not found
++ for y in '$trunk'
++ echo dwd
+ trunks=dwd
+ test del = add
+ delbranch
+ '[' -z $'20170710-\345\202\254\346\224\266\344\277\256\346\224\271' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170731
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707311107
+ move_dir=Closed/--close+
+ Trunk_name=https://192.168.0.220/svn/tech/Trunk/dwd
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170731-20170710-\345\202\254\346\224\266\344\277\256\346\224\271/Develop/dwd'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170710-\345\202\254\346\224\266\344\277\256\346\224\271'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311107-20170710-\345\202\254\346\224\266\344\277\256\346\224\271'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-20170710-\345\202\254\346\224\266\344\277\256\346\224\271/Develop/dwd'
++ awk -F / '{print $7}'
+ br=$'20170731-20170710-\345\202\254\346\224\266\344\277\256\346\224\271'
+ access=$'20170731-20170710-\345\202\254\346\224\266\344\277\256\346\224\271'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170710-\345\202\254\346\224\266\344\277\256\346\224\271' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311107-20170710-\345\202\254\346\224\266\344\277\256\346\224\271' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.27209
+ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\345\202\254\346\224\266\344\277\256\346\224\271'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170710-催收修改%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170710-催收修改%'\'';'
+ cat /tmp/cmdb.db.27209
+ rm -f /tmp/cmdb.db.27209
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 2156ms (Views: 57.4ms)


Completed 200 OK in 2156ms (Views: 57.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-31 11:09:08 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-31 11:09:08 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.0ms)
  Rendered builder/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 57ms (Views: 54.5ms)


Completed 200 OK in 57ms (Views: 54.5ms)


Started POST "/start" for 192.168.5.26 at 2017-07-31 11:09:12 +0800
Started POST "/start" for 192.168.5.26 at 2017-07-31 11:09:12 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170707-商城对接", "branch"=>"20170707-商城对接", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"dcywba6B9pWHzXS0OUPXl1fK/4dc8c8emjJxqhXUMLJduTBPuWRx7q7yTAXp8a/X+VPqqlRMhEiqY0CvtQ5knQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170707-商城对接", "branch"=>"20170707-商城对接", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"dcywba6B9pWHzXS0OUPXl1fK/4dc8c8emjJxqhXUMLJduTBPuWRx7q7yTAXp8a/X+VPqqlRMhEiqY0CvtQ5knQ=="}
pid is 27261
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170707-\345\225\206\345\237\216\345\257\271\346\216\245' -e qishanqing@dafy.com -E '' -b $'20170707-\345\225\206\345\237\216\345\257\271\346\216\245' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170707-商城对接'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170707-商城对接'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170707-商城对接'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170707-商城对接'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170707-\345\225\206\345\237\216\345\257\271\346\216\245' -e qishanqing@dafy.com -E '' -b $'20170707-\345\225\206\345\237\216\345\257\271\346\216\245' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170707-\345\225\206\345\237\216\345\257\271\346\216\245'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170707-\345\225\206\345\237\216\345\257\271\346\216\245'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170707-\345\225\206\345\237\216\345\257\271\346\216\245'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170707-商城对接: command not found
++ for y in '$trunk'
++ echo $'20170707-\345\225\206\345\237\216\345\257\271\346\216\245'
+ trunks=$'20170707-\345\225\206\345\237\216\345\257\271\346\216\245'
+ test del = add
+ delbranch
+ '[' -z $'20170707-\345\225\206\345\237\216\345\257\271\346\216\245' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170731
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707311109
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170707-\345\225\206\345\237\216\345\257\271\346\216\245'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170731-20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/20170707-\345\225\206\345\237\216\345\257\271\346\216\245'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311109-20170707-\345\225\206\345\237\216\345\257\271\346\216\245'
++ awk -F / '{print $7}'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/20170707-\345\225\206\345\237\216\345\257\271\346\216\245'
+ br=$'20170731-20170707-\345\225\206\345\237\216\345\257\271\346\216\245'
+ access=$'20170731-20170707-\345\225\206\345\237\216\345\257\271\346\216\245'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311109-20170707-\345\225\206\345\237\216\345\257\271\346\216\245' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.27261
+ echo $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170707-商城对接%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170707-商城对接%'\'';'
+ cat /tmp/cmdb.db.27261
+ rm -f /tmp/cmdb.db.27261
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.1ms)
  Rendered builder/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 847ms (Views: 75.0ms)


Completed 200 OK in 847ms (Views: 75.0ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-31 11:09:25 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-31 11:09:25 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.4ms)
  Rendered builder/index.html.erb within layouts/application (4.4ms)
Completed 200 OK in 100ms (Views: 97.0ms)


Completed 200 OK in 100ms (Views: 97.0ms)


Started POST "/start" for 192.168.5.26 at 2017-07-31 11:09:30 +0800
Started POST "/start" for 192.168.5.26 at 2017-07-31 11:09:30 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"dwqdw", "branch"=>"20170705-商城对接", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"CM96eE7gUKGXOvY/qXIRqMdVZUo1sVOW67ffYZpG8pkguvpaWQXX2r4Fzo55wGnoacxwZz0MGMDb5u5kOpymtg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"dwqdw", "branch"=>"20170705-商城对接", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"CM96eE7gUKGXOvY/qXIRqMdVZUo1sVOW67ffYZpG8pkguvpaWQXX2r4Fzo55wGnoacxwZz0MGMDb5u5kOpymtg=="}
pid is 27297
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t dwqdw -e qishanqing@dafy.com -E '' -b $'20170705-\345\225\206\345\237\216\345\257\271\346\216\245' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''dwqdw'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170705-商城对接'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''dwqdw'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170705-商城对接'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t dwqdw -e qishanqing@dafy.com -E '' -b $'20170705-\345\225\206\345\237\216\345\257\271\346\216\245' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=dwqdw
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170705-\345\225\206\345\237\216\345\257\271\346\216\245'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ dwqdw
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: dwqdw: command not found
++ for y in '$trunk'
++ echo dwqdw
+ trunks=dwqdw
+ test del = add
+ delbranch
+ '[' -z $'20170705-\345\225\206\345\237\216\345\257\271\346\216\245' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170731
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707311109
+ move_dir=Closed/--close+
+ Trunk_name=https://192.168.0.220/svn/tech/Trunk/dwqdw
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170731-20170705-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/dwqdw'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170705-\345\225\206\345\237\216\345\257\271\346\216\245'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311109-20170705-\345\225\206\345\237\216\345\257\271\346\216\245'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-20170705-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/dwqdw'
++ awk -F / '{print $7}'
+ br=$'20170731-20170705-\345\225\206\345\237\216\345\257\271\346\216\245'
+ access=$'20170731-20170705-\345\225\206\345\237\216\345\257\271\346\216\245'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170705-\345\225\206\345\237\216\345\257\271\346\216\245' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311109-20170705-\345\225\206\345\237\216\345\257\271\346\216\245' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.27297
+ echo $'https://192.168.0.220/svn/tech/Branch/20170705-\345\225\206\345\237\216\345\257\271\346\216\245'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170705-商城对接%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170705-商城对接%'\'';'
+ cat /tmp/cmdb.db.27297
+ rm -f /tmp/cmdb.db.27297
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.3ms)
  Rendered builder/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 4593ms (Views: 60.3ms)


Completed 200 OK in 4593ms (Views: 60.3ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-31 11:10:01 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-31 11:10:01 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.7ms)
  Rendered builder/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 54ms (Views: 51.3ms)


Completed 200 OK in 54ms (Views: 51.3ms)


Started POST "/start" for 192.168.5.26 at 2017-07-31 11:10:06 +0800
Started POST "/start" for 192.168.5.26 at 2017-07-31 11:10:06 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"fwf", "branch"=>"20170613-资金方接入", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"Tl7GjKgOaTLMrSvUnbm0bKZGJBDKQBVvB8QGp9w4Y0VmK0auv+vuSeWSE2VNC8wsCN8xPcL9Xjk3lTeifOI3ag=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"fwf", "branch"=>"20170613-资金方接入", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"Tl7GjKgOaTLMrSvUnbm0bKZGJBDKQBVvB8QGp9w4Y0VmK0auv+vuSeWSE2VNC8wsCN8xPcL9Xjk3lTeifOI3ag=="}
pid is 27330
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t fwf -e qishanqing@dafy.com -E '' -b $'20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''fwf'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170613-资金方接入'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''fwf'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170613-资金方接入'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t fwf -e qishanqing@dafy.com -E '' -b $'20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=fwf
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ fwf
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: fwf: command not found
++ for y in '$trunk'
++ echo fwf
+ trunks=fwf
+ test del = add
+ delbranch
+ '[' -z $'20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170731
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707311110
+ move_dir=Closed/--close+
+ Trunk_name=https://192.168.0.220/svn/tech/Trunk/fwf
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170731-20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/fwf'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311110-20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/fwf'
++ awk -F / '{print $7}'
+ br=$'20170731-20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245'
+ access=$'20170731-20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311110-20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.27330
+ echo $'https://192.168.0.220/svn/tech/Branch/20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170613-资金方接入%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170613-资金方接入%'\'';'
+ cat /tmp/cmdb.db.27330
+ rm -f /tmp/cmdb.db.27330
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (0.9ms)
  Rendered builder/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 653ms (Views: 45.3ms)


Completed 200 OK in 653ms (Views: 45.3ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-31 11:10:24 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-31 11:10:24 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.9ms)
  Rendered builder/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 60ms (Views: 57.2ms)


Completed 200 OK in 60ms (Views: 57.2ms)


Started POST "/start" for 192.168.5.26 at 2017-07-31 11:10:29 +0800
Started POST "/start" for 192.168.5.26 at 2017-07-31 11:10:29 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"fwf", "branch"=>"20170705-分期商城退款", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"3BC45Xjt5TP0rs/uyYLTQIXxcT5PimwnXu076Sbu4nP0ZTjHbwhiSN2R918ZMKsAK2hkE0c3J3FuvArshjS2XA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"fwf", "branch"=>"20170705-分期商城退款", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"3BC45Xjt5TP0rs/uyYLTQIXxcT5PimwnXu076Sbu4nP0ZTjHbwhiSN2R918ZMKsAK2hkE0c3J3FuvArshjS2XA=="}
pid is 27370
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t fwf -e qishanqing@dafy.com -E '' -b $'20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''fwf'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170705-分期商城退款'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''fwf'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170705-分期商城退款'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t fwf -e qishanqing@dafy.com -E '' -b $'20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=fwf
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ fwf
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: fwf: command not found
++ for y in '$trunk'
++ echo fwf
+ trunks=fwf
+ test del = add
+ delbranch
+ '[' -z $'20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170731
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707311110
+ move_dir=Closed/--close+
+ Trunk_name=https://192.168.0.220/svn/tech/Trunk/fwf
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170731-20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276/Develop/fwf'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311110-20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276/Develop/fwf'
++ awk -F / '{print $7}'
+ br=$'20170731-20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276'
+ access=$'20170731-20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311110-20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.27370
+ echo $'https://192.168.0.220/svn/tech/Branch/20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170705-分期商城退款%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170705-分期商城退款%'\'';'
+ cat /tmp/cmdb.db.27370
+ rm -f /tmp/cmdb.db.27370
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 2557ms (Views: 66.5ms)


Completed 200 OK in 2557ms (Views: 66.5ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-31 11:10:43 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-31 11:10:43 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.0ms)
  Rendered builder/index.html.erb within layouts/application (4.0ms)
Completed 200 OK in 74ms (Views: 70.4ms)


Completed 200 OK in 74ms (Views: 70.4ms)


Started POST "/start" for 192.168.5.26 at 2017-07-31 11:10:48 +0800
Started POST "/start" for 192.168.5.26 at 2017-07-31 11:10:48 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170710-商城资金方", "branch"=>"20170710-商城资金方", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"UnLammZEn/L/MVccXAS6OMyH8/VTehxoKqR3z77p3T56B1q4caEYidYOb62MtsJ4Yh7m2FvHVz4a9UbKHjOJEQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170710-商城资金方", "branch"=>"20170710-商城资金方", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"UnLammZEn/L/MVccXAS6OMyH8/VTehxoKqR3z77p3T56B1q4caEYidYOb62MtsJ4Yh7m2FvHVz4a9UbKHjOJEQ=="}
pid is 27401
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271' -e qishanqing@dafy.com -E '' -b $'20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170710-商城资金方'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170710-商城资金方'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170710-商城资金方'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170710-商城资金方'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271' -e qishanqing@dafy.com -E '' -b $'20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170710-商城资金方: command not found
++ for y in '$trunk'
++ echo $'20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271'
+ trunks=$'20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271'
+ test del = add
+ delbranch
+ '[' -z $'20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170731
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707311110
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170731-20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271/Develop/20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311110-20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271/Develop/20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271'
++ awk -F / '{print $7}'
+ br=$'20170731-20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271'
+ access=$'20170731-20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311110-20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.27401
+ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170710-商城资金方%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170710-商城资金方%'\'';'
+ cat /tmp/cmdb.db.27401
+ rm -f /tmp/cmdb.db.27401
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 702ms (Views: 47.3ms)


Completed 200 OK in 702ms (Views: 47.3ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-31 11:15:16 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-07-31 11:15:16 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (5.1ms)
  Rendered merge/index.html.erb within layouts/application (5.1ms)
Completed 200 OK in 85ms (Views: 82.3ms)


Completed 200 OK in 85ms (Views: 82.3ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 11:15:23 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 11:15:23 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"dt", "trunk"=>"https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/RepaymentBusiness2", "branch"=>"", "task"=>"", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"g2Njijv2iqhbwnoozIdlKc2e88ztZ6VK0zpIcex1pemrFuOoLBMN03L9QpkcNR1pYwfm4eXa7hzja3l0TK/xxg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"dt", "trunk"=>"https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/RepaymentBusiness2", "branch"=>"", "task"=>"", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"g2Njijv2iqhbwnoozIdlKc2e88ztZ6VK0zpIcex1pemrFuOoLBMN03L9QpkcNR1pYwfm4eXa7hzja3l0TK/xxg=="}
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (6.8ms)
  Rendered merge/index.html.erb within layouts/application (6.8ms)
Completed 200 OK in 91ms (Views: 86.5ms)


Completed 200 OK in 91ms (Views: 86.5ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 11:15:44 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 11:15:44 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"dt", "trunk"=>"https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/RepaymentBusiness2", "branch"=>"fefe", "task"=>"", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"EFN6kQF14NDeCxfS7a4ftYAIXhdzI7jlFFnhL7ovbnc4JvqzFpBnq/c0L2M9HGf1LpFLOnue87MkCNAqGvU6WA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"dt", "trunk"=>"https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/RepaymentBusiness2", "branch"=>"fefe", "task"=>"", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"EFN6kQF14NDeCxfS7a4ftYAIXhdzI7jlFFnhL7ovbnc4JvqzFpBnq/c0L2M9HGf1LpFLOnue87MkCNAqGvU6WA=="}
pid is 27493
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k '' -R '' -t $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' -e qishanqing@dafy.com -E '' -b fefe -T dt
+ TEMP=' -k '\'''\'' -R '\'''\'' -t '\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/RepaymentBusiness2'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''fefe'\'' -T '\''dt'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\'''\'' -R '\'''\'' -t '\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/RepaymentBusiness2'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''fefe'\'' -T '\''dt'\'' --'
++ set -- -k '' -R '' -t $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' -e qishanqing@dafy.com -E '' -b fefe -T dt --
+ true
+ case "$1" in
+ task=
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=fefe
+ shift 2
+ true
+ case "$1" in
+ types=dt
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ fefe
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: fefe: command not found
++ for y in '$branch'
++ echo fefe
+ branchs=fefe
+ test dt = add
+ test dt = del
+ test dt = dt
+ Basecode
+ test -z $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ svn log -l 1 fefe
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.27493
+ echo
+ cat /home/qishanqing/tmp/merged/output.27493
+ rm -f /home/qishanqing/tmp/merged/output.27493
+ rm -f /home/qishanqing/tmp/merged/output.27493
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=/home/qishanqing/workspace/code/Branch/fefe
+ svn_dt_merged
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
正在升级 '.':
A    target
A    target/generated-sources
A    target/generated-sources/annotations
A    target/BorrowBusiness
A    target/BorrowBusiness/META-INF
A    target/BorrowBusiness/WEB-INF
A    target/BorrowBusiness/WEB-INF/classes
A    target/BorrowBusiness/WEB-INF/classes/com
A    target/BorrowBusiness/WEB-INF/classes/com/dafy
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/mall
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/mall/business
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/mall/util
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/mall/model
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/mode
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/mode/impl
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/service
A    target/BorrowBusiness/META-INF/MANIFEST.MF
A    target/BorrowBusiness/WEB-INF/web.xml
A    target/BorrowBusiness/WEB-INF/classes/holiday_hints.properties
A    target/BorrowBusiness/WEB-INF/classes/servicebus.xml
A    target/BorrowBusiness/WEB-INF/classes/config4cdo.properties
A    target/BorrowBusiness/WEB-INF/classes/log4j.properties
A    target/BorrowBusiness/WEB-INF/classes/AntiFraud.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/mall/business/ThirdBillMongoService.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/mall/business/ThirdBillService.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/mall/business/ThirdBorrowModeService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/mall/business/ThirdBillMongoService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/mall/business/ThirdBillService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/mall/util/BorrowerBillUtil.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/mall/model/BorrowerBillModel.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/mall/model/Constants.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/service/BorrowIntentInfoService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/PrefixCacheService.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/FundProviderService$sortByPriority.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowDataDisplayService.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/enums
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/utils
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/web
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/mode/impl/PPMoneyBorrowModeService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowerMoreBillService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowProductStrateService.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/mode/impl/CommonBorrowModeService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/mode/impl/HaierBorrowModeService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/mode/impl/MinDaiMoneyBorrowModeService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/mode/impl/GHBBorrowModeService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/mode/impl/StagingMallBorrowModeService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowIntentService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowIntentMongoService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/EasyLoanOverdueService.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/mode/impl/CommonBorrowModeService.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/EasyLoanOverdueService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowMoreIntentService.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/SftpService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowAuditService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/enums/BorrowModeCodeEnum.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/plugin.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/PostfixCacheService.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BillService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/BusinessSocketServer.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/utils/PropertyUtil.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/utils
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/fundprovider
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/fundprovider/router
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/fundprovider/impl
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowMoreIntentService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/TriggerService.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/utils/FileZipUtil.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/web/BusinessServlet.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/mode/impl/DafyBorrowModeService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/mode/BorrowMode.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/web/ApplicationListener.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/utils/FundProvider.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/utils/UserBusinessHelper.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/utils/FundProviderHold.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/fundprovider/router/FundRouter.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/fundprovider/impl/HaierFundProvider.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/utils/FtpUtil.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/utils/StringUtils.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/utils/Des3.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/utils/MinDaiUtils.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/fundprovider/impl/HongLingFundProvider.class
A    target/BorrowBusiness/WEB-INF/classes/dev
A    target/BorrowBusiness/WEB-INF/classes/dev/dafy
A    target/BorrowBusiness/WEB-INF/classes/dev/dafy/borrowbusiness
A    target/BorrowBusiness/WEB-INF/classes/dev/dafy/borrowbusiness/business
A    target/BorrowBusiness/WEB-INF/classes/dev/dafy/borrowbusiness/business/plugin
A    target/BorrowBusiness/WEB-INF/classes/dev/dafy/borrowbusiness/business/plugin/borrow
A    target/BorrowBusiness/WEB-INF/classes/dev/dafy/borrowbusiness/test
A    target/BorrowBusiness/WEB-INF/classes/META-INF
A    target/BorrowBusiness/WEB-INF/lib
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowerBillMongoService.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/fundprovider/impl/HBCFFundProvider.class
A    target/BorrowBusiness/WEB-INF/classes/dev/dafy/borrowbusiness/business/plugin/borrow/SaleManBorrowServiceTest.class
A    target/BorrowBusiness/WEB-INF/classes/dev/dafy/borrowbusiness/business/plugin/borrow/BorrowMoreIntentServiceTest.class
A    target/BorrowBusiness/WEB-INF/classes/dev/dafy/borrowbusiness/test/TestApp.class
A    target/BorrowBusiness/WEB-INF/classes/config.properties
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/fundprovider/impl/MinDaiFundProvider.class
A    target/BorrowBusiness/WEB-INF/classes/dev/dafy/borrowbusiness/business/plugin/borrow/BorrowDataDisplayServiceTest.class
A    target/BorrowBusiness/WEB-INF/classes/dev/dafy/borrowbusiness/business/plugin/borrow/SampleTestCase.class
A    target/BorrowBusiness/WEB-INF/classes/dev/dafy/borrowbusiness/business/plugin/borrow/FundProviderServiceTest.class
A    target/BorrowBusiness/WEB-INF/classes/NodeList.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowerBillService.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/fundprovider/impl/PPFundProvider.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/fundprovider/IFundProvider.class
A    target/BorrowBusiness/WEB-INF/classes/dev/dafy/borrowbusiness/business/plugin/borrow/BorrowIntentServiceTest.class
A    target/BorrowBusiness/WEB-INF/classes/dev/dafy/borrowbusiness/business/plugin/borrow/BorrowerMoreBillServiceTest.class
A    target/BorrowBusiness/WEB-INF/classes/META-INF/MANIFEST.MF
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowDataService.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/EasyLoanBorrowService.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowAuditMongoService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/FundProviderService.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowDataService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowerBillService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowerBillMongoService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowRealTimeSync.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/EasyLoanBorrowService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/SaleManBorrowService.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/FundProviderService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/SaleManBorrowService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/CompensatoryService.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowerMoreBillService.xml
A    target/BorrowBusiness/WEB-INF/lib/P2PCommon-20170418.jar
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowIntentService.xml
A    target/BorrowBusiness/WEB-INF/lib/dom4j-1.6.1.jar
A    target/BorrowBusiness/WEB-INF/lib/ant-launcher-1.8.2.jar
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowIntentMongoService.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowDataDisplayService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowAuditService.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowProductStrateService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/DataPostfix.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/enums/RepayWayEnum.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowProductService.xml
A    target/BorrowBusiness/WEB-INF/lib/commons-lang3-3.4.jar
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowProductService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BillService.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowAuditMongoService.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/utils/Sftp.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/DataEngine.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/utils/ArithUtil.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/utils/MDCDOUtils.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/utils/FtpUtil$1.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/utils/EncDecUtil.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/fundprovider/impl/BackupFundProvider.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/fundprovider/impl/KaisaFundProvider.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/fundprovider/impl/DafyFundProvider.class
A    target/BorrowBusiness/WEB-INF/classes/dev/dafy/borrowbusiness/business/plugin/borrow/BorrowIntentMongoServiceTest.class
A    target/BorrowBusiness/WEB-INF/classes/dev/dafy/borrowbusiness/business/plugin/borrow/BillServiceTest.class
A    target/BorrowBusiness/WEB-INF/classes/dev/dafy/borrowbusiness/test/BaseTestCase.class
A    target/BorrowBusiness/WEB-INF/classes/FundRouterList.xml
A    target/maven-archiver
A    target/maven-status
A    target/maven-status/maven-compiler-plugin
A    target/maven-status/maven-compiler-plugin/compile
A    target/maven-status/maven-compiler-plugin/compile/default-compile
A    target/classes
A    target/classes/com
A    target/classes/com/dafy
A    target/classes/com/dafy/mall
A    target/classes/com/dafy/mall/model
A    target/classes/com/dafy/mall/business
A    target/classes/com/dafy/mall/util
A    target/BorrowBusiness/WEB-INF/lib/commons-pool-1.5.4.jar
A    target/BorrowBusiness/WEB-INF/lib/commons-dbcp-1.4.jar
A    target/BorrowBusiness/WEB-INF/lib/commons-collections-3.2.2.jar
A    target/BorrowBusiness/WEB-INF/lib/httpmime-4.5.jar
A    target/BorrowBusiness/WEB-INF/lib/core-2.3.0.jar
A    target/BorrowBusiness/WEB-INF/lib/commons-net-3.4.jar
A    target/BorrowBusiness/WEB-INF/lib/spymemcached-2.7.jar
A    target/BorrowBusiness/WEB-INF/lib/mockito-all-1.9.5.jar
A    target/BorrowBusiness/WEB-INF/lib/mongo-java-driver-3.2.2.jar
A    target/BorrowBusiness/WEB-INF/lib/hamcrest-core-1.3.jar
A    target/BorrowBusiness/WEB-INF/lib/jedis-2.7.2.jar
A    target/BorrowBusiness/WEB-INF/lib/xml-apis-1.3.03.jar
A    target/BorrowBusiness/WEB-INF/lib/xerces-j-1.4.0.jar
A    target/BorrowBusiness/WEB-INF/lib/commons-codec-1.2.jar
A    target/BorrowBusiness/WEB-INF/lib/slf4j-log4j12-1.7.21.jar
A    target/BorrowBusiness/WEB-INF/lib/commons-lang-2.4.jar
A    target/BorrowBusiness/WEB-INF/lib/commons-beanutils-1.9.1.jar
A    target/BorrowBusiness/WEB-INF/lib/gson-2.2.4.jar
A    target/classes/com/dafy/borrowbusiness
A    target/classes/com/dafy/borrowbusiness/fundprovider
A    target/classes/com/dafy/borrowbusiness/fundprovider/router
A    target/classes/com/dafy/borrowbusiness/fundprovider/impl
A    target/classes/com/dafy/borrowbusiness/business
A    target/classes/com/dafy/borrowbusiness/business/plugin
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow
A    target/BorrowBusiness/WEB-INF/lib/objenesis-1.0.jar
A    target/classes/com/dafy/mall/model/BorrowerBillModel.class
A    target/classes/com/dafy/mall/business/ThirdBorrowModeService.class
A    target/BorrowBusiness/WEB-INF/lib/cdoframework-7.2.4.jar
A    target/classes/com/dafy/borrowbusiness/fundprovider/router/FundRouter.class
A    target/classes/com/dafy/borrowbusiness/fundprovider/impl/KaisaFundProvider.class
A    target/classes/com/dafy/borrowbusiness/fundprovider/impl/DafyFundProvider.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowRealTimeSync.xml
A    target/BorrowBusiness/WEB-INF/lib/activation-1.1.jar
A    target/BorrowBusiness/WEB-INF/lib/ant-1.8.2.jar
A    target/BorrowBusiness/WEB-INF/lib/xercesImpl-2.8.1.jar
A    target/BorrowBusiness/WEB-INF/lib/ezmorph-1.0.6.jar
A    target/BorrowBusiness/WEB-INF/lib/log4j-1.2.17.jar
A    target/BorrowBusiness/WEB-INF/lib/httpcore-4.4.1.jar
A    target/BorrowBusiness/WEB-INF/lib/oro-2.0.6.jar
A    target/BorrowBusiness/WEB-INF/lib/commons-io-2.0.1.jar
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/service
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/FundProviderService.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/CompensatoryService.xml
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowerMoreBillService.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowDataDisplayService.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowProductStrateService.class
A    target/BorrowBusiness/WEB-INF/lib/javax.mail-1.5.0.jar
A    target/BorrowBusiness/WEB-INF/lib/commons-logging-1.0.3.jar
A    target/BorrowBusiness/WEB-INF/lib/mysql-connector-java-5.1.18.jar
A    target/BorrowBusiness/WEB-INF/lib/httpclient-4.5.jar
A    target/BorrowBusiness/WEB-INF/lib/dflib-1.0.4.jar
A    target/BorrowBusiness/WEB-INF/lib/commons-httpclient-3.0.1.jar
A    target/BorrowBusiness/WEB-INF/lib/fastjson-1.2.7.jar
A    target/BorrowBusiness/WEB-INF/lib/castor-xml-1.0.1-xml.jar
A    target/BorrowBusiness/WEB-INF/lib/bouncyCastle-1.0.0.jar
A    target/BorrowBusiness/WEB-INF/lib/javaee-api-7.0.jar
A    target/BorrowBusiness/WEB-INF/lib/json-lib-2.4-jdk15.jar
A    target/BorrowBusiness/WEB-INF/lib/junit-4.11.jar
A    target/maven-archiver/pom.properties
A    target/classes/com/dafy/mall/model/Constants.class
A    target/classes/com/dafy/mall/business/ThirdBillMongoService.class
A    target/classes/com/dafy/borrowbusiness/fundprovider/impl/BackupFundProvider.class
A    target/classes/com/dafy/borrowbusiness/fundprovider/impl/PPFundProvider.class
A    target/classes/com/dafy/borrowbusiness/fundprovider/IFundProvider.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowDataService.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/SaleManBorrowService.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/FundProviderService$sortByPriority.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/enums
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/mode
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/mode/impl
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowIntentMongoService.xml
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowIntentService.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/EasyLoanOverdueService.xml
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/enums/BorrowModeCodeEnum.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/enums/RepayWayEnum.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowMoreIntentService.xml
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BillService.xml
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/TriggerService.xml
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/mode/BorrowMode.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/plugin.xml
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/SftpService.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowAuditMongoService.xml
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowDataService.xml
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/mode/impl/CommonBorrowModeService.xml
A    target/BorrowBusiness/WEB-INF/lib/bcprov-jdk16-1.46.jar
A    target/classes/com/dafy/borrowbusiness/business/utils
A    target/classes/com/dafy/borrowbusiness/web
A    target/classes/com/dafy/borrowbusiness/utils
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/mode/impl/HaierBorrowModeService.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/mode/impl/DafyBorrowModeService.class
A    target/BorrowBusiness/WEB-INF/lib/mockito-core-1.9.5.jar
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/mode/impl/MinDaiMoneyBorrowModeService.class
A    target/classes/com/dafy/borrowbusiness/business/BusinessSocketServer.class
A    target/classes/com/dafy/borrowbusiness/business/DataEngine.class
A    target/classes/com/dafy/borrowbusiness/utils/FtpUtil.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/FundProviderService.xml
A    target/classes/com/dafy/borrowbusiness/business/utils/Sftp.class
A    target/classes/com/dafy/borrowbusiness/utils/ArithUtil.class
A    target/BorrowBusiness/WEB-INF/lib/commons-pool2-2.3.jar
A    target/BorrowBusiness/WEB-INF/lib/P2PCommon-20170511-SNAPSHOT.jar
A    target/BorrowBusiness/WEB-INF/lib/slf4j-api-1.7.21.jar
A    target/maven-status/maven-compiler-plugin/compile/default-compile/inputFiles.lst
A    target/classes/com/dafy/mall/business/ThirdBillMongoService.xml
A    target/classes/com/dafy/mall/business/ThirdBillService.class
A    target/classes/com/dafy/borrowbusiness/fundprovider/impl/HongLingFundProvider.class
A    target/classes/com/dafy/borrowbusiness/fundprovider/impl/MinDaiFundProvider.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowerBillService.class
A    target/classes/META-INF
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/EasyLoanBorrowService.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/service/BorrowIntentInfoService.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowerMoreBillService.xml
A    target/classes/com/dafy/borrowbusiness/utils/StringUtils.class
A    target/classes/com/dafy/borrowbusiness/utils/FundProviderHold.class
A    target/classes/NodeList.xml
A    target/classes/servicebus.xml
A    target/classes/com/dafy/borrowbusiness/utils/UserBusinessHelper.class
A    target/classes/com/dafy/borrowbusiness/utils/EncDecUtil.class
A    target/classes/config.properties
A    target/classes/config4cdo.properties
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowIntentService.xml
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowIntentMongoService.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/DataPostfix.xml
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/EasyLoanOverdueService.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/PostfixCacheService.xml
A    target/BorrowBusiness/WEB-INF/lib/jsch-0.1.48.jar
A    target/maven-status/maven-compiler-plugin/compile/default-compile/createdFiles.lst
A    target/classes/com/dafy/mall/business/ThirdBillService.xml
A    target/classes/com/dafy/mall/util/BorrowerBillUtil.class
A    target/classes/com/dafy/borrowbusiness/fundprovider/impl/HaierFundProvider.class
A    target/classes/com/dafy/borrowbusiness/fundprovider/impl/HBCFFundProvider.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowerBillMongoService.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/SaleManBorrowService.xml
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/PrefixCacheService.xml
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowDataDisplayService.xml
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowProductStrateService.xml
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowMoreIntentService.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowAuditService.xml
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowerBillService.xml
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/mode/impl/GHBBorrowModeService.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowAuditService.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/mode/impl/PPMoneyBorrowModeService.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/EasyLoanBorrowService.xml
A    target/classes/com/dafy/borrowbusiness/business/utils/FileZipUtil.class
A    target/classes/com/dafy/borrowbusiness/web/BusinessServlet.class
A    target/classes/com/dafy/borrowbusiness/utils/FundProvider.class
A    target/classes/com/dafy/borrowbusiness/utils/FtpUtil$1.class
A    target/classes/com/dafy/borrowbusiness/utils/MinDaiUtils.class
A    target/classes/FundRouterList.xml
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowProductService.xml
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowProductService.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BillService.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowerBillMongoService.xml
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/mode/impl/StagingMallBorrowModeService.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/mode/impl/CommonBorrowModeService.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowAuditMongoService.class
A    target/classes/com/dafy/borrowbusiness/business/utils/PropertyUtil.class
A    target/classes/com/dafy/borrowbusiness/web/ApplicationListener.class
A    target/classes/com/dafy/borrowbusiness/utils/MDCDOUtils.class
A    target/classes/com/dafy/borrowbusiness/utils/Des3.class
A    target/classes/META-INF/MANIFEST.MF
A    target/classes/holiday_hints.properties
A    target/classes/AntiFraud.xml
A    target/classes/log4j.properties
A    target/BorrowBusiness.war
更新到版本 132358。
++ svn log -l 2
++ awk -F '|' '{print$1}'
++ grep '^r'
++ tail -n 1
+ revision='r131607 '
+ '[' -z ']'
+ svn merge -r HEAD:r131607 .
+ mails-cm -i $'\345\267\262\345\233\236\351\200\200\347\211\210\346\234\254'
+ svn ci -m '版本回退至: r131607 '
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.3ms)
  Rendered merge/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 32702ms (Views: 128.2ms)


Completed 200 OK in 32702ms (Views: 128.2ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-31 11:19:27 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-07-31 11:19:27 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (7.7ms)
  Rendered merge/index.html.erb within layouts/application (7.7ms)
Completed 200 OK in 130ms (Views: 125.8ms)


Completed 200 OK in 130ms (Views: 125.8ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 11:20:20 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 11:20:20 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/ClientPocketHTML https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketBusiness https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketCenter https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketWapCenter", "task"=>"http://192.168.0.221/zentao/task-view-42607.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"A12LFd8BKBD2NCPOJHOu1w96n9aIUdoUlT5bGqrCGnYrKAs3yOSva98LG3/0wdaXoeOK+4DskUKlb2ofChhOWQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/ClientPocketHTML https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketBusiness https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketCenter https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketWapCenter", "task"=>"http://192.168.0.221/zentao/task-view-42607.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"A12LFd8BKBD2NCPOJHOu1w96n9aIUdoUlT5bGqrCGnYrKAs3yOSva98LG3/0wdaXoeOK+4DskUKlb2ofChhOWQ=="}
pid is 27564
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42607.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/ClientPocketHTML https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketBusiness https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketCenter https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketWapCenter' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42607.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/ClientPocketHTML https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketBusiness https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketCenter https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketWapCenter'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42607.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/ClientPocketHTML https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketBusiness https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketCenter https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketWapCenter'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42607.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/ClientPocketHTML https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketBusiness https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketCenter https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketWapCenter' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42607.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/ClientPocketHTML https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketBusiness https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketCenter https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketWapCenter'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/ClientPocketHTML' $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketBusiness' $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter' $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketWapCenter'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/ClientPocketHTML: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/ClientPocketHTML'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketWapCenter'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/ClientPocketHTML
https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketBusiness
https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketCenter
https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketWapCenter'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/ClientPocketHTML'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/ClientPocketHTML'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/ClientPocketHTML'
+ rm -f /home/qishanqing/tmp/merged/output.27564
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/ClientPocketHTML'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/ClientPocketHTML'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/ClientPocketHTML'
+ svn_from_tb_merged
+ mails-cm -i 'code merged from Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/ClientPocketHTML'
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/ClientPocketHTML'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/ClientPocketHTML'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r131908 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/ClientPocketHTML'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132298 '
+ '[' '!' -z r131908 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/ClientPocketHTML@r131908' $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/ClientPocketHTML' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/ClientPocketHTML@r131908' $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/ClientPocketHTML'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42607.html
Merged revision(s) r131908 -r132298   from Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/ClientPocketHTML' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.27564
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r131907 '
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketBusiness'
+ head='r131775 '
+ '[' '!' -z r131907 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketBusiness@r131907' $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketBusiness@r131907' $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42607.html
Merged revision(s) r131907 -r131775   from Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketBusiness' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter'
+ rm -f /home/qishanqing/tmp/merged/output.27564
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter'
+ mails-cm -i 'code merged from Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketCenter'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter'
++ head -n 4
++ awk -F '|' '{print$1}'
+ revision='r131899 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r131718 '
+ '[' '!' -z r131899 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter@r131899' $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter@r131899' $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42607.html
Merged revision(s) r131899 -r131718   from Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketCenter' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketWapCenter'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketWapCenter'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketWapCenter'
+ rm -f /home/qishanqing/tmp/merged/output.27564
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketWapCenter'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketWapCenter'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketWapCenter'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketWapCenter'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketWapCenter'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketWapCenter'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r131906 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketWapCenter'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r132102 '
+ '[' '!' -z r131906 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketWapCenter@r131906' $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketWapCenter' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketWapCenter@r131906' $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketWapCenter'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42607.html
Merged revision(s) r131906 -r132102   from Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketWapCenter' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.5ms)
  Rendered merge/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 56568ms (Views: 56.7ms)


Completed 200 OK in 56568ms (Views: 56.7ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-31 11:25:57 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-07-31 11:25:57 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (7.6ms)
  Rendered merge/index.html.erb within layouts/application (7.6ms)
Completed 200 OK in 73ms (Views: 67.9ms)


Completed 200 OK in 73ms (Views: 67.9ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 11:26:10 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 11:26:10 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170724-可动态配置化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness\r\n", "task"=>"http://192.168.0.221/zentao/task-view-42444.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"3ZuvnPJ1z770T3nri8wKniK+J/kbH/QS9Y0dt6Y1DXb17i++5ZBIxd1wQVpbfnLejCcy1BOiv0TF3CyyBu9ZWQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170724-可动态配置化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness\r\n", "task"=>"http://192.168.0.221/zentao/task-view-42444.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"3ZuvnPJ1z770T3nri8wKniK+J/kbH/QS9Y0dt6Y1DXb17i++5ZBIxd1wQVpbfnLejCcy1BOiv0TF3CyyBu9ZWQ=="}
pid is 27781
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42444.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170724-可动态配置化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness
' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42444.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170724-可动态配置化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness
'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42444.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170724-可动态配置化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness
'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42444.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170724-可动态配置化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness
' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42444.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170724-可动态配置化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness
'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness\r'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170724-可动态配置化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness\r'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness\r'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness\r'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness\r'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.27781
+ echo
+ cat /home/qishanqing/tmp/merged/output.27781
+ rm -f /home/qishanqing/tmp/merged/output.27781
+ rm -f /home/qishanqing/tmp/merged/output.27781
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness\r'
+ die '外部业务/P2P/Business/CollectionOverdueBatchBusiness  project code no found'
+ echo '外部业务/P2P/Business/CollectionOverdueBatchBusiness  project code no found'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.27781
+ rm -f /home/qishanqing/tmp/merged/output.27781
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.1ms)
  Rendered merge/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 193ms (Views: 61.0ms)


Completed 200 OK in 193ms (Views: 61.0ms)


smtp-server: 554 DT:SPM 163 smtp2,DNGowADnoRBUo35ZYYdtAg--.41675S2 1501471572,please see http://mail.163.com/help/help_spam_16.htm?ip=106.120.15.178&hostid=smtp2&time=1501471572
. . . message not sent.
Started GET "/merge/index" for 192.168.5.26 at 2017-07-31 11:26:28 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-07-31 11:26:28 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.4ms)
  Rendered merge/index.html.erb within layouts/application (4.4ms)
Completed 200 OK in 52ms (Views: 49.1ms)


Completed 200 OK in 52ms (Views: 49.1ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 11:26:43 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 11:26:43 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170724-可动态配置化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42444.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"ry7USTuKAz+Z1I4ELIjMMz4GyJeBrw4e6acf6HHC91WHW1RrLG+ERLDrtrX8OrRzkJ/duokSRUjZ9i7t0Rijeg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170724-可动态配置化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42444.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"ry7USTuKAz+Z1I4ELIjMMz4GyJeBrw4e6acf6HHC91WHW1RrLG+ERLDrtrX8OrRzkJ/duokSRUjZ9i7t0Rijeg=="}
pid is 27815
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42444.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42444.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170724-可动态配置化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42444.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170724-可动态配置化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42444.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42444.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170724-可动态配置化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.27815
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170724-可动态配置化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness'
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ awk -F '|' '{print$1}'
++ grep -C 3 $'Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r130534 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r130390 '
+ '[' '!' -z r130390 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness@r130390' $'https://192.168.0.220/svn/tech/Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：1'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2321' ']'
+ die 'Svn merged conflicts the r130390 -r130534  from Branch/20170724-可动态配置化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness'
+ echo 'Svn merged conflicts the r130390 -r130534  from Branch/20170724-可动态配置化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.27815
+ rm -f /home/qishanqing/tmp/merged/output.27815
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42444.html
Merged revision(s) r130390 -r130534   from Branch/20170724-可动态配置化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.8ms)
  Rendered merge/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 12936ms (Views: 67.7ms)


Completed 200 OK in 12936ms (Views: 67.7ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-31 11:37:42 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-31 11:37:42 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.4ms)
  Rendered builder/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 65ms (Views: 63.7ms)


Completed 200 OK in 65ms (Views: 63.7ms)


Started POST "/start" for 192.168.5.26 at 2017-07-31 11:37:48 +0800
Started POST "/start" for 192.168.5.26 at 2017-07-31 11:37:48 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"dwdw", "branch"=>"20170731-催收跑批调度", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"QXdgZFx2RZ+51Ozxftv6F7ugHg9TpK9dqgGqd4OGIzVpAuBGS5PC5JDr1ECuaYJXFTkLIlsZ5AuaUJtyI1x3Gg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"dwdw", "branch"=>"20170731-催收跑批调度", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"QXdgZFx2RZ+51Ozxftv6F7ugHg9TpK9dqgGqd4OGIzVpAuBGS5PC5JDr1ECuaYJXFTkLIlsZ5AuaUJtyI1x3Gg=="}
pid is 27985
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t dwdw -e qishanqing@dafy.com -E '' -b $'20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''dwdw'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170731-催收跑批调度'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''dwdw'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170731-催收跑批调度'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t dwdw -e qishanqing@dafy.com -E '' -b $'20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=dwdw
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ dwdw
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: dwdw: command not found
++ for y in '$trunk'
++ echo dwdw
+ trunks=dwdw
+ test del = add
+ delbranch
+ '[' -z $'20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170731
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707311137
+ move_dir=Closed/--close+
+ Trunk_name=https://192.168.0.220/svn/tech/Trunk/dwdw
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170731-20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246/Develop/dwdw'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311137-20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246/Develop/dwdw'
++ awk -F / '{print $7}'
+ br=$'20170731-20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246'
+ access=$'20170731-20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311137-20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.27985
+ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170731-催收跑批调度%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170731-催收跑批调度%'\'';'
+ cat /tmp/cmdb.db.27985
+ rm -f /tmp/cmdb.db.27985
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.4ms)
  Rendered builder/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 3344ms (Views: 47.0ms)


Completed 200 OK in 3344ms (Views: 47.0ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-31 11:38:41 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-31 11:38:41 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.6ms)
  Rendered builder/index.html.erb within layouts/application (3.6ms)
Completed 200 OK in 79ms (Views: 76.7ms)


Completed 200 OK in 79ms (Views: 76.7ms)


Started POST "/start" for 192.168.5.26 at 2017-07-31 11:39:41 +0800
Started POST "/start" for 192.168.5.26 at 2017-07-31 11:39:41 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/CollectionOverdueBatchBusiness", "branch"=>"催收跑批调度任务", "user"=>"songxinyu", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"JauAQtxe1qianULxbFoUzkeyx8upGluMNNDLeRFMZDsN3gBgy7tR07OiekC86GyO6SvS5qGnENoEgfp8sZYwFA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/CollectionOverdueBatchBusiness", "branch"=>"催收跑批调度任务", "user"=>"songxinyu", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"JauAQtxe1qianULxbFoUzkeyx8upGluMNNDLeRFMZDsN3gBgy7tR07OiekC86GyO6SvS5qGnENoEgfp8sZYwFA=="}
pid is 28030
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u songxinyu -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' -e qishanqing@dafy.com -E '' -b $'\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241' -T add -d ''
+ TEMP=' -u '\''songxinyu'\'' -t '\''外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''催收跑批调度任务'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''songxinyu'\'' -t '\''外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''催收跑批调度任务'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u songxinyu -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' -e qishanqing@dafy.com -E '' -b $'\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241' -T add -d '' --
+ true
+ case "$1" in
+ user=songxinyu
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
++ songxinyu
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: songxinyu: command not found
++ for x in '$user'
++ echo songxinyu=rw
+ users=songxinyu=rw
++ $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 外部业务/P2P/Business/CollectionOverdueBatchBusiness: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ trunks=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' ']'
+ '[' -z $'\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170731
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707311139
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311139-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
++ awk -F / '{print $7}'
+ br=$'20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241'
+ access=$'20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.28030
+ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170731-催收跑批调度任务/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'',now(),'\''qishanqing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170731-催收跑批调度任务/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'',now(),'\''qishanqing'\'');'
+ cat /tmp/cmdb.db.28030
+ rm -f /tmp/cmdb.db.28030
+ check-acces
+ grep -c '20170731-催收跑批调度任务]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z songxinyu=rw
+ cat
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.3ms)
  Rendered builder/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 5085ms (Views: 102.4ms)


Completed 200 OK in 5085ms (Views: 102.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-31 11:41:48 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-31 11:41:48 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.2ms)
  Rendered builder/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 61ms (Views: 58.9ms)


Completed 200 OK in 61ms (Views: 58.9ms)


Started POST "/start" for 192.168.5.26 at 2017-07-31 11:41:53 +0800
Started POST "/start" for 192.168.5.26 at 2017-07-31 11:41:53 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170724-可动态配置化", "branch"=>"20170724-可动态配置化", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"JtyTF3xAX9j2jVuMN+u0/yazQzbf335FvQzTvQI2hxMOqRM1a6XYo9+yYz3nWcy/iCpWG9diNRONXeK4ouzTPA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170724-可动态配置化", "branch"=>"20170724-可动态配置化", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"JtyTF3xAX9j2jVuMN+u0/yazQzbf335FvQzTvQI2hxMOqRM1a6XYo9+yYz3nWcy/iCpWG9diNRONXeK4ouzTPA=="}
pid is 28089
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226' -e qishanqing@dafy.com -E '' -b $'20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170724-可动态配置化'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170724-可动态配置化'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170724-可动态配置化'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170724-可动态配置化'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226' -e qishanqing@dafy.com -E '' -b $'20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170724-可动态配置化: command not found
++ for y in '$trunk'
++ echo $'20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226'
+ trunks=$'20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226'
+ test del = add
+ delbranch
+ '[' -z $'20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170731
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707311141
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170731-20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226/Develop/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311141-20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226/Develop/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226'
++ awk -F / '{print $7}'
+ br=$'20170731-20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226'
+ access=$'20170731-20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311141-20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.28089
+ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170724-可动态配置化%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170724-可动态配置化%'\'';'
+ cat /tmp/cmdb.db.28089
+ rm -f /tmp/cmdb.db.28089
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (0.9ms)
  Rendered builder/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 1683ms (Views: 35.9ms)


Completed 200 OK in 1683ms (Views: 35.9ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-31 13:55:17 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-31 13:55:17 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.8ms)
  Rendered builder/index.html.erb within layouts/application (4.8ms)
Completed 200 OK in 112ms (Views: 107.0ms)


Completed 200 OK in 112ms (Views: 107.0ms)


Started POST "/start" for 192.168.5.26 at 2017-07-31 13:56:15 +0800
Started POST "/start" for 192.168.5.26 at 2017-07-31 13:56:15 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"liuxueqin@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/BorrowBusiness2", "branch"=>"商城相关bug", "user"=>"liuxueqin huqiangsheng", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"5TEufLSQ5GUXCMB3Oany9k+/OoWu/+6IdH1BPHyj/0jNRK5eo3VjHj43+MbpG4q24SYvqKZCpd5ELHA53HmrZw=="}
  Parameters: {"email"=>"liuxueqin@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/BorrowBusiness2", "branch"=>"商城相关bug", "user"=>"liuxueqin huqiangsheng", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"5TEufLSQ5GUXCMB3Oany9k+/OoWu/+6IdH1BPHyj/0jNRK5eo3VjHj43+MbpG4q24SYvqKZCpd5ELHA53HmrZw=="}
pid is 30314
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'liuxueqin huqiangsheng' -t '外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/BorrowBusiness2' -e liuxueqin@dafy.com -E '' -b $'\345\225\206\345\237\216\347\233\270\345\205\263bug' -T add -d ''
+ TEMP=' -u '\''liuxueqin huqiangsheng'\'' -t '\''外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/BorrowBusiness2'\'' -e '\''liuxueqin@dafy.com'\'' -E '\'''\'' -b '\''商城相关bug'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''liuxueqin huqiangsheng'\'' -t '\''外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/BorrowBusiness2'\'' -e '\''liuxueqin@dafy.com'\'' -E '\'''\'' -b '\''商城相关bug'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'liuxueqin huqiangsheng' -t '外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/BorrowBusiness2' -e liuxueqin@dafy.com -E '' -b $'\345\225\206\345\237\216\347\233\270\345\205\263bug' -T add -d '' --
+ true
+ case "$1" in
+ user='liuxueqin huqiangsheng'
+ shift 2
+ true
+ case "$1" in
+ trunk='外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/BorrowBusiness2'
+ shift 2
+ true
+ case "$1" in
+ email=liuxueqin@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=liuxueqin@dafy.com '
+ SMARTCM_EXTRA_MAIL='liuxueqin@dafy.com '
++ liuxueqin huqiangsheng
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: liuxueqin: command not found
++ for x in '$user'
++ echo liuxueqin=rw
++ for x in '$user'
++ echo huqiangsheng=rw
+ users='liuxueqin=rw
huqiangsheng=rw'
++ $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 外部业务/P2P/Business/BorrowBusiness2: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ trunks='外部业务/P2P/Business/BorrowBusiness2
外部业务/P2P/Business/BorrowBusiness2'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' ']'
+ '[' -z $'\345\225\206\345\237\216\347\233\270\345\205\263bug' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170731
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707311356
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311356-\345\225\206\345\237\216\347\233\270\345\205\263bug'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ awk -F / '{print $7}'
+ br=$'20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ access=$'20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.30314
+ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BorrowBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BorrowBusiness2'\'',now(),'\''liuxueqin'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BorrowBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BorrowBusiness2'\'',now(),'\''liuxueqin'\'');'
+ cat /tmp/cmdb.db.30314
+ rm -f /tmp/cmdb.db.30314
+ check-acces
+ grep -c '20170731-商城相关bug]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z 'liuxueqin=rw
+ cat
huqiangsheng=rw'
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' ']'
+ '[' -z $'\345\225\206\345\237\216\347\233\270\345\205\263bug' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170731
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707311356
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311356-\345\225\206\345\237\216\347\233\270\345\205\263bug'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ awk -F / '{print $7}'
+ br=$'20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ access=$'20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.30314
+ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BorrowBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BorrowBusiness2'\'',now(),'\''liuxueqin'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BorrowBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BorrowBusiness2'\'',now(),'\''liuxueqin'\'');'
+ cat /tmp/cmdb.db.30314
+ rm -f /tmp/cmdb.db.30314
+ check-acces
+ grep -c '20170731-商城相关bug]' /mnt/svn/authz.conf
+ read num
+ '[' 1 -eq 0 ']'
++ sed '/20170731-商城相关bug]/,/^[ \t]*$/!d;/20170731-商城相关bug]/d;/^[ \t]*$/d' /mnt/svn/authz.conf
+ [[ liuxueqin=rw
huqiangsheng=rw
@admin=rw
*= =~ liuxueqin=rw
huqiangsheng=rw ]]
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.5ms)
  Rendered builder/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 7055ms (Views: 75.8ms)


Completed 200 OK in 7055ms (Views: 75.8ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-31 14:49:04 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-31 14:49:04 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (7.2ms)
  Rendered builder/index.html.erb within layouts/application (7.2ms)
Completed 200 OK in 68ms (Views: 63.2ms)


Completed 200 OK in 68ms (Views: 63.2ms)


Started POST "/start" for 192.168.5.26 at 2017-07-31 14:51:06 +0800
Started POST "/start" for 192.168.5.26 at 2017-07-31 14:51:06 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"fef", "branch"=>"20170731-商城相关bug", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"gY3JwYeKiVbihfKlWdmA2/ws1KtALy7ZFdBwV9dyyiCp+EnjkG8OLcu6yhSJa/ibUrXBhkiSZY8lgUFSd6ieDw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"fef", "branch"=>"20170731-商城相关bug", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"gY3JwYeKiVbihfKlWdmA2/ws1KtALy7ZFdBwV9dyyiCp+EnjkG8OLcu6yhSJa/ibUrXBhkiSZY8lgUFSd6ieDw=="}
pid is 31320
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t fef -e qishanqing@dafy.com -E '' -b $'20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''fef'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170731-商城相关bug'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''fef'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170731-商城相关bug'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t fef -e qishanqing@dafy.com -E '' -b $'20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=fef
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ fef
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: fef: command not found
++ for y in '$trunk'
++ echo fef
+ trunks=fef
+ test del = add
+ delbranch
+ '[' -z $'20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170731
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707311451
+ move_dir=Closed/--close+
+ Trunk_name=https://192.168.0.220/svn/tech/Trunk/fef
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170731-20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/fef'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311451-20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/fef'
++ awk -F / '{print $7}'
+ br=$'20170731-20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ access=$'20170731-20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311451-20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.31320
+ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170731-商城相关bug%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170731-商城相关bug%'\'';'
+ cat /tmp/cmdb.db.31320
+ rm -f /tmp/cmdb.db.31320
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.9ms)
  Rendered builder/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 895ms (Views: 68.5ms)


Completed 200 OK in 895ms (Views: 68.5ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-31 14:51:08 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-31 14:51:08 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (9.5ms)
  Rendered builder/index.html.erb within layouts/application (9.5ms)
Completed 200 OK in 123ms (Views: 120.3ms)


Completed 200 OK in 123ms (Views: 120.3ms)


Started POST "/start" for 192.168.5.26 at 2017-07-31 14:51:41 +0800
Started POST "/start" for 192.168.5.26 at 2017-07-31 14:51:41 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/BossBusiness", "branch"=>"商城相关bug", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"G3vnvEaheA5Z9eyi1agHWZtASUz1PD+msvMc4G8G+RgzDmeeUUT/dXDK1BMFGn8ZNdlcYf2BdPCCoi3lz9ytNw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/BossBusiness", "branch"=>"商城相关bug", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"G3vnvEaheA5Z9eyi1agHWZtASUz1PD+msvMc4G8G+RgzDmeeUUT/dXDK1BMFGn8ZNdlcYf2BdPCCoi3lz9ytNw=="}
pid is 31356
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t '外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/BossBusiness' -e qishanqing@dafy.com -E '' -b $'\345\225\206\345\237\216\347\233\270\345\205\263bug' -T add -d ''
+ TEMP=' -u '\'''\'' -t '\''外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/BossBusiness'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''商城相关bug'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/BossBusiness'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''商城相关bug'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u '' -t '外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/BossBusiness' -e qishanqing@dafy.com -E '' -b $'\345\225\206\345\237\216\347\233\270\345\205\263bug' -T add -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk='外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/BossBusiness'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 外部业务/P2P/Business/BorrowBusiness2: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ trunks='外部业务/P2P/Business/BorrowBusiness2
外部业务/P2P/Business/BossBusiness'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' ']'
+ '[' -z $'\345\225\206\345\237\216\347\233\270\345\205\263bug' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170731
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707311451
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311451-\345\225\206\345\237\216\347\233\270\345\205\263bug'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ awk -F / '{print $7}'
+ br=$'20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ access=$'20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.31356
+ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BorrowBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BorrowBusiness2'\'',now(),'\''qishanqing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BorrowBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BorrowBusiness2'\'',now(),'\''qishanqing'\'');'
+ cat /tmp/cmdb.db.31356
+ rm -f /tmp/cmdb.db.31356
+ check-acces
+ grep -c '20170731-商城相关bug]' /mnt/svn/authz.conf
+ read num
+ '[' 1 -eq 0 ']'
++ sed '/20170731-商城相关bug]/,/^[ \t]*$/!d;/20170731-商城相关bug]/d;/^[ \t]*$/d' /mnt/svn/authz.conf
+ [[ huqiangsheng=rw
@admin=rw
*=
liuxuxing=rw =~ '' ]]
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness' ']'
+ '[' -z $'\345\225\206\345\237\216\347\233\270\345\205\263bug' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170731
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707311451
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311451-\345\225\206\345\237\216\347\233\270\345\205\263bug'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
++ awk -F / '{print $7}'
+ br=$'20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ access=$'20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness' $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.31356
+ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BossBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BossBusiness'\'',now(),'\''qishanqing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BossBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BossBusiness'\'',now(),'\''qishanqing'\'');'
+ cat /tmp/cmdb.db.31356
+ rm -f /tmp/cmdb.db.31356
+ check-acces
+ grep -c '20170731-商城相关bug]' /mnt/svn/authz.conf
+ read num
+ '[' 1 -eq 0 ']'
++ sed '/20170731-商城相关bug]/,/^[ \t]*$/!d;/20170731-商城相关bug]/d;/^[ \t]*$/d' /mnt/svn/authz.conf
+ [[ huqiangsheng=rw
@admin=rw
*=
liuxuxing=rw =~ '' ]]
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.3ms)
  Rendered builder/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 1616ms (Views: 64.7ms)


Completed 200 OK in 1616ms (Views: 64.7ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-31 14:51:46 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-31 14:51:46 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.0ms)
  Rendered builder/index.html.erb within layouts/application (4.0ms)
Completed 200 OK in 116ms (Views: 112.2ms)


Completed 200 OK in 116ms (Views: 112.2ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-31 15:03:24 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-07-31 15:03:24 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (9.3ms)
  Rendered merge/index.html.erb within layouts/application (9.3ms)
Completed 200 OK in 108ms (Views: 104.6ms)


Completed 200 OK in 108ms (Views: 104.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 15:03:39 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 15:03:39 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170731-催收跑批调度/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42709.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"y3htuIdFYX2hyXnS9jFZO1x1TOJlameRLROWTN0nvCbjDe2akKDmBoj2QWMmgyF78uxZz23XLMcdQqdJff3oCQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170731-催收跑批调度/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42709.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"y3htuIdFYX2hyXnS9jFZO1x1TOJlameRLROWTN0nvCbjDe2akKDmBoj2QWMmgyF78uxZz23XLMcdQqdJff3oCQ=="}
pid is 31786
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42709.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42709.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170731-催收跑批调度/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42709.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170731-催收跑批调度/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42709.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42709.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170731-催收跑批调度/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ test -e /home/qishanqing/tmp/merged/output.31786
+ mails-cm -i 'svn merged faild'
+ echo
+ cat /home/qishanqing/tmp/merged/output.31786
+ rm -f /home/qishanqing/tmp/merged/output.31786
+ rm -f /home/qishanqing/tmp/merged/output.31786
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170731-催收跑批调度/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
svn: E160013: 找不到路径 “/svn/tech/!svn/rvr/132495/Branch/20170731-%E5%82%AC%E6%94%B6%E8%B7%91%E6%89%B9%E8%B0%83%E5%BA%A6/Develop/%E5%A4%96%E9%83%A8%E4%B8%9A%E5%8A%A1/P2P/Business/CollectionOverdueBatchBusiness”
+ head=
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
++ tail -n 4
svn: E160013: 找不到路径 “/svn/tech/!svn/rvr/132495/Branch/20170731-%E5%82%AC%E6%94%B6%E8%B7%91%E6%89%B9%E8%B0%83%E5%BA%A6/Develop/%E5%A4%96%E9%83%A8%E4%B8%9A%E5%8A%A1/P2P/Business/CollectionOverdueBatchBusiness”
+ revision=
+ '[' '!' -z ']'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42709.html
Merged revision(s) -  from Branch/20170731-催收跑批调度/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.3ms)
  Rendered merge/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 17768ms (Views: 621.1ms)


Completed 200 OK in 17768ms (Views: 621.1ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-31 15:07:56 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-07-31 15:07:56 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (2.4ms)
  Rendered merge/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 39ms (Views: 36.9ms)


Completed 200 OK in 39ms (Views: 36.9ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 15:08:04 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 15:08:04 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170731-催收跑批调度任务/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42709.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"yvRdFR8fQ68wcSZVgtmegGrRDPVGup7ahRS21hpgUKvigd03CPrE1BlOHuRSa+bAxEgZ2E4H1Yy1RYfTuroEhA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170731-催收跑批调度任务/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42709.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"yvRdFR8fQ68wcSZVgtmegGrRDPVGup7ahRS21hpgUKvigd03CPrE1BlOHuRSa+bAxEgZ2E4H1Yy1RYfTuroEhA=="}
pid is 32064
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42709.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42709.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170731-催收跑批调度任务/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42709.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170731-催收跑批调度任务/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42709.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42709.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170731-催收跑批调度任务/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.32064
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170731-催收跑批调度任务/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness'
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ head='r132408 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r132380 '
+ '[' '!' -z r132380 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness@r132380' $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness@r132380' $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42709.html
Merged revision(s) r132380 -r132408   from Branch/20170731-催收跑批调度任务/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.6ms)
  Rendered merge/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 9117ms (Views: 57.7ms)


Completed 200 OK in 9117ms (Views: 57.7ms)


Started POST "/start" for 192.168.5.26 at 2017-07-31 15:10:46 +0800
Started POST "/start" for 192.168.5.26 at 2017-07-31 15:10:46 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"zhangruiqiang@dafy.com", "types"=>"add", "trunk"=>"分期商城/分期商城3.0/MallManager", "branch"=>"账单导出状态修改", "user"=>"zhangruiqiang hexiangtao", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"bWHfAxt5kH8ZfGWl1d8yNr8Qs0TDQusatY/8zjkn/dVFFF8hDJwXBDBDXRQFbUp2EYmmacv/oEyF3s3Lmf2p+g=="}
  Parameters: {"email"=>"zhangruiqiang@dafy.com", "types"=>"add", "trunk"=>"分期商城/分期商城3.0/MallManager", "branch"=>"账单导出状态修改", "user"=>"zhangruiqiang hexiangtao", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"bWHfAxt5kH8ZfGWl1d8yNr8Qs0TDQusatY/8zjkn/dVFFF8hDJwXBDBDXRQFbUp2EYmmacv/oEyF3s3Lmf2p+g=="}
pid is 32172
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'zhangruiqiang hexiangtao' -t $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' -e zhangruiqiang@dafy.com -E '' -b $'\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271' -T add -d ''
+ TEMP=' -u '\''zhangruiqiang hexiangtao'\'' -t '\''分期商城/分期商城3.0/MallManager'\'' -e '\''zhangruiqiang@dafy.com'\'' -E '\'''\'' -b '\''账单导出状态修改'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''zhangruiqiang hexiangtao'\'' -t '\''分期商城/分期商城3.0/MallManager'\'' -e '\''zhangruiqiang@dafy.com'\'' -E '\'''\'' -b '\''账单导出状态修改'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'zhangruiqiang hexiangtao' -t $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' -e zhangruiqiang@dafy.com -E '' -b $'\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271' -T add -d '' --
+ true
+ case "$1" in
+ user='zhangruiqiang hexiangtao'
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ shift 2
+ true
+ case "$1" in
+ email=zhangruiqiang@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=zhangruiqiang@dafy.com '
+ SMARTCM_EXTRA_MAIL='zhangruiqiang@dafy.com '
++ zhangruiqiang hexiangtao
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: zhangruiqiang: command not found
++ for x in '$user'
++ echo zhangruiqiang=rw
++ for x in '$user'
++ echo hexiangtao=rw
+ users='zhangruiqiang=rw
hexiangtao=rw'
++ $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 分期商城/分期商城3.0/MallManager: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ trunks=$'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' ']'
+ '[' -z $'\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170731
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707311510
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311510-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F / '{print $7}'
+ br=$'20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271'
+ access=$'20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' $'https://192.168.0.220/svn/tech/Branch/20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.32172
+ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallManager'\'', '\''https://192.168.0.220/svn/tech/Branch/20170731-账单导出状态修改/Develop/分期商城/分期商城3.0/MallManager'\'',now(),'\''zhangruiqiang'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallManager'\'', '\''https://192.168.0.220/svn/tech/Branch/20170731-账单导出状态修改/Develop/分期商城/分期商城3.0/MallManager'\'',now(),'\''zhangruiqiang'\'');'
+ cat /tmp/cmdb.db.32172
+ rm -f /tmp/cmdb.db.32172
+ check-acces
+ grep -c '20170731-账单导出状态修改]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z 'zhangruiqiang=rw
+ cat
hexiangtao=rw'
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (3.3ms)
  Rendered builder/new.html.erb within layouts/application (3.3ms)
Completed 200 OK in 5114ms (Views: 157.5ms)


Completed 200 OK in 5114ms (Views: 157.5ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-31 15:11:26 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-31 15:11:26 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.5ms)
  Rendered builder/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 58ms (Views: 56.7ms)


Completed 200 OK in 58ms (Views: 56.7ms)


Started POST "/start" for 192.168.5.26 at 2017-07-31 15:11:29 +0800
Started POST "/start" for 192.168.5.26 at 2017-07-31 15:11:29 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170731-催收跑批调度任务", "branch"=>"20170731-催收跑批调度任务", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"rHx8iJBqRnU2eV81uDm5x0377ogw2fgYjOGcskccHgOECfyqh4/BDh9GZ4Roi8GH42L7pThks068sK2358ZKLA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170731-催收跑批调度任务", "branch"=>"20170731-催收跑批调度任务", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"rHx8iJBqRnU2eV81uDm5x0377ogw2fgYjOGcskccHgOECfyqh4/BDh9GZ4Roi8GH42L7pThks068sK2358ZKLA=="}
pid is 32220
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241' -e qishanqing@dafy.com -E '' -b $'20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170731-催收跑批调度任务'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170731-催收跑批调度任务'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170731-催收跑批调度任务'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170731-催收跑批调度任务'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241' -e qishanqing@dafy.com -E '' -b $'20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170731-催收跑批调度任务: command not found
++ for y in '$trunk'
++ echo $'20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241'
+ trunks=$'20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241'
+ test del = add
+ delbranch
+ '[' -z $'20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170731
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707311511
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170731-20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241/Develop/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311511-20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241/Develop/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241'
++ awk -F / '{print $7}'
+ br=$'20170731-20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241'
+ access=$'20170731-20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311511-20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.32220
+ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170731-催收跑批调度任务%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170731-催收跑批调度任务%'\'';'
+ cat /tmp/cmdb.db.32220
+ rm -f /tmp/cmdb.db.32220
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 1591ms (Views: 50.4ms)


Completed 200 OK in 1591ms (Views: 50.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-31 15:28:28 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-31 15:28:28 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.3ms)
  Rendered builder/index.html.erb within layouts/application (4.3ms)
Completed 200 OK in 63ms (Views: 59.1ms)


Completed 200 OK in 63ms (Views: 59.1ms)


Started POST "/start" for 192.168.5.26 at 2017-07-31 15:28:48 +0800
Started POST "/start" for 192.168.5.26 at 2017-07-31 15:28:48 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"zhangruiqiang@dafy.com", "types"=>"add", "trunk"=>"分期商城/分期商城3.0/MallRefundBusiness", "branch"=>"退款定时任务修改", "user"=>"zhangruiqiang", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"mgJDOwfdA5iMIs5YZShrdM2uDDhCILi97T3w69csrXmyd8MZEDiE46Ud9um1mhM0YzcZFUqd8+vdbMHud/b5Vg=="}
  Parameters: {"email"=>"zhangruiqiang@dafy.com", "types"=>"add", "trunk"=>"分期商城/分期商城3.0/MallRefundBusiness", "branch"=>"退款定时任务修改", "user"=>"zhangruiqiang", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"mgJDOwfdA5iMIs5YZShrdM2uDDhCILi97T3w69csrXmyd8MZEDiE46Ud9um1mhM0YzcZFUqd8+vdbMHud/b5Vg=="}
pid is 32477
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u zhangruiqiang -t $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness' -e zhangruiqiang@dafy.com -E '' -b $'\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271' -T add -d ''
+ TEMP=' -u '\''zhangruiqiang'\'' -t '\''分期商城/分期商城3.0/MallRefundBusiness'\'' -e '\''zhangruiqiang@dafy.com'\'' -E '\'''\'' -b '\''退款定时任务修改'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''zhangruiqiang'\'' -t '\''分期商城/分期商城3.0/MallRefundBusiness'\'' -e '\''zhangruiqiang@dafy.com'\'' -E '\'''\'' -b '\''退款定时任务修改'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u zhangruiqiang -t $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness' -e zhangruiqiang@dafy.com -E '' -b $'\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271' -T add -d '' --
+ true
+ case "$1" in
+ user=zhangruiqiang
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ shift 2
+ true
+ case "$1" in
+ email=zhangruiqiang@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=zhangruiqiang@dafy.com '
+ SMARTCM_EXTRA_MAIL='zhangruiqiang@dafy.com '
++ zhangruiqiang
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: zhangruiqiang: command not found
++ for x in '$user'
++ echo zhangruiqiang=rw
+ users=zhangruiqiang=rw
++ $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 分期商城/分期商城3.0/MallRefundBusiness: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ trunks=$'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness' ']'
+ '[' -z $'\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170731
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707311528
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311528-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
++ awk -F / '{print $7}'
+ br=$'20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271'
+ access=$'20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness' $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.32477
+ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallRefundBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170731-退款定时任务修改/Develop/分期商城/分期商城3.0/MallRefundBusiness'\'',now(),'\''zhangruiqiang'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallRefundBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170731-退款定时任务修改/Develop/分期商城/分期商城3.0/MallRefundBusiness'\'',now(),'\''zhangruiqiang'\'');'
+ cat /tmp/cmdb.db.32477
+ rm -f /tmp/cmdb.db.32477
+ check-acces
+ grep -c '20170731-退款定时任务修改]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z zhangruiqiang=rw
+ cat
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.3ms)
  Rendered builder/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 6286ms (Views: 52.6ms)


Completed 200 OK in 6286ms (Views: 52.6ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-31 17:50:57 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-31 17:50:57 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.9ms)
  Rendered builder/index.html.erb within layouts/application (4.9ms)
Completed 200 OK in 72ms (Views: 67.9ms)


Completed 200 OK in 72ms (Views: 67.9ms)


Started POST "/start" for 192.168.5.26 at 2017-07-31 17:51:07 +0800
Started POST "/start" for 192.168.5.26 at 2017-07-31 17:51:07 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"test", "branch"=>"test", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"orSi2CpAqQq3b93hRHleIyU1kBGTJvaUOozf57oAB9iKwSL6PaUucZ5Q5VCUyyZji6yFPJubvcIK3e7iGtpT9w=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"test", "branch"=>"test", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"orSi2CpAqQq3b93hRHleIyU1kBGTJvaUOozf57oAB9iKwSL6PaUucZ5Q5VCUyyZji6yFPJubvcIK3e7iGtpT9w=="}
pid is 1556
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t test -e qishanqing@dafy.com -E '' -b test -T add -d ''
+ TEMP=' -u '\'''\'' -t '\''test'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''test'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''test'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''test'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u '' -t test -e qishanqing@dafy.com -E '' -b test -T add -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=test
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=test
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ test
++ for y in '$trunk'
++ echo test
+ trunks=test
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z test ']'
+ '[' -z test ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170731
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707311751
+ move_dir=Closed/--close+
+ Trunk_name=https://192.168.0.220/svn/tech/Trunk/test
+ branch_name=https://192.168.0.220/svn/tech/Branch/20170731-test/Develop/test
+ source_name=https://192.168.0.220/svn/tech/Branch/test
+ dest_name=https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311751-test
++ echo https://192.168.0.220/svn/tech/Branch/20170731-test/Develop/test
++ awk -F / '{print $7}'
+ br=20170731-test
+ access=20170731-test
+ svn copy https://192.168.0.220/svn/tech/Trunk/test https://192.168.0.220/svn/tech/Branch/20170731-test/Develop/test --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ die 'Svn branch create the reasons for failure are as follows'
+ echo 'Svn branch create the reasons for failure are as follows'
+ test -e /home/qishanqing/tmp/output.1556
+ echo
+ cat /home/qishanqing/tmp/output.1556
+ mails-cm -i 'svn branch create failed'
+ rm -rf /home/qishanqing/tmp/output.1556
+ kill 1556
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.7ms)
  Rendered builder/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 236ms (Views: 58.6ms)


Completed 200 OK in 236ms (Views: 58.6ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-01 10:29:45 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-01 10:29:45 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (70.3ms)
  Rendered merge/index.html.erb within layouts/application (70.3ms)
Completed 200 OK in 815ms (Views: 737.7ms)


Completed 200 OK in 815ms (Views: 737.7ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-01 10:33:04 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-01 10:33:04 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20160111-短信项目/Develop/平台架构/短信/MessageManager https://192.168.0.220/svn/tech/Branch/20160629-消息推送/Develop/平台架构/通知/NoticeManager https://192.168.0.220/svn/tech/Branch/20170525-工具/Develop/前端业务/工具/网站中心/ToolSite https://192.168.0.220/svn/tech/Branch/20170622-WebSite公共广告/Develop/前端业务/网站/网站中心/WebSiteManager https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/StaticCenter https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/DFLib1 https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/DFLib2 https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/UserSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/UserBusiness https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/营销活动/MarketingManager https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/MallCenterSite https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/营销活动/卡卷系统/CardVoucherManager https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/DFLib https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/DFLib https://192.168.0.220/svn/tech/Branch/20170713-CDQSSite/Develop/数据报表/数据中心/CDQSSite https://192.168.0.220/svn/tech/Branch/20170717-监控大屏/Develop/数据报表/大屏/DataDisplayManager https://192.168.0.220/svn/tech/Branch/20170627-减去减免金额/Develop/数据报表/NC/NCCenter https://192.168.0.220/svn/tech/Branch/20170714-boss协议修改/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170718-https协议/Develop/生活营销/卡包/CardBagManage https://192.168.0.220/svn/tech/Branch/20170718-https协议/Develop/辅助业务/生活服务/LifeCenterManage https://192.168.0.220/svn/tech/Branch/20170721-boss协议修改/Develop/公共/DFLib https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/公共/TaskScheduler/TaskSchedulerManager https://192.168.0.220/svn/tech/Branch/20170512-转化成maven项目/Develop/基础业务/账户中心/AccountManager https://192.168.0.220/svn/tech/Branch/20170726-页面访问修改/Develop/外部业务/P2P/P2PSite/GHBUserAuditSite https://192.168.0.220/svn/tech/Branch/20160801-业务总线/Develop/平台架构/业务总线/BusinessBusManager\r\n", "task"=>"http://192.168.0.221/zentao/task-view-42738.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"XKTwZnsyWjrnLis1ROftJd/ivTjVX9YlqQIKMmCkayp00XBEbNfdQc4RE4SUVZVlcXuoFd3inXOZUzs3wH4/BQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20160111-短信项目/Develop/平台架构/短信/MessageManager https://192.168.0.220/svn/tech/Branch/20160629-消息推送/Develop/平台架构/通知/NoticeManager https://192.168.0.220/svn/tech/Branch/20170525-工具/Develop/前端业务/工具/网站中心/ToolSite https://192.168.0.220/svn/tech/Branch/20170622-WebSite公共广告/Develop/前端业务/网站/网站中心/WebSiteManager https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/StaticCenter https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/DFLib1 https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/DFLib2 https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/UserSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/UserBusiness https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/营销活动/MarketingManager https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/MallCenterSite https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/营销活动/卡卷系统/CardVoucherManager https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/DFLib https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/DFLib https://192.168.0.220/svn/tech/Branch/20170713-CDQSSite/Develop/数据报表/数据中心/CDQSSite https://192.168.0.220/svn/tech/Branch/20170717-监控大屏/Develop/数据报表/大屏/DataDisplayManager https://192.168.0.220/svn/tech/Branch/20170627-减去减免金额/Develop/数据报表/NC/NCCenter https://192.168.0.220/svn/tech/Branch/20170714-boss协议修改/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170718-https协议/Develop/生活营销/卡包/CardBagManage https://192.168.0.220/svn/tech/Branch/20170718-https协议/Develop/辅助业务/生活服务/LifeCenterManage https://192.168.0.220/svn/tech/Branch/20170721-boss协议修改/Develop/公共/DFLib https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/公共/TaskScheduler/TaskSchedulerManager https://192.168.0.220/svn/tech/Branch/20170512-转化成maven项目/Develop/基础业务/账户中心/AccountManager https://192.168.0.220/svn/tech/Branch/20170726-页面访问修改/Develop/外部业务/P2P/P2PSite/GHBUserAuditSite https://192.168.0.220/svn/tech/Branch/20160801-业务总线/Develop/平台架构/业务总线/BusinessBusManager\r\n", "task"=>"http://192.168.0.221/zentao/task-view-42738.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"XKTwZnsyWjrnLis1ROftJd/ivTjVX9YlqQIKMmCkayp00XBEbNfdQc4RE4SUVZVlcXuoFd3inXOZUzs3wH4/BQ=="}
pid is 16392
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42738.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20160111-短信项目/Develop/平台架构/短信/MessageManager https://192.168.0.220/svn/tech/Branch/20160629-消息推送/Develop/平台架构/通知/NoticeManager https://192.168.0.220/svn/tech/Branch/20170525-工具/Develop/前端业务/工具/网站中心/ToolSite https://192.168.0.220/svn/tech/Branch/20170622-WebSite公共广告/Develop/前端业务/网站/网站中心/WebSiteManager https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/StaticCenter https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/DFLib1 https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/DFLib2 https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/UserSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/UserBusiness https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/营销活动/MarketingManager https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/MallCenterSite https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/营销活动/卡卷系统/CardVoucherManager https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/DFLib https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/DFLib https://192.168.0.220/svn/tech/Branch/20170713-CDQSSite/Develop/数据报表/数据中心/CDQSSite https://192.168.0.220/svn/tech/Branch/20170717-监控大屏/Develop/数据报表/大屏/DataDisplayManager https://192.168.0.220/svn/tech/Branch/20170627-减去减免金额/Develop/数据报表/NC/NCCenter https://192.168.0.220/svn/tech/Branch/20170714-boss协议修改/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170718-https协议/Develop/生活营销/卡包/CardBagManage https://192.168.0.220/svn/tech/Branch/20170718-https协议/Develop/辅助业务/生活服务/LifeCenterManage https://192.168.0.220/svn/tech/Branch/20170721-boss协议修改/Develop/公共/DFLib https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/公共/TaskScheduler/TaskSchedulerManager https://192.168.0.220/svn/tech/Branch/20170512-转化成maven项目/Develop/基础业务/账户中心/AccountManager https://192.168.0.220/svn/tech/Branch/20170726-页面访问修改/Develop/外部业务/P2P/P2PSite/GHBUserAuditSite https://192.168.0.220/svn/tech/Branch/20160801-业务总线/Develop/平台架构/业务总线/BusinessBusManager
' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42738.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20160111-短信项目/Develop/平台架构/短信/MessageManager https://192.168.0.220/svn/tech/Branch/20160629-消息推送/Develop/平台架构/通知/NoticeManager https://192.168.0.220/svn/tech/Branch/20170525-工具/Develop/前端业务/工具/网站中心/ToolSite https://192.168.0.220/svn/tech/Branch/20170622-WebSite公共广告/Develop/前端业务/网站/网站中心/WebSiteManager https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/StaticCenter https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/DFLib1 https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/DFLib2 https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/UserSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/UserBusiness https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/营销活动/MarketingManager https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/MallCenterSite https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/营销活动/卡卷系统/CardVoucherManager https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/DFLib https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/DFLib https://192.168.0.220/svn/tech/Branch/20170713-CDQSSite/Develop/数据报表/数据中心/CDQSSite https://192.168.0.220/svn/tech/Branch/20170717-监控大屏/Develop/数据报表/大屏/DataDisplayManager https://192.168.0.220/svn/tech/Branch/20170627-减去减免金额/Develop/数据报表/NC/NCCenter https://192.168.0.220/svn/tech/Branch/20170714-boss协议修改/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170718-https协议/Develop/生活营销/卡包/CardBagManage https://192.168.0.220/svn/tech/Branch/20170718-https协议/Develop/辅助业务/生活服务/LifeCenterManage https://192.168.0.220/svn/tech/Branch/20170721-boss协议修改/Develop/公共/DFLib https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/公共/TaskScheduler/TaskSchedulerManager https://192.168.0.220/svn/tech/Branch/20170512-转化成maven项目/Develop/基础业务/账户中心/AccountManager https://192.168.0.220/svn/tech/Branch/20170726-页面访问修改/Develop/外部业务/P2P/P2PSite/GHBUserAuditSite https://192.168.0.220/svn/tech/Branch/20160801-业务总线/Develop/平台架构/业务总线/BusinessBusManager
'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42738.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20160111-短信项目/Develop/平台架构/短信/MessageManager https://192.168.0.220/svn/tech/Branch/20160629-消息推送/Develop/平台架构/通知/NoticeManager https://192.168.0.220/svn/tech/Branch/20170525-工具/Develop/前端业务/工具/网站中心/ToolSite https://192.168.0.220/svn/tech/Branch/20170622-WebSite公共广告/Develop/前端业务/网站/网站中心/WebSiteManager https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/StaticCenter https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/DFLib1 https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/DFLib2 https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/UserSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/UserBusiness https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/营销活动/MarketingManager https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/MallCenterSite https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/营销活动/卡卷系统/CardVoucherManager https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/DFLib https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/DFLib https://192.168.0.220/svn/tech/Branch/20170713-CDQSSite/Develop/数据报表/数据中心/CDQSSite https://192.168.0.220/svn/tech/Branch/20170717-监控大屏/Develop/数据报表/大屏/DataDisplayManager https://192.168.0.220/svn/tech/Branch/20170627-减去减免金额/Develop/数据报表/NC/NCCenter https://192.168.0.220/svn/tech/Branch/20170714-boss协议修改/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170718-https协议/Develop/生活营销/卡包/CardBagManage https://192.168.0.220/svn/tech/Branch/20170718-https协议/Develop/辅助业务/生活服务/LifeCenterManage https://192.168.0.220/svn/tech/Branch/20170721-boss协议修改/Develop/公共/DFLib https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/公共/TaskScheduler/TaskSchedulerManager https://192.168.0.220/svn/tech/Branch/20170512-转化成maven项目/Develop/基础业务/账户中心/AccountManager https://192.168.0.220/svn/tech/Branch/20170726-页面访问修改/Develop/外部业务/P2P/P2PSite/GHBUserAuditSite https://192.168.0.220/svn/tech/Branch/20160801-业务总线/Develop/平台架构/业务总线/BusinessBusManager
'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42738.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20160111-短信项目/Develop/平台架构/短信/MessageManager https://192.168.0.220/svn/tech/Branch/20160629-消息推送/Develop/平台架构/通知/NoticeManager https://192.168.0.220/svn/tech/Branch/20170525-工具/Develop/前端业务/工具/网站中心/ToolSite https://192.168.0.220/svn/tech/Branch/20170622-WebSite公共广告/Develop/前端业务/网站/网站中心/WebSiteManager https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/StaticCenter https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/DFLib1 https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/DFLib2 https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/UserSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/UserBusiness https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/营销活动/MarketingManager https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/MallCenterSite https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/营销活动/卡卷系统/CardVoucherManager https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/DFLib https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/DFLib https://192.168.0.220/svn/tech/Branch/20170713-CDQSSite/Develop/数据报表/数据中心/CDQSSite https://192.168.0.220/svn/tech/Branch/20170717-监控大屏/Develop/数据报表/大屏/DataDisplayManager https://192.168.0.220/svn/tech/Branch/20170627-减去减免金额/Develop/数据报表/NC/NCCenter https://192.168.0.220/svn/tech/Branch/20170714-boss协议修改/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170718-https协议/Develop/生活营销/卡包/CardBagManage https://192.168.0.220/svn/tech/Branch/20170718-https协议/Develop/辅助业务/生活服务/LifeCenterManage https://192.168.0.220/svn/tech/Branch/20170721-boss协议修改/Develop/公共/DFLib https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/公共/TaskScheduler/TaskSchedulerManager https://192.168.0.220/svn/tech/Branch/20170512-转化成maven项目/Develop/基础业务/账户中心/AccountManager https://192.168.0.220/svn/tech/Branch/20170726-页面访问修改/Develop/外部业务/P2P/P2PSite/GHBUserAuditSite https://192.168.0.220/svn/tech/Branch/20160801-业务总线/Develop/平台架构/业务总线/BusinessBusManager
' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42738.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20160111-短信项目/Develop/平台架构/短信/MessageManager https://192.168.0.220/svn/tech/Branch/20160629-消息推送/Develop/平台架构/通知/NoticeManager https://192.168.0.220/svn/tech/Branch/20170525-工具/Develop/前端业务/工具/网站中心/ToolSite https://192.168.0.220/svn/tech/Branch/20170622-WebSite公共广告/Develop/前端业务/网站/网站中心/WebSiteManager https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/StaticCenter https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/DFLib1 https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/DFLib2 https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/UserSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/UserBusiness https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/营销活动/MarketingManager https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/MallCenterSite https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/营销活动/卡卷系统/CardVoucherManager https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/DFLib https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/DFLib https://192.168.0.220/svn/tech/Branch/20170713-CDQSSite/Develop/数据报表/数据中心/CDQSSite https://192.168.0.220/svn/tech/Branch/20170717-监控大屏/Develop/数据报表/大屏/DataDisplayManager https://192.168.0.220/svn/tech/Branch/20170627-减去减免金额/Develop/数据报表/NC/NCCenter https://192.168.0.220/svn/tech/Branch/20170714-boss协议修改/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170718-https协议/Develop/生活营销/卡包/CardBagManage https://192.168.0.220/svn/tech/Branch/20170718-https协议/Develop/辅助业务/生活服务/LifeCenterManage https://192.168.0.220/svn/tech/Branch/20170721-boss协议修改/Develop/公共/DFLib https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/公共/TaskScheduler/TaskSchedulerManager https://192.168.0.220/svn/tech/Branch/20170512-转化成maven项目/Develop/基础业务/账户中心/AccountManager https://192.168.0.220/svn/tech/Branch/20170726-页面访问修改/Develop/外部业务/P2P/P2PSite/GHBUserAuditSite https://192.168.0.220/svn/tech/Branch/20160801-业务总线/Develop/平台架构/业务总线/BusinessBusManager
'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20160111-\347\237\255\344\277\241\351\241\271\347\233\256/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager' $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager' $'https://192.168.0.220/svn/tech/Branch/20170525-\345\267\245\345\205\267/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolSite' $'https://192.168.0.220/svn/tech/Branch/20170622-WebSite\345\205\254\345\205\261\345\271\277\345\221\212/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager' $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/StaticCenter' $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1' $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib2' $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite' $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/MarketingManager' $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallCenterSite' $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManager' $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/DFLib' $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/DFLib' $'https://192.168.0.220/svn/tech/Branch/20170713-CDQSSite/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\346\225\260\346\215\256\344\270\255\345\277\203/CDQSSite' $'https://192.168.0.220/svn/tech/Branch/20170717-\347\233\221\346\216\247\345\244\247\345\261\217/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\244\247\345\261\217/DataDisplayManager' $'https://192.168.0.220/svn/tech/Branch/20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/NC/NCCenter' $'https://192.168.0.220/svn/tech/Branch/20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager' $'https://192.168.0.220/svn/tech/Branch/20170718-https\345\215\217\350\256\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage' $'https://192.168.0.220/svn/tech/Branch/20170718-https\345\215\217\350\256\256/Develop/\350\276\205\345\212\251\344\270\232\345\212\241/\347\224\237\346\264\273\346\234\215\345\212\241/LifeCenterManage' $'https://192.168.0.220/svn/tech/Branch/20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\205\254\345\205\261/DFLib' $'https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager' $'https://192.168.0.220/svn/tech/Branch/20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PSite/GHBUserAuditSite' $'https://192.168.0.220/svn/tech/Branch/20160801-\344\270\232\345\212\241\346\200\273\347\272\277/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\344\270\232\345\212\241\346\200\273\347\272\277/BusinessBusManager\r'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20160111-短信项目/Develop/平台架构/短信/MessageManager: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20160111-\347\237\255\344\277\241\351\241\271\347\233\256/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170525-\345\267\245\345\205\267/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolSite'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170622-WebSite\345\205\254\345\205\261\345\271\277\345\221\212/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/StaticCenter'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib2'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/MarketingManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallCenterSite'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/DFLib'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/DFLib'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170713-CDQSSite/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\346\225\260\346\215\256\344\270\255\345\277\203/CDQSSite'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170717-\347\233\221\346\216\247\345\244\247\345\261\217/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\244\247\345\261\217/DataDisplayManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/NC/NCCenter'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170718-https\345\215\217\350\256\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170718-https\345\215\217\350\256\256/Develop/\350\276\205\345\212\251\344\270\232\345\212\241/\347\224\237\346\264\273\346\234\215\345\212\241/LifeCenterManage'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\205\254\345\205\261/DFLib'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PSite/GHBUserAuditSite'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20160801-\344\270\232\345\212\241\346\200\273\347\272\277/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\344\270\232\345\212\241\346\200\273\347\272\277/BusinessBusManager\r'
+ branchs='https://192.168.0.220/svn/tech/Branch/20160111-短信项目/Develop/平台架构/短信/MessageManager
https://192.168.0.220/svn/tech/Branch/20160629-消息推送/Develop/平台架构/通知/NoticeManager
https://192.168.0.220/svn/tech/Branch/20170525-工具/Develop/前端业务/工具/网站中心/ToolSite
https://192.168.0.220/svn/tech/Branch/20170622-WebSite公共广告/Develop/前端业务/网站/网站中心/WebSiteManager
https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite
https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/StaticCenter
https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/DFLib1
https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/DFLib2
https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/UserSite
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/UserBusiness
https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/营销活动/MarketingManager
https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/MallManager
https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/MallCenterSite
https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/营销活动/卡卷系统/CardVoucherManager
https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/DFLib
https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/DFLib
https://192.168.0.220/svn/tech/Branch/20170713-CDQSSite/Develop/数据报表/数据中心/CDQSSite
https://192.168.0.220/svn/tech/Branch/20170717-监控大屏/Develop/数据报表/大屏/DataDisplayManager
https://192.168.0.220/svn/tech/Branch/20170627-减去减免金额/Develop/数据报表/NC/NCCenter
https://192.168.0.220/svn/tech/Branch/20170714-boss协议修改/Develop/外部业务/P2P/P2PManager
https://192.168.0.220/svn/tech/Branch/20170718-https协议/Develop/生活营销/卡包/CardBagManage
https://192.168.0.220/svn/tech/Branch/20170718-https协议/Develop/辅助业务/生活服务/LifeCenterManage
https://192.168.0.220/svn/tech/Branch/20170721-boss协议修改/Develop/公共/DFLib
https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/公共/TaskScheduler/TaskSchedulerManager
https://192.168.0.220/svn/tech/Branch/20170512-转化成maven项目/Develop/基础业务/账户中心/AccountManager
https://192.168.0.220/svn/tech/Branch/20170726-页面访问修改/Develop/外部业务/P2P/P2PSite/GHBUserAuditSite
https://192.168.0.220/svn/tech/Branch/20160801-业务总线/Develop/平台架构/业务总线/BusinessBusManager'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20160111-\347\237\255\344\277\241\351\241\271\347\233\256/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20160111-\347\237\255\344\277\241\351\241\271\347\233\256/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager'
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20160111-\347\237\255\344\277\241\351\241\271\347\233\256/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20160111-短信项目/Develop/平台架构/短信/MessageManager'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20160111-\347\237\255\344\277\241\351\241\271\347\233\256/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r114330 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20160111-\347\237\255\344\277\241\351\241\271\347\233\256/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132737 '
+ '[' '!' -z r114330 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20160111-\347\237\255\344\277\241\351\241\271\347\233\256/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager@r114330' $'https://192.168.0.220/svn/tech/Branch/20160111-\347\237\255\344\277\241\351\241\271\347\233\256/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20160111-\347\237\255\344\277\241\351\241\271\347\233\256/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager@r114330' $'https://192.168.0.220/svn/tech/Branch/20160111-\347\237\255\344\277\241\351\241\271\347\233\256/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r114330 -r132737   from Branch/20160111-短信项目/Develop/平台架构/短信/MessageManager' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager'
smtp-server: 535 Error: authentication failed
. . . message not sent.
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20160629-消息推送/Develop/平台架构/通知/NoticeManager'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r126435 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r132728 '
+ '[' '!' -z r126435 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager@r126435' $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager@r126435' $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r126435 -r132728   from Branch/20160629-消息推送/Develop/平台架构/通知/NoticeManager' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170525-\345\267\245\345\205\267/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolSite'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolSite'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170525-\345\267\245\345\205\267/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolSite'
smtp-server: 535 Error: authentication failed
. . . message not sent.
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolSite'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170525-\345\267\245\345\205\267/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolSite'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolSite'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170525-工具/Develop/前端业务/工具/网站中心/ToolSite'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolSite'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170525-\345\267\245\345\205\267/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolSite'
++ awk -F '|' '{print$1}'
++ head -n 4
Started GET "/merge/index" for 192.168.5.26 at 2017-08-01 10:35:07 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-01 10:35:07 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.1ms)
  Rendered merge/index.html.erb within layouts/application (3.1ms)
Completed 200 OK in 268ms (Views: 265.0ms)


Completed 200 OK in 268ms (Views: 265.0ms)


+ revision='r126440 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170525-\345\267\245\345\205\267/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolSite'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132730 '
+ '[' '!' -z r126440 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170525-\345\267\245\345\205\267/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolSite@r126440' $'https://192.168.0.220/svn/tech/Branch/20170525-\345\267\245\345\205\267/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolSite' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170525-\345\267\245\345\205\267/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolSite@r126440' $'https://192.168.0.220/svn/tech/Branch/20170525-\345\267\245\345\205\267/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolSite'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r126440 -r132730   from Branch/20170525-工具/Develop/前端业务/工具/网站中心/ToolSite' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170622-WebSite\345\205\254\345\205\261\345\271\277\345\221\212/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170622-WebSite\345\205\254\345\205\261\345\271\277\345\221\212/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
smtp-server: 535 Error: authentication failed
. . . message not sent.
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170622-WebSite\345\205\254\345\205\261\345\271\277\345\221\212/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
+ mails-cm -i 'code merged from Branch/20170622-WebSite公共广告/Develop/前端业务/网站/网站中心/WebSiteManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170622-WebSite\345\205\254\345\205\261\345\271\277\345\221\212/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r127758 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170622-WebSite\345\205\254\345\205\261\345\271\277\345\221\212/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r132729 '
+ '[' '!' -z r127758 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170622-WebSite\345\205\254\345\205\261\345\271\277\345\221\212/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager@r127758' $'https://192.168.0.220/svn/tech/Branch/20170622-WebSite\345\205\254\345\205\261\345\271\277\345\221\212/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170622-WebSite\345\205\254\345\205\261\345\271\277\345\221\212/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager@r127758' $'https://192.168.0.220/svn/tech/Branch/20170622-WebSite\345\205\254\345\205\261\345\271\277\345\221\212/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r127758 -r132729   from Branch/20170622-WebSite公共广告/Develop/前端业务/网站/网站中心/WebSiteManager' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
smtp-server: 535 Error: authentication failed
. . . message not sent.
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite'
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ head='r132695 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r127770 '
+ '[' '!' -z r127770 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r127770' $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：19'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\23219' ']'
+ die 'Svn merged conflicts the r127770 -r132695  from Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r127770 -r132695  from Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite'
+ test -e /home/qishanqing/tmp/merged/output.16392
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r127770 -r132695   from Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/StaticCenter'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/StaticCenter'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/StaticCenter'
smtp-server: 535 Error: authentication failed
. . . message not sent.
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/StaticCenter'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/StaticCenter'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/StaticCenter'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/StaticCenter'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/StaticCenter'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ head -n 4
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/StaticCenter'
++ awk -F '|' '{print$1}'
+ revision=
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/StaticCenter'
++ grep '^r'
+ head='r132732 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/StaticCenter'
++ grep '^r'
++ tail -n 4
++ awk -F '|' '{print$1}'
+ revision='r127771 '
+ '[' '!' -z r127771 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/StaticCenter@r127771' $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/StaticCenter' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/StaticCenter@r127771' $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/StaticCenter'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r127771 -r132732   from Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/StaticCenter' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170713-https/Develop/基础业务/用户中心/DFLib1'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep -C 3 $'Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132699 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r130212 '
+ '[' '!' -z r130212 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1@r130212' $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1@r130212' $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r130212 -r132699   from Branch/20170713-https/Develop/基础业务/用户中心/DFLib1' --username qishanqing --password q372232
svn: E155015: 提交失败(细节如下): 
svn: E155015: 提交终止: “/home/qishanqing/workspace/code/Trunk/基础业务/用户中心/DFLib1/src/Navigator.xml” 处于冲突状态
+ die 'Svn merged conflicts the reasons for failure are as follows'
+ echo 'Svn merged conflicts the reasons for failure are as follows'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.16392
+ echo
+ cat /home/qishanqing/tmp/merged/output.16392
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib2'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib2'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib2'
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib2'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib2'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib2'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170713-https/Develop/基础业务/用户中心/DFLib2'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib2'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib2'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib2'
+ head='r132702 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib2'
++ grep '^r'
++ tail -n 4
++ awk -F '|' '{print$1}'
+ revision='r130211 '
+ '[' '!' -z r130211 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib2@r130211' $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib2' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib2@r130211' $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib2'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r130211 -r132702   from Branch/20170713-https/Develop/基础业务/用户中心/DFLib2' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170713-https/Develop/基础业务/用户中心/UserSite'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r129954 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r128550 '
+ '[' '!' -z r128550 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite@r128550' $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite@r128550' $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ echo tc
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r128550 -r129954   from Branch/20170713-https/Develop/基础业务/用户中心/UserSite' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ mails-cm -i 'code merged from Branch/20170609-资金方协议/Develop/基础业务/用户中心/UserBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r130977 '
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ head='r132731 '
+ '[' '!' -z r130977 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness@r130977' $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness@r130977' $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r130977 -r132731   from Branch/20170609-资金方协议/Develop/基础业务/用户中心/UserBusiness' --username qishanqing --password q372232
svn: E155015: 提交失败(细节如下): 
svn: E155015: 提交终止: “/home/qishanqing/workspace/code/Trunk/基础业务/用户中心/UserBusiness/config/NodeList.xml” 处于冲突状态
+ die 'Svn merged conflicts the reasons for failure are as follows'
+ echo 'Svn merged conflicts the reasons for failure are as follows'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.16392
+ echo
+ cat /home/qishanqing/tmp/merged/output.16392
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/MarketingManager'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/MarketingManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/MarketingManager'
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/MarketingManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/MarketingManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/MarketingManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/MarketingManager'
+ mails-cm -i 'code merged from Branch/20170712-boss后台https改造/Develop/前端业务/营销活动/MarketingManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep -C 3 $'Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/MarketingManager'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/MarketingManager'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132733 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/MarketingManager'
+ revision='r127442 '
+ '[' '!' -z r127442 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/MarketingManager@r127442' $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/MarketingManager' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/MarketingManager@r127442' $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/MarketingManager'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r127442 -r132733   from Branch/20170712-boss后台https改造/Develop/前端业务/营销活动/MarketingManager' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ mails-cm -i 'code merged from Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/MallManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r132734 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r127427 '
+ '[' '!' -z r127427 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager@r127427' $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' .
+ st='  树冲突：4'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2324' ']'
+ die 'Svn merged conflicts the r127427 -r132734  from Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/MallManager'
+ echo 'Svn merged conflicts the r127427 -r132734  from Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/MallManager'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.16392
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r127427 -r132734   from Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/MallManager' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallCenterSite'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallCenterSite'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallCenterSite'
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallCenterSite'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallCenterSite'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallCenterSite'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallCenterSite'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/MallCenterSite'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ awk -F '|' '{print$1}'
++ grep '^r'
++ grep -C 3 $'Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallCenterSite'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallCenterSite'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r127893 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallCenterSite'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r127427 '
+ '[' '!' -z r127427 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallCenterSite@r127427' $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallCenterSite' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallCenterSite@r127427' $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallCenterSite'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r127427 -r127893   from Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/MallCenterSite' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManager'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManager'
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManager'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170712-boss后台https改造/Develop/前端业务/营销活动/卡卷系统/CardVoucherManager'
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManager'
++ head -n 4
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManager'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132735 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManager'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r127442 '
+ '[' '!' -z r127442 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManager@r127442' $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManager' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：2'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2322' ']'
+ die 'Svn merged conflicts the r127442 -r132735  from Branch/20170712-boss后台https改造/Develop/前端业务/营销活动/卡卷系统/CardVoucherManager'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r127442 -r132735  from Branch/20170712-boss后台https改造/Develop/前端业务/营销活动/卡卷系统/CardVoucherManager'
+ test -e /home/qishanqing/tmp/merged/output.16392
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r127442 -r132735   from Branch/20170712-boss后台https改造/Develop/前端业务/营销活动/卡卷系统/CardVoucherManager' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/DFLib'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/DFLib'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/DFLib'
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/DFLib'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/DFLib'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/DFLib'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/DFLib'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170712-boss后台https改造/Develop/前端业务/DFLib'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep -C 3 $'Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/DFLib'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ revision=
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/DFLib'
++ awk -F '|' '{print$1}'
+ head='r130125 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/DFLib'
++ tail -n 4
+ revision='r130119 '
+ '[' '!' -z r130119 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/DFLib@r130119' $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/DFLib' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/DFLib@r130119' $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/DFLib'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r130119 -r130125   from Branch/20170712-boss后台https改造/Develop/前端业务/DFLib' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/DFLib'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/DFLib'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/DFLib'
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/DFLib'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/DFLib'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/DFLib'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/DFLib'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/DFLib'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/DFLib'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/DFLib'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r130128 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/DFLib'
++ tail -n 4
+ revision='r127427 '
+ '[' '!' -z r127427 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/DFLib@r127427' $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/DFLib' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/DFLib@r127427' $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/DFLib'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r127427 -r130128   from Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/DFLib' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170713-CDQSSite/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\346\225\260\346\215\256\344\270\255\345\277\203/CDQSSite'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\346\225\260\346\215\256\344\270\255\345\277\203/CDQSSite'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170713-CDQSSite/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\346\225\260\346\215\256\344\270\255\345\277\203/CDQSSite'
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\346\225\260\346\215\256\344\270\255\345\277\203/CDQSSite'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170713-CDQSSite/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\346\225\260\346\215\256\344\270\255\345\277\203/CDQSSite'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\346\225\260\346\215\256\344\270\255\345\277\203/CDQSSite'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\346\225\260\346\215\256\344\270\255\345\277\203/CDQSSite'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170713-CDQSSite/Develop/数据报表/数据中心/CDQSSite'
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ awk -F '|' '{print$1}'
++ grep '^r'
++ grep -C 3 $'Branch/20170713-CDQSSite/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\346\225\260\346\215\256\344\270\255\345\277\203/CDQSSite'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170713-CDQSSite/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\346\225\260\346\215\256\344\270\255\345\277\203/CDQSSite'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r128309 '
+ '[' '!' -z ']'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170713-CDQSSite/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\346\225\260\346\215\256\344\270\255\345\277\203/CDQSSite'
++ tail -n 4
++ grep '^r'
+ revision='r127680 '
+ '[' '!' -z r127680 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170713-CDQSSite/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\346\225\260\346\215\256\344\270\255\345\277\203/CDQSSite@r127680' $'https://192.168.0.220/svn/tech/Branch/20170713-CDQSSite/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\346\225\260\346\215\256\344\270\255\345\277\203/CDQSSite' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170713-CDQSSite/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\346\225\260\346\215\256\344\270\255\345\277\203/CDQSSite@r127680' $'https://192.168.0.220/svn/tech/Branch/20170713-CDQSSite/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\346\225\260\346\215\256\344\270\255\345\277\203/CDQSSite'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r127680 -r128309   from Branch/20170713-CDQSSite/Develop/数据报表/数据中心/CDQSSite' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170717-\347\233\221\346\216\247\345\244\247\345\261\217/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\244\247\345\261\217/DataDisplayManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\345\244\247\345\261\217/DataDisplayManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170717-\347\233\221\346\216\247\345\244\247\345\261\217/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\244\247\345\261\217/DataDisplayManager'
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\345\244\247\345\261\217/DataDisplayManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170717-\347\233\221\346\216\247\345\244\247\345\261\217/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\244\247\345\261\217/DataDisplayManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\345\244\247\345\261\217/DataDisplayManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\345\244\247\345\261\217/DataDisplayManager'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170717-监控大屏/Develop/数据报表/大屏/DataDisplayManager'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170717-\347\233\221\346\216\247\345\244\247\345\261\217/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\244\247\345\261\217/DataDisplayManager'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170717-\347\233\221\346\216\247\345\244\247\345\261\217/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\244\247\345\261\217/DataDisplayManager'
+ head='r132313 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170717-\347\233\221\346\216\247\345\244\247\345\261\217/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\244\247\345\261\217/DataDisplayManager'
++ grep '^r'
++ tail -n 4
++ awk -F '|' '{print$1}'
+ revision='r128496 '
+ '[' '!' -z r128496 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170717-\347\233\221\346\216\247\345\244\247\345\261\217/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\244\247\345\261\217/DataDisplayManager@r128496' $'https://192.168.0.220/svn/tech/Branch/20170717-\347\233\221\346\216\247\345\244\247\345\261\217/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\244\247\345\261\217/DataDisplayManager' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170717-\347\233\221\346\216\247\345\244\247\345\261\217/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\244\247\345\261\217/DataDisplayManager@r128496' $'https://192.168.0.220/svn/tech/Branch/20170717-\347\233\221\346\216\247\345\244\247\345\261\217/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\244\247\345\261\217/DataDisplayManager'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r128496 -r132313   from Branch/20170717-监控大屏/Develop/数据报表/大屏/DataDisplayManager' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/NC/NCCenter'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/NC/NCCenter'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/NC/NCCenter'
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/NC/NCCenter'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/NC/NCCenter'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/NC/NCCenter'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/NC/NCCenter'
+ mails-cm -i 'code merged from Branch/20170627-减去减免金额/Develop/数据报表/NC/NCCenter'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/NC/NCCenter'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/NC/NCCenter'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r122539 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/NC/NCCenter'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r122539 '
+ '[' '!' -z r122539 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/NC/NCCenter@r122539' $'https://192.168.0.220/svn/tech/Branch/20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/NC/NCCenter' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/NC/NCCenter@r122539' $'https://192.168.0.220/svn/tech/Branch/20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/NC/NCCenter'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r122539 -r122539   from Branch/20170627-减去减免金额/Develop/数据报表/NC/NCCenter' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ mails-cm -i 'code merged from Branch/20170714-boss协议修改/Develop/外部业务/P2P/P2PManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132693 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ grep '^r'
++ tail -n 4
++ awk -F '|' '{print$1}'
+ revision='r128201 '
+ '[' '!' -z r128201 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager@r128201' $'https://192.168.0.220/svn/tech/Branch/20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager' .
+ st='  树冲突：5'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2325' ']'
+ die 'Svn merged conflicts the r128201 -r132693  from Branch/20170714-boss协议修改/Develop/外部业务/P2P/P2PManager'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r128201 -r132693  from Branch/20170714-boss协议修改/Develop/外部业务/P2P/P2PManager'
+ test -e /home/qishanqing/tmp/merged/output.16392
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r128201 -r132693   from Branch/20170714-boss协议修改/Develop/外部业务/P2P/P2PManager' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170718-https\345\215\217\350\256\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170718-https\345\215\217\350\256\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage'
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170718-https\345\215\217\350\256\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170718-https协议/Develop/生活营销/卡包/CardBagManage'
+ cd $'/home/qishanqing/workspace/code/Trunk/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage'
+ clean_workspace
+ svn cleanup .
+ grep '^?'
+ xargs rm -rf
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ awk -F '|' '{print$1}'
++ grep '^r'
++ grep -C 3 $'Branch/20170718-https\345\215\217\350\256\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170718-https\345\215\217\350\256\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132721 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170718-https\345\215\217\350\256\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage'
++ grep '^r'
++ tail -n 4
++ awk -F '|' '{print$1}'
+ revision='r129109 '
+ '[' '!' -z r129109 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170718-https\345\215\217\350\256\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage@r129109' $'https://192.168.0.220/svn/tech/Branch/20170718-https\345\215\217\350\256\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170718-https\345\215\217\350\256\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage@r129109' $'https://192.168.0.220/svn/tech/Branch/20170718-https\345\215\217\350\256\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r129109 -r132721   from Branch/20170718-https协议/Develop/生活营销/卡包/CardBagManage' --username qishanqing --password q372232
svn: E155015: 提交失败(细节如下): 
svn: E155015: 提交终止: “/home/qishanqing/workspace/code/Trunk/生活营销/卡包/CardBagManage/WebRoot/cardBagOrder/autoinsurance.js” 处于冲突状态
+ die 'Svn merged conflicts the reasons for failure are as follows'
+ echo 'Svn merged conflicts the reasons for failure are as follows'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.16392
+ echo
+ cat /home/qishanqing/tmp/merged/output.16392
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170718-https\345\215\217\350\256\256/Develop/\350\276\205\345\212\251\344\270\232\345\212\241/\347\224\237\346\264\273\346\234\215\345\212\241/LifeCenterManage'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\276\205\345\212\251\344\270\232\345\212\241/\347\224\237\346\264\273\346\234\215\345\212\241/LifeCenterManage'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170718-https\345\215\217\350\256\256/Develop/\350\276\205\345\212\251\344\270\232\345\212\241/\347\224\237\346\264\273\346\234\215\345\212\241/LifeCenterManage'
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\276\205\345\212\251\344\270\232\345\212\241/\347\224\237\346\264\273\346\234\215\345\212\241/LifeCenterManage'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170718-https\345\215\217\350\256\256/Develop/\350\276\205\345\212\251\344\270\232\345\212\241/\347\224\237\346\264\273\346\234\215\345\212\241/LifeCenterManage'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\276\205\345\212\251\344\270\232\345\212\241/\347\224\237\346\264\273\346\234\215\345\212\241/LifeCenterManage'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\276\205\345\212\251\344\270\232\345\212\241/\347\224\237\346\264\273\346\234\215\345\212\241/LifeCenterManage'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170718-https协议/Develop/辅助业务/生活服务/LifeCenterManage'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ awk -F '|' '{print$1}'
++ grep '^r'
++ grep -C 3 $'Branch/20170718-https\345\215\217\350\256\256/Develop/\350\276\205\345\212\251\344\270\232\345\212\241/\347\224\237\346\264\273\346\234\215\345\212\241/LifeCenterManage'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170718-https\345\215\217\350\256\256/Develop/\350\276\205\345\212\251\344\270\232\345\212\241/\347\224\237\346\264\273\346\234\215\345\212\241/LifeCenterManage'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r130127 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170718-https\345\215\217\350\256\256/Develop/\350\276\205\345\212\251\344\270\232\345\212\241/\347\224\237\346\264\273\346\234\215\345\212\241/LifeCenterManage'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r129110 '
+ '[' '!' -z r129110 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170718-https\345\215\217\350\256\256/Develop/\350\276\205\345\212\251\344\270\232\345\212\241/\347\224\237\346\264\273\346\234\215\345\212\241/LifeCenterManage@r129110' $'https://192.168.0.220/svn/tech/Branch/20170718-https\345\215\217\350\256\256/Develop/\350\276\205\345\212\251\344\270\232\345\212\241/\347\224\237\346\264\273\346\234\215\345\212\241/LifeCenterManage' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170718-https\345\215\217\350\256\256/Develop/\350\276\205\345\212\251\344\270\232\345\212\241/\347\224\237\346\264\273\346\234\215\345\212\241/LifeCenterManage@r129110' $'https://192.168.0.220/svn/tech/Branch/20170718-https\345\215\217\350\256\256/Develop/\350\276\205\345\212\251\344\270\232\345\212\241/\347\224\237\346\264\273\346\234\215\345\212\241/LifeCenterManage'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r129110 -r130127   from Branch/20170718-https协议/Develop/辅助业务/生活服务/LifeCenterManage' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\205\254\345\205\261/DFLib'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\205\254\345\205\261/DFLib'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\205\254\345\205\261/DFLib'
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\205\254\345\205\261/DFLib'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\205\254\345\205\261/DFLib'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\205\254\345\205\261/DFLib'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\205\254\345\205\261/DFLib'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170721-boss协议修改/Develop/公共/DFLib'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\205\254\345\205\261/DFLib'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\205\254\345\205\261/DFLib'
+ head='r130419 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\205\254\345\205\261/DFLib'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r130182 '
+ '[' '!' -z r130182 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\205\254\345\205\261/DFLib@r130182' $'https://192.168.0.220/svn/tech/Branch/20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\205\254\345\205\261/DFLib' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\205\254\345\205\261/DFLib@r130182' $'https://192.168.0.220/svn/tech/Branch/20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\205\254\345\205\261/DFLib'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r130182 -r130419   from Branch/20170721-boss协议修改/Develop/公共/DFLib' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20161011-TaskScheduler/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20161011-TaskScheduler/Develop/公共/TaskScheduler/TaskSchedulerManager'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ awk -F '|' '{print$1}'
++ grep '^r'
++ grep -C 3 $'Branch/20161011-TaskScheduler/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
+ revision='r130722 '
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
+ head='r130566 '
+ '[' '!' -z r130722 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager@r130722' $'https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager@r130722' $'https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r130722 -r130566   from Branch/20161011-TaskScheduler/Develop/公共/TaskScheduler/TaskSchedulerManager' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170512-转化成maven项目/Develop/基础业务/账户中心/AccountManager'
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
++ awk -F '|' '{print$1}'
+ revision='r130723 '
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
++ grep '^r'
+ head='r130569 '
+ '[' '!' -z r130723 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager@r130723' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager@r130723' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r130723 -r130569   from Branch/20170512-转化成maven项目/Develop/基础业务/账户中心/AccountManager' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PSite/GHBUserAuditSite'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PSite/GHBUserAuditSite'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PSite/GHBUserAuditSite'
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PSite/GHBUserAuditSite'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PSite/GHBUserAuditSite'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PSite/GHBUserAuditSite'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170726-页面访问修改/Develop/外部业务/P2P/P2PSite/GHBUserAuditSite'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PSite/GHBUserAuditSite'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ svn st
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ grep '^r'
++ svn log
++ grep -C 3 $'Branch/20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PSite/GHBUserAuditSite'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PSite/GHBUserAuditSite'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r131015 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PSite/GHBUserAuditSite'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r131015 '
+ '[' '!' -z r131015 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PSite/GHBUserAuditSite@r131015' $'https://192.168.0.220/svn/tech/Branch/20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PSite/GHBUserAuditSite' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PSite/GHBUserAuditSite@r131015' $'https://192.168.0.220/svn/tech/Branch/20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PSite/GHBUserAuditSite'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r131015 -r131015   from Branch/20170726-页面访问修改/Develop/外部业务/P2P/P2PSite/GHBUserAuditSite' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20160801-\344\270\232\345\212\241\346\200\273\347\272\277/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\344\270\232\345\212\241\346\200\273\347\272\277/BusinessBusManager\r'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\344\270\232\345\212\241\346\200\273\347\272\277/BusinessBusManager\r'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20160801-\344\270\232\345\212\241\346\200\273\347\272\277/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\344\270\232\345\212\241\346\200\273\347\272\277/BusinessBusManager\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ test -e /home/qishanqing/tmp/merged/output.16392
+ echo
+ cat /home/qishanqing/tmp/merged/output.16392
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\344\270\232\345\212\241\346\200\273\347\272\277/BusinessBusManager\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20160801-\344\270\232\345\212\241\346\200\273\347\272\277/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\344\270\232\345\212\241\346\200\273\347\272\277/BusinessBusManager\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\344\270\232\345\212\241\346\200\273\347\272\277/BusinessBusManager\r'
+ die '平台架构/业务总线/BusinessBusManager  project code no found'
+ echo '平台架构/业务总线/BusinessBusManager  project code no found'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.16392
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (2.1ms)
  Rendered merge/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 1157160ms (Views: 68.9ms)


Completed 200 OK in 1157160ms (Views: 68.9ms)


smtp-server: 554 DT:SPM 163 smtp2,DNGowABHpyPm7H9ZcRHUAg--.3268S2 1501555942,please see http://mail.163.com/help/help_spam_16.htm?ip=106.120.15.178&hostid=smtp2&time=1501555942
. . . message not sent.
Started POST "/merge/new" for 192.168.5.26 at 2017-08-01 11:21:04 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-01 11:21:04 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20160801-业务总线/Develop/平台架构/业务总线/BusinessBusManager https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageCenter https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/Task/OrderTimeoutCancelTask https://192.168.0.220/svn/tech/Branch/20170724-额度转分期/Develop/事事分期/StageAll/StageOrderService https://192.168.0.220/svn/tech/Branch/20170724-额度转分期/Develop/事事分期/StageAll/StageModule/StageMobile https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/LoanInstalmentBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170616-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170627-达芬奇首页/Develop/自如/后台服务管理/MobileWalletCenter https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol", "task"=>"http://192.168.0.221/zentao/task-view-42772.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"5FmVyF+A2ioGooTbuGKl4Od2573VEtXjAjexjVdqamvMLBXqSGVdUS+dvGpo0N2gSe/ykN2vnrUyZoCI97A+RA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20160801-业务总线/Develop/平台架构/业务总线/BusinessBusManager https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageCenter https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/Task/OrderTimeoutCancelTask https://192.168.0.220/svn/tech/Branch/20170724-额度转分期/Develop/事事分期/StageAll/StageOrderService https://192.168.0.220/svn/tech/Branch/20170724-额度转分期/Develop/事事分期/StageAll/StageModule/StageMobile https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/LoanInstalmentBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170616-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170627-达芬奇首页/Develop/自如/后台服务管理/MobileWalletCenter https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol", "task"=>"http://192.168.0.221/zentao/task-view-42772.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"5FmVyF+A2ioGooTbuGKl4Od2573VEtXjAjexjVdqamvMLBXqSGVdUS+dvGpo0N2gSe/ykN2vnrUyZoCI97A+RA=="}
pid is 18986
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42772.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20160801-业务总线/Develop/平台架构/业务总线/BusinessBusManager https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageCenter https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/Task/OrderTimeoutCancelTask https://192.168.0.220/svn/tech/Branch/20170724-额度转分期/Develop/事事分期/StageAll/StageOrderService https://192.168.0.220/svn/tech/Branch/20170724-额度转分期/Develop/事事分期/StageAll/StageModule/StageMobile https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/LoanInstalmentBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170616-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170627-达芬奇首页/Develop/自如/后台服务管理/MobileWalletCenter https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42772.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20160801-业务总线/Develop/平台架构/业务总线/BusinessBusManager https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageCenter https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/Task/OrderTimeoutCancelTask https://192.168.0.220/svn/tech/Branch/20170724-额度转分期/Develop/事事分期/StageAll/StageOrderService https://192.168.0.220/svn/tech/Branch/20170724-额度转分期/Develop/事事分期/StageAll/StageModule/StageMobile https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/LoanInstalmentBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170616-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170627-达芬奇首页/Develop/自如/后台服务管理/MobileWalletCenter https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42772.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20160801-业务总线/Develop/平台架构/业务总线/BusinessBusManager https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageCenter https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/Task/OrderTimeoutCancelTask https://192.168.0.220/svn/tech/Branch/20170724-额度转分期/Develop/事事分期/StageAll/StageOrderService https://192.168.0.220/svn/tech/Branch/20170724-额度转分期/Develop/事事分期/StageAll/StageModule/StageMobile https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/LoanInstalmentBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170616-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170627-达芬奇首页/Develop/自如/后台服务管理/MobileWalletCenter https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42772.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20160801-业务总线/Develop/平台架构/业务总线/BusinessBusManager https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageCenter https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/Task/OrderTimeoutCancelTask https://192.168.0.220/svn/tech/Branch/20170724-额度转分期/Develop/事事分期/StageAll/StageOrderService https://192.168.0.220/svn/tech/Branch/20170724-额度转分期/Develop/事事分期/StageAll/StageModule/StageMobile https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/LoanInstalmentBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170616-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170627-达芬奇首页/Develop/自如/后台服务管理/MobileWalletCenter https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42772.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20160801-业务总线/Develop/平台架构/业务总线/BusinessBusManager https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageCenter https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/Task/OrderTimeoutCancelTask https://192.168.0.220/svn/tech/Branch/20170724-额度转分期/Develop/事事分期/StageAll/StageOrderService https://192.168.0.220/svn/tech/Branch/20170724-额度转分期/Develop/事事分期/StageAll/StageModule/StageMobile https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/LoanInstalmentBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170616-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170627-达芬奇首页/Develop/自如/后台服务管理/MobileWalletCenter https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20160801-\344\270\232\345\212\241\346\200\273\347\272\277/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\344\270\232\345\212\241\346\200\273\347\272\277/BusinessBusManager' $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter' $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager' $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask' $'https://192.168.0.220/svn/tech/Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService' $'https://192.168.0.220/svn/tech/Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile' $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness' $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness' $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/LoanInstalmentBusiness' $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' $'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness' $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager' $'https://192.168.0.220/svn/tech/Branch/20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter' $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20160801-业务总线/Develop/平台架构/业务总线/BusinessBusManager: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20160801-\344\270\232\345\212\241\346\200\273\347\272\277/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\344\270\232\345\212\241\346\200\273\347\272\277/BusinessBusManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/LoanInstalmentBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ branchs='https://192.168.0.220/svn/tech/Branch/20160801-业务总线/Develop/平台架构/业务总线/BusinessBusManager
https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageCenter
https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageManager
https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client
https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/Task/OrderTimeoutCancelTask
https://192.168.0.220/svn/tech/Branch/20170724-额度转分期/Develop/事事分期/StageAll/StageOrderService
https://192.168.0.220/svn/tech/Branch/20170724-额度转分期/Develop/事事分期/StageAll/StageModule/StageMobile
https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness
https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness2
https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BossBusiness
https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/LoanInstalmentBusiness
https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness2
https://192.168.0.220/svn/tech/Branch/20170616-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness
https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/P2PManager
https://192.168.0.220/svn/tech/Branch/20170627-达芬奇首页/Develop/自如/后台服务管理/MobileWalletCenter
https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20160801-\344\270\232\345\212\241\346\200\273\347\272\277/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\344\270\232\345\212\241\346\200\273\347\272\277/BusinessBusManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\344\270\232\345\212\241\346\200\273\347\272\277/BusinessBusManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20160801-\344\270\232\345\212\241\346\200\273\347\272\277/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\344\270\232\345\212\241\346\200\273\347\272\277/BusinessBusManager'
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\344\270\232\345\212\241\346\200\273\347\272\277/BusinessBusManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20160801-\344\270\232\345\212\241\346\200\273\347\272\277/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\344\270\232\345\212\241\346\200\273\347\272\277/BusinessBusManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\344\270\232\345\212\241\346\200\273\347\272\277/BusinessBusManager'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20160801-业务总线/Develop/平台架构/业务总线/BusinessBusManager'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\344\270\232\345\212\241\346\200\273\347\272\277/BusinessBusManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20160801-\344\270\232\345\212\241\346\200\273\347\272\277/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\344\270\232\345\212\241\346\200\273\347\272\277/BusinessBusManager'
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20160801-\344\270\232\345\212\241\346\200\273\347\272\277/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\344\270\232\345\212\241\346\200\273\347\272\277/BusinessBusManager'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r131441 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20160801-\344\270\232\345\212\241\346\200\273\347\272\277/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\344\270\232\345\212\241\346\200\273\347\272\277/BusinessBusManager'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r69674 '
+ '[' '!' -z r69674 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20160801-\344\270\232\345\212\241\346\200\273\347\272\277/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\344\270\232\345\212\241\346\200\273\347\272\277/BusinessBusManager@r69674' $'https://192.168.0.220/svn/tech/Branch/20160801-\344\270\232\345\212\241\346\200\273\347\272\277/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\344\270\232\345\212\241\346\200\273\347\272\277/BusinessBusManager' .
+ st='  树冲突：6'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2326' ']'
+ die 'Svn merged conflicts the r69674 -r131441  from Branch/20160801-业务总线/Develop/平台架构/业务总线/BusinessBusManager'
+ echo 'Svn merged conflicts the r69674 -r131441  from Branch/20160801-业务总线/Develop/平台架构/业务总线/BusinessBusManager'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.18986
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42772.html
Merged revision(s) r69674 -r131441   from Branch/20160801-业务总线/Develop/平台架构/业务总线/BusinessBusManager' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageCenter'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r132713 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r118829 '
+ '[' '!' -z r118829 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter@r118829' $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter' .
+ st='  树冲突：11'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\23211' ']'
+ die 'Svn merged conflicts the r118829 -r132713  from Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageCenter'
+ echo 'Svn merged conflicts the r118829 -r132713  from Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageCenter'
+ test -e /home/qishanqing/tmp/merged/output.18986
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42772.html
Merged revision(s) r118829 -r132713   from Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageCenter' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageManager'
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132627 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
++ tail -n 4
+ revision='r118831 '
+ '[' '!' -z r118831 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager@r118831' $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：11'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\23211' ']'
+ die 'Svn merged conflicts the r118831 -r132627  from Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageManager'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r118831 -r132627  from Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageManager'
+ test -e /home/qishanqing/tmp/merged/output.18986
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42772.html
Merged revision(s) r118831 -r132627   from Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageManager' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ mails-cm -i 'code merged from Branch/20170609-额度支付转分期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ head='r132687 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ grep '^r'
++ tail -n 4
++ awk -F '|' '{print$1}'
+ revision='r118832 '
+ '[' '!' -z r118832 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r118832' $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：87'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\23287' ']'
+ die 'Svn merged conflicts the r118832 -r132687  from Branch/20170609-额度支付转分期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r118832 -r132687  from Branch/20170609-额度支付转分期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ test -e /home/qishanqing/tmp/merged/output.18986
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42772.html
Merged revision(s) r118832 -r132687   from Branch/20170609-额度支付转分期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask'
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/Task/OrderTimeoutCancelTask'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep -C 3 $'Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ revision=
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask'
+ head='r130588 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r121152 '
+ '[' '!' -z r121152 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask@r121152' $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask@r121152' $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42772.html
Merged revision(s) r121152 -r130588   from Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/Task/OrderTimeoutCancelTask' --username qishanqing --password q372232
svn: E155015: 提交失败(细节如下): 
svn: E155015: 提交终止: “/home/qishanqing/workspace/code/Trunk/事事分期/StageAll/Task/OrderTimeoutCancelTask/config/NodeList.xml” 处于冲突状态
+ die 'Svn merged conflicts the reasons for failure are as follows'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the reasons for failure are as follows'
+ test -e /home/qishanqing/tmp/merged/output.18986
+ echo
+ cat /home/qishanqing/tmp/merged/output.18986
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
+ mails-cm -i 'code merged from Branch/20170724-额度转分期/Develop/事事分期/StageAll/StageOrderService'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r131659 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r130546 '
+ '[' '!' -z r130546 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService@r130546' $'https://192.168.0.220/svn/tech/Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService@r130546' $'https://192.168.0.220/svn/tech/Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42772.html
Merged revision(s) r130546 -r131659   from Branch/20170724-额度转分期/Develop/事事分期/StageAll/StageOrderService' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ svn_from_tb_merged
+ mails-cm -i 'code merged from Branch/20170724-额度转分期/Develop/事事分期/StageAll/StageModule/StageMobile'
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r130818 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r130810 '
+ '[' '!' -z r130810 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile@r130810' $'https://192.168.0.220/svn/tech/Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile@r130810' $'https://192.168.0.220/svn/tech/Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42772.html
Merged revision(s) r130810 -r130818   from Branch/20170724-额度转分期/Develop/事事分期/StageAll/StageModule/StageMobile' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ svn_from_tb_merged
+ mails-cm -i 'code merged from Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness'
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132727 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ tail -n 4
+ revision='r119846 '
+ '[' '!' -z r119846 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness@r119846' $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：3'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2323' ']'
+ die 'Svn merged conflicts the r119846 -r132727  from Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness'
+ echo 'Svn merged conflicts the r119846 -r132727  from Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness'
+ test -e /home/qishanqing/tmp/merged/output.18986
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42772.html
Merged revision(s) r119846 -r132727   from Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ mails-cm -i 'code merged from Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness2'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r132714 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r118061 '
+ '[' '!' -z r118061 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2@r118061' $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：4'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2324' ']'
+ die 'Svn merged conflicts the r118061 -r132714  from Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness2'
+ echo 'Svn merged conflicts the r118061 -r132714  from Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness2'
+ test -e /home/qishanqing/tmp/merged/output.18986
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42772.html
Merged revision(s) r118061 -r132714   from Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness2' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BossBusiness'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r132710 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
++ grep '^r'
++ tail -n 4
++ awk -F '|' '{print$1}'
+ revision='r119530 '
+ '[' '!' -z r119530 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness@r119530' $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness@r119530' $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42772.html
Merged revision(s) r119530 -r132710   from Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BossBusiness' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/LoanInstalmentBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/LoanInstalmentBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/LoanInstalmentBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/LoanInstalmentBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/LoanInstalmentBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/LoanInstalmentBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/LoanInstalmentBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/LoanInstalmentBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ head -n 4
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/LoanInstalmentBusiness'
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/LoanInstalmentBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132714 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/LoanInstalmentBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r118058 '
+ '[' '!' -z r118058 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/LoanInstalmentBusiness@r118058' $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/LoanInstalmentBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/LoanInstalmentBusiness@r118058' $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/LoanInstalmentBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42772.html
Merged revision(s) r118058 -r132714   from Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/LoanInstalmentBusiness' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness2'
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep -C 3 $'Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r132390 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r119857 '
+ '[' '!' -z r119857 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2@r119857' $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：10'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\23210' ']'
+ die 'Svn merged conflicts the r119857 -r132390  from Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness2'
+ echo 'Svn merged conflicts the r119857 -r132390  from Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness2'
+ test -e /home/qishanqing/tmp/merged/output.18986
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42772.html
Merged revision(s) r119857 -r132390   from Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness2' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170616-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ awk -F '|' '{print$1}'
++ grep -C 3 $'Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
++ grep '^r'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r129920 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r119862 '
+ '[' '!' -z r119862 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness@r119862' $'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：1'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2321' ']'
+ die 'Svn merged conflicts the r119862 -r129920  from Branch/20170616-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r119862 -r129920  from Branch/20170616-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness'
+ test -e /home/qishanqing/tmp/merged/output.18986
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42772.html
Merged revision(s) r119862 -r129920   from Branch/20170616-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.18986
+ echo
+ cat /home/qishanqing/tmp/merged/output.18986
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170607-达分期转分期/Develop/外部业务/P2P/P2PManager'
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ head -n 4
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ awk -F '|' '{print$1}'
+ revision=
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ awk -F '|' '{print$1}'
svn: E160013: 找不到路径 “/svn/tech/!svn/rvr/132845/Branch/20170607-%E8%BE%BE%E5%88%86%E6%9C%9F%E8%BD%AC%E5%88%86%E6%9C%9F/Develop/%E5%A4%96%E9%83%A8%E4%B8%9A%E5%8A%A1/P2P/P2PManager”
+ head=
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
svn: E160013: 找不到路径 “/svn/tech/!svn/rvr/132845/Branch/20170607-%E8%BE%BE%E5%88%86%E6%9C%9F%E8%BD%AC%E5%88%86%E6%9C%9F/Develop/%E5%A4%96%E9%83%A8%E4%B8%9A%E5%8A%A1/P2P/P2PManager”
+ revision=
+ '[' '!' -z ']'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42772.html
Merged revision(s) -  from Branch/20170607-达分期转分期/Develop/外部业务/P2P/P2PManager' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170627-达芬奇首页/Develop/自如/后台服务管理/MobileWalletCenter'
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r131009 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132797 '
+ '[' '!' -z r131009 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter@r131009' $'https://192.168.0.220/svn/tech/Branch/20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter@r131009' $'https://192.168.0.220/svn/tech/Branch/20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42772.html
Merged revision(s) r131009 -r132797   from Branch/20170627-达芬奇首页/Develop/自如/后台服务管理/MobileWalletCenter' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ mails-cm -i 'code merged from Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ awk -F '|' '{print$1}'
++ grep -C 3 $'Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
++ head -n 4
+ revision='r131694 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r132660 '
+ '[' '!' -z r131694 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol@r131694' $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol@r131694' $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42772.html
Merged revision(s) r131694 -r132660   from Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (4.6ms)
  Rendered merge/new.html.erb within layouts/application (4.6ms)
Completed 200 OK in 1989577ms (Views: 4302.2ms)


Completed 200 OK in 1989577ms (Views: 4302.2ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-01 12:09:19 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-01 12:09:19 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (5.0ms)
  Rendered merge/index.html.erb within layouts/application (5.0ms)
Completed 200 OK in 82ms (Views: 77.4ms)


Completed 200 OK in 82ms (Views: 77.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-01 12:11:48 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-01 12:11:48 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170621-包银BOSS后台/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/baoyin_26 https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170727-360还款统计/Develop/催收/服务/SupCCBusinessV1 https://192.168.0.220/svn/tech/Branch/20170731-账单导出状态修改/Develop/分期商城/分期商城3.0/MallManager\r\n\r\n", "task"=>"", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"0T8RLlF/0AuPauUZx6gs/OmLs0f+JQWmmVgDAYA0Qgz5SpEMRppXcKZV3agXGlS8RxKmavaYTvCpCTIEIO4WIw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170621-包银BOSS后台/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/baoyin_26 https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170727-360还款统计/Develop/催收/服务/SupCCBusinessV1 https://192.168.0.220/svn/tech/Branch/20170731-账单导出状态修改/Develop/分期商城/分期商城3.0/MallManager\r\n\r\n", "task"=>"", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"0T8RLlF/0AuPauUZx6gs/OmLs0f+JQWmmVgDAYA0Qgz5SpEMRppXcKZV3agXGlS8RxKmavaYTvCpCTIEIO4WIw=="}
pid is 20386
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k '' -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170621-包银BOSS后台/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/baoyin_26 https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170727-360还款统计/Develop/催收/服务/SupCCBusinessV1 https://192.168.0.220/svn/tech/Branch/20170731-账单导出状态修改/Develop/分期商城/分期商城3.0/MallManager

' -T add
+ TEMP=' -k '\'''\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170621-包银BOSS后台/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/baoyin_26 https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170727-360还款统计/Develop/催收/服务/SupCCBusinessV1 https://192.168.0.220/svn/tech/Branch/20170731-账单导出状态修改/Develop/分期商城/分期商城3.0/MallManager

'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\'''\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170621-包银BOSS后台/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/baoyin_26 https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170727-360还款统计/Develop/催收/服务/SupCCBusinessV1 https://192.168.0.220/svn/tech/Branch/20170731-账单导出状态修改/Develop/分期商城/分期商城3.0/MallManager

'\'' -T '\''add'\'' --'
++ set -- -k '' -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170621-包银BOSS后台/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/baoyin_26 https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170727-360还款统计/Develop/催收/服务/SupCCBusinessV1 https://192.168.0.220/svn/tech/Branch/20170731-账单导出状态修改/Develop/分期商城/分期商城3.0/MallManager

' -T add --
+ true
+ case "$1" in
+ task=
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170621-包银BOSS后台/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/baoyin_26 https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170727-360还款统计/Develop/催收/服务/SupCCBusinessV1 https://192.168.0.220/svn/tech/Branch/20170731-账单导出状态修改/Develop/分期商城/分期商城3.0/MallManager

'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness' $'https://192.168.0.220/svn/tech/Branch/20170621-\345\214\205\351\223\266BOSS\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26' $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness' $'https://192.168.0.220/svn/tech/Branch/20170727-360\350\277\230\346\254\276\347\273\237\350\256\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1' $'https://192.168.0.220/svn/tech/Branch/20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager\r' $'\r'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170621-\345\214\205\351\223\266BOSS\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170727-360\350\277\230\346\254\276\347\273\237\350\256\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager\r'
++ for y in '$branch'
++ echo $'\r'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness
https://192.168.0.220/svn/tech/Branch/20170621-包银BOSS后台/Develop/外部业务/P2P/P2PManager
https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/baoyin_26
https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BorrowBusiness2
https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BossBusiness
https://192.168.0.220/svn/tech/Branch/20170727-360还款统计/Develop/催收/服务/SupCCBusinessV1
https://192.168.0.220/svn/tech/Branch/20170731-账单导出状态修改/Develop/分期商城/分期商城3.0/MallManager
'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.20386
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ head='r132838 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r132536 '
+ '[' '!' -z r132536 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness@r132536' $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness@r132536' $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ svn ci --username builder --password ant@ -m '
Merged revision(s) r132536 -r132838   from Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170621-\345\214\205\351\223\266BOSS\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170621-\345\214\205\351\223\266BOSS\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ rm -f /home/qishanqing/tmp/merged/output.20386
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170621-\345\214\205\351\223\266BOSS\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170621-包银BOSS后台/Develop/外部业务/P2P/P2PManager'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170621-\345\214\205\351\223\266BOSS\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170621-\345\214\205\351\223\266BOSS\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r132622 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170621-\345\214\205\351\223\266BOSS\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ grep '^r'
++ tail -n 4
++ awk -F '|' '{print$1}'
+ revision='r121277 '
+ '[' '!' -z r121277 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170621-\345\214\205\351\223\266BOSS\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager@r121277' $'https://192.168.0.220/svn/tech/Branch/20170621-\345\214\205\351\223\266BOSS\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：21'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\23221' ']'
+ die 'Svn merged conflicts the r121277 -r132622  from Branch/20170621-包银BOSS后台/Develop/外部业务/P2P/P2PManager'
+ echo 'Svn merged conflicts the r121277 -r132622  from Branch/20170621-包银BOSS后台/Develop/外部业务/P2P/P2PManager'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.20386
+ rm -f /home/qishanqing/tmp/merged/output.20386
+ svn ci --username builder --password ant@ -m '
Merged revision(s) r121277 -r132622   from Branch/20170621-包银BOSS后台/Develop/外部业务/P2P/P2PManager' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
+ rm -f /home/qishanqing/tmp/merged/output.20386
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
+ svn_from_tb_merged
+ mails-cm -i 'code merged from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/baoyin_26'
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r130538 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132498 '
+ '[' '!' -z r130538 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26@r130538' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26@r130538' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
+ svn ci --username builder --password ant@ -m '
Merged revision(s) r130538 -r132498   from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/baoyin_26' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ rm -f /home/qishanqing/tmp/merged/output.20386
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BorrowBusiness2'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132565 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r132484 '
+ '[' '!' -z r132484 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2@r132484' $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2@r132484' $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ svn ci --username builder --password ant@ -m '
Merged revision(s) r132484 -r132565   from Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BorrowBusiness2' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.20386
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BossBusiness'
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r132590 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r132485 '
+ '[' '!' -z r132485 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness@r132485' $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness@r132485' $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ svn ci --username builder --password ant@ -m '
Merged revision(s) r132485 -r132590   from Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BossBusiness' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170727-360\350\277\230\346\254\276\347\273\237\350\256\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170727-360\350\277\230\346\254\276\347\273\237\350\256\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
+ rm -f /home/qishanqing/tmp/merged/output.20386
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170727-360\350\277\230\346\254\276\347\273\237\350\256\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
+ svn_from_tb_merged
+ mails-cm -i 'code merged from Branch/20170727-360还款统计/Develop/催收/服务/SupCCBusinessV1'
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170727-360\350\277\230\346\254\276\347\273\237\350\256\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170727-360\350\277\230\346\254\276\347\273\237\350\256\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r131569 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170727-360\350\277\230\346\254\276\347\273\237\350\256\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r131564 '
+ '[' '!' -z r131564 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170727-360\350\277\230\346\254\276\347\273\237\350\256\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1@r131564' $'https://192.168.0.220/svn/tech/Branch/20170727-360\350\277\230\346\254\276\347\273\237\350\256\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170727-360\350\277\230\346\254\276\347\273\237\350\256\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1@r131564' $'https://192.168.0.220/svn/tech/Branch/20170727-360\350\277\230\346\254\276\347\273\237\350\256\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
+ svn ci --username builder --password ant@ -m '
Merged revision(s) r131564 -r131569   from Branch/20170727-360还款统计/Develop/催收/服务/SupCCBusinessV1' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager\r'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager\r'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ test -e /home/qishanqing/tmp/merged/output.20386
+ echo
+ cat /home/qishanqing/tmp/merged/output.20386
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.20386
+ rm -f /home/qishanqing/tmp/merged/output.20386
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager\r'
+ die '分期商城/分期商城3.0/MallManager  project code no found'
+ echo '分期商城/分期商城3.0/MallManager  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.20386
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.20386
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'\r'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'\r'
+ svn log -l 1 $'\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.20386
+ echo
+ cat /home/qishanqing/tmp/merged/output.20386
+ rm -f /home/qishanqing/tmp/merged/output.20386
+ rm -f /home/qishanqing/tmp/merged/output.20386
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\r'
+ die '  project code no found'
+ mails-cm -i 'svn merged faild'
+ echo '  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.20386
+ rm -f /home/qishanqing/tmp/merged/output.20386
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (2.2ms)
  Rendered merge/new.html.erb within layouts/application (2.2ms)
smtp-server: 554 DT:SPM 163 smtp4,DtGowADn_Dg5AIBZGNyVCA--.1072S2 1501560889,please see http://mail.163.com/help/help_spam_16.htm?ip=106.120.15.178&hostid=smtp4&time=1501560889
. . . message not sent.
Completed 200 OK in 180772ms (Views: 146.7ms)


Completed 200 OK in 180772ms (Views: 146.7ms)


smtp-server: 554 DT:SPM 163 smtp2,DNGowAAnHCg5AIBZ4nTaAg--.6587S2 1501560889,please see http://mail.163.com/help/help_spam_16.htm?ip=106.120.15.178&hostid=smtp2&time=1501560889
. . . message not sent.
smtp-server: 554 DT:SPM 163 smtp1,C9GowAA3Fgo5AIBZpYKbCA--.65237S2 1501560889,please see http://mail.163.com/help/help_spam_16.htm?ip=106.120.15.178&hostid=smtp1&time=1501560889
. . . message not sent.
Started GET "/merge/index" for 192.168.5.26 at 2017-08-01 12:15:12 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-01 12:15:12 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (30.6ms)
  Rendered merge/index.html.erb within layouts/application (30.6ms)
Completed 200 OK in 92ms (Views: 88.4ms)


Completed 200 OK in 92ms (Views: 88.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-01 12:15:55 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-01 12:15:55 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/fundgateway https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness\r\n", "task"=>"", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"WieDe35XS6lfHuRygd/n71sNXTsGTIvr5Fymmy9Ul5RyUgNZabLM0nYh3MNRbZ+v9ZRIFg7xwL3UDZeej47Duw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/fundgateway https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness\r\n", "task"=>"", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"WieDe35XS6lfHuRygd/n71sNXTsGTIvr5Fymmy9Ul5RyUgNZabLM0nYh3MNRbZ+v9ZRIFg7xwL3UDZeej47Duw=="}
pid is 20698
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k '' -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/fundgateway https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness
' -T add
+ TEMP=' -k '\'''\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/fundgateway https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness
'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\'''\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/fundgateway https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness
'\'' -T '\''add'\'' --'
++ set -- -k '' -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/fundgateway https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness
' -T add --
+ true
+ case "$1" in
+ task=
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/fundgateway https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness
'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/fundgateway' $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness\r'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/fundgateway: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/fundgateway'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness\r'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/fundgateway
https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/fundgateway'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/fundgateway'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/fundgateway'
+ rm -f /home/qishanqing/tmp/merged/output.20698
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/fundgateway'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/fundgateway'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/fundgateway'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/fundgateway'
+ mails-cm -i 'code merged from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/fundgateway'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/fundgateway'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r132798 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/fundgateway'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132145 '
+ '[' '!' -z r132798 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/fundgateway@r132798' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/fundgateway' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/fundgateway@r132798' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/fundgateway'
+ svn ci --username builder --password ant@ -m '
Merged revision(s) r132798 -r132145   from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/fundgateway' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness\r'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness\r'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.20698
+ echo
+ cat /home/qishanqing/tmp/merged/output.20698
+ rm -f /home/qishanqing/tmp/merged/output.20698
+ rm -f /home/qishanqing/tmp/merged/output.20698
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness\r'
+ die '分期商城/分期商城3.0/MallTaskBusiness  project code no found'
+ echo '分期商城/分期商城3.0/MallTaskBusiness  project code no found'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.20698
+ rm -f /home/qishanqing/tmp/merged/output.20698
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.6ms)
  Rendered merge/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 49468ms (Views: 70.0ms)


Completed 200 OK in 49468ms (Views: 70.0ms)


smtp-server: 554 DT:SPM 163 smtp1,C9GowAAHjw+tAIBZR6mbCA--.1537S2 1501561005,please see http://mail.163.com/help/help_spam_16.htm?ip=106.120.15.178&hostid=smtp1&time=1501561005
. . . message not sent.
Started GET "/merge/index" for 192.168.5.26 at 2017-08-01 12:19:20 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-01 12:19:20 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (6.4ms)
  Rendered merge/index.html.erb within layouts/application (6.4ms)
Completed 200 OK in 84ms (Views: 80.8ms)


Completed 200 OK in 84ms (Views: 80.8ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-01 14:28:47 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-01 14:28:47 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42753.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"sEcVYxo1JB4Ej+4BHSNcFOmzz4KHi5jl24i9DS7pjtOYMpVBDdCjZS2w1rDNkSRURyrar48207Pr2YwIjjPa/A=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42753.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"sEcVYxo1JB4Ej+4BHSNcFOmzz4KHi5jl24i9DS7pjtOYMpVBDdCjZS2w1rDNkSRURyrar48207Pr2YwIjjPa/A=="}
pid is 22672
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42753.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42753.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42753.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42753.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42753.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.22672
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ awk -F '|' '{print$1}'
++ head -n 4
++ grep -C 3 $'Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ grep '^r'
+ revision='r132857 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132838 '
+ '[' '!' -z r132857 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness@r132857' $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness@r132857' $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42753.html
Merged revision(s) r132857 -r132838   from Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.0ms)
  Rendered merge/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 27010ms (Views: 39.6ms)


Completed 200 OK in 27010ms (Views: 39.6ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-01 14:34:22 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-01 14:34:22 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.3ms)
  Rendered merge/index.html.erb within layouts/application (4.3ms)
Completed 200 OK in 81ms (Views: 77.6ms)


Completed 200 OK in 81ms (Views: 77.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-01 14:34:34 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-01 14:34:34 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170731-账单导出状态修改/Develop/分期商城/分期商城3.0/MallManager", "task"=>"http://192.168.0.221/zentao/task-view-42748.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"WhPFD/tYJ5qx9c3pj8rF3lbtO5ARsZEiNvslpRfFq/RyZkUt7L2g4ZjK9VhfeL2e+HQuvRkM2nQGqhSgtx//2w=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170731-账单导出状态修改/Develop/分期商城/分期商城3.0/MallManager", "task"=>"http://192.168.0.221/zentao/task-view-42748.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"WhPFD/tYJ5qx9c3pj8rF3lbtO5ARsZEiNvslpRfFq/RyZkUt7L2g4ZjK9VhfeL2e+HQuvRkM2nQGqhSgtx//2w=="}
pid is 22766
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42748.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42748.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170731-账单导出状态修改/Develop/分期商城/分期商城3.0/MallManager'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42748.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170731-账单导出状态修改/Develop/分期商城/分期商城3.0/MallManager'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42748.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42748.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170731-账单导出状态修改/Develop/分期商城/分期商城3.0/MallManager: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ test -e /home/qishanqing/tmp/merged/output.22766
+ mails-cm -i 'svn merged faild'
+ echo
+ cat /home/qishanqing/tmp/merged/output.22766
+ rm -f /home/qishanqing/tmp/merged/output.22766
+ rm -f /home/qishanqing/tmp/merged/output.22766
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170731-账单导出状态修改/Develop/分期商城/分期商城3.0/MallManager'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ grep '^r'
++ awk -F '|' '{print$1}'
svn: E160013: 找不到路径 “/svn/tech/!svn/rvr/132902/Branch/20170731-%E8%B4%A6%E5%8D%95%E5%AF%BC%E5%87%BA%E7%8A%B6%E6%80%81%E4%BF%AE%E6%94%B9/Develop/%E5%88%86%E6%9C%9F%E5%95%86%E5%9F%8E/%E5%88%86%E6%9C%9F%E5%95%86%E5%9F%8E3.0/MallManager”
+ head=
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ grep '^r'
++ tail -n 4
++ awk -F '|' '{print$1}'
svn: E160013: 找不到路径 “/svn/tech/!svn/rvr/132902/Branch/20170731-%E8%B4%A6%E5%8D%95%E5%AF%BC%E5%87%BA%E7%8A%B6%E6%80%81%E4%BF%AE%E6%94%B9/Develop/%E5%88%86%E6%9C%9F%E5%95%86%E5%9F%8E/%E5%88%86%E6%9C%9F%E5%95%86%E5%9F%8E3.0/MallManager”
+ revision=
+ '[' '!' -z ']'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42748.html
Merged revision(s) -  from Branch/20170731-账单导出状态修改/Develop/分期商城/分期商城3.0/MallManager' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.3ms)
  Rendered merge/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 29380ms (Views: 63.8ms)


Completed 200 OK in 29380ms (Views: 63.8ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-01 14:39:12 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-01 14:39:12 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.5ms)
  Rendered builder/index.html.erb within layouts/application (4.5ms)
Completed 200 OK in 115ms (Views: 71.4ms)


Completed 200 OK in 115ms (Views: 71.4ms)


Started POST "/start" for 192.168.5.26 at 2017-08-01 14:39:16 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-01 14:39:17 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170731-商城相关bug", "branch"=>"20170731-商城相关bug", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"RGYFkXoj8hl2W7QejGiyJSGZORyojUUf9hQeNKriyxZsE4WzbcZ1Yl9kjK9c2spljwAsMaAwDknGRS8xCjifOQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170731-商城相关bug", "branch"=>"20170731-商城相关bug", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"RGYFkXoj8hl2W7QejGiyJSGZORyojUUf9hQeNKriyxZsE4WzbcZ1Yl9kjK9c2spljwAsMaAwDknGRS8xCjifOQ=="}
pid is 23023
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug' -e qishanqing@dafy.com -E '' -b $'20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170731-商城相关bug'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170731-商城相关bug'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170731-商城相关bug'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170731-商城相关bug'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug' -e qishanqing@dafy.com -E '' -b $'20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170731-商城相关bug: command not found
++ for y in '$trunk'
++ echo $'20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ trunks=$'20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ test del = add
+ delbranch
+ '[' -z $'20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170801
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708011439
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170801-20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011439-20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
++ awk -F / '{print $7}'
+ br=$'20170801-20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ access=$'20170801-20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011439-20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.23023
+ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170731-商城相关bug%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170731-商城相关bug%'\'';'
+ cat /tmp/cmdb.db.23023
+ rm -f /tmp/cmdb.db.23023
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.0ms)
  Rendered builder/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 4939ms (Views: 57.4ms)


Completed 200 OK in 4939ms (Views: 57.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:29:57 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:29:57 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.3ms)
  Rendered builder/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 41ms (Views: 38.8ms)


Completed 200 OK in 41ms (Views: 38.8ms)


Started POST "/start" for 192.168.5.26 at 2017-08-01 16:30:02 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-01 16:30:02 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170712-boss后台https改造", "branch"=>"20170712-boss后台https改造", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"yO1dWkL0WxedwFzoaHurNOqN3+vQXSmyGa/02M+dJtzgmN14VRHcbLT/ZFm4ydN0RBTKxtjgYuQp/sXdb0dy8w=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170712-boss后台https改造", "branch"=>"20170712-boss后台https改造", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"yO1dWkL0WxedwFzoaHurNOqN3+vQXSmyGa/02M+dJtzgmN14VRHcbLT/ZFm4ydN0RBTKxtjgYuQp/sXdb0dy8w=="}
pid is 25072
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240' -e qishanqing@dafy.com -E '' -b $'20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170712-boss后台https改造'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170712-boss后台https改造'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170712-boss后台https改造'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170712-boss后台https改造'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240' -e qishanqing@dafy.com -E '' -b $'20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170712-boss后台https改造: command not found
++ for y in '$trunk'
++ echo $'20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240'
+ trunks=$'20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240'
+ test del = add
+ delbranch
+ '[' -z $'20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170801
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708011630
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170801-20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011630-20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240'
++ awk -F / '{print $7}'
+ br=$'20170801-20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240'
+ access=$'20170801-20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011630-20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.25072
+ echo $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170712-boss后台https改造%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170712-boss后台https改造%'\'';'
+ cat /tmp/cmdb.db.25072
+ rm -f /tmp/cmdb.db.25072
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.1ms)
  Rendered builder/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 1570ms (Views: 88.4ms)


Completed 200 OK in 1570ms (Views: 88.4ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-01 16:37:47 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-01 16:37:47 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.3ms)
  Rendered merge/index.html.erb within layouts/application (4.3ms)
Completed 200 OK in 77ms (Views: 74.6ms)


Completed 200 OK in 77ms (Views: 74.6ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:37:47 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:37:47 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.6ms)
  Rendered builder/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 62ms (Views: 60.5ms)


Completed 200 OK in 62ms (Views: 60.5ms)


Started POST "/start" for 192.168.5.26 at 2017-08-01 16:37:51 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-01 16:37:51 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170607-达分期转分期", "branch"=>"20170607-达分期转分期", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"B4LSYi26XdkduBlPnBgIHxdz81ZSnihgTJmdtK9OUH0v91JAOl/aojSHIf5MqnBfuerme1ojYzZ8yKyxD5QEUg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170607-达分期转分期", "branch"=>"20170607-达分期转分期", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"B4LSYi26XdkduBlPnBgIHxdz81ZSnihgTJmdtK9OUH0v91JAOl/aojSHIf5MqnBfuerme1ojYzZ8yKyxD5QEUg=="}
pid is 25182
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237' -e qishanqing@dafy.com -E '' -b $'20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170607-达分期转分期'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170607-达分期转分期'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170607-达分期转分期'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170607-达分期转分期'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237' -e qishanqing@dafy.com -E '' -b $'20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170607-达分期转分期: command not found
++ for y in '$trunk'
++ echo $'20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ trunks=$'20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ test del = add
+ delbranch
+ '[' -z $'20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170801
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708011637
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170801-20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011637-20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
++ awk -F / '{print $7}'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ br=$'20170801-20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ access=$'20170801-20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011637-20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.25182
+ echo $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170607-达分期转分期%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170607-达分期转分期%'\'';'
+ cat /tmp/cmdb.db.25182
+ rm -f /tmp/cmdb.db.25182
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.5ms)
  Rendered builder/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 1318ms (Views: 87.9ms)


Completed 200 OK in 1318ms (Views: 87.9ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:38:14 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:38:14 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.7ms)
  Rendered builder/index.html.erb within layouts/application (3.7ms)
Completed 200 OK in 124ms (Views: 121.7ms)


Completed 200 OK in 124ms (Views: 121.7ms)


Started POST "/start" for 192.168.5.26 at 2017-08-01 16:38:19 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-01 16:38:19 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170609-额度支付转分期", "branch"=>"20170609-额度支付转分期", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"piUMJ2Q7/LsxPZKT+BhzA7XvALkGNR9dQmg4D+DbcNaOUIwFc957wBgCqiIoqgtDG3YVlA6IVAtyOQkKQAEk+Q=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170609-额度支付转分期", "branch"=>"20170609-额度支付转分期", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"piUMJ2Q7/LsxPZKT+BhzA7XvALkGNR9dQmg4D+DbcNaOUIwFc957wBgCqiIoqgtDG3YVlA6IVAtyOQkKQAEk+Q=="}
pid is 25213
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237' -e qishanqing@dafy.com -E '' -b $'20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170609-额度支付转分期'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170609-额度支付转分期'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170609-额度支付转分期'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170609-额度支付转分期'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237' -e qishanqing@dafy.com -E '' -b $'20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170609-额度支付转分期: command not found
++ for y in '$trunk'
++ echo $'20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237'
+ trunks=$'20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237'
+ test del = add
+ delbranch
+ '[' -z $'20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170801
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708011638
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170801-20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011638-20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237'
++ awk -F / '{print $7}'
+ br=$'20170801-20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237'
+ access=$'20170801-20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011638-20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.25213
+ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170609-额度支付转分期%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170609-额度支付转分期%'\'';'
+ cat /tmp/cmdb.db.25213
+ rm -f /tmp/cmdb.db.25213
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.0ms)
  Rendered builder/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 642ms (Views: 101.6ms)


Completed 200 OK in 642ms (Views: 101.6ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:39:35 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:39:35 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.8ms)
  Rendered builder/index.html.erb within layouts/application (3.8ms)
Completed 200 OK in 85ms (Views: 79.8ms)


Completed 200 OK in 85ms (Views: 79.8ms)


Started POST "/start" for 192.168.5.26 at 2017-08-01 16:39:38 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-01 16:39:38 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170627-达芬奇首页", "branch"=>"20170627-达芬奇首页", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"zEDYoBvEvz16Gvf3YJd2rZaip3PY5KZYKJEvc6sZpNTkNViCDCE4RlMlz0awJQ7tODuyXtBZ7Q4YwB52C8Pw+w=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170627-达芬奇首页", "branch"=>"20170627-达芬奇首页", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"zEDYoBvEvz16Gvf3YJd2rZaip3PY5KZYKJEvc6sZpNTkNViCDCE4RlMlz0awJQ7tODuyXtBZ7Q4YwB52C8Pw+w=="}
pid is 25253
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265' -e qishanqing@dafy.com -E '' -b $'20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170627-达芬奇首页'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170627-达芬奇首页'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170627-达芬奇首页'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170627-达芬奇首页'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265' -e qishanqing@dafy.com -E '' -b $'20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170627-达芬奇首页: command not found
++ for y in '$trunk'
++ echo $'20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265'
+ trunks=$'20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265'
+ test del = add
+ delbranch
+ '[' -z $'20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170801
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708011639
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170801-20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265/Develop/20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011639-20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265/Develop/20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265'
++ awk -F / '{print $7}'
+ br=$'20170801-20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265'
+ access=$'20170801-20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011639-20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.25253
+ echo $'https://192.168.0.220/svn/tech/Branch/20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170627-达芬奇首页%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170627-达芬奇首页%'\'';'
+ cat /tmp/cmdb.db.25253
+ rm -f /tmp/cmdb.db.25253
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.5ms)
  Rendered builder/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 865ms (Views: 89.9ms)


Completed 200 OK in 865ms (Views: 89.9ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:43:06 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:43:06 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.6ms)
  Rendered builder/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 190ms (Views: 187.8ms)


Completed 200 OK in 190ms (Views: 187.8ms)


Started POST "/start" for 192.168.5.26 at 2017-08-01 16:43:10 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-01 16:43:10 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170713-CDQSSit", "branch"=>"20170713-CDQSSit", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"yUd0AecSPoukKEbwN1Y+X7dnrsX0PlMbfV0biakSd4rhMvQj8Pe58I0XfkHn5EYfGf676PyDGE1NDCqMCcgjpQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170713-CDQSSit", "branch"=>"20170713-CDQSSit", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"yUd0AecSPoukKEbwN1Y+X7dnrsX0PlMbfV0biakSd4rhMvQj8Pe58I0XfkHn5EYfGf676PyDGE1NDCqMCcgjpQ=="}
pid is 25335
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t 20170713-CDQSSit -e qishanqing@dafy.com -E '' -b 20170713-CDQSSit -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170713-CDQSSit'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170713-CDQSSit'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170713-CDQSSit'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170713-CDQSSit'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t 20170713-CDQSSit -e qishanqing@dafy.com -E '' -b 20170713-CDQSSit -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=20170713-CDQSSit
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=20170713-CDQSSit
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ 20170713-CDQSSit
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170713-CDQSSit: command not found
++ for y in '$trunk'
++ echo 20170713-CDQSSit
+ trunks=20170713-CDQSSit
+ test del = add
+ delbranch
+ '[' -z 20170713-CDQSSit ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170801
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708011643
+ move_dir=Closed/--close+
+ Trunk_name=https://192.168.0.220/svn/tech/Trunk/20170713-CDQSSit
+ branch_name=https://192.168.0.220/svn/tech/Branch/20170801-20170713-CDQSSit/Develop/20170713-CDQSSit
+ source_name=https://192.168.0.220/svn/tech/Branch/20170713-CDQSSit
+ dest_name=https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011643-20170713-CDQSSit
++ echo https://192.168.0.220/svn/tech/Branch/20170801-20170713-CDQSSit/Develop/20170713-CDQSSit
++ awk -F / '{print $7}'
+ br=20170801-20170713-CDQSSit
+ access=20170801-20170713-CDQSSit
+ svn move https://192.168.0.220/svn/tech/Branch/20170713-CDQSSit https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011643-20170713-CDQSSit --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ die 'Svn branch delete the reasons for failure are as follows'
+ echo 'Svn branch delete the reasons for failure are as follows'
+ mails-cm -i 'svn branch create failed'
+ test -e /home/qishanqing/tmp/output.25335
+ echo
+ cat /home/qishanqing/tmp/output.25335
+ rm -rf /home/qishanqing/tmp/output.25335
+ kill 25335
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.9ms)
  Rendered builder/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 307ms (Views: 125.1ms)


Completed 200 OK in 307ms (Views: 125.1ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:43:21 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:43:21 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (5.6ms)
  Rendered builder/index.html.erb within layouts/application (5.6ms)
Completed 200 OK in 165ms (Views: 161.4ms)


Completed 200 OK in 165ms (Views: 161.4ms)


Started POST "/start" for 192.168.5.26 at 2017-08-01 16:44:20 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-01 16:44:20 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"liuxuxing@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/AntiFraudBusiness", "branch"=>"借款申请管理", "user"=>"liuxuxing huqiangsheng", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"nymcNhnDDrKyVfPsODYcZAyG0++knKrBPUUyemMZASi3XBwUDiaJyZtqy13ohGQkoh/Gwqwh4ZcNFAN/w8NVBw=="}
  Parameters: {"email"=>"liuxuxing@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/AntiFraudBusiness", "branch"=>"借款申请管理", "user"=>"liuxuxing huqiangsheng", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"nymcNhnDDrKyVfPsODYcZAyG0++knKrBPUUyemMZASi3XBwUDiaJyZtqy13ohGQkoh/Gwqwh4ZcNFAN/w8NVBw=="}
pid is 25366
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'liuxuxing huqiangsheng' -t '外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/AntiFraudBusiness' -e liuxuxing@dafy.com -E '' -b $'\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206' -T add -d ''
+ TEMP=' -u '\''liuxuxing huqiangsheng'\'' -t '\''外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/AntiFraudBusiness'\'' -e '\''liuxuxing@dafy.com'\'' -E '\'''\'' -b '\''借款申请管理'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''liuxuxing huqiangsheng'\'' -t '\''外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/AntiFraudBusiness'\'' -e '\''liuxuxing@dafy.com'\'' -E '\'''\'' -b '\''借款申请管理'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'liuxuxing huqiangsheng' -t '外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/AntiFraudBusiness' -e liuxuxing@dafy.com -E '' -b $'\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206' -T add -d '' --
+ true
+ case "$1" in
+ user='liuxuxing huqiangsheng'
+ shift 2
+ true
+ case "$1" in
+ trunk='外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/AntiFraudBusiness'
+ shift 2
+ true
+ case "$1" in
+ email=liuxuxing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=liuxuxing@dafy.com '
+ SMARTCM_EXTRA_MAIL='liuxuxing@dafy.com '
++ liuxuxing huqiangsheng
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: liuxuxing: command not found
++ for x in '$user'
++ echo liuxuxing=rw
++ for x in '$user'
++ echo huqiangsheng=rw
+ users='liuxuxing=rw
huqiangsheng=rw'
++ $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/AntiFraudBusiness'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 外部业务/P2P/Business/BorrowBusiness2: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/AntiFraudBusiness'
+ trunks='外部业务/P2P/Business/BorrowBusiness2
外部业务/P2P/Business/AntiFraudBusiness'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' ']'
+ '[' -z $'\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170801
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708011644
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011644-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ awk -F / '{print $7}'
+ br=$'20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206'
+ access=$'20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.25366
+ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BorrowBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170801-借款申请管理/Develop/外部业务/P2P/Business/BorrowBusiness2'\'',now(),'\''liuxuxing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BorrowBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170801-借款申请管理/Develop/外部业务/P2P/Business/BorrowBusiness2'\'',now(),'\''liuxuxing'\'');'
+ cat /tmp/cmdb.db.25366
+ rm -f /tmp/cmdb.db.25366
+ check-acces
+ grep -c '20170801-借款申请管理]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z 'liuxuxing=rw
+ cat
huqiangsheng=rw'
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/AntiFraudBusiness' ']'
+ '[' -z $'\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170801
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708011644
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/AntiFraudBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/AntiFraudBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011644-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/AntiFraudBusiness'
++ awk -F / '{print $7}'
+ br=$'20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206'
+ access=$'20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/AntiFraudBusiness' $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/AntiFraudBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.25366
+ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/AntiFraudBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/AntiFraudBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170801-借款申请管理/Develop/外部业务/P2P/Business/AntiFraudBusiness'\'',now(),'\''liuxuxing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/AntiFraudBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170801-借款申请管理/Develop/外部业务/P2P/Business/AntiFraudBusiness'\'',now(),'\''liuxuxing'\'');'
+ cat /tmp/cmdb.db.25366
+ rm -f /tmp/cmdb.db.25366
+ check-acces
+ grep -c '20170801-借款申请管理]' /mnt/svn/authz.conf
+ read num
+ '[' 1 -eq 0 ']'
++ sed '/20170801-借款申请管理]/,/^[ \t]*$/!d;/20170801-借款申请管理]/d;/^[ \t]*$/d' /mnt/svn/authz.conf
+ [[ liuxuxing=rw
huqiangsheng=rw
@admin=rw
*= =~ liuxuxing=rw
huqiangsheng=rw ]]
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.4ms)
  Rendered builder/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 5657ms (Views: 59.4ms)


Completed 200 OK in 5657ms (Views: 59.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:44:37 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:44:37 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.4ms)
  Rendered builder/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 63ms (Views: 59.6ms)


Completed 200 OK in 63ms (Views: 59.6ms)


Started POST "/start" for 192.168.5.26 at 2017-08-01 16:44:40 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-01 16:44:40 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170717-监控大屏", "branch"=>"20170717-监控大屏", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"0NfFOSAOCUpnHzoec+nlTVmSIUGBge6JeHYyxWj2B/74okUbN+uOMU4gAq+jW50N9ws0bIk8pd9IJwPAyCxT0Q=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170717-监控大屏", "branch"=>"20170717-监控大屏", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"0NfFOSAOCUpnHzoec+nlTVmSIUGBge6JeHYyxWj2B/74okUbN+uOMU4gAq+jW50N9ws0bIk8pd9IJwPAyCxT0Q=="}
pid is 25430
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170717-\347\233\221\346\216\247\345\244\247\345\261\217' -e qishanqing@dafy.com -E '' -b $'20170717-\347\233\221\346\216\247\345\244\247\345\261\217' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170717-监控大屏'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170717-监控大屏'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170717-监控大屏'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170717-监控大屏'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170717-\347\233\221\346\216\247\345\244\247\345\261\217' -e qishanqing@dafy.com -E '' -b $'20170717-\347\233\221\346\216\247\345\244\247\345\261\217' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170717-\347\233\221\346\216\247\345\244\247\345\261\217'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170717-\347\233\221\346\216\247\345\244\247\345\261\217'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170717-\347\233\221\346\216\247\345\244\247\345\261\217'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170717-监控大屏: command not found
++ for y in '$trunk'
++ echo $'20170717-\347\233\221\346\216\247\345\244\247\345\261\217'
+ trunks=$'20170717-\347\233\221\346\216\247\345\244\247\345\261\217'
+ test del = add
+ delbranch
+ '[' -z $'20170717-\347\233\221\346\216\247\345\244\247\345\261\217' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170801
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708011644
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170717-\347\233\221\346\216\247\345\244\247\345\261\217'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170801-20170717-\347\233\221\346\216\247\345\244\247\345\261\217/Develop/20170717-\347\233\221\346\216\247\345\244\247\345\261\217'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170717-\347\233\221\346\216\247\345\244\247\345\261\217'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011644-20170717-\347\233\221\346\216\247\345\244\247\345\261\217'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-20170717-\347\233\221\346\216\247\345\244\247\345\261\217/Develop/20170717-\347\233\221\346\216\247\345\244\247\345\261\217'
++ awk -F / '{print $7}'
+ br=$'20170801-20170717-\347\233\221\346\216\247\345\244\247\345\261\217'
+ access=$'20170801-20170717-\347\233\221\346\216\247\345\244\247\345\261\217'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170717-\347\233\221\346\216\247\345\244\247\345\261\217' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011644-20170717-\347\233\221\346\216\247\345\244\247\345\261\217' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.25430
+ echo $'https://192.168.0.220/svn/tech/Branch/20170717-\347\233\221\346\216\247\345\244\247\345\261\217'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170717-监控大屏%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170717-监控大屏%'\'';'
+ cat /tmp/cmdb.db.25430
+ rm -f /tmp/cmdb.db.25430
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.1ms)
  Rendered builder/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 1088ms (Views: 88.1ms)


Completed 200 OK in 1088ms (Views: 88.1ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:44:47 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:44:47 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.4ms)
  Rendered builder/index.html.erb within layouts/application (3.4ms)
Completed 200 OK in 73ms (Views: 69.7ms)


Completed 200 OK in 73ms (Views: 69.7ms)


Started POST "/start" for 192.168.5.26 at 2017-08-01 16:44:51 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-01 16:44:51 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170627-减去减免金额", "branch"=>"20170627-减去减免金额", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"VgAU36kWvv7bZ/y5y4GVIZs2/quxqpOe7hsPbHRAT3d+dZT9vvM5hfJYxAgbM+1hNa/rhrkX2MjeSj5p1JobWA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170627-减去减免金额", "branch"=>"20170627-减去减免金额", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"VgAU36kWvv7bZ/y5y4GVIZs2/quxqpOe7hsPbHRAT3d+dZT9vvM5hfJYxAgbM+1hNa/rhrkX2MjeSj5p1JobWA=="}
pid is 25466
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235' -e qishanqing@dafy.com -E '' -b $'20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170627-减去减免金额'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170627-减去减免金额'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170627-减去减免金额'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170627-减去减免金额'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235' -e qishanqing@dafy.com -E '' -b $'20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170627-减去减免金额: command not found
++ for y in '$trunk'
++ echo $'20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235'
+ trunks=$'20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235'
+ test del = add
+ delbranch
+ '[' -z $'20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170801
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708011644
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170801-20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235/Develop/20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011644-20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235/Develop/20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235'
++ awk -F / '{print $7}'
+ br=$'20170801-20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235'
+ access=$'20170801-20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011644-20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.25466
+ echo $'https://192.168.0.220/svn/tech/Branch/20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170627-减去减免金额%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170627-减去减免金额%'\'';'
+ cat /tmp/cmdb.db.25466
+ rm -f /tmp/cmdb.db.25466
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.4ms)
  Rendered builder/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 450ms (Views: 82.5ms)


Completed 200 OK in 450ms (Views: 82.5ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:45:18 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:45:18 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (18.0ms)
  Rendered builder/index.html.erb within layouts/application (18.0ms)
Completed 200 OK in 230ms (Views: 228.0ms)


Completed 200 OK in 230ms (Views: 228.0ms)


Started POST "/start" for 192.168.5.26 at 2017-08-01 16:45:21 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-01 16:45:21 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170714-boss协议修改", "branch"=>"20170714-boss协议修改", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"bDiVkZRbb9RZHYKDkSkOCRZhtxtvcd5vSYiaWAkb8dlETRWzg77or3AiujJBm3ZJuPiiNmfMlTl52atdqcGl9g=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170714-boss协议修改", "branch"=>"20170714-boss协议修改", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"bDiVkZRbb9RZHYKDkSkOCRZhtxtvcd5vSYiaWAkb8dlETRWzg77or3AiujJBm3ZJuPiiNmfMlTl52atdqcGl9g=="}
pid is 25566
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271' -e qishanqing@dafy.com -E '' -b $'20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170714-boss协议修改'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170714-boss协议修改'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170714-boss协议修改'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170714-boss协议修改'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271' -e qishanqing@dafy.com -E '' -b $'20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170714-boss协议修改: command not found
++ for y in '$trunk'
++ echo $'20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271'
+ trunks=$'20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271'
+ test del = add
+ delbranch
+ '[' -z $'20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170801
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708011645
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170801-20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011645-20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271'
++ awk -F / '{print $7}'
+ br=$'20170801-20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271'
+ access=$'20170801-20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011645-20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.25566
+ echo $'https://192.168.0.220/svn/tech/Branch/20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170714-boss协议修改%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170714-boss协议修改%'\'';'
+ cat /tmp/cmdb.db.25566
+ rm -f /tmp/cmdb.db.25566
+ mails-cm -i 'svnbranch-del from svn branch create web'
+ cat
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.0ms)
  Rendered builder/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3228ms (Views: 157.4ms)


Completed 200 OK in 3228ms (Views: 157.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:45:42 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:45:42 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.5ms)
  Rendered builder/index.html.erb within layouts/application (3.5ms)
Completed 200 OK in 57ms (Views: 55.3ms)


Completed 200 OK in 57ms (Views: 55.3ms)


Started POST "/start" for 192.168.5.26 at 2017-08-01 16:45:45 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-01 16:45:45 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170721-boss协议修改", "branch"=>"20170721-boss协议修改", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"vm3Ci2/NARpZBky8jfzuWwjL4xbr5EQY80wWUvG+LdSWGEKpeCiGYXA5dA1dTpYbplL2O+NZD07DHSdXUWR5+w=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170721-boss协议修改", "branch"=>"20170721-boss协议修改", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"vm3Ci2/NARpZBky8jfzuWwjL4xbr5EQY80wWUvG+LdSWGEKpeCiGYXA5dA1dTpYbplL2O+NZD07DHSdXUWR5+w=="}
pid is 25803
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271' -e qishanqing@dafy.com -E '' -b $'20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170721-boss协议修改'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170721-boss协议修改'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170721-boss协议修改'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170721-boss协议修改'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271' -e qishanqing@dafy.com -E '' -b $'20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170721-boss协议修改: command not found
++ for y in '$trunk'
++ echo $'20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271'
+ trunks=$'20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271'
+ test del = add
+ delbranch
+ '[' -z $'20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170801
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708011645
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170801-20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011645-20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271'
++ awk -F / '{print $7}'
+ br=$'20170801-20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271'
+ access=$'20170801-20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011645-20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.25803
+ echo $'https://192.168.0.220/svn/tech/Branch/20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170721-boss协议修改%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170721-boss协议修改%'\'';'
+ cat /tmp/cmdb.db.25803
+ rm -f /tmp/cmdb.db.25803
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 1343ms (Views: 139.4ms)


Completed 200 OK in 1343ms (Views: 139.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:46:58 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:46:58 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.0ms)
  Rendered builder/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 47ms (Views: 44.0ms)


Completed 200 OK in 47ms (Views: 44.0ms)


Started POST "/start" for 192.168.5.26 at 2017-08-01 16:47:02 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-01 16:47:02 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170726-页面访问修改", "branch"=>"20170726-页面访问修改", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"yEr4pOoPhgcVCSWBZtwo6/EFFqRLm/U4oPUYk+388hbgP3iG/eoBfDw2HTC2blCrX5wDiUMmvm6QpCmWTSamOQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170726-页面访问修改", "branch"=>"20170726-页面访问修改", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"yEr4pOoPhgcVCSWBZtwo6/EFFqRLm/U4oPUYk+388hbgP3iG/eoBfDw2HTC2blCrX5wDiUMmvm6QpCmWTSamOQ=="}
pid is 25869
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271' -e qishanqing@dafy.com -E '' -b $'20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170726-页面访问修改'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170726-页面访问修改'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170726-页面访问修改'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170726-页面访问修改'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271' -e qishanqing@dafy.com -E '' -b $'20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170726-页面访问修改: command not found
++ for y in '$trunk'
++ echo $'20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271'
+ trunks=$'20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271'
+ test del = add
+ delbranch
+ '[' -z $'20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170801
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708011647
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170801-20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271/Develop/20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011647-20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271/Develop/20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271'
++ awk -F / '{print $7}'
+ br=$'20170801-20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271'
+ access=$'20170801-20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011647-20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.25869
+ echo $'https://192.168.0.220/svn/tech/Branch/20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170726-页面访问修改%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170726-页面访问修改%'\'';'
+ cat /tmp/cmdb.db.25869
+ rm -f /tmp/cmdb.db.25869
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (0.8ms)
  Rendered builder/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 744ms (Views: 48.0ms)


Completed 200 OK in 744ms (Views: 48.0ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:47:15 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:47:15 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.8ms)
  Rendered builder/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 54ms (Views: 52.2ms)


Completed 200 OK in 54ms (Views: 52.2ms)


Started POST "/start" for 192.168.5.26 at 2017-08-01 16:47:19 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-01 16:47:19 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20160801-业务总线", "branch"=>"20160801-业务总线", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"ZJzqTviNnV3u/TKDv72NqAx66jrtR/BI1pZ+Hf8g8AdM6Wps72gaJsfCCjJvD/XoouP/F+X6ux7mx08YX/qkKA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20160801-业务总线", "branch"=>"20160801-业务总线", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"ZJzqTviNnV3u/TKDv72NqAx66jrtR/BI1pZ+Hf8g8AdM6Wps72gaJsfCCjJvD/XoouP/F+X6ux7mx08YX/qkKA=="}
pid is 25900
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20160801-\344\270\232\345\212\241\346\200\273\347\272\277' -e qishanqing@dafy.com -E '' -b $'20160801-\344\270\232\345\212\241\346\200\273\347\272\277' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20160801-业务总线'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20160801-业务总线'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20160801-业务总线'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20160801-业务总线'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20160801-\344\270\232\345\212\241\346\200\273\347\272\277' -e qishanqing@dafy.com -E '' -b $'20160801-\344\270\232\345\212\241\346\200\273\347\272\277' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20160801-\344\270\232\345\212\241\346\200\273\347\272\277'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20160801-\344\270\232\345\212\241\346\200\273\347\272\277'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20160801-\344\270\232\345\212\241\346\200\273\347\272\277'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20160801-业务总线: command not found
++ for y in '$trunk'
++ echo $'20160801-\344\270\232\345\212\241\346\200\273\347\272\277'
+ trunks=$'20160801-\344\270\232\345\212\241\346\200\273\347\272\277'
+ test del = add
+ delbranch
+ '[' -z $'20160801-\344\270\232\345\212\241\346\200\273\347\272\277' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170801
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708011647
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20160801-\344\270\232\345\212\241\346\200\273\347\272\277'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170801-20160801-\344\270\232\345\212\241\346\200\273\347\272\277/Develop/20160801-\344\270\232\345\212\241\346\200\273\347\272\277'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20160801-\344\270\232\345\212\241\346\200\273\347\272\277'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011647-20160801-\344\270\232\345\212\241\346\200\273\347\272\277'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-20160801-\344\270\232\345\212\241\346\200\273\347\272\277/Develop/20160801-\344\270\232\345\212\241\346\200\273\347\272\277'
++ awk -F / '{print $7}'
+ br=$'20170801-20160801-\344\270\232\345\212\241\346\200\273\347\272\277'
+ access=$'20170801-20160801-\344\270\232\345\212\241\346\200\273\347\272\277'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20160801-\344\270\232\345\212\241\346\200\273\347\272\277' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011647-20160801-\344\270\232\345\212\241\346\200\273\347\272\277' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.25900
+ echo $'https://192.168.0.220/svn/tech/Branch/20160801-\344\270\232\345\212\241\346\200\273\347\272\277'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20160801-业务总线%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20160801-业务总线%'\'';'
+ cat /tmp/cmdb.db.25900
+ rm -f /tmp/cmdb.db.25900
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.1ms)
  Rendered builder/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 3276ms (Views: 55.8ms)


Completed 200 OK in 3276ms (Views: 55.8ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:47:45 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:47:45 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.4ms)
  Rendered builder/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 42ms (Views: 40.5ms)


Completed 200 OK in 42ms (Views: 40.5ms)


Started POST "/start" for 192.168.5.26 at 2017-08-01 16:47:49 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-01 16:47:49 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170713-https", "branch"=>"20170713-https", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"5s1JZpNLizT4AJjktN4zjn4756qWmn2xEbdKeuer9W3OuMlEhK4MT9E/oFVkbEvO0KLyh54nNuch5nt/R3GhQg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170713-https", "branch"=>"20170713-https", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"5s1JZpNLizT4AJjktN4zjn4756qWmn2xEbdKeuer9W3OuMlEhK4MT9E/oFVkbEvO0KLyh54nNuch5nt/R3GhQg=="}
pid is 25995
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t 20170713-https -e qishanqing@dafy.com -E '' -b 20170713-https -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170713-https'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170713-https'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170713-https'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170713-https'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t 20170713-https -e qishanqing@dafy.com -E '' -b 20170713-https -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=20170713-https
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=20170713-https
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ 20170713-https
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170713-https: command not found
++ for y in '$trunk'
++ echo 20170713-https
+ trunks=20170713-https
+ test del = add
+ delbranch
+ '[' -z 20170713-https ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170801
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708011647
+ move_dir=Closed/--close+
+ Trunk_name=https://192.168.0.220/svn/tech/Trunk/20170713-https
+ branch_name=https://192.168.0.220/svn/tech/Branch/20170801-20170713-https/Develop/20170713-https
+ source_name=https://192.168.0.220/svn/tech/Branch/20170713-https
+ dest_name=https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011647-20170713-https
++ echo https://192.168.0.220/svn/tech/Branch/20170801-20170713-https/Develop/20170713-https
++ awk -F / '{print $7}'
+ br=20170801-20170713-https
+ access=20170801-20170713-https
+ svn move https://192.168.0.220/svn/tech/Branch/20170713-https https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011647-20170713-https --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.25995
+ echo https://192.168.0.220/svn/tech/Branch/20170713-https
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170713-https%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170713-https%'\'';'
+ cat /tmp/cmdb.db.25995
+ rm -f /tmp/cmdb.db.25995
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.5ms)
  Rendered builder/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 450ms (Views: 58.2ms)


Completed 200 OK in 450ms (Views: 58.2ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-01 17:12:40 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-01 17:12:40 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (10.9ms)
  Rendered builder/index.html.erb within layouts/application (10.9ms)
Completed 200 OK in 330ms (Views: 324.2ms)


Completed 200 OK in 330ms (Views: 324.2ms)


Started POST "/start" for 192.168.5.26 at 2017-08-01 17:13:42 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-01 17:13:42 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"renshibo@dafy.com", "types"=>"add", "trunk"=>"自如/后台服务管理/MobileWalletCenter", "branch"=>"配置文件新增服务", "user"=>"renshibo xupengyue", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"fFkzNfG/QA4e/Uqaum1/bV+6I5dcnVqGjrca6kNhzPRULLMX5lrHdTfCcitq3wct8SM2ulQgEdC+5ivv47uY2w=="}
  Parameters: {"email"=>"renshibo@dafy.com", "types"=>"add", "trunk"=>"自如/后台服务管理/MobileWalletCenter", "branch"=>"配置文件新增服务", "user"=>"renshibo xupengyue", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"fFkzNfG/QA4e/Uqaum1/bV+6I5dcnVqGjrca6kNhzPRULLMX5lrHdTfCcitq3wct8SM2ulQgEdC+5ivv47uY2w=="}
pid is 27262
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'renshibo xupengyue' -t $'\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter' -e renshibo@dafy.com -E '' -b $'\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241' -T add -d ''
+ TEMP=' -u '\''renshibo xupengyue'\'' -t '\''自如/后台服务管理/MobileWalletCenter'\'' -e '\''renshibo@dafy.com'\'' -E '\'''\'' -b '\''配置文件新增服务'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''renshibo xupengyue'\'' -t '\''自如/后台服务管理/MobileWalletCenter'\'' -e '\''renshibo@dafy.com'\'' -E '\'''\'' -b '\''配置文件新增服务'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'renshibo xupengyue' -t $'\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter' -e renshibo@dafy.com -E '' -b $'\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241' -T add -d '' --
+ true
+ case "$1" in
+ user='renshibo xupengyue'
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ shift 2
+ true
+ case "$1" in
+ email=renshibo@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=renshibo@dafy.com '
+ SMARTCM_EXTRA_MAIL='renshibo@dafy.com '
++ renshibo xupengyue
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: renshibo: command not found
++ for x in '$user'
++ echo renshibo=rw
++ for x in '$user'
++ echo xupengyue=rw
+ users='renshibo=rw
xupengyue=rw'
++ $'\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 自如/后台服务管理/MobileWalletCenter: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ trunks=$'\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter' ']'
+ '[' -z $'\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170801
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708011713
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011713-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
++ awk -F / '{print $7}'
+ br=$'20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241'
+ access=$'20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter' $'https://192.168.0.220/svn/tech/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.27262
+ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/自如/后台服务管理/MobileWalletCenter'\'', '\''https://192.168.0.220/svn/tech/Branch/20170801-配置文件新增服务/Develop/自如/后台服务管理/MobileWalletCenter'\'',now(),'\''renshibo'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/自如/后台服务管理/MobileWalletCenter'\'', '\''https://192.168.0.220/svn/tech/Branch/20170801-配置文件新增服务/Develop/自如/后台服务管理/MobileWalletCenter'\'',now(),'\''renshibo'\'');'
+ cat /tmp/cmdb.db.27262
+ rm -f /tmp/cmdb.db.27262
+ check-acces
+ grep -c '20170801-配置文件新增服务]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z 'renshibo=rw
+ cat
xupengyue=rw'
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (2.8ms)
  Rendered builder/new.html.erb within layouts/application (2.8ms)
Completed 200 OK in 5191ms (Views: 50.4ms)


Completed 200 OK in 5191ms (Views: 50.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-01 17:29:52 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-01 17:29:52 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.8ms)
  Rendered builder/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 51ms (Views: 45.3ms)


Completed 200 OK in 51ms (Views: 45.3ms)


Started POST "/start" for 192.168.5.26 at 2017-08-01 17:30:11 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-01 17:30:11 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"anliguo@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage", "branch"=>"达分期帐单不能还款", "user"=>"anliguo", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"AuH+Ayzqj6DvI1K+ONwIHb5sj3c7CujpwM0q1n8bkLUqlH4hOw8I28Ycag/obnBdEPWaWjO3o7/wnBvT38HEmg=="}
  Parameters: {"email"=>"anliguo@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage", "branch"=>"达分期帐单不能还款", "user"=>"anliguo", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"AuH+Ayzqj6DvI1K+ONwIHb5sj3c7CujpwM0q1n8bkLUqlH4hOw8I28Ycag/obnBdEPWaWjO3o7/wnBvT38HEmg=="}
pid is 27518
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u anliguo -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage' -e anliguo@dafy.com -E '' -b $'\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276' -T add -d ''
+ TEMP=' -u '\''anliguo'\'' -t '\''前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'' -e '\''anliguo@dafy.com'\'' -E '\'''\'' -b '\''达分期帐单不能还款'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''anliguo'\'' -t '\''前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'' -e '\''anliguo@dafy.com'\'' -E '\'''\'' -b '\''达分期帐单不能还款'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u anliguo -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage' -e anliguo@dafy.com -E '' -b $'\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276' -T add -d '' --
+ true
+ case "$1" in
+ user=anliguo
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ shift 2
+ true
+ case "$1" in
+ email=anliguo@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=anliguo@dafy.com '
+ SMARTCM_EXTRA_MAIL='anliguo@dafy.com '
++ anliguo
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: anliguo: command not found
++ for x in '$user'
++ echo anliguo=rw
+ users=anliguo=rw
++ $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ trunks=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage' ']'
+ '[' -z $'\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170801
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708011730
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170801-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011730-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
++ awk -F / '{print $7}'
+ br=$'20170801-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276'
+ access=$'20170801-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage' $'https://192.168.0.220/svn/tech/Branch/20170801-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.27518
+ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'', '\''https://192.168.0.220/svn/tech/Branch/20170801-达分期帐单不能还款/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'',now(),'\''anliguo'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'', '\''https://192.168.0.220/svn/tech/Branch/20170801-达分期帐单不能还款/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'',now(),'\''anliguo'\'');'
+ cat /tmp/cmdb.db.27518
+ rm -f /tmp/cmdb.db.27518
+ check-acces
+ grep -c '20170801-达分期帐单不能还款]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z anliguo=rw
+ cat
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 18185ms (Views: 41.3ms)


Completed 200 OK in 18185ms (Views: 41.3ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-02 09:38:35 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-02 09:38:35 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (86.8ms)
  Rendered builder/index.html.erb within layouts/application (86.8ms)
Completed 200 OK in 933ms (Views: 870.4ms)


Completed 200 OK in 933ms (Views: 870.4ms)


Started POST "/start" for 192.168.5.26 at 2017-08-02 09:40:16 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-02 09:40:16 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"分期商城/分期商城3.0/MallBuyerBusiness 分期商城/分期商城3.0/MallManager 分期商城/分期商城3.0/MallManageOrderBusiness", "branch"=>"订单取消", "user"=>"chenhongan houdi hexiangtao zhangruiqiang", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"UkyOeLuz/hk6YrH8th6RHleHdlfP25aQ0aR260/Pb4N6OQ5arFZ5YhNdiU1mrOle+R5jesdm3cbh9Ufu7xU7rA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"分期商城/分期商城3.0/MallBuyerBusiness 分期商城/分期商城3.0/MallManager 分期商城/分期商城3.0/MallManageOrderBusiness", "branch"=>"订单取消", "user"=>"chenhongan houdi hexiangtao zhangruiqiang", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"UkyOeLuz/hk6YrH8th6RHleHdlfP25aQ0aR260/Pb4N6OQ5arFZ5YhNdiU1mrOle+R5jesdm3cbh9Ufu7xU7rA=="}
pid is 9336
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'chenhongan houdi hexiangtao zhangruiqiang' -t '分期商城/分期商城3.0/MallBuyerBusiness 分期商城/分期商城3.0/MallManager 分期商城/分期商城3.0/MallManageOrderBusiness' -e qishanqing@dafy.com -E '' -b $'\350\256\242\345\215\225\345\217\226\346\266\210' -T add -d ''
+ TEMP=' -u '\''chenhongan houdi hexiangtao zhangruiqiang'\'' -t '\''分期商城/分期商城3.0/MallBuyerBusiness 分期商城/分期商城3.0/MallManager 分期商城/分期商城3.0/MallManageOrderBusiness'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''订单取消'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''chenhongan houdi hexiangtao zhangruiqiang'\'' -t '\''分期商城/分期商城3.0/MallBuyerBusiness 分期商城/分期商城3.0/MallManager 分期商城/分期商城3.0/MallManageOrderBusiness'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''订单取消'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'chenhongan houdi hexiangtao zhangruiqiang' -t '分期商城/分期商城3.0/MallBuyerBusiness 分期商城/分期商城3.0/MallManager 分期商城/分期商城3.0/MallManageOrderBusiness' -e qishanqing@dafy.com -E '' -b $'\350\256\242\345\215\225\345\217\226\346\266\210' -T add -d '' --
+ true
+ case "$1" in
+ user='chenhongan houdi hexiangtao zhangruiqiang'
+ shift 2
+ true
+ case "$1" in
+ trunk='分期商城/分期商城3.0/MallBuyerBusiness 分期商城/分期商城3.0/MallManager 分期商城/分期商城3.0/MallManageOrderBusiness'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\350\256\242\345\215\225\345\217\226\346\266\210'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
++ chenhongan houdi hexiangtao zhangruiqiang
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: chenhongan: command not found
++ for x in '$user'
++ echo chenhongan=rw
++ for x in '$user'
++ echo houdi=rw
++ for x in '$user'
++ echo hexiangtao=rw
++ for x in '$user'
++ echo zhangruiqiang=rw
+ users='chenhongan=rw
houdi=rw
hexiangtao=rw
zhangruiqiang=rw'
++ $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness' $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 分期商城/分期商城3.0/MallBuyerBusiness: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
++ for y in '$trunk'
++ echo $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ for y in '$trunk'
++ echo $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ trunks='分期商城/分期商城3.0/MallBuyerBusiness
分期商城/分期商城3.0/MallManager
分期商城/分期商城3.0/MallManageOrderBusiness'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness' ']'
+ '[' -z $'\350\256\242\345\215\225\345\217\226\346\266\210' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170802
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708020940
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\350\256\242\345\215\225\345\217\226\346\266\210'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708020940-\350\256\242\345\215\225\345\217\226\346\266\210'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
++ awk -F / '{print $7}'
+ br=$'20170802-\350\256\242\345\215\225\345\217\226\346\266\210'
+ access=$'20170802-\350\256\242\345\215\225\345\217\226\346\266\210'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.9336
+ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallBuyerBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallBuyerBusiness'\'',now(),'\''qishanqing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallBuyerBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallBuyerBusiness'\'',now(),'\''qishanqing'\'');'
+ cat /tmp/cmdb.db.9336
+ rm -f /tmp/cmdb.db.9336
+ check-acces
+ grep -c '20170802-订单取消]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z 'chenhongan=rw
houdi=rw
hexiangtao=rw
zhangruiqiang=rw'
+ cat
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' ']'
+ '[' -z $'\350\256\242\345\215\225\345\217\226\346\266\210' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170802
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708020940
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\350\256\242\345\215\225\345\217\226\346\266\210'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708020940-\350\256\242\345\215\225\345\217\226\346\266\210'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F / '{print $7}'
+ br=$'20170802-\350\256\242\345\215\225\345\217\226\346\266\210'
+ access=$'20170802-\350\256\242\345\215\225\345\217\226\346\266\210'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.9336
+ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallManager'\'', '\''https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManager'\'',now(),'\''qishanqing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallManager'\'', '\''https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManager'\'',now(),'\''qishanqing'\'');'
+ cat /tmp/cmdb.db.9336
+ rm -f /tmp/cmdb.db.9336
+ check-acces
+ grep -c '20170802-订单取消]' /mnt/svn/authz.conf
+ read num
+ '[' 1 -eq 0 ']'
++ sed '/20170802-订单取消]/,/^[ \t]*$/!d;/20170802-订单取消]/d;/^[ \t]*$/d' /mnt/svn/authz.conf
+ [[ chenhongan=rw
houdi=rw
hexiangtao=rw
zhangruiqiang=rw
@admin=rw
*= =~ chenhongan=rw
houdi=rw
hexiangtao=rw
zhangruiqiang=rw ]]
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness' ']'
+ '[' -z $'\350\256\242\345\215\225\345\217\226\346\266\210' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170802
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708020940
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\350\256\242\345\215\225\345\217\226\346\266\210'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708020940-\350\256\242\345\215\225\345\217\226\346\266\210'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
++ awk -F / '{print $7}'
+ br=$'20170802-\350\256\242\345\215\225\345\217\226\346\266\210'
+ access=$'20170802-\350\256\242\345\215\225\345\217\226\346\266\210'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.9336
+ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallManageOrderBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManageOrderBusiness'\'',now(),'\''qishanqing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallManageOrderBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManageOrderBusiness'\'',now(),'\''qishanqing'\'');'
+ cat /tmp/cmdb.db.9336
+ rm -f /tmp/cmdb.db.9336
+ check-acces
+ grep -c '20170802-订单取消]' /mnt/svn/authz.conf
+ read num
+ '[' 1 -eq 0 ']'
++ sed '/20170802-订单取消]/,/^[ \t]*$/!d;/20170802-订单取消]/d;/^[ \t]*$/d' /mnt/svn/authz.conf
+ [[ chenhongan=rw
houdi=rw
hexiangtao=rw
zhangruiqiang=rw
@admin=rw
*= =~ chenhongan=rw
houdi=rw
hexiangtao=rw
zhangruiqiang=rw ]]
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.0ms)
  Rendered builder/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 18355ms (Views: 34.8ms)


Completed 200 OK in 18355ms (Views: 34.8ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-02 09:56:54 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-02 09:56:54 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.9ms)
  Rendered builder/index.html.erb within layouts/application (3.9ms)
Completed 200 OK in 77ms (Views: 73.5ms)


Completed 200 OK in 77ms (Views: 73.5ms)


Started POST "/start" for 192.168.5.26 at 2017-08-02 09:57:45 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-02 09:57:45 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"anliguo@dafy.com", "types"=>"add", "trunk"=>"事事分期/StageAll", "branch"=>"达分期团购2期 ", "user"=>"@Tech-anliguo", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"tQUHCiDigI9PMs9kHASHOrWbwHhAX/BjFRGQnw3nECqdcIcoNwcH9GYN99XMtv96GwLVVUjiuzUlQKGarT1EBQ=="}
  Parameters: {"email"=>"anliguo@dafy.com", "types"=>"add", "trunk"=>"事事分期/StageAll", "branch"=>"达分期团购2期 ", "user"=>"@Tech-anliguo", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"tQUHCiDigI9PMs9kHASHOrWbwHhAX/BjFRGQnw3nECqdcIcoNwcH9GYN99XMtv96GwLVVUjiuzUlQKGarT1EBQ=="}
pid is 9623
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u @Tech-anliguo -t $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll' -e anliguo@dafy.com -E '' -b '达分期团购2期 ' -T add -d ''
+ TEMP=' -u '\''@Tech-anliguo'\'' -t '\''事事分期/StageAll'\'' -e '\''anliguo@dafy.com'\'' -E '\'''\'' -b '\''达分期团购2期 '\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''@Tech-anliguo'\'' -t '\''事事分期/StageAll'\'' -e '\''anliguo@dafy.com'\'' -E '\'''\'' -b '\''达分期团购2期 '\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u @Tech-anliguo -t $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll' -e anliguo@dafy.com -E '' -b '达分期团购2期 ' -T add -d '' --
+ true
+ case "$1" in
+ user=@Tech-anliguo
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
+ shift 2
+ true
+ case "$1" in
+ email=anliguo@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='达分期团购2期 '
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=anliguo@dafy.com '
+ SMARTCM_EXTRA_MAIL='anliguo@dafy.com '
++ @Tech-anliguo
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: @Tech-anliguo: command not found
++ for x in '$user'
++ echo @Tech-anliguo=rw
+ users=@Tech-anliguo=rw
++ $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 事事分期/StageAll: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
+ trunks=$'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll' ']'
+ '[' -z $'\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170802
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708020957
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
+ branch_name='https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期 /Develop/事事分期/StageAll'
+ source_name='https://192.168.0.220/svn/tech/Branch/达分期团购2期 '
+ dest_name='https://192.168.0.220/svn/tech/Branch/Closed/--close+201708020957-达分期团购2期 '
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237' $'/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
++ awk -F / '{print $7}'
+ br='20170802-达分期团购2期 '
+ access='20170802-达分期团购2期 '
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237' $'/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ die 'Svn branch create the reasons for failure are as follows'
+ echo 'Svn branch create the reasons for failure are as follows'
+ mails-cm -i 'svn branch create failed'
+ test -e /home/qishanqing/tmp/output.9623
+ echo
+ cat /home/qishanqing/tmp/output.9623
+ rm -rf /home/qishanqing/tmp/output.9623
+ kill 9623
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.4ms)
  Rendered builder/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 270ms (Views: 83.0ms)


Completed 200 OK in 270ms (Views: 83.0ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-02 09:58:29 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-02 09:58:29 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.2ms)
  Rendered builder/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 75ms (Views: 72.6ms)


Completed 200 OK in 75ms (Views: 72.6ms)


Started POST "/start" for 192.168.5.26 at 2017-08-02 09:58:57 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-02 09:58:57 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"事事分期/StageAll", "branch"=>"达分期团购2期 ", "user"=>"@Tech-anliguo", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"S0qgQbCDBRpBq2ZXNIE5BgJO0r4Zeg3OECA+bd3r0fFjPyBjp2aCYWiUXubkM0FGrNfHkxHHRpggcQ9ofTGF3g=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"事事分期/StageAll", "branch"=>"达分期团购2期 ", "user"=>"@Tech-anliguo", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"S0qgQbCDBRpBq2ZXNIE5BgJO0r4Zeg3OECA+bd3r0fFjPyBjp2aCYWiUXubkM0FGrNfHkxHHRpggcQ9ofTGF3g=="}
pid is 9686
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u @Tech-anliguo -t $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll' -e qishanqing@dafy.com -E '' -b '达分期团购2期 ' -T add -d ''
+ TEMP=' -u '\''@Tech-anliguo'\'' -t '\''事事分期/StageAll'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''达分期团购2期 '\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''@Tech-anliguo'\'' -t '\''事事分期/StageAll'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''达分期团购2期 '\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u @Tech-anliguo -t $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll' -e qishanqing@dafy.com -E '' -b '达分期团购2期 ' -T add -d '' --
+ true
+ case "$1" in
+ user=@Tech-anliguo
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='达分期团购2期 '
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
++ @Tech-anliguo
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: @Tech-anliguo: command not found
++ for x in '$user'
++ echo @Tech-anliguo=rw
+ users=@Tech-anliguo=rw
++ $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 事事分期/StageAll: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
+ trunks=$'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll' ']'
+ '[' -z $'\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170802
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708020958
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
+ branch_name='https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期 /Develop/事事分期/StageAll'
+ source_name='https://192.168.0.220/svn/tech/Branch/达分期团购2期 '
+ dest_name='https://192.168.0.220/svn/tech/Branch/Closed/--close+201708020958-达分期团购2期 '
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237' $'/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
++ awk -F / '{print $7}'
+ br='20170802-达分期团购2期 '
+ access='20170802-达分期团购2期 '
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237' $'/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ die 'Svn branch create the reasons for failure are as follows'
+ echo 'Svn branch create the reasons for failure are as follows'
+ mails-cm -i 'svn branch create failed'
+ test -e /home/qishanqing/tmp/output.9686
+ echo
+ cat /home/qishanqing/tmp/output.9686
+ rm -rf /home/qishanqing/tmp/output.9686
+ kill 9686
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.0ms)
  Rendered builder/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 125ms (Views: 88.4ms)


Completed 200 OK in 125ms (Views: 88.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-02 10:01:26 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-02 10:01:26 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.3ms)
  Rendered builder/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 50ms (Views: 48.3ms)


Completed 200 OK in 50ms (Views: 48.3ms)


Started POST "/start" for 192.168.5.26 at 2017-08-02 10:01:51 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-02 10:01:51 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"事事分期/StageAll", "branch"=>"达分期团购2期", "user"=>"@Tech-anliguo", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"Lbd+FrQzkNdHyIJxFFR/m3sXT74UAknNZioFcY1caVsFwv40o9YXrG73usDE5gfb1Y5akxy/AptWezR0LYY9dA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"事事分期/StageAll", "branch"=>"达分期团购2期", "user"=>"@Tech-anliguo", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"Lbd+FrQzkNdHyIJxFFR/m3sXT74UAknNZioFcY1caVsFwv40o9YXrG73usDE5gfb1Y5akxy/AptWezR0LYY9dA=="}
pid is 9905
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u @Tech-anliguo -t $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll' -e qishanqing@dafy.com -E '' -b $'\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237' -T add -d ''
+ TEMP=' -u '\''@Tech-anliguo'\'' -t '\''事事分期/StageAll'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''达分期团购2期'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''@Tech-anliguo'\'' -t '\''事事分期/StageAll'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''达分期团购2期'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u @Tech-anliguo -t $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll' -e qishanqing@dafy.com -E '' -b $'\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237' -T add -d '' --
+ true
+ case "$1" in
+ user=@Tech-anliguo
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
++ @Tech-anliguo
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: @Tech-anliguo: command not found
++ for x in '$user'
++ echo @Tech-anliguo=rw
+ users=@Tech-anliguo=rw
++ $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 事事分期/StageAll: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
+ trunks=$'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll' ']'
+ '[' -z $'\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170802
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708021001
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708021001-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
++ awk -F / '{print $7}'
+ br=$'20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237'
+ access=$'20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.9905
+ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/事事分期/StageAll'\'', '\''https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll'\'',now(),'\''qishanqing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/事事分期/StageAll'\'', '\''https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll'\'',now(),'\''qishanqing'\'');'
+ cat /tmp/cmdb.db.9905
+ rm -f /tmp/cmdb.db.9905
+ check-acces
+ grep -c '20170802-达分期团购2期]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z @Tech-anliguo=rw
+ cat
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.4ms)
  Rendered builder/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 4608ms (Views: 55.7ms)


Completed 200 OK in 4608ms (Views: 55.7ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-02 10:17:26 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-02 10:17:26 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170616-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42772.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"Y3fzb6AZJo4KAYpjfmI/agZRx2ZgwT9p69bcIxN7KK5LAnNNt/yh9SM+stKu0EcqqMjSS2h8dD/bh+0ms6F8gQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170616-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42772.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"Y3fzb6AZJo4KAYpjfmI/agZRx2ZgwT9p69bcIxN7KK5LAnNNt/yh9SM+stKu0EcqqMjSS2h8dD/bh+0ms6F8gQ=="}
pid is 10096
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42772.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42772.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170616-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42772.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170616-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42772.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42772.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170616-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.10096
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ mails-cm -i 'code merged from Branch/20170616-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r132929 '
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ head='r133126 '
+ '[' '!' -z r132929 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness@r132929' $'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness@r132929' $'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42772.html
Merged revision(s) r132929 -r133126   from Branch/20170616-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (2.1ms)
  Rendered merge/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 166764ms (Views: 100.1ms)


Completed 200 OK in 166764ms (Views: 100.1ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-02 10:21:25 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-02 10:21:25 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (11.9ms)
  Rendered builder/index.html.erb within layouts/application (11.9ms)
Completed 200 OK in 127ms (Views: 122.1ms)


Completed 200 OK in 127ms (Views: 122.1ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-02 10:21:28 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-02 10:21:28 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.1ms)
  Rendered merge/index.html.erb within layouts/application (3.1ms)
Completed 200 OK in 106ms (Views: 86.4ms)


Completed 200 OK in 106ms (Views: 86.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-02 10:21:39 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-02 10:21:39 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170801-达分期帐单不能还款/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage", "task"=>"http://192.168.0.221/zentao/task-view-42874.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"9mO9pA115H29etVo9PPkiYa4MugSNSE5r8CXfZsAOu7eFj2GGpBjBpRF7dkkQZzJKCEnxRqIam+fkaZ4O9puwQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170801-达分期帐单不能还款/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage", "task"=>"http://192.168.0.221/zentao/task-view-42874.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"9mO9pA115H29etVo9PPkiYa4MugSNSE5r8CXfZsAOu7eFj2GGpBjBpRF7dkkQZzJKCEnxRqIam+fkaZ4O9puwQ=="}
pid is 10171
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42874.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170801-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42874.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170801-达分期帐单不能还款/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42874.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170801-达分期帐单不能还款/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42874.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170801-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42874.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170801-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170801-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170801-达分期帐单不能还款/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170801-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170801-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ rm -f /home/qishanqing/tmp/merged/output.10171
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170801-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ mails-cm -i 'code merged from Branch/20170801-达分期帐单不能还款/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep -C 3 $'Branch/20170801-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170801-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r133042 '
+ '[' '!' -z ']'
++ tail -n 4
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170801-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ revision='r133006 '
+ '[' '!' -z r133006 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170801-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage@r133006' $'https://192.168.0.220/svn/tech/Branch/20170801-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170801-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage@r133006' $'https://192.168.0.220/svn/tech/Branch/20170801-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42874.html
Merged revision(s) r133006 -r133042   from Branch/20170801-达分期帐单不能还款/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage' --username qishanqing --password q372232
Started POST "/start" for 192.168.5.26 at 2017-08-02 10:22:31 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-02 10:22:31 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170616-达分期转分期", "branch"=>"20170616-达分期转分期", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"0lhxGUKIYlRWASFof5CXJ7JN/JMifBuKXaAJTPAKjBz6LfE7VW3lL38+GdmvIu9nHNTpvirBUNxt8ThJUNDYMw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170616-达分期转分期", "branch"=>"20170616-达分期转分期", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"0lhxGUKIYlRWASFof5CXJ7JN/JMifBuKXaAJTPAKjBz6LfE7VW3lL38+GdmvIu9nHNTpvirBUNxt8ThJUNDYMw=="}
pid is 10230
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237' -e qishanqing@dafy.com -E '' -b $'20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170616-达分期转分期'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170616-达分期转分期'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170616-达分期转分期'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170616-达分期转分期'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237' -e qishanqing@dafy.com -E '' -b $'20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170616-达分期转分期: command not found
++ for y in '$trunk'
++ echo $'20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ trunks=$'20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ test del = add
+ delbranch
+ '[' -z $'20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170802
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708021022
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170802-20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708021022-20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
++ awk -F / '{print $7}'
+ br=$'20170802-20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ access=$'20170802-20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708021022-20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.8ms)
  Rendered merge/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 68862ms (Views: 51.2ms)


Completed 200 OK in 68862ms (Views: 51.2ms)


+ rm -f /home/qishanqing/tmp/output.10230
+ echo $'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170616-达分期转分期%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170616-达分期转分期%'\'';'
+ cat /tmp/cmdb.db.10230
+ rm -f /tmp/cmdb.db.10230
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.4ms)
  Rendered builder/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 23163ms (Views: 48.5ms)


Completed 200 OK in 23163ms (Views: 48.5ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-02 10:24:31 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-02 10:24:31 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (2.9ms)
  Rendered merge/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 58ms (Views: 56.6ms)


Completed 200 OK in 58ms (Views: 56.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-02 10:24:38 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-02 10:24:38 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37", "task"=>"http://192.168.0.221/zentao/task-view-42855.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"G1jbXclT7pNIlhaDXkW0nvbET52yFznarjBc4nFZcRIzLVt/3rZp6GGpLjKO98zeWF1asLqqcoyeYW3n0YMlPQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37", "task"=>"http://192.168.0.221/zentao/task-view-42855.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"G1jbXclT7pNIlhaDXkW0nvbET52yFznarjBc4nFZcRIzLVt/3rZp6GGpLjKO98zeWF1asLqqcoyeYW3n0YMlPQ=="}
pid is 10276
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42855.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42855.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42855.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42855.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42855.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ rm -f /home/qishanqing/tmp/merged/output.10276
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
++ awk -F '|' '{print$1}'
+ revision=
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
++ awk -F '|' '{print$1}'
+ head='r132632 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r119113 '
+ '[' '!' -z r119113 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37@r119113' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37' .
+ st='  树冲突：9'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2329' ']'
+ die 'Svn merged conflicts the r119113 -r132632  from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r119113 -r132632  from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37'
+ test -e /home/qishanqing/tmp/merged/output.10276
+ rm -f /home/qishanqing/tmp/merged/output.10276
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42855.html
Merged revision(s) r119113 -r132632   from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.9ms)
  Rendered merge/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 274505ms (Views: 45.4ms)


Completed 200 OK in 274505ms (Views: 45.4ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-02 10:32:03 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-02 10:32:03 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (5.3ms)
  Rendered merge/index.html.erb within layouts/application (5.3ms)
Completed 200 OK in 108ms (Views: 102.6ms)


Completed 200 OK in 108ms (Views: 102.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-02 10:32:13 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-02 10:32:13 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170801-返回登陆bug/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-42868.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"/hDNG3n6T6tl9dRXd72teNFuI7WXFEG1kpyOadQXKyjWZU05bh/I0EzK7OanD9U4f/c2mJ+pCuOizb9sdM1/Bw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170801-返回登陆bug/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-42868.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"/hDNG3n6T6tl9dRXd72teNFuI7WXFEG1kpyOadQXKyjWZU05bh/I0EzK7OanD9U4f/c2mJ+pCuOizb9sdM1/Bw=="}
pid is 10403
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42868.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42868.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170801-返回登陆bug/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42868.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170801-返回登陆bug/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42868.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42868.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170801-返回登陆bug/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ rm -f /home/qishanqing/tmp/merged/output.10403
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170801-返回登陆bug/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r133122 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r132810 '
+ '[' '!' -z r132810 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r132810' $'https://192.168.0.220/svn/tech/Branch/20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' .
+ st='  树冲突：43'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\23243' ']'
+ die 'Svn merged conflicts the r132810 -r133122  from Branch/20170801-返回登陆bug/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r132810 -r133122  from Branch/20170801-返回登陆bug/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ test -e /home/qishanqing/tmp/merged/output.10403
+ rm -f /home/qishanqing/tmp/merged/output.10403
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42868.html
Merged revision(s) r132810 -r133122   from Branch/20170801-返回登陆bug/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.3ms)
  Rendered merge/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 605925ms (Views: 53.4ms)


Completed 200 OK in 605925ms (Views: 53.4ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-02 10:50:22 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-02 10:50:22 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (17.3ms)
  Rendered merge/index.html.erb within layouts/application (17.3ms)
Completed 200 OK in 167ms (Views: 163.1ms)


Completed 200 OK in 167ms (Views: 163.1ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-02 10:50:24 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-02 10:50:24 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.4ms)
  Rendered builder/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 50ms (Views: 48.1ms)


Completed 200 OK in 50ms (Views: 48.1ms)


Started POST "/start" for 192.168.5.26 at 2017-08-02 10:50:28 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-02 10:50:28 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170801-返回登陆bug", "branch"=>"20170801-返回登陆bug", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"YP0hMxPwDG6MaMMhfV27+HWWJ+BVHbhJlFuqKsxB/exIiKERBBWLFaVX+5Ct78O42w8yzV2g8x+kCpsvbJupww=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170801-返回登陆bug", "branch"=>"20170801-返回登陆bug", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"YP0hMxPwDG6MaMMhfV27+HWWJ+BVHbhJlFuqKsxB/exIiKERBBWLFaVX+5Ct78O42w8yzV2g8x+kCpsvbJupww=="}
pid is 10702
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug' -e qishanqing@dafy.com -E '' -b $'20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170801-返回登陆bug'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170801-返回登陆bug'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170801-返回登陆bug'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170801-返回登陆bug'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug' -e qishanqing@dafy.com -E '' -b $'20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170801-返回登陆bug: command not found
++ for y in '$trunk'
++ echo $'20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug'
+ trunks=$'20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug'
+ test del = add
+ delbranch
+ '[' -z $'20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170802
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708021050
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170802-20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug/Develop/20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708021050-20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug/Develop/20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug'
++ awk -F / '{print $7}'
+ br=$'20170802-20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug'
+ access=$'20170802-20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708021050-20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.10702
+ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170801-返回登陆bug%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170801-返回登陆bug%'\'';'
+ cat /tmp/cmdb.db.10702
+ rm -f /tmp/cmdb.db.10702
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 17762ms (Views: 72.2ms)


Completed 200 OK in 17762ms (Views: 72.2ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-02 11:11:55 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-02 11:11:55 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.9ms)
  Rendered builder/index.html.erb within layouts/application (4.9ms)
Completed 200 OK in 61ms (Views: 58.1ms)


Completed 200 OK in 61ms (Views: 58.1ms)


Started POST "/start" for 192.168.5.26 at 2017-08-02 11:12:44 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-02 11:12:44 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"wanghaitao@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "branch"=>"商城订单功能改造", "user"=>"wangxia  wanghaitao yiwangcheng", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"YpZGQ0FtUyHvvMgiUjFXvfH6zBhHmdpjJFImE4ADNC5K48ZhVojUWsaD8JOCgy/9X2PZNU8kkTUUAxcWINlgAQ=="}
  Parameters: {"email"=>"wanghaitao@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "branch"=>"商城订单功能改造", "user"=>"wangxia  wanghaitao yiwangcheng", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"YpZGQ0FtUyHvvMgiUjFXvfH6zBhHmdpjJFImE4ADNC5K48ZhVojUWsaD8JOCgy/9X2PZNU8kkTUUAxcWINlgAQ=="}
pid is 11526
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'wangxia  wanghaitao yiwangcheng' -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -e wanghaitao@dafy.com -E '' -b $'\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240' -T add -d ''
+ TEMP=' -u '\''wangxia  wanghaitao yiwangcheng'\'' -t '\''前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -e '\''wanghaitao@dafy.com'\'' -E '\'''\'' -b '\''商城订单功能改造'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''wangxia  wanghaitao yiwangcheng'\'' -t '\''前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -e '\''wanghaitao@dafy.com'\'' -E '\'''\'' -b '\''商城订单功能改造'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'wangxia  wanghaitao yiwangcheng' -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -e wanghaitao@dafy.com -E '' -b $'\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240' -T add -d '' --
+ true
+ case "$1" in
+ user='wangxia  wanghaitao yiwangcheng'
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ shift 2
+ true
+ case "$1" in
+ email=wanghaitao@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=wanghaitao@dafy.com '
+ SMARTCM_EXTRA_MAIL='wanghaitao@dafy.com '
++ wangxia wanghaitao yiwangcheng
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: wangxia: command not found
++ for x in '$user'
++ echo wangxia=rw
++ for x in '$user'
++ echo wanghaitao=rw
++ for x in '$user'
++ echo yiwangcheng=rw
+ users='wangxia=rw
wanghaitao=rw
yiwangcheng=rw'
++ $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ trunks=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' ']'
+ '[' -z $'\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170802
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708021112
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708021112-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F / '{print $7}'
+ br=$'20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240'
+ access=$'20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.11526
+ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'', '\''https://192.168.0.220/svn/tech/Branch/20170802-商城订单功能改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'',now(),'\''wanghaitao'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'', '\''https://192.168.0.220/svn/tech/Branch/20170802-商城订单功能改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'',now(),'\''wanghaitao'\'');'
+ cat /tmp/cmdb.db.11526
+ rm -f /tmp/cmdb.db.11526
+ check-acces
+ grep -c '20170802-商城订单功能改造]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z 'wangxia=rw
wanghaitao=rw
yiwangcheng=rw'
+ cat
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.4ms)
  Rendered builder/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 5623ms (Views: 76.5ms)


Completed 200 OK in 5623ms (Views: 76.5ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-02 13:38:42 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-02 13:38:42 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.2ms)
  Rendered builder/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 935ms (Views: 820.4ms)


Completed 200 OK in 935ms (Views: 820.4ms)


Started POST "/start" for 192.168.5.26 at 2017-08-02 13:39:19 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-02 13:39:19 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"wule@dafy.com", "types"=>"add", "trunk"=>"分期商城/分期商城3.0/MallRefundBusiness", "branch"=>"采购管理SKU管理优化", "user"=>"", "extra_mails"=>"", "riqi"=>"20170727", "authenticity_token"=>"KU0zJe18H+e9TK9eZRNt3668IyAB3k4we87P5SkhXhoBOLMH+pmYnJRzl++1oRWfACU2DQljBWZLn/7gifsKNQ=="}
  Parameters: {"email"=>"wule@dafy.com", "types"=>"add", "trunk"=>"分期商城/分期商城3.0/MallRefundBusiness", "branch"=>"采购管理SKU管理优化", "user"=>"", "extra_mails"=>"", "riqi"=>"20170727", "authenticity_token"=>"KU0zJe18H+e9TK9eZRNt3668IyAB3k4we87P5SkhXhoBOLMH+pmYnJRzl++1oRWfACU2DQljBWZLn/7gifsKNQ=="}
pid is 14521
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness' -e wule@dafy.com -E '' -b $'\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226' -T add -d 20170727
+ TEMP=' -u '\'''\'' -t '\''分期商城/分期商城3.0/MallRefundBusiness'\'' -e '\''wule@dafy.com'\'' -E '\'''\'' -b '\''采购管理SKU管理优化'\'' -T '\''add'\'' -d '\''20170727'\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''分期商城/分期商城3.0/MallRefundBusiness'\'' -e '\''wule@dafy.com'\'' -E '\'''\'' -b '\''采购管理SKU管理优化'\'' -T '\''add'\'' -d '\''20170727'\'' --'
++ set -- -u '' -t $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness' -e wule@dafy.com -E '' -b $'\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226' -T add -d 20170727 --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ shift 2
+ true
+ case "$1" in
+ email=wule@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=20170727
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=wule@dafy.com '
+ SMARTCM_EXTRA_MAIL='wule@dafy.com '
+ users=
++ $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 分期商城/分期商城3.0/MallRefundBusiness: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ trunks=$'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness' ']'
+ '[' -z $'\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170802
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708021339
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708021339-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
++ awk -F / '{print $7}'
+ br=$'20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226'
+ access=$'20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness' $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.14521
+ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallRefundBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallRefundBusiness'\'',now(),'\''wule'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallRefundBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallRefundBusiness'\'',now(),'\''wule'\'');'
+ cat /tmp/cmdb.db.14521
+ rm -f /tmp/cmdb.db.14521
+ check-acces
+ grep -c '20170727-采购管理SKU管理优化]' /mnt/svn/authz.conf
+ read num
+ '[' 1 -eq 0 ']'
++ sed '/20170727-采购管理SKU管理优化]/,/^[ \t]*$/!d;/20170727-采购管理SKU管理优化]/d;/^[ \t]*$/d' /mnt/svn/authz.conf
+ [[ sunyuanjian=rw
wule=rw
@admin=rw
*= =~ '' ]]
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.6ms)
  Rendered builder/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 5603ms (Views: 69.7ms)


Completed 200 OK in 5603ms (Views: 69.7ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-02 13:54:08 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-02 13:54:08 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.5ms)
  Rendered builder/index.html.erb within layouts/application (4.5ms)
Completed 200 OK in 100ms (Views: 95.9ms)


Completed 200 OK in 100ms (Views: 95.9ms)


Started POST "/start" for 192.168.5.26 at 2017-08-02 13:55:12 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-02 13:55:12 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"xupengyue@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "branch"=>"云贷2.0登录改造", "user"=>"@Tech-chenhangzheng", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"9tuDGpHswTHUWx5vJmWiARdzw+204unsU2KQ+10V0ebergM4hglGSv1kJt7219pBuerWwLxforpjM6H+/c+FyQ=="}
  Parameters: {"email"=>"xupengyue@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "branch"=>"云贷2.0登录改造", "user"=>"@Tech-chenhangzheng", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"9tuDGpHswTHUWx5vJmWiARdzw+204unsU2KQ+10V0ebergM4hglGSv1kJt7219pBuerWwLxforpjM6H+/c+FyQ=="}
pid is 15041
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u @Tech-chenhangzheng -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -e xupengyue@dafy.com -E '' -b $'\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240' -T add -d ''
+ TEMP=' -u '\''@Tech-chenhangzheng'\'' -t '\''前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -e '\''xupengyue@dafy.com'\'' -E '\'''\'' -b '\''云贷2.0登录改造'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''@Tech-chenhangzheng'\'' -t '\''前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -e '\''xupengyue@dafy.com'\'' -E '\'''\'' -b '\''云贷2.0登录改造'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u @Tech-chenhangzheng -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -e xupengyue@dafy.com -E '' -b $'\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240' -T add -d '' --
+ true
+ case "$1" in
+ user=@Tech-chenhangzheng
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ shift 2
+ true
+ case "$1" in
+ email=xupengyue@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=xupengyue@dafy.com '
+ SMARTCM_EXTRA_MAIL='xupengyue@dafy.com '
++ @Tech-chenhangzheng
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: @Tech-chenhangzheng: command not found
++ for x in '$user'
++ echo @Tech-chenhangzheng=rw
+ users=@Tech-chenhangzheng=rw
++ $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ trunks=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' ']'
+ '[' -z $'\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170802
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708021355
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708021355-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F / '{print $7}'
+ br=$'20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240'
+ access=$'20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' $'https://192.168.0.220/svn/tech/Branch/20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.15041
+ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'', '\''https://192.168.0.220/svn/tech/Branch/20170802-云贷2.0登录改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'',now(),'\''xupengyue'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'', '\''https://192.168.0.220/svn/tech/Branch/20170802-云贷2.0登录改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'',now(),'\''xupengyue'\'');'
+ cat /tmp/cmdb.db.15041
+ rm -f /tmp/cmdb.db.15041
+ check-acces
+ grep -c '20170802-云贷2.0登录改造]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z @Tech-chenhangzheng=rw
+ cat
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.4ms)
  Rendered builder/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 17105ms (Views: 64.4ms)


Completed 200 OK in 17105ms (Views: 64.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-03 10:14:02 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-03 10:14:02 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/P2PManager", "task"=>"http://192.168.0.221/zentao/task-view-42875.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"WF6IppYBlh4/haevuDCMF9YgqcZ6Hnbu4W0QTFrwKU5wKwiEgeQRZRa6nx5ogvRXeLm863KjPbjRPCFJ+ip9YQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/P2PManager", "task"=>"http://192.168.0.221/zentao/task-view-42875.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"WF6IppYBlh4/haevuDCMF9YgqcZ6Hnbu4W0QTFrwKU5wKwiEgeQRZRa6nx5ogvRXeLm863KjPbjRPCFJ+ip9YQ=="}
pid is 1843
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42875.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/P2PManager' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42875.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/P2PManager'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42875.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/P2PManager'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42875.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/P2PManager' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42875.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/P2PManager'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness' $'https://192.168.0.220/svn/tech/Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/Business/BorrowBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/Business/BorrowBusiness
https://192.168.0.220/svn/tech/Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/P2PManager'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.1843
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/Business/BorrowBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r133410 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r131208 '
+ '[' '!' -z r131208 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness@r131208' $'https://192.168.0.220/svn/tech/Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：3'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2323' ']'
+ die 'Svn merged conflicts the r131208 -r133410  from Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/Business/BorrowBusiness'
+ echo 'Svn merged conflicts the r131208 -r133410  from Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/Business/BorrowBusiness'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.1843
+ rm -f /home/qishanqing/tmp/merged/output.1843
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42875.html
Merged revision(s) r131208 -r133410   from Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/Business/BorrowBusiness' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ rm -f /home/qishanqing/tmp/merged/output.1843
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ mails-cm -i 'code merged from Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/P2PManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ awk -F '|' '{print$1}'
++ grep -C 3 $'Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r133409 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ awk -F '|' '{print$1}'
++ grep '^r'
++ tail -n 4
+ revision='r131207 '
+ '[' '!' -z r131207 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager@r131207' $'https://192.168.0.220/svn/tech/Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager' .
+ st='  树冲突：3'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2323' ']'
+ die 'Svn merged conflicts the r131207 -r133409  from Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/P2PManager'
+ echo 'Svn merged conflicts the r131207 -r133409  from Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/P2PManager'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.1843
+ rm -f /home/qishanqing/tmp/merged/output.1843
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42875.html
Merged revision(s) r131207 -r133409   from Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/P2PManager' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (144.2ms)
  Rendered merge/new.html.erb within layouts/application (144.2ms)
Completed 200 OK in 205405ms (Views: 792.5ms)


Completed 200 OK in 205405ms (Views: 792.5ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-03 10:18:31 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-03 10:18:31 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.2ms)
  Rendered merge/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 67ms (Views: 51.1ms)


Completed 200 OK in 67ms (Views: 51.1ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-03 10:18:42 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-03 10:18:42 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170712-提前结清线上/Develop/外部业务/P2P/Business/FDPReport", "task"=>"http://192.168.0.221/zentao/task-view-42965.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"mQIWSwj61s7PJbU+IXlrjaGm5SXTjdG8Gd184zE/Tbmxd5ZpHx9RteYajY/xyxPNDz/wCNswmuopjE3mkeUZlg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170712-提前结清线上/Develop/外部业务/P2P/Business/FDPReport", "task"=>"http://192.168.0.221/zentao/task-view-42965.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"mQIWSwj61s7PJbU+IXlrjaGm5SXTjdG8Gd184zE/Tbmxd5ZpHx9RteYajY/xyxPNDz/wCNswmuopjE3mkeUZlg=="}
pid is 2335
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42965.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170712-\346\217\220\345\211\215\347\273\223\346\270\205\347\272\277\344\270\212/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42965.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170712-提前结清线上/Develop/外部业务/P2P/Business/FDPReport'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42965.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170712-提前结清线上/Develop/外部业务/P2P/Business/FDPReport'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42965.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170712-\346\217\220\345\211\215\347\273\223\346\270\205\347\272\277\344\270\212/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42965.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170712-\346\217\220\345\211\215\347\273\223\346\270\205\347\272\277\344\270\212/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170712-\346\217\220\345\211\215\347\273\223\346\270\205\347\272\277\344\270\212/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170712-提前结清线上/Develop/外部业务/P2P/Business/FDPReport: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170712-\346\217\220\345\211\215\347\273\223\346\270\205\347\272\277\344\270\212/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170712-\346\217\220\345\211\215\347\273\223\346\270\205\347\272\277\344\270\212/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170712-\346\217\220\345\211\215\347\273\223\346\270\205\347\272\277\344\270\212/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170712-\346\217\220\345\211\215\347\273\223\346\270\205\347\272\277\344\270\212/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ rm -f /home/qishanqing/tmp/merged/output.2335
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170712-\346\217\220\345\211\215\347\273\223\346\270\205\347\272\277\344\270\212/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ mails-cm -i 'code merged from Branch/20170712-提前结清线上/Develop/外部业务/P2P/Business/FDPReport'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170712-\346\217\220\345\211\215\347\273\223\346\270\205\347\272\277\344\270\212/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r128921 '
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170712-\346\217\220\345\211\215\347\273\223\346\270\205\347\272\277\344\270\212/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ head='r133166 '
+ '[' '!' -z r128921 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170712-\346\217\220\345\211\215\347\273\223\346\270\205\347\272\277\344\270\212/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport@r128921' $'https://192.168.0.220/svn/tech/Branch/20170712-\346\217\220\345\211\215\347\273\223\346\270\205\347\272\277\344\270\212/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170712-\346\217\220\345\211\215\347\273\223\346\270\205\347\272\277\344\270\212/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport@r128921' $'https://192.168.0.220/svn/tech/Branch/20170712-\346\217\220\345\211\215\347\273\223\346\270\205\347\272\277\344\270\212/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42965.html
Merged revision(s) r128921 -r133166   from Branch/20170712-提前结清线上/Develop/外部业务/P2P/Business/FDPReport' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.2ms)
  Rendered merge/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 9861ms (Views: 49.9ms)


Completed 200 OK in 9861ms (Views: 49.9ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-03 10:19:09 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-03 10:19:09 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (2.8ms)
  Rendered merge/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 99ms (Views: 97.1ms)


Completed 200 OK in 99ms (Views: 97.1ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-03 10:19:21 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-03 10:19:21 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallRefundBusiness\r\n", "task"=>"http://192.168.0.221/zentao/task-view-42941.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"jTS0h88vSk5dsW4m71Iuiz6WD3K+TBewVfTNTzH5iF2lQTSl2MrNNXSOVpc/4FbLkA8aX7bxXOZlpfxKkSPccg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallRefundBusiness\r\n", "task"=>"http://192.168.0.221/zentao/task-view-42941.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"jTS0h88vSk5dsW4m71Iuiz6WD3K+TBewVfTNTzH5iF2lQTSl2MrNNXSOVpc/4FbLkA8aX7bxXOZlpfxKkSPccg=="}
pid is 2411
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42941.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallRefundBusiness
' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42941.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallRefundBusiness
'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42941.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallRefundBusiness
'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42941.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallRefundBusiness
' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42941.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallRefundBusiness
'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness\r'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallManager: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness\r'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallManager
https://192.168.0.220/svn/tech/Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallRefundBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ rm -f /home/qishanqing/tmp/merged/output.2411
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ mails-cm -i 'code merged from Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallManager'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ svn st
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ grep '^r'
++ head -n 4
++ grep -C 3 $'Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F '|' '{print$1}'
++ svn log
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r133045 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ tail -n 4
+ revision='r131590 '
+ '[' '!' -z r131590 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager@r131590' $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' .
+ st='  树冲突：1'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2321' ']'
+ die 'Svn merged conflicts the r131590 -r133045  from Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallManager'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r131590 -r133045  from Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallManager'
+ test -e /home/qishanqing/tmp/merged/output.2411
+ rm -f /home/qishanqing/tmp/merged/output.2411
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42941.html
Merged revision(s) r131590 -r133045   from Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallManager' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness\r'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness\r'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ test -e /home/qishanqing/tmp/merged/output.2411
+ echo
+ cat /home/qishanqing/tmp/merged/output.2411
+ rm -f /home/qishanqing/tmp/merged/output.2411
+ rm -f /home/qishanqing/tmp/merged/output.2411
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness\r'
+ die '分期商城/分期商城3.0/MallRefundBusiness  project code no found'
+ echo '分期商城/分期商城3.0/MallRefundBusiness  project code no found'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.2411
+ rm -f /home/qishanqing/tmp/merged/output.2411
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (2.8ms)
  Rendered merge/new.html.erb within layouts/application (2.8ms)
Completed 200 OK in 80552ms (Views: 160.6ms)


Completed 200 OK in 80552ms (Views: 160.6ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-03 10:22:35 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-03 10:22:35 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (2.4ms)
  Rendered merge/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 130ms (Views: 122.7ms)


Completed 200 OK in 130ms (Views: 122.7ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-03 10:22:42 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-03 10:22:42 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallRefundBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42941.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"xsrQUsJZLNDbt/Bnvb2aztlZFINbuAy+w9f6+mUrRR3uv1Bw1byrq/KIyNZtD+KOd8ABrlMFR+jzhsv/xfERMg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallRefundBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42941.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"xsrQUsJZLNDbt/Bnvb2aztlZFINbuAy+w9f6+mUrRR3uv1Bw1byrq/KIyNZtD+KOd8ABrlMFR+jzhsv/xfERMg=="}
pid is 3233
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42941.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42941.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallRefundBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42941.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallRefundBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42941.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42941.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallRefundBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.3233
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ svn_from_tb_merged
+ mails-cm -i 'code merged from Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallRefundBusiness'
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ svn st
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ awk -F '|' '{print$1}'
++ head -n 4
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ revision=
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ head='r133041 '
+ '[' '!' -z ']'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
++ grep '^r'
+ revision='r131629 '
+ '[' '!' -z r131629 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness@r131629' $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness@r131629' $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42941.html
Merged revision(s) r131629 -r133041   from Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallRefundBusiness' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (7.1ms)
  Rendered merge/new.html.erb within layouts/application (7.1ms)
Completed 200 OK in 19181ms (Views: 111.6ms)


Completed 200 OK in 19181ms (Views: 111.6ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-03 10:24:58 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-03 10:24:58 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (5.4ms)
  Rendered builder/index.html.erb within layouts/application (5.4ms)
Completed 200 OK in 169ms (Views: 123.0ms)


Completed 200 OK in 169ms (Views: 123.0ms)


Started POST "/start" for 192.168.5.26 at 2017-08-03 10:25:03 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-03 10:25:03 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170727-商城退换货管理", "branch"=>"20170727-商城退换货管理", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"5qq4V3Yz+KdIUXAz7Oqk8w7TiS/fLi9yOOA2oVlg5ZPO3zh1YdZ/3GFuSII8WNyzoEqcAteTZCQIsQek+bqxvA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170727-商城退换货管理", "branch"=>"20170727-商城退换货管理", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"5qq4V3Yz+KdIUXAz7Oqk8w7TiS/fLi9yOOA2oVlg5ZPO3zh1YdZ/3GFuSII8WNyzoEqcAteTZCQIsQek+bqxvA=="}
pid is 3491
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206' -e qishanqing@dafy.com -E '' -b $'20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170727-商城退换货管理'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170727-商城退换货管理'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170727-商城退换货管理'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170727-商城退换货管理'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206' -e qishanqing@dafy.com -E '' -b $'20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170727-商城退换货管理: command not found
++ for y in '$trunk'
++ echo $'20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206'
+ trunks=$'20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206'
+ test del = add
+ delbranch
+ '[' -z $'20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170803
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708031025
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170803-20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708031025-20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170803-20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206'
++ awk -F / '{print $7}'
+ br=$'20170803-20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206'
+ access=$'20170803-20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708031025-20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.3491
+ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170727-商城退换货管理%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170727-商城退换货管理%'\'';'
+ cat /tmp/cmdb.db.3491
+ rm -f /tmp/cmdb.db.3491
+ mails-cm -i 'svnbranch-del from svn branch create web'
+ cat
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.0ms)
  Rendered builder/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 1866ms (Views: 59.1ms)


Completed 200 OK in 1866ms (Views: 59.1ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-03 10:26:33 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-03 10:26:33 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (17.5ms)
  Rendered builder/index.html.erb within layouts/application (17.5ms)
Completed 200 OK in 71ms (Views: 68.6ms)


Completed 200 OK in 71ms (Views: 68.6ms)


Started POST "/start" for 192.168.5.26 at 2017-08-03 10:26:37 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-03 10:26:37 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170726-外部业务", "branch"=>"20170726-外部业务", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"HRCXGRJdJQmAPoNJammYRoOpRC+yR4MY6vew3+eWTDk1ZRc7BbiicqkBu/i62+AGLTBRArr6yE7apoHaR0wYFg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170726-外部业务", "branch"=>"20170726-外部业务", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"HRCXGRJdJQmAPoNJammYRoOpRC+yR4MY6vew3+eWTDk1ZRc7BbiicqkBu/i62+AGLTBRArr6yE7apoHaR0wYFg=="}
pid is 3574
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170726-\345\244\226\351\203\250\344\270\232\345\212\241' -e qishanqing@dafy.com -E '' -b $'20170726-\345\244\226\351\203\250\344\270\232\345\212\241' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170726-外部业务'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170726-外部业务'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170726-外部业务'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170726-外部业务'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170726-\345\244\226\351\203\250\344\270\232\345\212\241' -e qishanqing@dafy.com -E '' -b $'20170726-\345\244\226\351\203\250\344\270\232\345\212\241' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170726-\345\244\226\351\203\250\344\270\232\345\212\241'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170726-\345\244\226\351\203\250\344\270\232\345\212\241'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170726-\345\244\226\351\203\250\344\270\232\345\212\241'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170726-外部业务: command not found
++ for y in '$trunk'
++ echo $'20170726-\345\244\226\351\203\250\344\270\232\345\212\241'
+ trunks=$'20170726-\345\244\226\351\203\250\344\270\232\345\212\241'
+ test del = add
+ delbranch
+ '[' -z $'20170726-\345\244\226\351\203\250\344\270\232\345\212\241' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170803
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708031026
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170726-\345\244\226\351\203\250\344\270\232\345\212\241'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170803-20170726-\345\244\226\351\203\250\344\270\232\345\212\241/Develop/20170726-\345\244\226\351\203\250\344\270\232\345\212\241'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708031026-20170726-\345\244\226\351\203\250\344\270\232\345\212\241'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170803-20170726-\345\244\226\351\203\250\344\270\232\345\212\241/Develop/20170726-\345\244\226\351\203\250\344\270\232\345\212\241'
++ awk -F / '{print $7}'
+ br=$'20170803-20170726-\345\244\226\351\203\250\344\270\232\345\212\241'
+ access=$'20170803-20170726-\345\244\226\351\203\250\344\270\232\345\212\241'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708031026-20170726-\345\244\226\351\203\250\344\270\232\345\212\241' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.3574
+ echo $'https://192.168.0.220/svn/tech/Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170726-外部业务%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170726-外部业务%'\'';'
+ cat /tmp/cmdb.db.3574
+ rm -f /tmp/cmdb.db.3574
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.3ms)
  Rendered builder/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 1731ms (Views: 104.4ms)


Completed 200 OK in 1731ms (Views: 104.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-03 11:03:40 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-03 11:03:40 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (12.6ms)
  Rendered builder/index.html.erb within layouts/application (12.6ms)
Completed 200 OK in 143ms (Views: 139.2ms)


Completed 200 OK in 143ms (Views: 139.2ms)


Started POST "/start" for 192.168.5.26 at 2017-08-03 11:04:33 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-03 11:04:33 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"lijinming@dafy.com", "types"=>"add", "trunk"=>"基础业务/用户中心/UserBusiness 老系统/新达飞贷/网站中心/BossSite", "branch"=>"登陆改造", "user"=>"lijinming", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"FjI52mqT6E240oBBfk13kkrneT24OUNgflLwlW9Cdm4+R7n4fXZvNpHtuPCu/w/S5H5sELCECDZOA8GQz5giQQ=="}
  Parameters: {"email"=>"lijinming@dafy.com", "types"=>"add", "trunk"=>"基础业务/用户中心/UserBusiness 老系统/新达飞贷/网站中心/BossSite", "branch"=>"登陆改造", "user"=>"lijinming", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"FjI52mqT6E240oBBfk13kkrneT24OUNgflLwlW9Cdm4+R7n4fXZvNpHtuPCu/w/S5H5sELCECDZOA8GQz5giQQ=="}
pid is 4192
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u lijinming -t '基础业务/用户中心/UserBusiness 老系统/新达飞贷/网站中心/BossSite' -e lijinming@dafy.com -E '' -b $'\347\231\273\351\231\206\346\224\271\351\200\240' -T add -d ''
+ TEMP=' -u '\''lijinming'\'' -t '\''基础业务/用户中心/UserBusiness 老系统/新达飞贷/网站中心/BossSite'\'' -e '\''lijinming@dafy.com'\'' -E '\'''\'' -b '\''登陆改造'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''lijinming'\'' -t '\''基础业务/用户中心/UserBusiness 老系统/新达飞贷/网站中心/BossSite'\'' -e '\''lijinming@dafy.com'\'' -E '\'''\'' -b '\''登陆改造'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u lijinming -t '基础业务/用户中心/UserBusiness 老系统/新达飞贷/网站中心/BossSite' -e lijinming@dafy.com -E '' -b $'\347\231\273\351\231\206\346\224\271\351\200\240' -T add -d '' --
+ true
+ case "$1" in
+ user=lijinming
+ shift 2
+ true
+ case "$1" in
+ trunk='基础业务/用户中心/UserBusiness 老系统/新达飞贷/网站中心/BossSite'
+ shift 2
+ true
+ case "$1" in
+ email=lijinming@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\347\231\273\351\231\206\346\224\271\351\200\240'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=lijinming@dafy.com '
+ SMARTCM_EXTRA_MAIL='lijinming@dafy.com '
++ lijinming
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: lijinming: command not found
++ for x in '$user'
++ echo lijinming=rw
+ users=lijinming=rw
++ $'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' $'\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 基础业务/用户中心/UserBusiness: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ for y in '$trunk'
++ echo $'\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ trunks='基础业务/用户中心/UserBusiness
老系统/新达飞贷/网站中心/BossSite'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' ']'
+ '[' -z $'\347\231\273\351\231\206\346\224\271\351\200\240' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170803
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708031104
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\347\231\273\351\231\206\346\224\271\351\200\240'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708031104-\347\231\273\351\231\206\346\224\271\351\200\240'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ awk -F / '{print $7}'
+ br=$'20170803-\347\231\273\351\231\206\346\224\271\351\200\240'
+ access=$'20170803-\347\231\273\351\231\206\346\224\271\351\200\240'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.4192
+ echo $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/基础业务/用户中心/UserBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/基础业务/用户中心/UserBusiness'\'',now(),'\''lijinming'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/基础业务/用户中心/UserBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/基础业务/用户中心/UserBusiness'\'',now(),'\''lijinming'\'');'
+ cat /tmp/cmdb.db.4192
+ rm -f /tmp/cmdb.db.4192
+ check-acces
+ grep -c '20170803-登陆改造]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z lijinming=rw
+ cat
+ cat
+ read num
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ cat
+ for trunk in '${trunks[@]}'
+ '[' -z $'\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' ']'
+ '[' -z $'\347\231\273\351\231\206\346\224\271\351\200\240' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170803
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708031104
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\347\231\273\351\231\206\346\224\271\351\200\240'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708031104-\347\231\273\351\231\206\346\224\271\351\200\240'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ awk -F / '{print $7}'
+ br=$'20170803-\347\231\273\351\231\206\346\224\271\351\200\240'
+ access=$'20170803-\347\231\273\351\231\206\346\224\271\351\200\240'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.4192
+ echo $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/老系统/新达飞贷/网站中心/BossSite'\'', '\''https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/老系统/新达飞贷/网站中心/BossSite'\'',now(),'\''lijinming'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/老系统/新达飞贷/网站中心/BossSite'\'', '\''https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/老系统/新达飞贷/网站中心/BossSite'\'',now(),'\''lijinming'\'');'
+ cat /tmp/cmdb.db.4192
+ rm -f /tmp/cmdb.db.4192
+ check-acces
+ grep -c '20170803-登陆改造]' /mnt/svn/authz.conf
+ read num
+ '[' 1 -eq 0 ']'
++ sed '/20170803-登陆改造]/,/^[ \t]*$/!d;/20170803-登陆改造]/d;/^[ \t]*$/d' /mnt/svn/authz.conf
+ [[ lijinming=rw
@admin=rw
*= =~ lijinming=rw ]]
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 5658ms (Views: 62.5ms)


Completed 200 OK in 5658ms (Views: 62.5ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-03 17:18:34 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-03 17:18:34 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (77.9ms)
  Rendered merge/index.html.erb within layouts/application (77.9ms)
Completed 200 OK in 660ms (Views: 644.8ms)


Completed 200 OK in 660ms (Views: 644.8ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-03 17:18:42 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-03 17:18:42 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170725-支持异步/Develop/分期商城/分期商城3.0/MallBuyerBusiness", "task"=>"http://192.168.0.221/zentao/task-view-43037.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"4meZQepOL9DbpG7tv13FHhhTEgWjNIwlIM+BjPJ8hzTKEhlj/auoq/KbVlxv771etsoHKKuJx3MQnrCJUqbTGw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170725-支持异步/Develop/分期商城/分期商城3.0/MallBuyerBusiness", "task"=>"http://192.168.0.221/zentao/task-view-43037.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"4meZQepOL9DbpG7tv13FHhhTEgWjNIwlIM+BjPJ8hzTKEhlj/auoq/KbVlxv771etsoHKKuJx3MQnrCJUqbTGw=="}
pid is 12914
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43037.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170725-\346\224\257\346\214\201\345\274\202\346\255\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43037.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170725-支持异步/Develop/分期商城/分期商城3.0/MallBuyerBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43037.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170725-支持异步/Develop/分期商城/分期商城3.0/MallBuyerBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43037.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170725-\346\224\257\346\214\201\345\274\202\346\255\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43037.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170725-\346\224\257\346\214\201\345\274\202\346\255\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170725-\346\224\257\346\214\201\345\274\202\346\255\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170725-支持异步/Develop/分期商城/分期商城3.0/MallBuyerBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170725-\346\224\257\346\214\201\345\274\202\346\255\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170725-\346\224\257\346\214\201\345\274\202\346\255\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170725-\346\224\257\346\214\201\345\274\202\346\255\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170725-\346\224\257\346\214\201\345\274\202\346\255\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.12914
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170725-\346\224\257\346\214\201\345\274\202\346\255\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170725-支持异步/Develop/分期商城/分期商城3.0/MallBuyerBusiness'
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170725-\346\224\257\346\214\201\345\274\202\346\255\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170725-\346\224\257\346\214\201\345\274\202\346\255\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132490 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170725-\346\224\257\346\214\201\345\274\202\346\255\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r130820 '
+ '[' '!' -z r130820 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170725-\346\224\257\346\214\201\345\274\202\346\255\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness@r130820' $'https://192.168.0.220/svn/tech/Branch/20170725-\346\224\257\346\214\201\345\274\202\346\255\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170725-\346\224\257\346\214\201\345\274\202\346\255\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness@r130820' $'https://192.168.0.220/svn/tech/Branch/20170725-\346\224\257\346\214\201\345\274\202\346\255\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43037.html
Merged revision(s) r130820 -r132490   from Branch/20170725-支持异步/Develop/分期商城/分期商城3.0/MallBuyerBusiness' --username qishanqing --password q372232
svn: E155015: 提交失败(细节如下): 
svn: E155015: 提交终止: “/home/qishanqing/workspace/code/Trunk/分期商城/分期商城3.0/MallBuyerBusiness/config/config.properties” 处于冲突状态
+ die 'Svn merged conflicts the reasons for failure are as follows'
+ echo 'Svn merged conflicts the reasons for failure are as follows'
+ test -e /home/qishanqing/tmp/merged/output.12914
+ echo
+ cat /home/qishanqing/tmp/merged/output.12914
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.12914
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (2.4ms)
  Rendered merge/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 175869ms (Views: 54.7ms)


Completed 200 OK in 175869ms (Views: 54.7ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-03 17:26:08 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-03 17:26:08 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (1.9ms)
  Rendered builder/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 42ms (Views: 40.3ms)


Completed 200 OK in 42ms (Views: 40.3ms)


Started POST "/start" for 192.168.5.26 at 2017-08-03 17:26:12 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-03 17:26:12 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170725-支持异步", "branch"=>"20170725-支持异步", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"uifs9slsflPdI/04XLPwlckqxLQE8Cr66z7lJtEDhMeSUmzU3on5KPQcxYmMAYjVZ7PRmQxNYazbb9QjcdnQ6A=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170725-支持异步", "branch"=>"20170725-支持异步", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"uifs9slsflPdI/04XLPwlckqxLQE8Cr66z7lJtEDhMeSUmzU3on5KPQcxYmMAYjVZ7PRmQxNYazbb9QjcdnQ6A=="}
pid is 13033
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170725-\346\224\257\346\214\201\345\274\202\346\255\245' -e qishanqing@dafy.com -E '' -b $'20170725-\346\224\257\346\214\201\345\274\202\346\255\245' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170725-支持异步'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170725-支持异步'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170725-支持异步'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170725-支持异步'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170725-\346\224\257\346\214\201\345\274\202\346\255\245' -e qishanqing@dafy.com -E '' -b $'20170725-\346\224\257\346\214\201\345\274\202\346\255\245' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170725-\346\224\257\346\214\201\345\274\202\346\255\245'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170725-\346\224\257\346\214\201\345\274\202\346\255\245'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170725-\346\224\257\346\214\201\345\274\202\346\255\245'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170725-支持异步: command not found
++ for y in '$trunk'
++ echo $'20170725-\346\224\257\346\214\201\345\274\202\346\255\245'
+ trunks=$'20170725-\346\224\257\346\214\201\345\274\202\346\255\245'
+ test del = add
+ delbranch
+ '[' -z $'20170725-\346\224\257\346\214\201\345\274\202\346\255\245' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170803
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708031726
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170725-\346\224\257\346\214\201\345\274\202\346\255\245'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170803-20170725-\346\224\257\346\214\201\345\274\202\346\255\245/Develop/20170725-\346\224\257\346\214\201\345\274\202\346\255\245'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170725-\346\224\257\346\214\201\345\274\202\346\255\245'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708031726-20170725-\346\224\257\346\214\201\345\274\202\346\255\245'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170803-20170725-\346\224\257\346\214\201\345\274\202\346\255\245/Develop/20170725-\346\224\257\346\214\201\345\274\202\346\255\245'
++ awk -F / '{print $7}'
+ br=$'20170803-20170725-\346\224\257\346\214\201\345\274\202\346\255\245'
+ access=$'20170803-20170725-\346\224\257\346\214\201\345\274\202\346\255\245'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170725-\346\224\257\346\214\201\345\274\202\346\255\245' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708031726-20170725-\346\224\257\346\214\201\345\274\202\346\255\245' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.13033
+ echo $'https://192.168.0.220/svn/tech/Branch/20170725-\346\224\257\346\214\201\345\274\202\346\255\245'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170725-支持异步%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170725-支持异步%'\'';'
+ cat /tmp/cmdb.db.13033
+ rm -f /tmp/cmdb.db.13033
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.4ms)
  Rendered builder/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 3695ms (Views: 71.9ms)


Completed 200 OK in 3695ms (Views: 71.9ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-03 18:23:25 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-03 18:23:25 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (29.4ms)
  Rendered merge/index.html.erb within layouts/application (29.4ms)
Completed 200 OK in 742ms (Views: 717.6ms)


Completed 200 OK in 742ms (Views: 717.6ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-03 18:23:29 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-03 18:23:29 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (206.5ms)
  Rendered builder/index.html.erb within layouts/application (206.5ms)
Completed 200 OK in 2514ms (Views: 2512.4ms)


Completed 200 OK in 2514ms (Views: 2512.4ms)


Started POST "/start" for 192.168.5.26 at 2017-08-03 18:24:12 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-03 18:24:12 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"songxinyu@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/CollectionOverdueBatchBusiness", "branch"=>"修改催收跑批处理条数", "user"=>"songxinyu", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"8WraSI/i5mZNtBN+PSyBRrPPR8PWLfgkw68gLWNfeZ3ZH1pqmAdhHWSLK8/tnvkGHVZS7t6Qs3Lz/hEow4Utsg=="}
  Parameters: {"email"=>"songxinyu@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/CollectionOverdueBatchBusiness", "branch"=>"修改催收跑批处理条数", "user"=>"songxinyu", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"8WraSI/i5mZNtBN+PSyBRrPPR8PWLfgkw68gLWNfeZ3ZH1pqmAdhHWSLK8/tnvkGHVZS7t6Qs3Lz/hEow4Utsg=="}
pid is 15868
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u songxinyu -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' -e songxinyu@dafy.com -E '' -b $'\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260' -T add -d ''
+ TEMP=' -u '\''songxinyu'\'' -t '\''外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'' -e '\''songxinyu@dafy.com'\'' -E '\'''\'' -b '\''修改催收跑批处理条数'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''songxinyu'\'' -t '\''外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'' -e '\''songxinyu@dafy.com'\'' -E '\'''\'' -b '\''修改催收跑批处理条数'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u songxinyu -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' -e songxinyu@dafy.com -E '' -b $'\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260' -T add -d '' --
+ true
+ case "$1" in
+ user=songxinyu
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ shift 2
+ true
+ case "$1" in
+ email=songxinyu@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=songxinyu@dafy.com '
+ SMARTCM_EXTRA_MAIL='songxinyu@dafy.com '
++ songxinyu
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: songxinyu: command not found
++ for x in '$user'
++ echo songxinyu=rw
+ users=songxinyu=rw
++ $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 外部业务/P2P/Business/CollectionOverdueBatchBusiness: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ trunks=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' ']'
+ '[' -z $'\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170803
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708031824
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708031824-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
++ awk -F / '{print $7}'
+ br=$'20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260'
+ access=$'20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' $'https://192.168.0.220/svn/tech/Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.15868
+ echo $'https://192.168.0.220/svn/tech/Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170803-修改催收跑批处理条数/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'',now(),'\''songxinyu'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170803-修改催收跑批处理条数/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'',now(),'\''songxinyu'\'');'
+ cat /tmp/cmdb.db.15868
+ rm -f /tmp/cmdb.db.15868
+ check-acces
+ grep -c '20170803-修改催收跑批处理条数]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z songxinyu=rw
+ cat
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.5ms)
  Rendered builder/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 6805ms (Views: 288.6ms)


Completed 200 OK in 6805ms (Views: 288.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-04 10:10:31 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-04 10:10:31 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallBusiness https://192.168.0.220/svn/tech/Branch/20170724-新增项目/Develop/分期商城/分期商城3.0/MallBaseBusiness https://192.168.0.220/svn/tech/Branch/20170724-新增项目/Develop/分期商城/分期商城3.0/MallBaseManager https://192.168.0.220/svn/tech/Branch/20170719-售后说明更换/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-43044.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"E8k7hjvOK3Qhld1dnuJDFxlRkrc5PX6FsW/9VZzUeRI7vLukLCusDwiq5exOUDtXt8iHmjGANdOBPsxQPA4tPQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallBusiness https://192.168.0.220/svn/tech/Branch/20170724-新增项目/Develop/分期商城/分期商城3.0/MallBaseBusiness https://192.168.0.220/svn/tech/Branch/20170724-新增项目/Develop/分期商城/分期商城3.0/MallBaseManager https://192.168.0.220/svn/tech/Branch/20170719-售后说明更换/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-43044.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"E8k7hjvOK3Qhld1dnuJDFxlRkrc5PX6FsW/9VZzUeRI7vLukLCusDwiq5exOUDtXt8iHmjGANdOBPsxQPA4tPQ=="}
pid is 10653
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43044.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallBusiness https://192.168.0.220/svn/tech/Branch/20170724-新增项目/Develop/分期商城/分期商城3.0/MallBaseBusiness https://192.168.0.220/svn/tech/Branch/20170724-新增项目/Develop/分期商城/分期商城3.0/MallBaseManager https://192.168.0.220/svn/tech/Branch/20170719-售后说明更换/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43044.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallBusiness https://192.168.0.220/svn/tech/Branch/20170724-新增项目/Develop/分期商城/分期商城3.0/MallBaseBusiness https://192.168.0.220/svn/tech/Branch/20170724-新增项目/Develop/分期商城/分期商城3.0/MallBaseManager https://192.168.0.220/svn/tech/Branch/20170719-售后说明更换/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43044.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallBusiness https://192.168.0.220/svn/tech/Branch/20170724-新增项目/Develop/分期商城/分期商城3.0/MallBaseBusiness https://192.168.0.220/svn/tech/Branch/20170724-新增项目/Develop/分期商城/分期商城3.0/MallBaseManager https://192.168.0.220/svn/tech/Branch/20170719-售后说明更换/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43044.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallBusiness https://192.168.0.220/svn/tech/Branch/20170724-新增项目/Develop/分期商城/分期商城3.0/MallBaseBusiness https://192.168.0.220/svn/tech/Branch/20170724-新增项目/Develop/分期商城/分期商城3.0/MallBaseManager https://192.168.0.220/svn/tech/Branch/20170719-售后说明更换/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43044.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallBusiness https://192.168.0.220/svn/tech/Branch/20170724-新增项目/Develop/分期商城/分期商城3.0/MallBaseBusiness https://192.168.0.220/svn/tech/Branch/20170724-新增项目/Develop/分期商城/分期商城3.0/MallBaseManager https://192.168.0.220/svn/tech/Branch/20170719-售后说明更换/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness' $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness' $'https://192.168.0.220/svn/tech/Branch/20170724-\346\226\260\345\242\236\351\241\271\347\233\256/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBaseBusiness' $'https://192.168.0.220/svn/tech/Branch/20170724-\346\226\260\345\242\236\351\241\271\347\233\256/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBaseManager' $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\346\226\260\345\242\236\351\241\271\347\233\256/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBaseBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\346\226\260\345\242\236\351\241\271\347\233\256/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBaseManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness
https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManager
https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallBusiness
https://192.168.0.220/svn/tech/Branch/20170724-新增项目/Develop/分期商城/分期商城3.0/MallBaseBusiness
https://192.168.0.220/svn/tech/Branch/20170724-新增项目/Develop/分期商城/分期商城3.0/MallBaseManager
https://192.168.0.220/svn/tech/Branch/20170719-售后说明更换/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.10653
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness'
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r133461 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ revision='r129469 '
+ '[' '!' -z r129469 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness@r129469' $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness@r129469' $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43044.html
Merged revision(s) r129469 -r133461   from Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness' --username qishanqing --password q372232
svn: E155015: 提交失败(细节如下): 
svn: E155015: 提交终止: “/home/qishanqing/workspace/code/Trunk/分期商城/分期商城3.0/MallManageGoodsBusiness/businessplugin/com/dafy/mallgoodsbusiness/business/plugin/mall/goods/GoodsManageService.xml” 处于冲突状态
+ die 'Svn merged conflicts the reasons for failure are as follows'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the reasons for failure are as follows'
+ test -e /home/qishanqing/tmp/merged/output.10653
+ echo
+ cat /home/qishanqing/tmp/merged/output.10653
+ rm -f /home/qishanqing/tmp/merged/output.10653
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ rm -f /home/qishanqing/tmp/merged/output.10653
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManager'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ head -n 4
++ grep '^r'
++ svn log
++ awk -F '|' '{print$1}'
++ grep -C 3 $'Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r133570 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ revision='r129467 '
+ '[' '!' -z r129467 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager@r129467' $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' .
+ st='  树冲突：4'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2324' ']'
+ die 'Svn merged conflicts the r129467 -r133570  from Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManager'
+ echo 'Svn merged conflicts the r129467 -r133570  from Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManager'
+ test -e /home/qishanqing/tmp/merged/output.10653
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.10653
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43044.html
Merged revision(s) r129467 -r133570   from Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManager' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.10653
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallBusiness'
+ svn cleanup .
+ xargs rm -rf
+ svn st
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ awk -F '|' '{print$1}'
++ grep '^r'
++ grep -C 3 $'Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132964 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r129714 '
+ '[' '!' -z r129714 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness@r129714' $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness@r129714' $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43044.html
Merged revision(s) r129714 -r132964   from Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallBusiness' --username qishanqing --password q372232
svn: E155015: 提交失败(细节如下): 
svn: E155015: 提交终止: “/home/qishanqing/workspace/code/Trunk/分期商城/分期商城3.0/MallBusiness/businessplugin/com/dafy/mallbusiness/business/plugin/mall/goods/MallGoodsService.xml” 处于冲突状态
+ die 'Svn merged conflicts the reasons for failure are as follows'
+ echo 'Svn merged conflicts the reasons for failure are as follows'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.10653
+ echo
+ cat /home/qishanqing/tmp/merged/output.10653
+ rm -f /home/qishanqing/tmp/merged/output.10653
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\346\226\260\345\242\236\351\241\271\347\233\256/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBaseBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBaseBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170724-\346\226\260\345\242\236\351\241\271\347\233\256/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBaseBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.10653
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBaseBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170724-\346\226\260\345\242\236\351\241\271\347\233\256/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBaseBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBaseBusiness'
+ die '分期商城/分期商城3.0/MallBaseBusiness  project code no found'
+ mails-cm -i 'svn merged faild'
+ echo '分期商城/分期商城3.0/MallBaseBusiness  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.10653
+ rm -f /home/qishanqing/tmp/merged/output.10653
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\346\226\260\345\242\236\351\241\271\347\233\256/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBaseManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBaseManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170724-\346\226\260\345\242\236\351\241\271\347\233\256/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBaseManager'
+ rm -f /home/qishanqing/tmp/merged/output.10653
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBaseManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170724-\346\226\260\345\242\236\351\241\271\347\233\256/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBaseManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBaseManager'
+ die '分期商城/分期商城3.0/MallBaseManager  project code no found'
+ mails-cm -i 'svn merged faild'
+ echo '分期商城/分期商城3.0/MallBaseManager  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.10653
+ rm -f /home/qishanqing/tmp/merged/output.10653
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ rm -f /home/qishanqing/tmp/merged/output.10653
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170719-售后说明更换/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132353 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r129304 '
+ '[' '!' -z r129304 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r129304' $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r129304' $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43044.html
Merged revision(s) r129304 -r132353   from Branch/20170719-售后说明更换/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (84.9ms)
  Rendered merge/new.html.erb within layouts/application (84.9ms)
Completed 200 OK in 355127ms (Views: 928.8ms)


Completed 200 OK in 355127ms (Views: 928.8ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-04 10:21:00 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-04 10:21:00 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (17.0ms)
  Rendered merge/index.html.erb within layouts/application (17.0ms)
Completed 200 OK in 245ms (Views: 211.4ms)


Completed 200 OK in 245ms (Views: 211.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-04 10:21:18 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-04 10:21:18 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageStorageBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageOrderBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageAccessBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallRefundBusiness", "task"=>"http://192.168.0.221/zentao/task-view-43055.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"cpPHU5FsTTWj2Iyram2LbI9kSFDqZpMfn+EjGJGLppta5kdxhonKTorntBq63/MsIf1dfeLb2EmvsBIdMVHytA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageStorageBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageOrderBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageAccessBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallRefundBusiness", "task"=>"http://192.168.0.221/zentao/task-view-43055.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"cpPHU5FsTTWj2Iyram2LbI9kSFDqZpMfn+EjGJGLppta5kdxhonKTorntBq63/MsIf1dfeLb2EmvsBIdMVHytA=="}
pid is 11299
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43055.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageStorageBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageOrderBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageAccessBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallRefundBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43055.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageStorageBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageOrderBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageAccessBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallRefundBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43055.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageStorageBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageOrderBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageAccessBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallRefundBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43055.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageStorageBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageOrderBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageAccessBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallRefundBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43055.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageStorageBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageOrderBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageAccessBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallRefundBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness' $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness' $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness' $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness' $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageStorageBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageStorageBusiness
https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageOrderBusiness
https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness
https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageAccessBusiness
https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManager
https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallRefundBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.11299
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageStorageBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r133194 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r131394 '
+ '[' '!' -z r131394 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness@r131394' $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness@r131394' $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43055.html
Merged revision(s) r131394 -r133194   from Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageStorageBusiness' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.11299
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageOrderBusiness'
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r133702 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r131396 '
+ '[' '!' -z r131396 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness@r131396' $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness@r131396' $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43055.html
Merged revision(s) r131396 -r133702   from Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageOrderBusiness' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.11299
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ mails-cm -i 'code merged from Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r133251 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r131395 '
+ '[' '!' -z r131395 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness@r131395' $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness@r131395' $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43055.html
Merged revision(s) r131395 -r133251   from Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness' --username qishanqing --password q372232
svn: E155015: 提交失败(细节如下): 
svn: E155015: 提交终止: “/home/qishanqing/workspace/code/Trunk/分期商城/分期商城3.0/MallManageGoodsBusiness/businessplugin/com/dafy/mallgoodsbusiness/business/plugin/mall/goods/GoodsManageService.xml” 处于冲突状态
+ die 'Svn merged conflicts the reasons for failure are as follows'
+ echo 'Svn merged conflicts the reasons for failure are as follows'
+ test -e /home/qishanqing/tmp/merged/output.11299
+ mails-cm -i 'svn merged faild'
+ echo
+ cat /home/qishanqing/tmp/merged/output.11299
+ rm -f /home/qishanqing/tmp/merged/output.11299
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.11299
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageAccessBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness'
+ head='r131854 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness'
++ tail -n 4
+ revision='r131397 '
+ '[' '!' -z r131397 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness@r131397' $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness@r131397' $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43055.html
Merged revision(s) r131397 -r131854   from Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageAccessBusiness' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ rm -f /home/qishanqing/tmp/merged/output.11299
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManager'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ head='r133622 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r131393 '
+ '[' '!' -z r131393 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager@r131393' $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：2'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2322' ']'
+ die 'Svn merged conflicts the r131393 -r133622  from Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManager'
+ echo 'Svn merged conflicts the r131393 -r133622  from Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManager'
+ test -e /home/qishanqing/tmp/merged/output.11299
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.11299
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43055.html
Merged revision(s) r131393 -r133622   from Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManager' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.11299
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallRefundBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ awk -F '|' '{print$1}'
++ grep '^r'
++ grep -C 3 $'Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
++ head -n 4
+ revision=
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ head='r133237 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r133206 '
+ '[' '!' -z r133206 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness@r133206' $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness@r133206' $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43055.html
Merged revision(s) r133206 -r133237   from Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallRefundBusiness' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (14.3ms)
  Rendered merge/new.html.erb within layouts/application (14.3ms)
Completed 200 OK in 130082ms (Views: 120.2ms)


Completed 200 OK in 130082ms (Views: 120.2ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-04 10:28:30 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-04 10:28:30 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (36.4ms)
  Rendered merge/index.html.erb within layouts/application (36.4ms)
Completed 200 OK in 106ms (Views: 100.3ms)


Completed 200 OK in 106ms (Views: 100.3ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-04 10:28:36 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-04 10:28:36 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"http://192.168.0.221/zentao/task-view-43055.html", "task"=>"http://192.168.0.221/zentao/task-view-43056.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"KK1d6zZMbfxNWLLSI6gZpgJ00THOWLFLbVwLrnr1FtsA2N3JIanqh2RnimPzGmHmrO3EHMbl+h1dDTqr2i9C9A=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"http://192.168.0.221/zentao/task-view-43055.html", "task"=>"http://192.168.0.221/zentao/task-view-43056.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"KK1d6zZMbfxNWLLSI6gZpgJ00THOWLFLbVwLrnr1FtsA2N3JIanqh2RnimPzGmHmrO3EHMbl+h1dDTqr2i9C9A=="}
pid is 11733
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43056.html -R '' -t '' -e qishanqing@dafy.com -E '' -b http://192.168.0.221/zentao/task-view-43055.html -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43056.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''http://192.168.0.221/zentao/task-view-43055.html'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43056.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''http://192.168.0.221/zentao/task-view-43055.html'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43056.html -R '' -t '' -e qishanqing@dafy.com -E '' -b http://192.168.0.221/zentao/task-view-43055.html -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43056.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=http://192.168.0.221/zentao/task-view-43055.html
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ http://192.168.0.221/zentao/task-view-43055.html
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: http://192.168.0.221/zentao/task-view-43055.html: 没有那个文件或目录
++ for y in '$branch'
++ echo http://192.168.0.221/zentao/task-view-43055.html
+ branchs=http://192.168.0.221/zentao/task-view-43055.html
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo http://192.168.0.221/zentao/task-view-43055.html
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=http://192.168.0.221/zentao/task-view-43055.html
+ svn log -l 1 http://192.168.0.221/zentao/task-view-43055.html
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.11733
+ echo
+ cat /home/qishanqing/tmp/merged/output.11733
+ rm -f /home/qishanqing/tmp/merged/output.11733
+ rm -f /home/qishanqing/tmp/merged/output.11733
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=/home/qishanqing/workspace/code/Trunk/http://192.168.0.221/zentao/task-view-43055.html
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=/home/qishanqing/workspace/code/Branch/http://192.168.0.221/zentao/task-view-43055.html
+ test -d /home/qishanqing/workspace/code/Trunk/http://192.168.0.221/zentao/task-view-43055.html
+ die 'http://192.168.0.221/zentao/task-view-43055.html  project code no found'
+ echo 'http://192.168.0.221/zentao/task-view-43055.html  project code no found'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.11733
+ rm -f /home/qishanqing/tmp/merged/output.11733
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.1ms)
  Rendered merge/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 188ms (Views: 55.2ms)


Completed 200 OK in 188ms (Views: 55.2ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-04 10:28:50 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-04 10:28:50 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.6ms)
  Rendered merge/index.html.erb within layouts/application (4.6ms)
Completed 200 OK in 94ms (Views: 90.1ms)


Completed 200 OK in 94ms (Views: 90.1ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-04 10:29:02 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-04 10:29:02 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37", "task"=>"http://192.168.0.221/zentao/task-view-43056.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"GHdFFXfvMMovHfIxL/bjEBDRQvHrzBEZB7B9F73dcw8wAsU3YAq3sQYiyoD/RJtQvkhX3ONxWk834UwSHQcnIA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37", "task"=>"http://192.168.0.221/zentao/task-view-43056.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"GHdFFXfvMMovHfIxL/bjEBDRQvHrzBEZB7B9F73dcw8wAsU3YAq3sQYiyoD/RJtQvkhX3ONxWk834UwSHQcnIA=="}
pid is 11774
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43056.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43056.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43056.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43056.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43056.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ rm -f /home/qishanqing/tmp/merged/output.11774
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r133155 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r133700 '
+ '[' '!' -z r133155 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37@r133155' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37@r133155' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43056.html
Merged revision(s) r133155 -r133700   from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.3ms)
  Rendered merge/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 116692ms (Views: 54.9ms)


Completed 200 OK in 116692ms (Views: 54.9ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-04 10:31:21 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-04 10:31:21 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.3ms)
  Rendered merge/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 87ms (Views: 84.5ms)


Completed 200 OK in 87ms (Views: 84.5ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-04 10:31:31 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-04 10:31:31 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170803-修改催收跑批处理条数/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness", "task"=>"http://192.168.0.221/zentao/task-view-43064.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"fLY2oXbzp+lIW1+0ZkKCIvpgJEPOvUxi6oDDNInBHMlUw7aDYRYgkmFkZwW28PpiVPkxbsYABzTa0fIxKRtI5g=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170803-修改催收跑批处理条数/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness", "task"=>"http://192.168.0.221/zentao/task-view-43064.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"fLY2oXbzp+lIW1+0ZkKCIvpgJEPOvUxi6oDDNInBHMlUw7aDYRYgkmFkZwW28PpiVPkxbsYABzTa0fIxKRtI5g=="}
pid is 11879
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43064.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43064.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170803-修改催收跑批处理条数/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43064.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170803-修改催收跑批处理条数/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43064.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43064.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170803-修改催收跑批处理条数/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.11879
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170803-修改催收跑批处理条数/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r133761 '
+ '[' '!' -z ']'
++ awk -F '|' '{print$1}'
++ grep '^r'
++ tail -n 4
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ revision='r133754 '
+ '[' '!' -z r133754 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness@r133754' $'https://192.168.0.220/svn/tech/Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness@r133754' $'https://192.168.0.220/svn/tech/Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43064.html
Merged revision(s) r133754 -r133761   from Branch/20170803-修改催收跑批处理条数/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.3ms)
  Rendered merge/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 20389ms (Views: 108.1ms)


Completed 200 OK in 20389ms (Views: 108.1ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-08-04 10:33:23 +0800
Started GET "/merge/new" for 192.168.5.26 at 2017-08-04 10:33:23 +0800
Started GET "/start" for 192.168.5.26 at 2017-08-04 10:33:23 +0800
Started GET "/start" for 192.168.5.26 at 2017-08-04 10:33:23 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/upload/new" for 192.168.5.26 at 2017-08-04 10:33:23 +0800
Started GET "/upload/new" for 192.168.5.26 at 2017-08-04 10:33:23 +0800
Started GET "/articles/index" for 192.168.5.26 at 2017-08-04 10:33:23 +0800
Started GET "/articles/index" for 192.168.5.26 at 2017-08-04 10:33:23 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  
Filter chain halted as #<Proc:0x007fa6201d6028@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  
ActionController::RoutingError (No route matches [GET] "/start"):
Filter chain halted as #<Proc:0x007fa6201d6028@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
ActionController::RoutingError (No route matches [GET] "/start"):
  
  
Completed 401 Unauthorized in 159ms


Completed 401 Unauthorized in 159ms


actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Processing by ArticlesController#index as HTML
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.erb within layouts/application
  Rendering articles/index.html.erb within layouts/application
Processing by UploadController#new as HTML
Processing by UploadController#new as HTML
  Rendered articles/index.html.erb within layouts/application (30.7ms)
  Rendered articles/index.html.erb within layouts/application (30.7ms)
  Rendering upload/new.html.erb within layouts/application
  Rendering upload/new.html.erb within layouts/application
  Rendered upload/new.html.erb within layouts/application (1.3ms)
  Rendered upload/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 147ms (Views: 144.8ms)


Completed 200 OK in 147ms (Views: 144.8ms)


Completed 200 OK in 253ms (Views: 208.5ms)


Completed 200 OK in 253ms (Views: 208.5ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-08-04 10:33:45 +0800
Started GET "/merge/new" for 192.168.5.26 at 2017-08-04 10:33:45 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (13.3ms)
  Rendered merge/index.html.erb within layouts/application (13.3ms)
Completed 200 OK in 122ms (Views: 120.4ms)


Completed 200 OK in 122ms (Views: 120.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-04 10:33:57 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-04 10:33:57 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170801-律金所宝付/Develop/基础业务/账户中心/AccountGateway44", "task"=>"http://192.168.0.221/zentao/task-view-43032.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"qMlSeZKCbFunpGZc+2Fu9BkR7Z5+f6zGrDubYIzRzGpx3ta9KpVxJmXvQsXUYtN/scpmAuOAtrS+6bTThhjdbA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170801-律金所宝付/Develop/基础业务/账户中心/AccountGateway44", "task"=>"http://192.168.0.221/zentao/task-view-43032.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"qMlSeZKCbFunpGZc+2Fu9BkR7Z5+f6zGrDubYIzRzGpx3ta9KpVxJmXvQsXUYtN/scpmAuOAtrS+6bTThhjdbA=="}
pid is 11970
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43032.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170801-\345\276\213\351\207\221\346\211\200\345\256\235\344\273\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43032.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170801-律金所宝付/Develop/基础业务/账户中心/AccountGateway44'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43032.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170801-律金所宝付/Develop/基础业务/账户中心/AccountGateway44'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43032.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170801-\345\276\213\351\207\221\346\211\200\345\256\235\344\273\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43032.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170801-\345\276\213\351\207\221\346\211\200\345\256\235\344\273\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170801-\345\276\213\351\207\221\346\211\200\345\256\235\344\273\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170801-律金所宝付/Develop/基础业务/账户中心/AccountGateway44: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\345\276\213\351\207\221\346\211\200\345\256\235\344\273\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170801-\345\276\213\351\207\221\346\211\200\345\256\235\344\273\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\345\276\213\351\207\221\346\211\200\345\256\235\344\273\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170801-\345\276\213\351\207\221\346\211\200\345\256\235\344\273\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44'
+ rm -f /home/qishanqing/tmp/merged/output.11970
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170801-\345\276\213\351\207\221\346\211\200\345\256\235\344\273\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170801-律金所宝付/Develop/基础业务/账户中心/AccountGateway44'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170801-\345\276\213\351\207\221\346\211\200\345\256\235\344\273\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170801-\345\276\213\351\207\221\346\211\200\345\256\235\344\273\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r133602 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170801-\345\276\213\351\207\221\346\211\200\345\256\235\344\273\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r132972 '
+ '[' '!' -z r132972 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170801-\345\276\213\351\207\221\346\211\200\345\256\235\344\273\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44@r132972' $'https://192.168.0.220/svn/tech/Branch/20170801-\345\276\213\351\207\221\346\211\200\345\256\235\344\273\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170801-\345\276\213\351\207\221\346\211\200\345\256\235\344\273\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44@r132972' $'https://192.168.0.220/svn/tech/Branch/20170801-\345\276\213\351\207\221\346\211\200\345\256\235\344\273\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43032.html
Merged revision(s) r132972 -r133602   from Branch/20170801-律金所宝付/Develop/基础业务/账户中心/AccountGateway44' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.3ms)
  Rendered merge/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 18649ms (Views: 72.1ms)


Completed 200 OK in 18649ms (Views: 72.1ms)


Started GET "/" for 192.168.5.26 at 2017-08-04 10:42:06 +0800
Started GET "/" for 192.168.5.26 at 2017-08-04 10:42:06 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.6ms)
  Rendered builder/index.html.erb within layouts/application (3.6ms)
Completed 200 OK in 98ms (Views: 62.3ms)


Completed 200 OK in 98ms (Views: 62.3ms)


Started POST "/start" for 192.168.5.26 at 2017-08-04 10:42:11 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-04 10:42:11 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170803-修改催收跑批处理条数", "branch"=>"20170803-修改催收跑批处理条数", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"md/2wkb2KzvlNmTeR4hzVC8pCmrOq4GM4o6VAqVwJ1pAyHIG/uE2Rid9QEdoi87fh/KB9lNUm/7wXLqxr7k2XA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170803-修改催收跑批处理条数", "branch"=>"20170803-修改催收跑批处理条数", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"md/2wkb2KzvlNmTeR4hzVC8pCmrOq4GM4o6VAqVwJ1pAyHIG/uE2Rid9QEdoi87fh/KB9lNUm/7wXLqxr7k2XA=="}
Filter chain halted as #<Proc:0x00000004d549f0@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Filter chain halted as #<Proc:0x00000004d549f0@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Completed 401 Unauthorized in 2ms


Completed 401 Unauthorized in 2ms


Started POST "/start" for 192.168.5.26 at 2017-08-04 10:42:11 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-04 10:42:11 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170803-修改催收跑批处理条数", "branch"=>"20170803-修改催收跑批处理条数", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"md/2wkb2KzvlNmTeR4hzVC8pCmrOq4GM4o6VAqVwJ1pAyHIG/uE2Rid9QEdoi87fh/KB9lNUm/7wXLqxr7k2XA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170803-修改催收跑批处理条数", "branch"=>"20170803-修改催收跑批处理条数", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"md/2wkb2KzvlNmTeR4hzVC8pCmrOq4GM4o6VAqVwJ1pAyHIG/uE2Rid9QEdoi87fh/KB9lNUm/7wXLqxr7k2XA=="}
pid is 12237
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260' -e qishanqing@dafy.com -E '' -b $'20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170803-修改催收跑批处理条数'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170803-修改催收跑批处理条数'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170803-修改催收跑批处理条数'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170803-修改催收跑批处理条数'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260' -e qishanqing@dafy.com -E '' -b $'20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170803-修改催收跑批处理条数: command not found
++ for y in '$trunk'
++ echo $'20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260'
+ trunks=$'20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260'
+ test del = add
+ delbranch
+ '[' -z $'20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170804
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708041042
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170804-20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260/Develop/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708041042-20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170804-20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260/Develop/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260'
++ awk -F / '{print $7}'
+ br=$'20170804-20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260'
+ access=$'20170804-20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708041042-20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.12237
+ echo $'https://192.168.0.220/svn/tech/Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170803-修改催收跑批处理条数%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170803-修改催收跑批处理条数%'\'';'
+ cat /tmp/cmdb.db.12237
+ rm -f /tmp/cmdb.db.12237
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.7ms)
  Rendered builder/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 3186ms (Views: 483.4ms)


Completed 200 OK in 3186ms (Views: 483.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-04 10:43:53 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-04 10:43:53 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.8ms)
  Rendered builder/index.html.erb within layouts/application (3.8ms)
Completed 200 OK in 83ms (Views: 79.1ms)


Completed 200 OK in 83ms (Views: 79.1ms)


Started POST "/start" for 192.168.5.26 at 2017-08-04 10:43:57 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-04 10:43:57 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170719-商品标签管理新需求", "branch"=>"20170719-商品标签管理新需求", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"9A7cHYz0TGM+TrZuwiQHJBYomzEK5wU0ZzcVC6JbYnktGVjZNONRHvwFkvftJ7qvvvMQrZcYH0Z15Tq4qJJzfw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170719-商品标签管理新需求", "branch"=>"20170719-商品标签管理新需求", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"9A7cHYz0TGM+TrZuwiQHJBYomzEK5wU0ZzcVC6JbYnktGVjZNONRHvwFkvftJ7qvvvMQrZcYH0Z15Tq4qJJzfw=="}
pid is 12301
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202' -e qishanqing@dafy.com -E '' -b $'20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170719-商品标签管理新需求'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170719-商品标签管理新需求'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170719-商品标签管理新需求'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170719-商品标签管理新需求'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202' -e qishanqing@dafy.com -E '' -b $'20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170719-商品标签管理新需求: command not found
++ for y in '$trunk'
++ echo $'20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202'
+ trunks=$'20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202'
+ test del = add
+ delbranch
+ '[' -z $'20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170804
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708041043
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170804-20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708041043-20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170804-20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202'
++ awk -F / '{print $7}'
+ br=$'20170804-20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202'
+ access=$'20170804-20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708041043-20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.12301
+ echo $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170719-商品标签管理新需求%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170719-商品标签管理新需求%'\'';'
+ cat /tmp/cmdb.db.12301
+ rm -f /tmp/cmdb.db.12301
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.4ms)
  Rendered builder/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 1599ms (Views: 54.8ms)


Completed 200 OK in 1599ms (Views: 54.8ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-04 10:44:31 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-04 10:44:31 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (14.9ms)
  Rendered builder/index.html.erb within layouts/application (14.9ms)
Completed 200 OK in 132ms (Views: 130.4ms)


Completed 200 OK in 132ms (Views: 130.4ms)


Started POST "/start" for 192.168.5.26 at 2017-08-04 10:44:35 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-04 10:44:35 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170724-新增项目", "branch"=>"20170724-新增项目", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"o+NH+iR68uQ9EbdQKCK5crzzHD09naDSLoo8qHNDoIt69MM+nG3vmf9ak8kHIQT5FCiXoaBiuqA8WBMbeYqxjQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170724-新增项目", "branch"=>"20170724-新增项目", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"o+NH+iR68uQ9EbdQKCK5crzzHD09naDSLoo8qHNDoIt69MM+nG3vmf9ak8kHIQT5FCiXoaBiuqA8WBMbeYqxjQ=="}
pid is 12355
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170724-\346\226\260\345\242\236\351\241\271\347\233\256' -e qishanqing@dafy.com -E '' -b $'20170724-\346\226\260\345\242\236\351\241\271\347\233\256' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170724-新增项目'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170724-新增项目'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170724-新增项目'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170724-新增项目'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170724-\346\226\260\345\242\236\351\241\271\347\233\256' -e qishanqing@dafy.com -E '' -b $'20170724-\346\226\260\345\242\236\351\241\271\347\233\256' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170724-\346\226\260\345\242\236\351\241\271\347\233\256'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170724-\346\226\260\345\242\236\351\241\271\347\233\256'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170724-\346\226\260\345\242\236\351\241\271\347\233\256'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170724-新增项目: command not found
++ for y in '$trunk'
++ echo $'20170724-\346\226\260\345\242\236\351\241\271\347\233\256'
+ trunks=$'20170724-\346\226\260\345\242\236\351\241\271\347\233\256'
+ test del = add
+ delbranch
+ '[' -z $'20170724-\346\226\260\345\242\236\351\241\271\347\233\256' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170804
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708041044
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170724-\346\226\260\345\242\236\351\241\271\347\233\256'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170804-20170724-\346\226\260\345\242\236\351\241\271\347\233\256/Develop/20170724-\346\226\260\345\242\236\351\241\271\347\233\256'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170724-\346\226\260\345\242\236\351\241\271\347\233\256'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708041044-20170724-\346\226\260\345\242\236\351\241\271\347\233\256'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170804-20170724-\346\226\260\345\242\236\351\241\271\347\233\256/Develop/20170724-\346\226\260\345\242\236\351\241\271\347\233\256'
++ awk -F / '{print $7}'
+ br=$'20170804-20170724-\346\226\260\345\242\236\351\241\271\347\233\256'
+ access=$'20170804-20170724-\346\226\260\345\242\236\351\241\271\347\233\256'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170724-\346\226\260\345\242\236\351\241\271\347\233\256' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708041044-20170724-\346\226\260\345\242\236\351\241\271\347\233\256' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.12355
+ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\346\226\260\345\242\236\351\241\271\347\233\256'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170724-新增项目%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170724-新增项目%'\'';'
+ cat /tmp/cmdb.db.12355
+ rm -f /tmp/cmdb.db.12355
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 2069ms (Views: 47.8ms)


Completed 200 OK in 2069ms (Views: 47.8ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-04 10:44:49 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-04 10:44:49 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.6ms)
  Rendered builder/index.html.erb within layouts/application (4.6ms)
Completed 200 OK in 94ms (Views: 91.6ms)


Completed 200 OK in 94ms (Views: 91.6ms)


Started POST "/start" for 192.168.5.26 at 2017-08-04 10:44:53 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-04 10:44:53 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170719-售后说明更换", "branch"=>"20170719-售后说明更换", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"QZUIcwgKvWhwAkq+9Yp00qwyjEAOQd+XOS2LEKhomjWYgoy3sB2gFbJJbifaiclZBOkH3JO+xeUr/6SjoqGLMw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170719-售后说明更换", "branch"=>"20170719-售后说明更换", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"QZUIcwgKvWhwAkq+9Yp00qwyjEAOQd+XOS2LEKhomjWYgoy3sB2gFbJJbifaiclZBOkH3JO+xeUr/6SjoqGLMw=="}
pid is 12383
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242' -e qishanqing@dafy.com -E '' -b $'20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170719-售后说明更换'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170719-售后说明更换'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170719-售后说明更换'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170719-售后说明更换'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242' -e qishanqing@dafy.com -E '' -b $'20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170719-售后说明更换: command not found
++ for y in '$trunk'
++ echo $'20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242'
+ trunks=$'20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242'
+ test del = add
+ delbranch
+ '[' -z $'20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170804
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708041044
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170804-20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708041044-20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170804-20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242'
++ awk -F / '{print $7}'
+ br=$'20170804-20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242'
+ access=$'20170804-20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708041044-20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.12383
+ echo $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170719-售后说明更换%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170719-售后说明更换%'\'';'
+ cat /tmp/cmdb.db.12383
+ rm -f /tmp/cmdb.db.12383
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.1ms)
  Rendered builder/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 5621ms (Views: 66.6ms)


Completed 200 OK in 5621ms (Views: 66.6ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-04 10:50:06 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-04 10:50:06 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (28.1ms)
  Rendered builder/index.html.erb within layouts/application (28.1ms)
Completed 200 OK in 153ms (Views: 149.5ms)


Completed 200 OK in 153ms (Views: 149.5ms)


Started POST "/start" for 192.168.5.26 at 2017-08-04 10:50:11 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-04 10:50:11 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170727-采购管理SKU管理优化", "branch"=>"20170727-采购管理SKU管理优化", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"6yXR2DuurphQCXzxYN19yzfI+BHgFpo5Qouxc/TIWbEyMlUcg7mz5ZJCWGhP3sBAnxNzjX3pgEtQWZ7A/gFItw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170727-采购管理SKU管理优化", "branch"=>"20170727-采购管理SKU管理优化", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"6yXR2DuurphQCXzxYN19yzfI+BHgFpo5Qouxc/TIWbEyMlUcg7mz5ZJCWGhP3sBAnxNzjX3pgEtQWZ7A/gFItw=="}
pid is 12551
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226' -e qishanqing@dafy.com -E '' -b $'20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170727-采购管理SKU管理优化'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170727-采购管理SKU管理优化'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170727-采购管理SKU管理优化'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170727-采购管理SKU管理优化'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226' -e qishanqing@dafy.com -E '' -b $'20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170727-采购管理SKU管理优化: command not found
++ for y in '$trunk'
++ echo $'20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226'
+ trunks=$'20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226'
+ test del = add
+ delbranch
+ '[' -z $'20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170804
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708041050
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170804-20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708041050-20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170804-20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226'
++ awk -F / '{print $7}'
+ br=$'20170804-20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226'
+ access=$'20170804-20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708041050-20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.12551
+ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170727-采购管理SKU管理优化%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170727-采购管理SKU管理优化%'\'';'
+ cat /tmp/cmdb.db.12551
+ rm -f /tmp/cmdb.db.12551
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.3ms)
  Rendered builder/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 2298ms (Views: 70.6ms)


Completed 200 OK in 2298ms (Views: 70.6ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-04 11:15:03 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-04 11:15:03 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.7ms)
  Rendered builder/index.html.erb within layouts/application (3.7ms)
Completed 200 OK in 127ms (Views: 124.0ms)


Completed 200 OK in 127ms (Views: 124.0ms)


Started POST "/start" for 192.168.5.26 at 2017-08-04 11:15:53 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-04 11:15:53 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"zhangjunjie@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Gateway/SzsSDK", "branch"=>"石嘴山网关SDK调整", "user"=>"zhangjunjie", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"PyVsecwGDvROPhlZEd7+UMfQ1b2g5n+d18kMJxaUZiHmMui9dBETiYx1PcA+3UPbbwteIT0ZZe/FGyOUHF13Jw=="}
  Parameters: {"email"=>"zhangjunjie@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Gateway/SzsSDK", "branch"=>"石嘴山网关SDK调整", "user"=>"zhangjunjie", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"PyVsecwGDvROPhlZEd7+UMfQ1b2g5n+d18kMJxaUZiHmMui9dBETiYx1PcA+3UPbbwteIT0ZZe/FGyOUHF13Jw=="}
pid is 13633
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u zhangjunjie -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Gateway/SzsSDK' -e zhangjunjie@dafy.com -E '' -b $'\347\237\263\345\230\264\345\261\261\347\275\221\345\205\263SDK\350\260\203\346\225\264' -T add -d ''
+ TEMP=' -u '\''zhangjunjie'\'' -t '\''外部业务/P2P/Gateway/SzsSDK'\'' -e '\''zhangjunjie@dafy.com'\'' -E '\'''\'' -b '\''石嘴山网关SDK调整'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''zhangjunjie'\'' -t '\''外部业务/P2P/Gateway/SzsSDK'\'' -e '\''zhangjunjie@dafy.com'\'' -E '\'''\'' -b '\''石嘴山网关SDK调整'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u zhangjunjie -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Gateway/SzsSDK' -e zhangjunjie@dafy.com -E '' -b $'\347\237\263\345\230\264\345\261\261\347\275\221\345\205\263SDK\350\260\203\346\225\264' -T add -d '' --
+ true
+ case "$1" in
+ user=zhangjunjie
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Gateway/SzsSDK'
+ shift 2
+ true
+ case "$1" in
+ email=zhangjunjie@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\347\237\263\345\230\264\345\261\261\347\275\221\345\205\263SDK\350\260\203\346\225\264'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=zhangjunjie@dafy.com '
+ SMARTCM_EXTRA_MAIL='zhangjunjie@dafy.com '
++ zhangjunjie
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: zhangjunjie: command not found
++ for x in '$user'
++ echo zhangjunjie=rw
+ users=zhangjunjie=rw
++ $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Gateway/SzsSDK'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 外部业务/P2P/Gateway/SzsSDK: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Gateway/SzsSDK'
+ trunks=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Gateway/SzsSDK'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Gateway/SzsSDK' ']'
+ '[' -z $'\347\237\263\345\230\264\345\261\261\347\275\221\345\205\263SDK\350\260\203\346\225\264' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170804
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708041115
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Gateway/SzsSDK'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170804-\347\237\263\345\230\264\345\261\261\347\275\221\345\205\263SDK\350\260\203\346\225\264/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Gateway/SzsSDK'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\347\237\263\345\230\264\345\261\261\347\275\221\345\205\263SDK\350\260\203\346\225\264'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708041115-\347\237\263\345\230\264\345\261\261\347\275\221\345\205\263SDK\350\260\203\346\225\264'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170804-\347\237\263\345\230\264\345\261\261\347\275\221\345\205\263SDK\350\260\203\346\225\264/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Gateway/SzsSDK'
++ awk -F / '{print $7}'
+ br=$'20170804-\347\237\263\345\230\264\345\261\261\347\275\221\345\205\263SDK\350\260\203\346\225\264'
+ access=$'20170804-\347\237\263\345\230\264\345\261\261\347\275\221\345\205\263SDK\350\260\203\346\225\264'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Gateway/SzsSDK' $'https://192.168.0.220/svn/tech/Branch/20170804-\347\237\263\345\230\264\345\261\261\347\275\221\345\205\263SDK\350\260\203\346\225\264/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Gateway/SzsSDK' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.13633
+ echo $'https://192.168.0.220/svn/tech/Branch/20170804-\347\237\263\345\230\264\345\261\261\347\275\221\345\205\263SDK\350\260\203\346\225\264/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Gateway/SzsSDK'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Gateway/SzsSDK'\'', '\''https://192.168.0.220/svn/tech/Branch/20170804-石嘴山网关SDK调整/Develop/外部业务/P2P/Gateway/SzsSDK'\'',now(),'\''zhangjunjie'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Gateway/SzsSDK'\'', '\''https://192.168.0.220/svn/tech/Branch/20170804-石嘴山网关SDK调整/Develop/外部业务/P2P/Gateway/SzsSDK'\'',now(),'\''zhangjunjie'\'');'
+ cat /tmp/cmdb.db.13633
+ rm -f /tmp/cmdb.db.13633
+ check-acces
+ grep -c '20170804-石嘴山网关SDK调整]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z zhangjunjie=rw
+ cat
+ cat
+ read num
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ cat
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.4ms)
  Rendered builder/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 4833ms (Views: 94.5ms)


Completed 200 OK in 4833ms (Views: 94.5ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-04 13:37:20 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-04 13:37:20 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.3ms)
  Rendered builder/index.html.erb within layouts/application (4.3ms)
Completed 200 OK in 561ms (Views: 558.4ms)


Completed 200 OK in 561ms (Views: 558.4ms)


Started POST "/start" for 192.168.5.26 at 2017-08-04 13:38:25 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-04 13:38:25 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"liuxuxing@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/BorrowBusiness2", "branch"=>"红玲创投交易", "user"=>"liuxuxing huqiangsheng", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"VOxLaoyJtGlq+dmyl3kcJrcwejuPjrJFErg4M2PtXlON+8+uNJ6pFKiy/Su4eqGtH+vxpxJxqDcAaheAaSRPVQ=="}
  Parameters: {"email"=>"liuxuxing@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/BorrowBusiness2", "branch"=>"红玲创投交易", "user"=>"liuxuxing huqiangsheng", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"VOxLaoyJtGlq+dmyl3kcJrcwejuPjrJFErg4M2PtXlON+8+uNJ6pFKiy/Su4eqGtH+vxpxJxqDcAaheAaSRPVQ=="}
pid is 17843
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'liuxuxing huqiangsheng' -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' -e liuxuxing@dafy.com -E '' -b $'\347\272\242\347\216\262\345\210\233\346\212\225\344\272\244\346\230\223' -T add -d ''
+ TEMP=' -u '\''liuxuxing huqiangsheng'\'' -t '\''外部业务/P2P/Business/BorrowBusiness2'\'' -e '\''liuxuxing@dafy.com'\'' -E '\'''\'' -b '\''红玲创投交易'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''liuxuxing huqiangsheng'\'' -t '\''外部业务/P2P/Business/BorrowBusiness2'\'' -e '\''liuxuxing@dafy.com'\'' -E '\'''\'' -b '\''红玲创投交易'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'liuxuxing huqiangsheng' -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' -e liuxuxing@dafy.com -E '' -b $'\347\272\242\347\216\262\345\210\233\346\212\225\344\272\244\346\230\223' -T add -d '' --
+ true
+ case "$1" in
+ user='liuxuxing huqiangsheng'
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ shift 2
+ true
+ case "$1" in
+ email=liuxuxing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\347\272\242\347\216\262\345\210\233\346\212\225\344\272\244\346\230\223'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=liuxuxing@dafy.com '
+ SMARTCM_EXTRA_MAIL='liuxuxing@dafy.com '
++ liuxuxing huqiangsheng
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: liuxuxing: command not found
++ for x in '$user'
++ echo liuxuxing=rw
++ for x in '$user'
++ echo huqiangsheng=rw
+ users='liuxuxing=rw
huqiangsheng=rw'
++ $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 外部业务/P2P/Business/BorrowBusiness2: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ trunks=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' ']'
+ '[' -z $'\347\272\242\347\216\262\345\210\233\346\212\225\344\272\244\346\230\223' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170804
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708041338
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170804-\347\272\242\347\216\262\345\210\233\346\212\225\344\272\244\346\230\223/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\347\272\242\347\216\262\345\210\233\346\212\225\344\272\244\346\230\223'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708041338-\347\272\242\347\216\262\345\210\233\346\212\225\344\272\244\346\230\223'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170804-\347\272\242\347\216\262\345\210\233\346\212\225\344\272\244\346\230\223/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ awk -F / '{print $7}'
+ br=$'20170804-\347\272\242\347\216\262\345\210\233\346\212\225\344\272\244\346\230\223'
+ access=$'20170804-\347\272\242\347\216\262\345\210\233\346\212\225\344\272\244\346\230\223'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' $'https://192.168.0.220/svn/tech/Branch/20170804-\347\272\242\347\216\262\345\210\233\346\212\225\344\272\244\346\230\223/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.17843
+ echo $'https://192.168.0.220/svn/tech/Branch/20170804-\347\272\242\347\216\262\345\210\233\346\212\225\344\272\244\346\230\223/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BorrowBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170804-红玲创投交易/Develop/外部业务/P2P/Business/BorrowBusiness2'\'',now(),'\''liuxuxing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BorrowBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170804-红玲创投交易/Develop/外部业务/P2P/Business/BorrowBusiness2'\'',now(),'\''liuxuxing'\'');'
+ cat /tmp/cmdb.db.17843
+ rm -f /tmp/cmdb.db.17843
+ check-acces
+ grep -c '20170804-红玲创投交易]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z 'liuxuxing=rw
huqiangsheng=rw'
+ cat
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 7235ms (Views: 63.6ms)


Completed 200 OK in 7235ms (Views: 63.6ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-04 14:49:16 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-04 14:49:16 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.0ms)
  Rendered builder/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 221ms (Views: 218.2ms)


Completed 200 OK in 221ms (Views: 218.2ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-04 14:49:18 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-04 14:49:18 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (2.6ms)
  Rendered merge/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 161ms (Views: 151.3ms)


Completed 200 OK in 161ms (Views: 151.3ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-04 14:49:35 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-04 14:49:35 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170731-退款定时任务修改/Develop/分期商城/分期商城3.0/MallRefundBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42940.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"b7FSgZGJ613cYb2XzUHJ0soz1CS/D4RmF15SoBmh1WS2ptZFKZ72IB4qmQ7iQnRZYuhfuCLwnhQFjH0TE2jEYg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170731-退款定时任务修改/Develop/分期商城/分期商城3.0/MallRefundBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42940.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"b7FSgZGJ613cYb2XzUHJ0soz1CS/D4RmF15SoBmh1WS2ptZFKZ72IB4qmQ7iQnRZYuhfuCLwnhQFjH0TE2jEYg=="}
pid is 20256
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42940.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170731-退款定时任务修改/Develop/分期商城/分期商城3.0/MallRefundBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42940.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170731-退款定时任务修改/Develop/分期商城/分期商城3.0/MallRefundBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42940.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170731-退款定时任务修改/Develop/分期商城/分期商城3.0/MallRefundBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42940.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170731-退款定时任务修改/Develop/分期商城/分期商城3.0/MallRefundBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42940.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170731-退款定时任务修改/Develop/分期商城/分期商城3.0/MallRefundBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness' $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness
https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallManager
https://192.168.0.220/svn/tech/Branch/20170731-退款定时任务修改/Develop/分期商城/分期商城3.0/MallRefundBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.20256
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ mails-cm -i 'code merged from Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ awk -F '|' '{print$1}'
+ revision='r132857 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132838 '
+ '[' '!' -z r132857 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness@r132857' $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness@r132857' $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42940.html
Merged revision(s) r132857 -r132838   from Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ rm -f /home/qishanqing/tmp/merged/output.20256
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallManager'
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r132832 '
+ '[' '!' -z ']'
++ grep '^r'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ tail -n 4
++ awk -F '|' '{print$1}'
+ revision='r132537 '
+ '[' '!' -z r132537 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager@r132537' $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager@r132537' $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42940.html
Merged revision(s) r132537 -r132832   from Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallManager' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.20256
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170731-退款定时任务修改/Develop/分期商城/分期商城3.0/MallRefundBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132833 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
++ grep '^r'
++ tail -n 4
++ awk -F '|' '{print$1}'
+ revision='r132516 '
+ '[' '!' -z r132516 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness@r132516' $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness@r132516' $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42940.html
Merged revision(s) r132516 -r132833   from Branch/20170731-退款定时任务修改/Develop/分期商城/分期商城3.0/MallRefundBusiness' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (2.0ms)
  Rendered merge/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 76096ms (Views: 87.3ms)


Completed 200 OK in 76096ms (Views: 87.3ms)


Started POST "/start" for 192.168.5.26 at 2017-08-04 14:52:39 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-04 14:52:39 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170731-退款修改", "branch"=>"20170731-退款修改", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"qkT01EjVvxhkznfXyxLEKkHfRPqCtD9selym5a10k4NzU3AQ8MKiZaaFU07kEXmh6QTPZh9LJR5ojolWp72ChQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170731-退款修改", "branch"=>"20170731-退款修改", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"qkT01EjVvxhkznfXyxLEKkHfRPqCtD9selym5a10k4NzU3AQ8MKiZaaFU07kEXmh6QTPZh9LJR5ojolWp72ChQ=="}
pid is 20504
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170731-\351\200\200\346\254\276\344\277\256\346\224\271' -e qishanqing@dafy.com -E '' -b $'20170731-\351\200\200\346\254\276\344\277\256\346\224\271' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170731-退款修改'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170731-退款修改'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170731-退款修改'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170731-退款修改'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170731-\351\200\200\346\254\276\344\277\256\346\224\271' -e qishanqing@dafy.com -E '' -b $'20170731-\351\200\200\346\254\276\344\277\256\346\224\271' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170731-\351\200\200\346\254\276\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170731-\351\200\200\346\254\276\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170731-\351\200\200\346\254\276\344\277\256\346\224\271'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170731-退款修改: command not found
++ for y in '$trunk'
++ echo $'20170731-\351\200\200\346\254\276\344\277\256\346\224\271'
+ trunks=$'20170731-\351\200\200\346\254\276\344\277\256\346\224\271'
+ test del = add
+ delbranch
+ '[' -z $'20170731-\351\200\200\346\254\276\344\277\256\346\224\271' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170804
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708041452
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170731-\351\200\200\346\254\276\344\277\256\346\224\271'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170804-20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/20170731-\351\200\200\346\254\276\344\277\256\346\224\271'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708041452-20170731-\351\200\200\346\254\276\344\277\256\346\224\271'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170804-20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/20170731-\351\200\200\346\254\276\344\277\256\346\224\271'
++ awk -F / '{print $7}'
+ br=$'20170804-20170731-\351\200\200\346\254\276\344\277\256\346\224\271'
+ access=$'20170804-20170731-\351\200\200\346\254\276\344\277\256\346\224\271'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708041452-20170731-\351\200\200\346\254\276\344\277\256\346\224\271' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.20504
+ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170731-退款修改%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170731-退款修改%'\'';'
+ cat /tmp/cmdb.db.20504
+ rm -f /tmp/cmdb.db.20504
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.6ms)
  Rendered builder/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 1066ms (Views: 76.0ms)


Completed 200 OK in 1066ms (Views: 76.0ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-04 14:52:50 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-04 14:52:50 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.1ms)
  Rendered builder/index.html.erb within layouts/application (3.1ms)
Completed 200 OK in 59ms (Views: 57.2ms)


Completed 200 OK in 59ms (Views: 57.2ms)


Started POST "/start" for 192.168.5.26 at 2017-08-04 14:52:54 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-04 14:52:54 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170731-退款定时任务修改", "branch"=>"20170731-退款定时任务修改", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"TAeaU4qQ9C9dzwRl+YRjZAb3RIHiwexHT5E5MrCG8NyVEB6XMofpUp+EIPzWh97vrizPHX8+9jVdQxaBuk/h2g=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170731-退款定时任务修改", "branch"=>"20170731-退款定时任务修改", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"TAeaU4qQ9C9dzwRl+YRjZAb3RIHiwexHT5E5MrCG8NyVEB6XMofpUp+EIPzWh97vrizPHX8+9jVdQxaBuk/h2g=="}
pid is 20532
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271' -e qishanqing@dafy.com -E '' -b $'20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170731-退款定时任务修改'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170731-退款定时任务修改'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170731-退款定时任务修改'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170731-退款定时任务修改'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271' -e qishanqing@dafy.com -E '' -b $'20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170731-退款定时任务修改: command not found
++ for y in '$trunk'
++ echo $'20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271'
+ trunks=$'20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271'
+ test del = add
+ delbranch
+ '[' -z $'20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170804
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708041452
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170804-20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271/Develop/20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708041452-20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170804-20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271/Develop/20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271'
++ awk -F / '{print $7}'
+ br=$'20170804-20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271'
+ access=$'20170804-20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708041452-20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.20532
+ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170731-退款定时任务修改%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170731-退款定时任务修改%'\'';'
+ cat /tmp/cmdb.db.20532
+ rm -f /tmp/cmdb.db.20532
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.1ms)
  Rendered builder/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 748ms (Views: 48.3ms)


Completed 200 OK in 748ms (Views: 48.3ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-08-04 17:13:33 +0800
Started GET "/merge/new" for 192.168.5.26 at 2017-08-04 17:13:33 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
Filter chain halted as #<Proc:0x007fa6201d6028@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Filter chain halted as #<Proc:0x007fa6201d6028@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Completed 401 Unauthorized in 16ms


Completed 401 Unauthorized in 16ms


Started GET "/start" for 192.168.5.26 at 2017-08-04 17:13:33 +0800
Started GET "/start" for 192.168.5.26 at 2017-08-04 17:13:33 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  
  
ActionController::RoutingError (No route matches [GET] "/start"):
ActionController::RoutingError (No route matches [GET] "/start"):
  
  
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/merge/new" for 192.168.5.26 at 2017-08-04 17:13:45 +0800
Started GET "/merge/new" for 192.168.5.26 at 2017-08-04 17:13:45 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (5.0ms)
  Rendered merge/index.html.erb within layouts/application (5.0ms)
Completed 200 OK in 117ms (Views: 115.7ms)


Completed 200 OK in 117ms (Views: 115.7ms)


Started GET "/" for 192.168.5.26 at 2017-08-04 17:13:52 +0800
Started GET "/" for 192.168.5.26 at 2017-08-04 17:13:52 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.8ms)
  Rendered builder/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 91ms (Views: 63.7ms)


Completed 200 OK in 91ms (Views: 63.7ms)


Started POST "/start" for 192.168.5.26 at 2017-08-04 17:16:01 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-04 17:16:01 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"anliguo@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage", "branch"=>"达分期线上支付", "user"=>"jiawenjing liyanshu \tliangtaoli anliguo", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"G3Yui3665+xKBuwK3n5VX+ZgJGfEdOFPGnk8MvJaKYyXQm4szM4PEDr65k5e4Z2782r4RkPOYkjkWmwVt8f+VA=="}
  Parameters: {"email"=>"anliguo@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage", "branch"=>"达分期线上支付", "user"=>"jiawenjing liyanshu \tliangtaoli anliguo", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"G3Yui3665+xKBuwK3n5VX+ZgJGfEdOFPGnk8MvJaKYyXQm4szM4PEDr65k5e4Z2782r4RkPOYkjkWmwVt8f+VA=="}
Filter chain halted as #<Proc:0x00000004d549f0@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Filter chain halted as #<Proc:0x00000004d549f0@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Completed 401 Unauthorized in 2ms


Completed 401 Unauthorized in 2ms


Started POST "/start" for 192.168.5.26 at 2017-08-04 17:16:01 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-04 17:16:01 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"anliguo@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage", "branch"=>"达分期线上支付", "user"=>"jiawenjing liyanshu \tliangtaoli anliguo", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"G3Yui3665+xKBuwK3n5VX+ZgJGfEdOFPGnk8MvJaKYyXQm4szM4PEDr65k5e4Z2782r4RkPOYkjkWmwVt8f+VA=="}
  Parameters: {"email"=>"anliguo@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage", "branch"=>"达分期线上支付", "user"=>"jiawenjing liyanshu \tliangtaoli anliguo", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"G3Yui3665+xKBuwK3n5VX+ZgJGfEdOFPGnk8MvJaKYyXQm4szM4PEDr65k5e4Z2782r4RkPOYkjkWmwVt8f+VA=="}
pid is 27696
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'jiawenjing liyanshu 	liangtaoli anliguo' -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage' -e anliguo@dafy.com -E '' -b $'\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230' -T add -d ''
+ TEMP=' -u '\''jiawenjing liyanshu 	liangtaoli anliguo'\'' -t '\''前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'' -e '\''anliguo@dafy.com'\'' -E '\'''\'' -b '\''达分期线上支付'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''jiawenjing liyanshu 	liangtaoli anliguo'\'' -t '\''前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'' -e '\''anliguo@dafy.com'\'' -E '\'''\'' -b '\''达分期线上支付'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'jiawenjing liyanshu 	liangtaoli anliguo' -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage' -e anliguo@dafy.com -E '' -b $'\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230' -T add -d '' --
+ true
+ case "$1" in
+ user='jiawenjing liyanshu 	liangtaoli anliguo'
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ shift 2
+ true
+ case "$1" in
+ email=anliguo@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=anliguo@dafy.com '
+ SMARTCM_EXTRA_MAIL='anliguo@dafy.com '
++ jiawenjing liyanshu liangtaoli anliguo
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: jiawenjing: command not found
++ for x in '$user'
++ echo jiawenjing=rw
++ for x in '$user'
++ echo liyanshu=rw
++ for x in '$user'
++ echo liangtaoli=rw
++ for x in '$user'
++ echo anliguo=rw
+ users='jiawenjing=rw
liyanshu=rw
liangtaoli=rw
anliguo=rw'
++ $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ trunks=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage' ']'
+ '[' -z $'\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170804
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708041716
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708041716-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
++ awk -F / '{print $7}'
+ br=$'20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230'
+ access=$'20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage' $'https://192.168.0.220/svn/tech/Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.27696
+ echo $'https://192.168.0.220/svn/tech/Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'', '\''https://192.168.0.220/svn/tech/Branch/20170804-达分期线上支付/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'',now(),'\''anliguo'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'', '\''https://192.168.0.220/svn/tech/Branch/20170804-达分期线上支付/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'',now(),'\''anliguo'\'');'
+ cat /tmp/cmdb.db.27696
+ rm -f /tmp/cmdb.db.27696
+ check-acces
+ grep -c '20170804-达分期线上支付]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ cat
+ test -z 'jiawenjing=rw
liyanshu=rw
liangtaoli=rw
anliguo=rw'
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.7ms)
  Rendered builder/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 13481ms (Views: 82.0ms)


Completed 200 OK in 13481ms (Views: 82.0ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-08-04 18:06:10 +0800
Started GET "/merge/new" for 192.168.5.26 at 2017-08-04 18:06:10 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
Filter chain halted as #<Proc:0x007fa6201d6028@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Filter chain halted as #<Proc:0x007fa6201d6028@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Completed 401 Unauthorized in 1ms


Completed 401 Unauthorized in 1ms


Started GET "/merge/new" for 192.168.5.26 at 2017-08-04 18:06:16 +0800
Started GET "/merge/new" for 192.168.5.26 at 2017-08-04 18:06:16 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
Filter chain halted as #<Proc:0x007fa6201d6028@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Filter chain halted as #<Proc:0x007fa6201d6028@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Completed 401 Unauthorized in 3ms


Completed 401 Unauthorized in 3ms


Started GET "/merge/new" for 192.168.5.26 at 2017-08-04 18:07:17 +0800
Started GET "/merge/new" for 192.168.5.26 at 2017-08-04 18:07:17 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (2.6ms)
  Rendered merge/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 69ms (Views: 68.4ms)


Completed 200 OK in 69ms (Views: 68.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-04 18:12:47 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-04 18:12:47 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (5.6ms)
  Rendered builder/index.html.erb within layouts/application (5.6ms)
Completed 200 OK in 84ms (Views: 78.5ms)


Completed 200 OK in 84ms (Views: 78.5ms)


Started POST "/start" for 192.168.5.26 at 2017-08-04 18:13:18 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-04 18:13:18 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"ligan@dafy.com", "types"=>"add", "trunk"=>"基础业务/用户中心/UserSite", "branch"=>"登陆改造", "user"=>"", "extra_mails"=>"", "riqi"=>"20170803", "authenticity_token"=>"qpOifdmaXE8R0KPPUtlrNMHKL4fFR1a8t9EaVkEzwGomp+Laa+60s2EsqYvSRqPQ1MDzpkL91btJ8kpxBK4Xsg=="}
  Parameters: {"email"=>"ligan@dafy.com", "types"=>"add", "trunk"=>"基础业务/用户中心/UserSite", "branch"=>"登陆改造", "user"=>"", "extra_mails"=>"", "riqi"=>"20170803", "authenticity_token"=>"qpOifdmaXE8R0KPPUtlrNMHKL4fFR1a8t9EaVkEzwGomp+Laa+60s2EsqYvSRqPQ1MDzpkL91btJ8kpxBK4Xsg=="}
pid is 30218
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite' -e ligan@dafy.com -E '' -b $'\347\231\273\351\231\206\346\224\271\351\200\240' -T add -d 20170803
+ TEMP=' -u '\'''\'' -t '\''基础业务/用户中心/UserSite'\'' -e '\''ligan@dafy.com'\'' -E '\'''\'' -b '\''登陆改造'\'' -T '\''add'\'' -d '\''20170803'\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''基础业务/用户中心/UserSite'\'' -e '\''ligan@dafy.com'\'' -E '\'''\'' -b '\''登陆改造'\'' -T '\''add'\'' -d '\''20170803'\'' --'
++ set -- -u '' -t $'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite' -e ligan@dafy.com -E '' -b $'\347\231\273\351\231\206\346\224\271\351\200\240' -T add -d 20170803 --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ shift 2
+ true
+ case "$1" in
+ email=ligan@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\347\231\273\351\231\206\346\224\271\351\200\240'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=20170803
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=ligan@dafy.com '
+ SMARTCM_EXTRA_MAIL='ligan@dafy.com '
+ users=
++ $'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 基础业务/用户中心/UserSite: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ trunks=$'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite' ']'
+ '[' -z $'\347\231\273\351\231\206\346\224\271\351\200\240' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170804
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708041813
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\347\231\273\351\231\206\346\224\271\351\200\240'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708041813-\347\231\273\351\231\206\346\224\271\351\200\240'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
++ awk -F / '{print $7}'
+ br=$'20170803-\347\231\273\351\231\206\346\224\271\351\200\240'
+ access=$'20170803-\347\231\273\351\231\206\346\224\271\351\200\240'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite' $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.30218
+ echo $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/基础业务/用户中心/UserSite'\'', '\''https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/基础业务/用户中心/UserSite'\'',now(),'\''ligan'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/基础业务/用户中心/UserSite'\'', '\''https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/基础业务/用户中心/UserSite'\'',now(),'\''ligan'\'');'
+ cat /tmp/cmdb.db.30218
+ rm -f /tmp/cmdb.db.30218
+ check-acces
+ grep -c '20170803-登陆改造]' /mnt/svn/authz.conf
+ read num
+ '[' 1 -eq 0 ']'
++ sed '/20170803-登陆改造]/,/^[ \t]*$/!d;/20170803-登陆改造]/d;/^[ \t]*$/d' /mnt/svn/authz.conf
+ [[ ligan=rw
lijinming=rw
@admin=rw
*= =~ '' ]]
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 6859ms (Views: 92.9ms)


Completed 200 OK in 6859ms (Views: 92.9ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-07 10:03:24 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-07 10:03:24 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (52.8ms)
  Rendered builder/index.html.erb within layouts/application (52.8ms)
Completed 200 OK in 957ms (Views: 921.1ms)


Completed 200 OK in 957ms (Views: 921.1ms)


Started POST "/start" for 192.168.5.26 at 2017-08-07 10:05:07 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-07 10:05:07 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"wenshiyu@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/RepaymentBusiness2", "branch"=>"", "user"=>"wenshiyu weishaolong wanghongkai", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"w0RT5vmtttq/LsySCZbbyPOW//MMhopLlS9RoGnvKllPcBNBS9leJs/SxtaJCRMs5pwj0os8CUxrDAGHLHL9gQ=="}
  Parameters: {"email"=>"wenshiyu@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/RepaymentBusiness2", "branch"=>"", "user"=>"wenshiyu weishaolong wanghongkai", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"w0RT5vmtttq/LsySCZbbyPOW//MMhopLlS9RoGnvKllPcBNBS9leJs/SxtaJCRMs5pwj0os8CUxrDAGHLHL9gQ=="}
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.5ms)
  Rendered builder/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 72ms (Views: 70.6ms)


Completed 200 OK in 72ms (Views: 70.6ms)


Started POST "/start" for 192.168.5.26 at 2017-08-07 10:05:19 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-07 10:05:19 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/RepaymentBusiness2", "branch"=>"红岭改造", "user"=>"wenshiyu weishaolong wanghongkai", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"rxgS3Xtdlc+sfmUJUnrv98655aRUtTwnVIHDrxuB2O8jLFJ6ySl9M9yCb03S5ScT27M5hdMPvyCqopOIXhwPNw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/RepaymentBusiness2", "branch"=>"红岭改造", "user"=>"wenshiyu weishaolong wanghongkai", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"rxgS3Xtdlc+sfmUJUnrv98655aRUtTwnVIHDrxuB2O8jLFJ6ySl9M9yCb03S5ScT27M5hdMPvyCqopOIXhwPNw=="}
pid is 902
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'wenshiyu weishaolong wanghongkai' -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' -e qishanqing@dafy.com -E '' -b $'\347\272\242\345\262\255\346\224\271\351\200\240' -T add -d ''
+ TEMP=' -u '\''wenshiyu weishaolong wanghongkai'\'' -t '\''外部业务/P2P/Business/RepaymentBusiness2'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''红岭改造'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''wenshiyu weishaolong wanghongkai'\'' -t '\''外部业务/P2P/Business/RepaymentBusiness2'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''红岭改造'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'wenshiyu weishaolong wanghongkai' -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' -e qishanqing@dafy.com -E '' -b $'\347\272\242\345\262\255\346\224\271\351\200\240' -T add -d '' --
+ true
+ case "$1" in
+ user='wenshiyu weishaolong wanghongkai'
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\347\272\242\345\262\255\346\224\271\351\200\240'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
++ wenshiyu weishaolong wanghongkai
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: wenshiyu: command not found
++ for x in '$user'
++ echo wenshiyu=rw
++ for x in '$user'
++ echo weishaolong=rw
++ for x in '$user'
++ echo wanghongkai=rw
+ users='wenshiyu=rw
weishaolong=rw
wanghongkai=rw'
++ $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 外部业务/P2P/Business/RepaymentBusiness2: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ trunks=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' ']'
+ '[' -z $'\347\272\242\345\262\255\346\224\271\351\200\240' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170807
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708071005
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170807-\347\272\242\345\262\255\346\224\271\351\200\240/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\347\272\242\345\262\255\346\224\271\351\200\240'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708071005-\347\272\242\345\262\255\346\224\271\351\200\240'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170807-\347\272\242\345\262\255\346\224\271\351\200\240/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ awk -F / '{print $7}'
+ br=$'20170807-\347\272\242\345\262\255\346\224\271\351\200\240'
+ access=$'20170807-\347\272\242\345\262\255\346\224\271\351\200\240'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' $'https://192.168.0.220/svn/tech/Branch/20170807-\347\272\242\345\262\255\346\224\271\351\200\240/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.902
+ echo $'https://192.168.0.220/svn/tech/Branch/20170807-\347\272\242\345\262\255\346\224\271\351\200\240/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/RepaymentBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170807-红岭改造/Develop/外部业务/P2P/Business/RepaymentBusiness2'\'',now(),'\''qishanqing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/RepaymentBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170807-红岭改造/Develop/外部业务/P2P/Business/RepaymentBusiness2'\'',now(),'\''qishanqing'\'');'
+ cat /tmp/cmdb.db.902
+ rm -f /tmp/cmdb.db.902
+ check-acces
+ grep -c '20170807-红岭改造]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z 'wenshiyu=rw
weishaolong=rw
wanghongkai=rw'
+ cat
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 12349ms (Views: 83.2ms)


Completed 200 OK in 12349ms (Views: 83.2ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-07 10:06:00 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-07 10:06:00 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.5ms)
  Rendered builder/index.html.erb within layouts/application (3.5ms)
Completed 200 OK in 338ms (Views: 335.6ms)


Completed 200 OK in 338ms (Views: 335.6ms)


Started POST "/start" for 192.168.5.26 at 2017-08-07 10:06:46 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-07 10:06:46 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"niutieliang@dafy.com", "types"=>"add", "trunk"=>"事事分期/卓越线上理财/LendBusiness", "branch"=>"区块链", "user"=>"niutieliang", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"UqgNyfIBd0lnq3C3+qf9BVktlMJLObqio+vUcAmrkYvenE1uQHWftRdXevN6ODXhTCdI48yDOaVdyIRXTDZGUw=="}
  Parameters: {"email"=>"niutieliang@dafy.com", "types"=>"add", "trunk"=>"事事分期/卓越线上理财/LendBusiness", "branch"=>"区块链", "user"=>"niutieliang", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"UqgNyfIBd0lnq3C3+qf9BVktlMJLObqio+vUcAmrkYvenE1uQHWftRdXevN6ODXhTCdI48yDOaVdyIRXTDZGUw=="}
pid is 977
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u niutieliang -t $'\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness' -e niutieliang@dafy.com -E '' -b $'\345\214\272\345\235\227\351\223\276' -T add -d ''
+ TEMP=' -u '\''niutieliang'\'' -t '\''事事分期/卓越线上理财/LendBusiness'\'' -e '\''niutieliang@dafy.com'\'' -E '\'''\'' -b '\''区块链'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''niutieliang'\'' -t '\''事事分期/卓越线上理财/LendBusiness'\'' -e '\''niutieliang@dafy.com'\'' -E '\'''\'' -b '\''区块链'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u niutieliang -t $'\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness' -e niutieliang@dafy.com -E '' -b $'\345\214\272\345\235\227\351\223\276' -T add -d '' --
+ true
+ case "$1" in
+ user=niutieliang
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness'
+ shift 2
+ true
+ case "$1" in
+ email=niutieliang@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\345\214\272\345\235\227\351\223\276'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=niutieliang@dafy.com '
+ SMARTCM_EXTRA_MAIL='niutieliang@dafy.com '
++ niutieliang
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: niutieliang: command not found
++ for x in '$user'
++ echo niutieliang=rw
+ users=niutieliang=rw
++ $'\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 事事分期/卓越线上理财/LendBusiness: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness'
+ trunks=$'\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness' ']'
+ '[' -z $'\345\214\272\345\235\227\351\223\276' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170807
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708071006
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170807-\345\214\272\345\235\227\351\223\276/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\214\272\345\235\227\351\223\276'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708071006-\345\214\272\345\235\227\351\223\276'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170807-\345\214\272\345\235\227\351\223\276/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness'
++ awk -F / '{print $7}'
+ br=$'20170807-\345\214\272\345\235\227\351\223\276'
+ access=$'20170807-\345\214\272\345\235\227\351\223\276'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness' $'https://192.168.0.220/svn/tech/Branch/20170807-\345\214\272\345\235\227\351\223\276/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.977
+ echo $'https://192.168.0.220/svn/tech/Branch/20170807-\345\214\272\345\235\227\351\223\276/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/事事分期/卓越线上理财/LendBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170807-区块链/Develop/事事分期/卓越线上理财/LendBusiness'\'',now(),'\''niutieliang'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/事事分期/卓越线上理财/LendBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170807-区块链/Develop/事事分期/卓越线上理财/LendBusiness'\'',now(),'\''niutieliang'\'');'
+ cat /tmp/cmdb.db.977
+ rm -f /tmp/cmdb.db.977
+ check-acces
+ grep -c '20170807-区块链]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z niutieliang=rw
+ cat
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.3ms)
  Rendered builder/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 5172ms (Views: 80.1ms)


Completed 200 OK in 5172ms (Views: 80.1ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-07 10:31:32 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-07 10:31:32 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManageOrderBusiness", "task"=>"http://192.168.0.221/zentao/task-view-43185.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"pDG08xNF0h7wkpkHq79pSB4Voo7eMC+wCL1I3CE0cqLW7wg6ipn8XAztTyFph04nZ9KfL4V6C/RrMPC4Nz6a0A=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManageOrderBusiness", "task"=>"http://192.168.0.221/zentao/task-view-43185.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"pDG08xNF0h7wkpkHq79pSB4Voo7eMC+wCL1I3CE0cqLW7wg6ipn8XAztTyFph04nZ9KfL4V6C/RrMPC4Nz6a0A=="}
pid is 3201
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43185.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43185.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManageOrderBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43185.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManageOrderBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43185.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43185.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManageOrderBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.3201
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ svn_from_tb_merged
+ mails-cm -i 'code merged from Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManageOrderBusiness'
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ awk -F '|' '{print$1}'
++ head -n 4
++ grep '^r'
++ svn log
++ grep -C 3 $'Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ revision=
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
++ grep '^r'
+ head='r133129 '
+ '[' '!' -z ']'
++ grep '^r'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
++ tail -n 4
++ awk -F '|' '{print$1}'
+ revision='r133129 '
+ '[' '!' -z r133129 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness@r133129' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness@r133129' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43185.html
Merged revision(s) r133129 -r133129   from Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManageOrderBusiness' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (36.8ms)
  Rendered merge/new.html.erb within layouts/application (36.8ms)
Completed 200 OK in 41640ms (Views: 586.6ms)


Completed 200 OK in 41640ms (Views: 586.6ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-07 10:32:26 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-07 10:32:26 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (17.5ms)
  Rendered merge/index.html.erb within layouts/application (17.5ms)
Completed 200 OK in 110ms (Views: 96.4ms)


Completed 200 OK in 110ms (Views: 96.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-07 10:32:39 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-07 10:32:39 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol", "task"=>"http://192.168.0.221/zentao/task-view-43189.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"dSqldpiZ4vvfscmFGp0REPFAZMbdQzYQYxfdeM62mSkH9Bm/AUXMuSPOH6PYpTZ/iIdZZ4YJElQAmmUc2LxxWw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol", "task"=>"http://192.168.0.221/zentao/task-view-43189.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"dSqldpiZ4vvfscmFGp0REPFAZMbdQzYQYxfdeM62mSkH9Bm/AUXMuSPOH6PYpTZ/iIdZZ4YJElQAmmUc2LxxWw=="}
pid is 3405
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43189.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43189.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43189.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43189.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43189.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ rm -f /home/qishanqing/tmp/merged/output.3405
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r132848 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r134022 '
+ '[' '!' -z r132848 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol@r132848' $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol' .
++ grep -Ei 'conflicts|树冲突'
Started GET "/start" for 192.168.5.26 at 2017-08-07 10:33:06 +0800
Started GET "/start" for 192.168.5.26 at 2017-08-07 10:33:06 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  
  
ActionController::RoutingError (No route matches [GET] "/start"):
ActionController::RoutingError (No route matches [GET] "/start"):
  
  
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol@r132848' $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43189.html
Merged revision(s) r132848 -r134022   from Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.3ms)
  Rendered merge/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 37251ms (Views: 2564.8ms)


Completed 200 OK in 37251ms (Views: 2564.8ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-07 10:33:27 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-07 10:33:27 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (10.0ms)
  Rendered merge/index.html.erb within layouts/application (10.0ms)
Completed 200 OK in 161ms (Views: 158.8ms)


Completed 200 OK in 161ms (Views: 158.8ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-07 10:34:31 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-07 10:34:31 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory", "task"=>"http://192.168.0.221/zentao/task-view-43070.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"epjz1puuZi8qbiQYtqEYC7Trjau8z6D8YVZPQss4u7ZNVm+Ar4TuDN89vaA3P9H/dKqZlwiBLEkQcwGxlndHWA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory", "task"=>"http://192.168.0.221/zentao/task-view-43070.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"epjz1puuZi8qbiQYtqEYC7Trjau8z6D8YVZPQss4u7ZNVm+Ar4TuDN89vaA3P9H/dKqZlwiBLEkQcwGxlndHWA=="}
Filter chain halted as #<Proc:0x007fa6201d6028@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Filter chain halted as #<Proc:0x007fa6201d6028@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Completed 401 Unauthorized in 2ms


Completed 401 Unauthorized in 2ms


Started POST "/merge/new" for 192.168.5.26 at 2017-08-07 10:34:32 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-07 10:34:32 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory", "task"=>"http://192.168.0.221/zentao/task-view-43070.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"epjz1puuZi8qbiQYtqEYC7Trjau8z6D8YVZPQss4u7ZNVm+Ar4TuDN89vaA3P9H/dKqZlwiBLEkQcwGxlndHWA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory", "task"=>"http://192.168.0.221/zentao/task-view-43070.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"epjz1puuZi8qbiQYtqEYC7Trjau8z6D8YVZPQss4u7ZNVm+Ar4TuDN89vaA3P9H/dKqZlwiBLEkQcwGxlndHWA=="}
pid is 3696
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43070.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43070.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43070.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43070.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43070.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.3696
+ echo
+ cat /home/qishanqing/tmp/merged/output.3696
+ rm -f /home/qishanqing/tmp/merged/output.3696
+ rm -f /home/qishanqing/tmp/merged/output.3696
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r132938 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ grep '^r'
++ awk -F '|' '{print$1}'
svn: E160013: 找不到路径 “/svn/tech/!svn/rvr/134311/Branch/20170713-https/Develop/%E8%80%81%E7%B3%BB%E7%BB%9F/%E6%96%B0%E8%BE%BE%E9%A3%9E%E8%B4%B7/%E7%BD%91%E7%AB%99%E4%B8%AD%E5%BF%83/BossSite”
+ head=
+ '[' '!' -z r132938 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r132938' $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' .
++ grep -Ei 'conflicts|树冲突'
svn: E160013: 找不到路径 “/svn/tech/!svn/rvr/134311/Branch/20170713-https/Develop/%E8%80%81%E7%B3%BB%E7%BB%9F/%E6%96%B0%E8%BE%BE%E9%A3%9E%E8%B4%B7/%E7%BD%91%E7%AB%99%E4%B8%AD%E5%BF%83/BossSite”
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r132938' $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
svn: E160013: 找不到路径 “/svn/tech/!svn/rvr/134311/Branch/20170713-https/Develop/%E8%80%81%E7%B3%BB%E7%BB%9F/%E6%96%B0%E8%BE%BE%E9%A3%9E%E8%B4%B7/%E7%BD%91%E7%AB%99%E4%B8%AD%E5%BF%83/BossSite”
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43070.html
Merged revision(s) r132938 -  from Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ rm -f /home/qishanqing/tmp/merged/output.3696
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory'
+ svn cleanup .
+ xargs rm -rf
+ svn st
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
++ head -n 4
++ awk -F '|' '{print$1}'
+ revision='r130981 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r134026 '
+ '[' '!' -z r130981 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory@r130981' $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory@r130981' $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43070.html
Merged revision(s) r130981 -r134026   from Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (2.0ms)
  Rendered merge/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 227125ms (Views: 78.6ms)


Completed 200 OK in 227125ms (Views: 78.6ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-07 10:39:08 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-07 10:39:08 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.3ms)
  Rendered merge/index.html.erb within layouts/application (4.3ms)
Completed 200 OK in 72ms (Views: 69.9ms)


Completed 200 OK in 72ms (Views: 69.9ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-07 10:39:22 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-07 10:39:22 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManager", "task"=>"http://192.168.0.221/zentao/task-view-43297.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"rpNBCk5OMMu2kBHUr9Gzem22bFcDBP/6/ZvYEWq6sseZXd1cemS46EPDiGwuT3qOrfd4a7dKc0+MvpbiN/VOKQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManager", "task"=>"http://192.168.0.221/zentao/task-view-43297.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"rpNBCk5OMMu2kBHUr9Gzem22bFcDBP/6/ZvYEWq6sseZXd1cemS46EPDiGwuT3qOrfd4a7dKc0+MvpbiN/VOKQ=="}
pid is 4096
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43297.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43297.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManager'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43297.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManager'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43297.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43297.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManager: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ rm -f /home/qishanqing/tmp/merged/output.4096
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn_from_tb_merged
+ mails-cm -i 'code merged from Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManager'
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r133891 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r133128 '
+ '[' '!' -z r133128 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager@r133128' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：2'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2322' ']'
+ die 'Svn merged conflicts the r133128 -r133891  from Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManager'
+ echo 'Svn merged conflicts the r133128 -r133891  from Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManager'
+ test -e /home/qishanqing/tmp/merged/output.4096
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.4096
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43297.html
Merged revision(s) r133128 -r133891   from Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManager' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (2.8ms)
  Rendered merge/new.html.erb within layouts/application (2.8ms)
Completed 200 OK in 23008ms (Views: 80.7ms)


Completed 200 OK in 23008ms (Views: 80.7ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-07 10:40:16 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-07 10:40:16 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (18.5ms)
  Rendered merge/index.html.erb within layouts/application (18.5ms)
Completed 200 OK in 299ms (Views: 296.4ms)


Completed 200 OK in 299ms (Views: 296.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-07 10:40:24 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-07 10:40:24 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage", "task"=>"http://192.168.0.221/zentao/task-view-43205.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"NBmudhfV9o8NwPcYnHUce6ymzX0yA22iO1ABvqZsnxgD1zIgI/9+rPiTbqAd69WPbOfZQYZN4RdKdU9N+yNj9g=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage", "task"=>"http://192.168.0.221/zentao/task-view-43205.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"NBmudhfV9o8NwPcYnHUce6ymzX0yA22iO1ABvqZsnxgD1zIgI/9+rPiTbqAd69WPbOfZQYZN4RdKdU9N+yNj9g=="}
pid is 4171
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43205.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43205.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43205.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43205.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43205.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ branchs=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ rm -f /home/qishanqing/tmp/merged/output.4171
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ awk -F '|' '{print$1}'
++ grep '^r'
++ grep -C 3 $'Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r133151 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision=
+ '[' '!' -z ']'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43205.html
Merged revision(s) -r133151   from Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.0ms)
  Rendered merge/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 19802ms (Views: 56.4ms)


Completed 200 OK in 19802ms (Views: 56.4ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-07 10:43:35 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-07 10:43:35 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (6.3ms)
  Rendered merge/index.html.erb within layouts/application (6.3ms)
Completed 200 OK in 170ms (Views: 163.9ms)


Completed 200 OK in 170ms (Views: 163.9ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-07 10:43:44 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-07 10:43:44 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37", "task"=>"http://192.168.0.221/zentao/task-view-43164.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"LCdJ3QOt7ZgFSJdpXxzGyv50hAlvaPDZt/bEwz5my2Qb6dWLN4dlu/AbDtHegg8+PjWQNdsmfGzG04owYyk3ig=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37", "task"=>"http://192.168.0.221/zentao/task-view-43164.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"LCdJ3QOt7ZgFSJdpXxzGyv50hAlvaPDZt/bEwz5my2Qb6dWLN4dlu/AbDtHegg8+PjWQNdsmfGzG04owYyk3ig=="}
pid is 4288
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43164.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43164.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43164.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43164.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43164.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ rm -f /home/qishanqing/tmp/merged/output.4288
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37'
+ grep '^?'
+ xargs rm -rf
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep -C 3 $'Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ revision='r133864 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r134057 '
+ '[' '!' -z r133864 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37@r133864' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37@r133864' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43164.html
Merged revision(s) r133864 -r134057   from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.6ms)
  Rendered merge/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 96970ms (Views: 111.4ms)


Completed 200 OK in 96970ms (Views: 111.4ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-07 10:48:06 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-07 10:48:06 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (6.1ms)
  Rendered merge/index.html.erb within layouts/application (6.1ms)
Completed 200 OK in 204ms (Views: 200.7ms)


Completed 200 OK in 204ms (Views: 200.7ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-07 10:48:38 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-07 10:48:38 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_gateway https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42 https://192.168.0.220/svn/tech/Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol", "task"=>"http://192.168.0.221/zentao/task-view-43209.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"HsQt08/Otw529JTPoUlAk97H3ZJXCw9CSaB8q3Ij3t4pCrGF++Q/LYOnDXcg14lnHobJruNFg/c4hTJYL2wiMA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_gateway https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42 https://192.168.0.220/svn/tech/Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol", "task"=>"http://192.168.0.221/zentao/task-view-43209.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"HsQt08/Otw529JTPoUlAk97H3ZJXCw9CSaB8q3Ij3t4pCrGF++Q/LYOnDXcg14lnHobJruNFg/c4hTJYL2wiMA=="}
pid is 4483
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43209.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_gateway https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42 https://192.168.0.220/svn/tech/Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43209.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_gateway https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42 https://192.168.0.220/svn/tech/Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43209.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_gateway https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42 https://192.168.0.220/svn/tech/Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43209.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_gateway https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42 https://192.168.0.220/svn/tech/Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43209.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_gateway https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42 https://192.168.0.220/svn/tech/Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_gateway' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42' $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport' $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_gateway: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_gateway'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_gateway
https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42
https://192.168.0.220/svn/tech/Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport
https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_gateway'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_gateway'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_gateway'
+ rm -f /home/qishanqing/tmp/merged/output.4483
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_gateway'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_gateway'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_gateway'
+ die '外部业务/P2P/Business/basefundprovider/kaolazhitou_gateway  project code no found'
+ mails-cm -i 'svn merged faild'
+ echo '外部业务/P2P/Business/basefundprovider/kaolazhitou_gateway  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.4483
+ rm -f /home/qishanqing/tmp/merged/output.4483
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ rm -f /home/qishanqing/tmp/merged/output.4483
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ die '外部业务/P2P/Business/basefundprovider/kaolazhitou_42  project code no found'
+ mails-cm -i 'svn merged faild'
+ echo '外部业务/P2P/Business/basefundprovider/kaolazhitou_42  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.4483
+ rm -f /home/qishanqing/tmp/merged/output.4483
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ rm -f /home/qishanqing/tmp/merged/output.4483
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport'
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ awk -F '|' '{print$1}'
++ grep '^r'
++ grep -C 3 $'Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ revision=
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
++ awk -F '|' '{print$1}'
+ head='r134163 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
++ tail -n 4
+ revision='r126626 '
+ '[' '!' -z r126626 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport@r126626' $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：3'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2323' ']'
+ die 'Svn merged conflicts the r126626 -r134163  from Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport'
+ echo 'Svn merged conflicts the r126626 -r134163  from Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.4483
+ rm -f /home/qishanqing/tmp/merged/output.4483
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43209.html
Merged revision(s) r126626 -r134163   from Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ rm -f /home/qishanqing/tmp/merged/output.4483
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ mails-cm -i 'code merged from Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r134306 '
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ head='r134022 '
+ '[' '!' -z r134306 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol@r134306' $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol@r134306' $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43209.html
Merged revision(s) r134306 -r134022   from Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (22.0ms)
  Rendered merge/new.html.erb within layouts/application (22.0ms)
Completed 200 OK in 176471ms (Views: 77.7ms)


Completed 200 OK in 176471ms (Views: 77.7ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-07 10:54:35 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-07 10:54:35 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (21.0ms)
  Rendered merge/index.html.erb within layouts/application (21.0ms)
Completed 200 OK in 113ms (Views: 110.6ms)


Completed 200 OK in 113ms (Views: 110.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-07 10:54:44 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-07 10:54:44 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170804-达分期线上支付/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage", "task"=>"http://192.168.0.221/zentao/task-view-43205.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"JbBEwgRnDViMBwf6msKlCXQQtOzSF4LcPWkqnmxRQJ4SftiUME2Fe3lUnkIbXGz9tFGg0GZZDmlMTGRtMR68cA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170804-达分期线上支付/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage", "task"=>"http://192.168.0.221/zentao/task-view-43205.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"JbBEwgRnDViMBwf6msKlCXQQtOzSF4LcPWkqnmxRQJ4SftiUME2Fe3lUnkIbXGz9tFGg0GZZDmlMTGRtMR68cA=="}
pid is 4805
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43205.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43205.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170804-达分期线上支付/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43205.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170804-达分期线上支付/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43205.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43205.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170804-达分期线上支付/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ rm -f /home/qishanqing/tmp/merged/output.4805
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170804-达分期线上支付/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep -C 3 $'Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r134139 
repayment.js'
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
++ tail -n 4
+ revision='r134079 '
+ '[' '!' -z r134079 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage@r134079' $'https://192.168.0.220/svn/tech/Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage@r134079' $'https://192.168.0.220/svn/tech/Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43205.html
Merged revision(s) r134079 -r134139 
repayment.js  from Branch/20170804-达分期线上支付/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (2.2ms)
  Rendered merge/new.html.erb within layouts/application (2.2ms)
Completed 200 OK in 173000ms (Views: 145.8ms)


Completed 200 OK in 173000ms (Views: 145.8ms)


Started GET "/" for 192.168.5.26 at 2017-08-07 10:59:52 +0800
Started GET "/" for 192.168.5.26 at 2017-08-07 10:59:52 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (6.4ms)
  Rendered builder/index.html.erb within layouts/application (6.4ms)
Completed 200 OK in 156ms (Views: 152.6ms)


Completed 200 OK in 156ms (Views: 152.6ms)


Started POST "/start" for 192.168.5.26 at 2017-08-07 10:59:56 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-07 10:59:56 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170804-达分期线上支付", "branch"=>"20170804-达分期线上支付", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"ZbaMArtrPbvTz6n3GNhrJVL+w35Rhl21YeOjfITVbhO495MKlbFZaZo8Dv9QcqN/wOfucsQ5457sPV6xqzFVvw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170804-达分期线上支付", "branch"=>"20170804-达分期线上支付", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"ZbaMArtrPbvTz6n3GNhrJVL+w35Rhl21YeOjfITVbhO495MKlbFZaZo8Dv9QcqN/wOfucsQ5457sPV6xqzFVvw=="}
Filter chain halted as #<Proc:0x00000004d549f0@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Filter chain halted as #<Proc:0x00000004d549f0@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Completed 401 Unauthorized in 2ms


Completed 401 Unauthorized in 2ms


Started POST "/start" for 192.168.5.26 at 2017-08-07 10:59:58 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-07 10:59:58 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170804-达分期线上支付", "branch"=>"20170804-达分期线上支付", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"ZbaMArtrPbvTz6n3GNhrJVL+w35Rhl21YeOjfITVbhO495MKlbFZaZo8Dv9QcqN/wOfucsQ5457sPV6xqzFVvw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170804-达分期线上支付", "branch"=>"20170804-达分期线上支付", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"ZbaMArtrPbvTz6n3GNhrJVL+w35Rhl21YeOjfITVbhO495MKlbFZaZo8Dv9QcqN/wOfucsQ5457sPV6xqzFVvw=="}
pid is 4972
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230' -e qishanqing@dafy.com -E '' -b $'20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170804-达分期线上支付'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170804-达分期线上支付'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170804-达分期线上支付'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170804-达分期线上支付'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230' -e qishanqing@dafy.com -E '' -b $'20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170804-达分期线上支付: command not found
++ for y in '$trunk'
++ echo $'20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230'
+ trunks=$'20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230'
+ test del = add
+ delbranch
+ '[' -z $'20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170807
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708071059
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170807-20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230/Develop/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708071059-20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170807-20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230/Develop/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230'
++ awk -F / '{print $7}'
+ br=$'20170807-20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230'
+ access=$'20170807-20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708071059-20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.4972
+ echo $'https://192.168.0.220/svn/tech/Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170804-达分期线上支付%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170804-达分期线上支付%'\'';'
+ cat /tmp/cmdb.db.4972
+ rm -f /tmp/cmdb.db.4972
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 1451ms (Views: 63.4ms)


Completed 200 OK in 1451ms (Views: 63.4ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-07 11:10:02 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-07 11:10:02 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (21.5ms)
  Rendered merge/index.html.erb within layouts/application (21.5ms)
Completed 200 OK in 228ms (Views: 225.3ms)


Completed 200 OK in 228ms (Views: 225.3ms)


Started GET "/" for 192.168.5.26 at 2017-08-07 11:10:10 +0800
Started GET "/" for 192.168.5.26 at 2017-08-07 11:10:10 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.4ms)
  Rendered builder/index.html.erb within layouts/application (3.4ms)
Completed 200 OK in 140ms (Views: 136.5ms)


Completed 200 OK in 140ms (Views: 136.5ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-07 11:43:11 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-07 11:43:11 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (16.8ms)
  Rendered builder/index.html.erb within layouts/application (16.8ms)
Completed 200 OK in 61ms (Views: 58.9ms)


Completed 200 OK in 61ms (Views: 58.9ms)


Started POST "/start" for 192.168.5.26 at 2017-08-07 13:33:20 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-07 13:33:20 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"wenshiyu@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/RepaymentBusiness2", "branch"=>"商城退款优化", "user"=>"wenshiyu weishaolong wanghongkai", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"0v+z4/bPz4VcA3t8nTlwn4UjHOeVejY16HaAn+hvsYgPvqzr2BWrVxXw3HTVk7jFFzox6wDFiB5lqH1Sx4uKJA=="}
  Parameters: {"email"=>"wenshiyu@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/RepaymentBusiness2", "branch"=>"商城退款优化", "user"=>"wenshiyu weishaolong wanghongkai", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"0v+z4/bPz4VcA3t8nTlwn4UjHOeVejY16HaAn+hvsYgPvqzr2BWrVxXw3HTVk7jFFzox6wDFiB5lqH1Sx4uKJA=="}
pid is 11783
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'wenshiyu weishaolong wanghongkai' -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' -e wenshiyu@dafy.com -E '' -b $'\345\225\206\345\237\216\351\200\200\346\254\276\344\274\230\345\214\226' -T add -d ''
+ TEMP=' -u '\''wenshiyu weishaolong wanghongkai'\'' -t '\''外部业务/P2P/Business/RepaymentBusiness2'\'' -e '\''wenshiyu@dafy.com'\'' -E '\'''\'' -b '\''商城退款优化'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''wenshiyu weishaolong wanghongkai'\'' -t '\''外部业务/P2P/Business/RepaymentBusiness2'\'' -e '\''wenshiyu@dafy.com'\'' -E '\'''\'' -b '\''商城退款优化'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'wenshiyu weishaolong wanghongkai' -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' -e wenshiyu@dafy.com -E '' -b $'\345\225\206\345\237\216\351\200\200\346\254\276\344\274\230\345\214\226' -T add -d '' --
+ true
+ case "$1" in
+ user='wenshiyu weishaolong wanghongkai'
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ shift 2
+ true
+ case "$1" in
+ email=wenshiyu@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\345\225\206\345\237\216\351\200\200\346\254\276\344\274\230\345\214\226'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=wenshiyu@dafy.com '
+ SMARTCM_EXTRA_MAIL='wenshiyu@dafy.com '
++ wenshiyu weishaolong wanghongkai
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: wenshiyu: command not found
++ for x in '$user'
++ echo wenshiyu=rw
++ for x in '$user'
++ echo weishaolong=rw
++ for x in '$user'
++ echo wanghongkai=rw
+ users='wenshiyu=rw
weishaolong=rw
wanghongkai=rw'
++ $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 外部业务/P2P/Business/RepaymentBusiness2: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ trunks=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' ']'
+ '[' -z $'\345\225\206\345\237\216\351\200\200\346\254\276\344\274\230\345\214\226' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170807
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708071333
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170807-\345\225\206\345\237\216\351\200\200\346\254\276\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\225\206\345\237\216\351\200\200\346\254\276\344\274\230\345\214\226'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708071333-\345\225\206\345\237\216\351\200\200\346\254\276\344\274\230\345\214\226'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170807-\345\225\206\345\237\216\351\200\200\346\254\276\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ awk -F / '{print $7}'
+ br=$'20170807-\345\225\206\345\237\216\351\200\200\346\254\276\344\274\230\345\214\226'
+ access=$'20170807-\345\225\206\345\237\216\351\200\200\346\254\276\344\274\230\345\214\226'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' $'https://192.168.0.220/svn/tech/Branch/20170807-\345\225\206\345\237\216\351\200\200\346\254\276\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.11783
+ echo $'https://192.168.0.220/svn/tech/Branch/20170807-\345\225\206\345\237\216\351\200\200\346\254\276\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/RepaymentBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170807-商城退款优化/Develop/外部业务/P2P/Business/RepaymentBusiness2'\'',now(),'\''wenshiyu'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/RepaymentBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170807-商城退款优化/Develop/外部业务/P2P/Business/RepaymentBusiness2'\'',now(),'\''wenshiyu'\'');'
+ cat /tmp/cmdb.db.11783
+ rm -f /tmp/cmdb.db.11783
+ check-acces
+ grep -c '20170807-商城退款优化]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z 'wenshiyu=rw
weishaolong=rw
+ cat
wanghongkai=rw'
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (23.0ms)
  Rendered builder/new.html.erb within layouts/application (23.0ms)
Completed 200 OK in 11348ms (Views: 1985.8ms)


Completed 200 OK in 11348ms (Views: 1985.8ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-07 13:56:55 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-07 13:56:55 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManager", "task"=>"http://192.168.0.221/zentao/task-view-43331.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"6UzPNTDrlBgF1HwVYo2lY0XCW4NJ8IG7vuRGPxMclw7eglNjBMEcO/CH5a3jE2yXhYNPv/2+DQ7PwQjMTlNr4A=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManager", "task"=>"http://192.168.0.221/zentao/task-view-43331.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"6UzPNTDrlBgF1HwVYo2lY0XCW4NJ8IG7vuRGPxMclw7eglNjBMEcO/CH5a3jE2yXhYNPv/2+DQ7PwQjMTlNr4A=="}
pid is 12602
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43331.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManager' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43331.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManager'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43331.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManager'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43331.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManager' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43331.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManager'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness' $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness
https://192.168.0.220/svn/tech/Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManager'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.12602
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness'
+ grep '^?'
+ svn st
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ awk -F '|' '{print$1}'
++ head -n 4
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r133889 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r131969 '
+ '[' '!' -z r131969 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness@r131969' $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness@r131969' $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43331.html
Merged revision(s) r131969 -r133889   from Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ rm -f /home/qishanqing/tmp/merged/output.12602
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManager'
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ awk -F '|' '{print$1}'
++ head -n 4
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ revision=
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ grep '^r'
+ head='r134338 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ tail -n 4
+ revision='r131968 '
+ '[' '!' -z r131968 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager@r131968' $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：3'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2323' ']'
+ die 'Svn merged conflicts the r131968 -r134338  from Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManager'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r131968 -r134338  from Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManager'
+ test -e /home/qishanqing/tmp/merged/output.12602
+ rm -f /home/qishanqing/tmp/merged/output.12602
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43331.html
Merged revision(s) r131968 -r134338   from Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManager' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.6ms)
  Rendered merge/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 133860ms (Views: 144.5ms)


Completed 200 OK in 133860ms (Views: 144.5ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-07 14:40:16 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-07 14:40:16 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (27.6ms)
  Rendered builder/index.html.erb within layouts/application (27.6ms)
Completed 200 OK in 433ms (Views: 400.3ms)


Completed 200 OK in 433ms (Views: 400.3ms)


Started POST "/start" for 192.168.5.26 at 2017-08-07 14:40:20 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-07 14:40:20 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170728-类目功能优化", "branch"=>"20170728-类目功能优化", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"5fAeowU7+f5zkoZLZDtatOeET/bEnUasLnETPjZrHK44sQGrK+GdLDphIUMskZLudZ1i+lEi+Iejr+7zGY8nAg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170728-类目功能优化", "branch"=>"20170728-类目功能优化", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"5fAeowU7+f5zkoZLZDtatOeET/bEnUasLnETPjZrHK44sQGrK+GdLDphIUMskZLudZ1i+lEi+Iejr+7zGY8nAg=="}
pid is 14791
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226' -e qishanqing@dafy.com -E '' -b $'20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170728-类目功能优化'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170728-类目功能优化'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170728-类目功能优化'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170728-类目功能优化'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226' -e qishanqing@dafy.com -E '' -b $'20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170728-类目功能优化: command not found
++ for y in '$trunk'
++ echo $'20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226'
+ trunks=$'20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226'
+ test del = add
+ delbranch
+ '[' -z $'20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170807
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708071440
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170807-20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708071440-20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170807-20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226'
++ awk -F / '{print $7}'
+ br=$'20170807-20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226'
+ access=$'20170807-20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708071440-20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.14791
+ echo $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170728-类目功能优化%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170728-类目功能优化%'\'';'
+ cat /tmp/cmdb.db.14791
+ rm -f /tmp/cmdb.db.14791
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (0.8ms)
  Rendered builder/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 2563ms (Views: 44.1ms)


Completed 200 OK in 2563ms (Views: 44.1ms)


Started GET "/" for 192.168.5.26 at 2017-08-08 10:55:40 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (9.8ms)
Completed 200 OK in 1842ms (Views: 1378.2ms)


Started GET "/upload" for 192.168.5.26 at 2017-08-08 10:55:49 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by UploadController#index as HTML
  Rendering upload/index.html.erb within layouts/application
  Rendered upload/index.html.erb within layouts/application (107.3ms)
Completed 200 OK in 215ms (Views: 211.4ms)


Started GET "/merger" for 192.168.5.26 at 2017-08-08 10:55:55 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  
ActionController::RoutingError (No route matches [GET] "/merger"):
  
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/merge/new" for 192.168.5.26 at 2017-08-08 10:56:34 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170704-三方网关/Develop/老系统/移动支付/三方网关/EasyLoanGateway", "task"=>"http://192.168.0.221/zentao/task-view-43432.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"teoDGNpmNAUpto2exFsTI72Pn28Yj4jINJG1X2zX1G2CJJ9O7ky8JtzlFCZFxdrXfc6LU6zBBH1FtPusMZgogw=="}
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (2.5ms)
Completed 200 OK in 158446ms (Views: 486.2ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-08 11:05:41 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (6.3ms)
Completed 200 OK in 107ms (Views: 101.7ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-08 11:05:50 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170704-三方网关/Develop/老系统/移动支付/三方网关/EasyLoanGateway", "task"=>"http://192.168.0.221/zentao/task-view-43432.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"yikJ8tF6n+pBYebJ8BpV3JO5TUZdv4ry6GFWV7KAAp7955Wk5VAXybQyf3FxhJwoU/hZeunxBkeZRBik78/+cA=="}
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 20529ms (Views: 90.1ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-08 11:08:50 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (8.5ms)
Completed 200 OK in 106ms (Views: 102.9ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-08 11:10:48 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170807-修改外网回调/Develop/基础业务/账户中心/AccountGateway26 https://192.168.0.220/svn/tech/Branch/20170807-修改外网回调/Develop/基础业务/账户中心/AccountGateway35 https://192.168.0.220/svn/tech/Branch/20170807-修改外网回调/Develop/基础业务/账户中心/AccountGateway50 https://192.168.0.220/svn/tech/Branch/20170807-修改外网回调/Develop/基础业务/账户中心/GatewayManager", "task"=>"http://192.168.0.221/zentao/task-view-43431.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"7TGQcRRU4v+uWUiIdSq/mVOTARoS6BBj7UqPzxWAcSTa/wwnIH5q3FsK0TD0tHZtk9IVJqamnNacb8E8SM+Nyg=="}
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 37537ms (Views: 69.6ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-08 11:15:18 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.8ms)
Completed 200 OK in 178ms (Views: 175.1ms)


Started GET "/" for 192.168.5.26 at 2017-08-08 11:16:18 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.5ms)
Completed 200 OK in 85ms (Views: 82.0ms)


Started POST "/start" for 192.168.5.26 at 2017-08-08 11:41:06 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"wanghaitao@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "branch"=>"商城海尔下单改造", "user"=>"wanghaitao yiwangcheng wangxia", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"7NaVoaNqh5VNqr85nAlr6pC4xxZFG+9VecYAUJBofhYxl4qpjbDjRwRZGDHUo6OwAqHqGtCkUX70GP2dv4xFug=="}
nohup: 无法运行命令"rails": 没有那个文件或目录
nohup: 无法运行命令"rails": 没有那个文件或目录
nohup: 无法运行命令"rails": 没有那个文件或目录
nohup: 忽略输入
=> Booting Puma
=> Rails 5.1.1 application starting in development on http://localhost:3000
=> Run `rails server -h` for more startup options
Puma starting in single mode...
* Version 3.8.2 (ruby 2.4.1-p111), codename: Sassy Salamander
* Min threads: 5, max threads: 5
* Environment: development
* Listening on tcp://0.0.0.0:3000
Use Ctrl-C to stop
Exiting
nohup: 忽略输入
=> Booting Puma
=> Rails 5.1.1 application starting in development on http://localhost:3000
=> Run `rails server -h` for more startup options
Puma starting in single mode...
* Version 3.8.2 (ruby 2.4.1-p111), codename: Sassy Salamander
* Min threads: 5, max threads: 5
* Environment: development
* Listening on tcp://0.0.0.0:3000
Use Ctrl-C to stop
Started GET "/" for 192.168.5.26 at 2017-08-08 11:51:02 +0800
Started GET "/" for 192.168.5.26 at 2017-08-08 11:51:02 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (6.0ms)
  Rendered builder/index.html.erb within layouts/application (6.0ms)
Started GET "/" for 192.168.5.26 at 2017-08-08 11:51:03 +0800
Started GET "/" for 192.168.5.26 at 2017-08-08 11:51:03 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.7ms)
  Rendered builder/index.html.erb within layouts/application (3.7ms)
Completed 200 OK in 1489ms (Views: 889.6ms)


Completed 200 OK in 1489ms (Views: 889.6ms)


Completed 200 OK in 291ms (Views: 287.7ms)


Completed 200 OK in 291ms (Views: 287.7ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-08 11:51:53 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-08 11:51:53 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.4ms)
  Rendered merge/index.html.erb within layouts/application (4.4ms)
Completed 200 OK in 88ms (Views: 84.7ms)


Completed 200 OK in 88ms (Views: 84.7ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-08 11:56:14 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-08 11:56:14 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170522-直言客服匹配/辅助业务/直言/BluntlyManager", "task"=>"http://192.168.0.221/zentao/task-view-43424.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"aF46H7CRUwdLRbRqqw5TlWZwymrSfeLumRKmqYMoxQm1HyUXnks31QK2E2LjpJvP9GnnZkfCXMUUzFtkrMz+pQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170522-直言客服匹配/辅助业务/直言/BluntlyManager", "task"=>"http://192.168.0.221/zentao/task-view-43424.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"aF46H7CRUwdLRbRqqw5TlWZwymrSfeLumRKmqYMoxQm1HyUXnks31QK2E2LjpJvP9GnnZkfCXMUUzFtkrMz+pQ=="}
pid is 26517
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43424.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170522-\347\233\264\350\250\200\345\256\242\346\234\215\345\214\271\351\205\215/\350\276\205\345\212\251\344\270\232\345\212\241/\347\233\264\350\250\200/BluntlyManager' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43424.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170522-直言客服匹配/辅助业务/直言/BluntlyManager'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43424.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170522-直言客服匹配/辅助业务/直言/BluntlyManager'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43424.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170522-\347\233\264\350\250\200\345\256\242\346\234\215\345\214\271\351\205\215/\350\276\205\345\212\251\344\270\232\345\212\241/\347\233\264\350\250\200/BluntlyManager' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43424.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170522-\347\233\264\350\250\200\345\256\242\346\234\215\345\214\271\351\205\215/\350\276\205\345\212\251\344\270\232\345\212\241/\347\233\264\350\250\200/BluntlyManager'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170522-\347\233\264\350\250\200\345\256\242\346\234\215\345\214\271\351\205\215/\350\276\205\345\212\251\344\270\232\345\212\241/\347\233\264\350\250\200/BluntlyManager'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170522-直言客服匹配/辅助业务/直言/BluntlyManager: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170522-\347\233\264\350\250\200\345\256\242\346\234\215\345\214\271\351\205\215/\350\276\205\345\212\251\344\270\232\345\212\241/\347\233\264\350\250\200/BluntlyManager'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170522-\347\233\264\350\250\200\345\256\242\346\234\215\345\214\271\351\205\215/\350\276\205\345\212\251\344\270\232\345\212\241/\347\233\264\350\250\200/BluntlyManager'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170522-\347\233\264\350\250\200\345\256\242\346\234\215\345\214\271\351\205\215/\350\276\205\345\212\251\344\270\232\345\212\241/\347\233\264\350\250\200/BluntlyManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Branch/20170522-\347\233\264\350\250\200\345\256\242\346\234\215\345\214\271\351\205\215/\350\276\205\345\212\251\344\270\232\345\212\241/\347\233\264\350\250\200/BluntlyManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170522-\347\233\264\350\250\200\345\256\242\346\234\215\345\214\271\351\205\215/\350\276\205\345\212\251\344\270\232\345\212\241/\347\233\264\350\250\200/BluntlyManager'
+ rm -f /home/qishanqing/tmp/merged/output.26517
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/https://192.168.0.220/svn/tech/Branch/20170522-\347\233\264\350\250\200\345\256\242\346\234\215\345\214\271\351\205\215/\350\276\205\345\212\251\344\270\232\345\212\241/\347\233\264\350\250\200/BluntlyManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170522-\347\233\264\350\250\200\345\256\242\346\234\215\345\214\271\351\205\215/\350\276\205\345\212\251\344\270\232\345\212\241/\347\233\264\350\250\200/BluntlyManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/https://192.168.0.220/svn/tech/Branch/20170522-\347\233\264\350\250\200\345\256\242\346\234\215\345\214\271\351\205\215/\350\276\205\345\212\251\344\270\232\345\212\241/\347\233\264\350\250\200/BluntlyManager'
+ die 'https://192.168.0.220/svn/tech/Branch/20170522-直言客服匹配/辅助业务/直言/BluntlyManager  project code no found'
+ mails-cm -i 'svn merged faild'
+ echo 'https://192.168.0.220/svn/tech/Branch/20170522-直言客服匹配/辅助业务/直言/BluntlyManager  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.26517
+ rm -f /home/qishanqing/tmp/merged/output.26517
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.2ms)
  Rendered merge/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 616ms (Views: 61.5ms)


Completed 200 OK in 616ms (Views: 61.5ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-08 11:57:12 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-08 11:57:12 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (8.1ms)
  Rendered merge/index.html.erb within layouts/application (8.1ms)
Completed 200 OK in 142ms (Views: 138.4ms)


Completed 200 OK in 142ms (Views: 138.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-08 11:58:20 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-08 11:58:20 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"https://192.168.0.220/svn/tech/Trunk/辅助业务/直言/BluntlyManager", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170522-直言客服匹配/辅助业务/直言/BluntlyManager", "task"=>"http://192.168.0.221/zentao/task-view-43424.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"i6mIDcR0HbifxRnmWkdPJk6xxmTxG96W1/IRbJ/5TudW6JcF6q55atY2vu4S7Yd83KjraGSkYL1aLOyhsB11Sw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"https://192.168.0.220/svn/tech/Trunk/辅助业务/直言/BluntlyManager", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170522-直言客服匹配/辅助业务/直言/BluntlyManager", "task"=>"http://192.168.0.221/zentao/task-view-43424.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"i6mIDcR0HbifxRnmWkdPJk6xxmTxG96W1/IRbJ/5TudW6JcF6q55atY2vu4S7Yd83KjraGSkYL1aLOyhsB11Sw=="}
pid is 26587
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43424.html -R '' -t $'https://192.168.0.220/svn/tech/Trunk/\350\276\205\345\212\251\344\270\232\345\212\241/\347\233\264\350\250\200/BluntlyManager' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170522-\347\233\264\350\250\200\345\256\242\346\234\215\345\214\271\351\205\215/\350\276\205\345\212\251\344\270\232\345\212\241/\347\233\264\350\250\200/BluntlyManager' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43424.html'\'' -R '\'''\'' -t '\''https://192.168.0.220/svn/tech/Trunk/辅助业务/直言/BluntlyManager'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170522-直言客服匹配/辅助业务/直言/BluntlyManager'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43424.html'\'' -R '\'''\'' -t '\''https://192.168.0.220/svn/tech/Trunk/辅助业务/直言/BluntlyManager'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170522-直言客服匹配/辅助业务/直言/BluntlyManager'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43424.html -R '' -t $'https://192.168.0.220/svn/tech/Trunk/\350\276\205\345\212\251\344\270\232\345\212\241/\347\233\264\350\250\200/BluntlyManager' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170522-\347\233\264\350\250\200\345\256\242\346\234\215\345\214\271\351\205\215/\350\276\205\345\212\251\344\270\232\345\212\241/\347\233\264\350\250\200/BluntlyManager' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43424.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\276\205\345\212\251\344\270\232\345\212\241/\347\233\264\350\250\200/BluntlyManager'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170522-\347\233\264\350\250\200\345\256\242\346\234\215\345\214\271\351\205\215/\350\276\205\345\212\251\344\270\232\345\212\241/\347\233\264\350\250\200/BluntlyManager'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170522-\347\233\264\350\250\200\345\256\242\346\234\215\345\214\271\351\205\215/\350\276\205\345\212\251\344\270\232\345\212\241/\347\233\264\350\250\200/BluntlyManager'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170522-直言客服匹配/辅助业务/直言/BluntlyManager: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170522-\347\233\264\350\250\200\345\256\242\346\234\215\345\214\271\351\205\215/\350\276\205\345\212\251\344\270\232\345\212\241/\347\233\264\350\250\200/BluntlyManager'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170522-\347\233\264\350\250\200\345\256\242\346\234\215\345\214\271\351\205\215/\350\276\205\345\212\251\344\270\232\345\212\241/\347\233\264\350\250\200/BluntlyManager'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z $'https://192.168.0.220/svn/tech/Trunk/\350\276\205\345\212\251\344\270\232\345\212\241/\347\233\264\350\250\200/BluntlyManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170522-\347\233\264\350\250\200\345\256\242\346\234\215\345\214\271\351\205\215/\350\276\205\345\212\251\344\270\232\345\212\241/\347\233\264\350\250\200/BluntlyManager'
+ rm -f /home/qishanqing/tmp/merged/output.26587
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\276\205\345\212\251\344\270\232\345\212\241/\347\233\264\350\250\200/BluntlyManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170522-\347\233\264\350\250\200\345\256\242\346\234\215\345\214\271\351\205\215/\350\276\205\345\212\251\344\270\232\345\212\241/\347\233\264\350\250\200/BluntlyManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\276\205\345\212\251\344\270\232\345\212\241/\347\233\264\350\250\200/BluntlyManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\276\205\345\212\251\344\270\232\345\212\241/\347\233\264\350\250\200/BluntlyManager'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170522-直言客服匹配/辅助业务/直言/BluntlyManager'
+ grep '^?'
+ xargs rm -rf
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170522-\347\233\264\350\250\200\345\256\242\346\234\215\345\214\271\351\205\215/\350\276\205\345\212\251\344\270\232\345\212\241/\347\233\264\350\250\200/BluntlyManager'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r119392 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170522-\347\233\264\350\250\200\345\256\242\346\234\215\345\214\271\351\205\215/\350\276\205\345\212\251\344\270\232\345\212\241/\347\233\264\350\250\200/BluntlyManager'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r134667 '
+ '[' '!' -z r119392 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170522-\347\233\264\350\250\200\345\256\242\346\234\215\345\214\271\351\205\215/\350\276\205\345\212\251\344\270\232\345\212\241/\347\233\264\350\250\200/BluntlyManager@r119392' $'https://192.168.0.220/svn/tech/Branch/20170522-\347\233\264\350\250\200\345\256\242\346\234\215\345\214\271\351\205\215/\350\276\205\345\212\251\344\270\232\345\212\241/\347\233\264\350\250\200/BluntlyManager' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170522-\347\233\264\350\250\200\345\256\242\346\234\215\345\214\271\351\205\215/\350\276\205\345\212\251\344\270\232\345\212\241/\347\233\264\350\250\200/BluntlyManager@r119392' $'https://192.168.0.220/svn/tech/Branch/20170522-\347\233\264\350\250\200\345\256\242\346\234\215\345\214\271\351\205\215/\350\276\205\345\212\251\344\270\232\345\212\241/\347\233\264\350\250\200/BluntlyManager'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43424.html
Merged revision(s) r119392 -r134667   from Branch/20170522-直言客服匹配/辅助业务/直言/BluntlyManager' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.9ms)
  Rendered merge/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 28127ms (Views: 97.9ms)


Completed 200 OK in 28127ms (Views: 97.9ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-08 12:00:21 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-08 12:00:21 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (55.7ms)
  Rendered merge/index.html.erb within layouts/application (55.7ms)
Completed 200 OK in 151ms (Views: 142.1ms)


Completed 200 OK in 151ms (Views: 142.1ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-08 12:00:29 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-08 12:00:29 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ShareBusiness", "task"=>"http://192.168.0.221/zentao/task-view-43417.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"8WsWKy/4h55Ct4Qe4rouHAZpUp5FqOODWcOqgzCueccsKgkjASLjTAtEIxaqEOZGlHB/ktAXXajUHVdOH0pCaw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ShareBusiness", "task"=>"http://192.168.0.221/zentao/task-view-43417.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"8WsWKy/4h55Ct4Qe4rouHAZpUp5FqOODWcOqgzCueccsKgkjASLjTAtEIxaqEOZGlHB/ktAXXajUHVdOH0pCaw=="}
pid is 26686
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43417.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43417.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ShareBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43417.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ShareBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43417.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43417.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ShareBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ test -e /home/qishanqing/tmp/merged/output.26686
+ echo
+ cat /home/qishanqing/tmp/merged/output.26686
+ rm -f /home/qishanqing/tmp/merged/output.26686
+ rm -f /home/qishanqing/tmp/merged/output.26686
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170609-资金方协议/Develop/基础业务/用户中心/ShareBusiness'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
svn: E160013: 找不到路径 “/svn/tech/!svn/rvr/134825/Branch/20170609-%E8%B5%84%E9%87%91%E6%96%B9%E5%8D%8F%E8%AE%AE/Develop/%E5%9F%BA%E7%A1%80%E4%B8%9A%E5%8A%A1/%E7%94%A8%E6%88%B7%E4%B8%AD%E5%BF%83/ShareBusiness”
+ head=
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
svn: E160013: 找不到路径 “/svn/tech/!svn/rvr/134825/Branch/20170609-%E8%B5%84%E9%87%91%E6%96%B9%E5%8D%8F%E8%AE%AE/Develop/%E5%9F%BA%E7%A1%80%E4%B8%9A%E5%8A%A1/%E7%94%A8%E6%88%B7%E4%B8%AD%E5%BF%83/ShareBusiness”
+ revision=
+ '[' '!' -z ']'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43417.html
Merged revision(s) -  from Branch/20170609-资金方协议/Develop/基础业务/用户中心/ShareBusiness' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.8ms)
  Rendered merge/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 15460ms (Views: 55.4ms)


Completed 200 OK in 15460ms (Views: 55.4ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-08 12:03:04 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-08 12:03:04 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.1ms)
  Rendered merge/index.html.erb within layouts/application (4.1ms)
Completed 200 OK in 66ms (Views: 62.8ms)


Completed 200 OK in 66ms (Views: 62.8ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-08 12:03:14 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-08 12:03:14 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20160111-短信项目/Develop/平台架构/短信/MessageCenter https://192.168.0.220/svn/tech/Branch/20160111-短信项目/Develop/平台架构/短信/MessageManager https://192.168.0.220/svn/tech/Branch/20160629-消息推送/Develop/平台架构/通知/NoticeManager", "task"=>"http://192.168.0.221/zentao/task-view-43392.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"MdQ+rL7MFtb/qyLH0P+ummxLV1Ws9iOV523ht3M+MufslSGkkBZyBLZYhc+YVWbA/lJ6WTlJnb5qsxx6XNoJSw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20160111-短信项目/Develop/平台架构/短信/MessageCenter https://192.168.0.220/svn/tech/Branch/20160111-短信项目/Develop/平台架构/短信/MessageManager https://192.168.0.220/svn/tech/Branch/20160629-消息推送/Develop/平台架构/通知/NoticeManager", "task"=>"http://192.168.0.221/zentao/task-view-43392.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"MdQ+rL7MFtb/qyLH0P+ummxLV1Ws9iOV523ht3M+MufslSGkkBZyBLZYhc+YVWbA/lJ6WTlJnb5qsxx6XNoJSw=="}
pid is 26820
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43392.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20160111-短信项目/Develop/平台架构/短信/MessageCenter https://192.168.0.220/svn/tech/Branch/20160111-短信项目/Develop/平台架构/短信/MessageManager https://192.168.0.220/svn/tech/Branch/20160629-消息推送/Develop/平台架构/通知/NoticeManager' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43392.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20160111-短信项目/Develop/平台架构/短信/MessageCenter https://192.168.0.220/svn/tech/Branch/20160111-短信项目/Develop/平台架构/短信/MessageManager https://192.168.0.220/svn/tech/Branch/20160629-消息推送/Develop/平台架构/通知/NoticeManager'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43392.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20160111-短信项目/Develop/平台架构/短信/MessageCenter https://192.168.0.220/svn/tech/Branch/20160111-短信项目/Develop/平台架构/短信/MessageManager https://192.168.0.220/svn/tech/Branch/20160629-消息推送/Develop/平台架构/通知/NoticeManager'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43392.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20160111-短信项目/Develop/平台架构/短信/MessageCenter https://192.168.0.220/svn/tech/Branch/20160111-短信项目/Develop/平台架构/短信/MessageManager https://192.168.0.220/svn/tech/Branch/20160629-消息推送/Develop/平台架构/通知/NoticeManager' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43392.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20160111-短信项目/Develop/平台架构/短信/MessageCenter https://192.168.0.220/svn/tech/Branch/20160111-短信项目/Develop/平台架构/短信/MessageManager https://192.168.0.220/svn/tech/Branch/20160629-消息推送/Develop/平台架构/通知/NoticeManager'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20160111-\347\237\255\344\277\241\351\241\271\347\233\256/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageCenter' $'https://192.168.0.220/svn/tech/Branch/20160111-\347\237\255\344\277\241\351\241\271\347\233\256/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager' $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20160111-短信项目/Develop/平台架构/短信/MessageCenter: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20160111-\347\237\255\344\277\241\351\241\271\347\233\256/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageCenter'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20160111-\347\237\255\344\277\241\351\241\271\347\233\256/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager'
+ branchs='https://192.168.0.220/svn/tech/Branch/20160111-短信项目/Develop/平台架构/短信/MessageCenter
https://192.168.0.220/svn/tech/Branch/20160111-短信项目/Develop/平台架构/短信/MessageManager
https://192.168.0.220/svn/tech/Branch/20160629-消息推送/Develop/平台架构/通知/NoticeManager'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20160111-\347\237\255\344\277\241\351\241\271\347\233\256/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageCenter'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageCenter'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20160111-\347\237\255\344\277\241\351\241\271\347\233\256/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageCenter'
+ rm -f /home/qishanqing/tmp/merged/output.26820
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageCenter'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20160111-\347\237\255\344\277\241\351\241\271\347\233\256/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageCenter'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageCenter'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageCenter'
+ mails-cm -i 'code merged from Branch/20160111-短信项目/Develop/平台架构/短信/MessageCenter'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ awk -F '|' '{print$1}'
++ grep -C 3 $'Branch/20160111-\347\237\255\344\277\241\351\241\271\347\233\256/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageCenter'
+ revision='r131375 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20160111-\347\237\255\344\277\241\351\241\271\347\233\256/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageCenter'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r134717 '
+ '[' '!' -z r131375 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20160111-\347\237\255\344\277\241\351\241\271\347\233\256/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageCenter@r131375' $'https://192.168.0.220/svn/tech/Branch/20160111-\347\237\255\344\277\241\351\241\271\347\233\256/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageCenter' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20160111-\347\237\255\344\277\241\351\241\271\347\233\256/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageCenter@r131375' $'https://192.168.0.220/svn/tech/Branch/20160111-\347\237\255\344\277\241\351\241\271\347\233\256/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageCenter'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43392.html
Merged revision(s) r131375 -r134717   from Branch/20160111-短信项目/Develop/平台架构/短信/MessageCenter' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20160111-\347\237\255\344\277\241\351\241\271\347\233\256/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20160111-\347\237\255\344\277\241\351\241\271\347\233\256/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager'
+ rm -f /home/qishanqing/tmp/merged/output.26820
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20160111-\347\237\255\344\277\241\351\241\271\347\233\256/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20160111-短信项目/Develop/平台架构/短信/MessageManager'
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ awk -F '|' '{print$1}'
++ grep '^r'
++ head -n 4
++ grep -C 3 $'Branch/20160111-\347\237\255\344\277\241\351\241\271\347\233\256/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager'
++ svn log
+ revision='r132772 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20160111-\347\237\255\344\277\241\351\241\271\347\233\256/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r134718 '
+ '[' '!' -z r132772 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20160111-\347\237\255\344\277\241\351\241\271\347\233\256/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager@r132772' $'https://192.168.0.220/svn/tech/Branch/20160111-\347\237\255\344\277\241\351\241\271\347\233\256/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20160111-\347\237\255\344\277\241\351\241\271\347\233\256/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager@r132772' $'https://192.168.0.220/svn/tech/Branch/20160111-\347\237\255\344\277\241\351\241\271\347\233\256/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43392.html
Merged revision(s) r132772 -r134718   from Branch/20160111-短信项目/Develop/平台架构/短信/MessageManager' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager'
+ rm -f /home/qishanqing/tmp/merged/output.26820
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager'
+ mails-cm -i 'code merged from Branch/20160629-消息推送/Develop/平台架构/通知/NoticeManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager'
++ awk -F '|' '{print$1}'
+ revision='r132773 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r134715 '
+ '[' '!' -z r132773 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager@r132773' $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager@r132773' $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43392.html
Merged revision(s) r132773 -r134715   from Branch/20160629-消息推送/Develop/平台架构/通知/NoticeManager' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.6ms)
  Rendered merge/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 101297ms (Views: 60.6ms)


Completed 200 OK in 101297ms (Views: 60.6ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-08 12:06:11 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-08 12:06:11 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (5.2ms)
  Rendered merge/index.html.erb within layouts/application (5.2ms)
Completed 200 OK in 128ms (Views: 121.7ms)


Completed 200 OK in 128ms (Views: 121.7ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-08 12:06:18 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-08 12:06:18 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170807-找回密码bug/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-43389.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"aiRgB6SQavnhD7XqR2IvDYOc4dUO6Kl6n6XExZ3AgQy3ZX8PikoOK6j8EuIPyOdXEYXM2ZtXF1ESezkIsiS6oA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170807-找回密码bug/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-43389.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"aiRgB6SQavnhD7XqR2IvDYOc4dUO6Kl6n6XExZ3AgQy3ZX8PikoOK6j8EuIPyOdXEYXM2ZtXF1ESezkIsiS6oA=="}
pid is 27004
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43389.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170807-\346\211\276\345\233\236\345\257\206\347\240\201bug/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43389.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170807-找回密码bug/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43389.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170807-找回密码bug/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43389.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170807-\346\211\276\345\233\236\345\257\206\347\240\201bug/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43389.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170807-\346\211\276\345\233\236\345\257\206\347\240\201bug/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170807-\346\211\276\345\233\236\345\257\206\347\240\201bug/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170807-找回密码bug/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170807-\346\211\276\345\233\236\345\257\206\347\240\201bug/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170807-\346\211\276\345\233\236\345\257\206\347\240\201bug/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170807-\346\211\276\345\233\236\345\257\206\347\240\201bug/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170807-\346\211\276\345\233\236\345\257\206\347\240\201bug/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ rm -f /home/qishanqing/tmp/merged/output.27004
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170807-\346\211\276\345\233\236\345\257\206\347\240\201bug/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ mails-cm -i 'code merged from Branch/20170807-找回密码bug/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170807-\346\211\276\345\233\236\345\257\206\347\240\201bug/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170807-\346\211\276\345\233\236\345\257\206\347\240\201bug/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r134525 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170807-\346\211\276\345\233\236\345\257\206\347\240\201bug/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r134490 '
+ '[' '!' -z r134490 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170807-\346\211\276\345\233\236\345\257\206\347\240\201bug/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r134490' $'https://192.168.0.220/svn/tech/Branch/20170807-\346\211\276\345\233\236\345\257\206\347\240\201bug/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170807-\346\211\276\345\233\236\345\257\206\347\240\201bug/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r134490' $'https://192.168.0.220/svn/tech/Branch/20170807-\346\211\276\345\233\236\345\257\206\347\240\201bug/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43389.html
Merged revision(s) r134490 -r134525   from Branch/20170807-找回密码bug/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.1ms)
  Rendered merge/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 99809ms (Views: 54.0ms)


Completed 200 OK in 99809ms (Views: 54.0ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-08 12:09:55 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-08 12:09:55 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (5.3ms)
  Rendered merge/index.html.erb within layouts/application (5.3ms)
Completed 200 OK in 64ms (Views: 61.4ms)


Completed 200 OK in 64ms (Views: 61.4ms)


Started POST "/start" for 192.168.5.26 at 2017-08-08 12:10:29 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-08 12:10:29 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170807-找回密码bug", "branch"=>"20170807-找回密码bug", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"2ZW08sJgW1CXMSv6IUdS0sjZ4cpCOHkDJvO26Oot0REE1Kv67Lo/gt7CjPJp7ZqIWsDMxteHxyirLUslxcnqvQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170807-找回密码bug", "branch"=>"20170807-找回密码bug", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"2ZW08sJgW1CXMSv6IUdS0sjZ4cpCOHkDJvO26Oot0REE1Kv67Lo/gt7CjPJp7ZqIWsDMxteHxyirLUslxcnqvQ=="}
pid is 27144
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170807-\346\211\276\345\233\236\345\257\206\347\240\201bug' -e qishanqing@dafy.com -E '' -b $'20170807-\346\211\276\345\233\236\345\257\206\347\240\201bug' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170807-找回密码bug'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170807-找回密码bug'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170807-找回密码bug'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170807-找回密码bug'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170807-\346\211\276\345\233\236\345\257\206\347\240\201bug' -e qishanqing@dafy.com -E '' -b $'20170807-\346\211\276\345\233\236\345\257\206\347\240\201bug' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170807-\346\211\276\345\233\236\345\257\206\347\240\201bug'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170807-\346\211\276\345\233\236\345\257\206\347\240\201bug'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170807-\346\211\276\345\233\236\345\257\206\347\240\201bug'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170807-找回密码bug: command not found
++ for y in '$trunk'
++ echo $'20170807-\346\211\276\345\233\236\345\257\206\347\240\201bug'
+ trunks=$'20170807-\346\211\276\345\233\236\345\257\206\347\240\201bug'
+ test del = add
+ delbranch
+ '[' -z $'20170807-\346\211\276\345\233\236\345\257\206\347\240\201bug' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170808
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708081210
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170807-\346\211\276\345\233\236\345\257\206\347\240\201bug'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170808-20170807-\346\211\276\345\233\236\345\257\206\347\240\201bug/Develop/20170807-\346\211\276\345\233\236\345\257\206\347\240\201bug'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170807-\346\211\276\345\233\236\345\257\206\347\240\201bug'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708081210-20170807-\346\211\276\345\233\236\345\257\206\347\240\201bug'
++ awk -F / '{print $7}'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170808-20170807-\346\211\276\345\233\236\345\257\206\347\240\201bug/Develop/20170807-\346\211\276\345\233\236\345\257\206\347\240\201bug'
+ br=$'20170808-20170807-\346\211\276\345\233\236\345\257\206\347\240\201bug'
+ access=$'20170808-20170807-\346\211\276\345\233\236\345\257\206\347\240\201bug'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170807-\346\211\276\345\233\236\345\257\206\347\240\201bug' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708081210-20170807-\346\211\276\345\233\236\345\257\206\347\240\201bug' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.27144
+ echo $'https://192.168.0.220/svn/tech/Branch/20170807-\346\211\276\345\233\236\345\257\206\347\240\201bug'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170807-找回密码bug%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170807-找回密码bug%'\'';'
+ cat /tmp/cmdb.db.27144
+ rm -f /tmp/cmdb.db.27144
+ mails-cm -i 'svnbranch-del from svn branch create web'
+ cat
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.5ms)
  Rendered builder/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 14498ms (Views: 67.0ms)


Completed 200 OK in 14498ms (Views: 67.0ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-08 12:10:50 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-08 12:10:50 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (14.3ms)
  Rendered builder/index.html.erb within layouts/application (14.3ms)
Completed 200 OK in 90ms (Views: 88.0ms)


Completed 200 OK in 90ms (Views: 88.0ms)


Started POST "/start" for 192.168.5.26 at 2017-08-08 12:11:16 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-08 12:11:16 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "branch"=>"test", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"p9a2x0Fly0iRfQBknY4gnFKrx4C4kru8Et2AfFr6NpJ6l6nPb7+vmtiOp2zVJOjGwLLqjC0tBZefA32xdR4NPg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "branch"=>"test", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"p9a2x0Fly0iRfQBknY4gnFKrx4C4kru8Et2AfFr6NpJ6l6nPb7+vmtiOp2zVJOjGwLLqjC0tBZefA32xdR4NPg=="}
pid is 27195
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -e qishanqing@dafy.com -E '' -b test -T add -d ''
+ TEMP=' -u '\'''\'' -t '\''前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''test'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''test'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u '' -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -e qishanqing@dafy.com -E '' -b test -T add -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=test
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ trunks=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' ']'
+ '[' -z test ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170808
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708081211
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170808-test/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ source_name=https://192.168.0.220/svn/tech/Branch/test
+ dest_name=https://192.168.0.220/svn/tech/Branch/Closed/--close+201708081211-test
++ echo $'https://192.168.0.220/svn/tech/Branch/20170808-test/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F / '{print $7}'
+ br=20170808-test
+ access=20170808-test
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' $'https://192.168.0.220/svn/tech/Branch/20170808-test/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.27195
+ echo $'https://192.168.0.220/svn/tech/Branch/20170808-test/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'', '\''https://192.168.0.220/svn/tech/Branch/20170808-test/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'',now(),'\''qishanqing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'', '\''https://192.168.0.220/svn/tech/Branch/20170808-test/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'',now(),'\''qishanqing'\'');'
+ cat /tmp/cmdb.db.27195
+ rm -f /tmp/cmdb.db.27195
+ check-acces
+ ssh root@192.168.0.220 'grep -c $access] /svn/authz.conf'
+ read num
+ '[' 544 -eq 0 ']'
++ sed '/20170808-test]/,/^[ \t]*$/!d;/20170808-test]/d;/^[ \t]*$/d' /mnt/svn/authz.conf
nohup: 无法运行命令"rails": 没有那个文件或目录
nohup: 无法运行命令"rails": 没有那个文件或目录
nohup: 忽略输入
=> Booting Puma
=> Rails 5.1.1 application starting in development on http://localhost:3000
=> Run `rails server -h` for more startup options
Puma starting in single mode...
* Version 3.8.2 (ruby 2.4.1-p111), codename: Sassy Salamander
* Min threads: 5, max threads: 5
* Environment: development
* Listening on tcp://0.0.0.0:3000
Use Ctrl-C to stop
Started GET "/merge/index" for 192.168.5.26 at 2017-08-08 12:19:22 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-08 12:19:22 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (12.8ms)
  Rendered merge/index.html.erb within layouts/application (12.8ms)
Completed 200 OK in 1190ms (Views: 751.6ms)


Completed 200 OK in 1190ms (Views: 751.6ms)


Started GET "/start" for 192.168.5.26 at 2017-08-08 12:19:26 +0800
Started GET "/start" for 192.168.5.26 at 2017-08-08 12:19:26 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  
  
ActionController::RoutingError (No route matches [GET] "/start"):
ActionController::RoutingError (No route matches [GET] "/start"):
  
  
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 192.168.5.26 at 2017-08-08 12:19:29 +0800
Started GET "/" for 192.168.5.26 at 2017-08-08 12:19:29 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.7ms)
  Rendered builder/index.html.erb within layouts/application (3.7ms)
Completed 200 OK in 88ms (Views: 85.5ms)


Completed 200 OK in 88ms (Views: 85.5ms)


Started GET "/" for 192.168.5.26 at 2017-08-08 12:20:12 +0800
Started GET "/" for 192.168.5.26 at 2017-08-08 12:20:12 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.6ms)
  Rendered builder/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 60ms (Views: 57.3ms)


Completed 200 OK in 60ms (Views: 57.3ms)


Started POST "/start" for 192.168.5.26 at 2017-08-08 12:38:19 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-08 12:38:19 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "branch"=>"test", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"adA6gNvn7ZF6DZVzeHvDmNPHVEmwhakbPj4fzkY9dZ60kSWI9T2JQzP+Mnsw0QvCQd55RSU6FzCz4OIDadlOMg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "branch"=>"test", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"adA6gNvn7ZF6DZVzeHvDmNPHVEmwhakbPj4fzkY9dZ60kSWI9T2JQzP+Mnsw0QvCQd55RSU6FzCz4OIDadlOMg=="}
pid is 28038
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -e qishanqing@dafy.com -E '' -b test -T add -d ''
+ TEMP=' -u '\'''\'' -t '\''前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''test'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''test'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u '' -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -e qishanqing@dafy.com -E '' -b test -T add -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=test
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ trunks=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' ']'
+ '[' -z test ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170808
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708081238
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170808-test/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ source_name=https://192.168.0.220/svn/tech/Branch/test
+ dest_name=https://192.168.0.220/svn/tech/Branch/Closed/--close+201708081238-test
++ echo $'https://192.168.0.220/svn/tech/Branch/20170808-test/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F / '{print $7}'
+ br=20170808-test
+ access=20170808-test
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' $'https://192.168.0.220/svn/tech/Branch/20170808-test/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.28038
+ echo $'https://192.168.0.220/svn/tech/Branch/20170808-test/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'', '\''https://192.168.0.220/svn/tech/Branch/20170808-test/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'',now(),'\''qishanqing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'', '\''https://192.168.0.220/svn/tech/Branch/20170808-test/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'',now(),'\''qishanqing'\'');'
+ cat /tmp/cmdb.db.28038
+ rm -f /tmp/cmdb.db.28038
+ check-acces
+ ssh root@192.168.0.220 'grep -c $access] /svn/authz.conf'
+ read num
+ '[' 544 -eq 0 ']'
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.3ms)
  Rendered builder/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 27122ms (Views: 58.6ms)


Completed 200 OK in 27122ms (Views: 58.6ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-08 12:42:19 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-08 12:42:19 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.7ms)
  Rendered builder/index.html.erb within layouts/application (3.7ms)
Completed 200 OK in 105ms (Views: 101.8ms)


Completed 200 OK in 105ms (Views: 101.8ms)


Started POST "/start" for 192.168.5.26 at 2017-08-08 12:42:26 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-08 12:42:26 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "branch"=>"test", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"iBLqyTpM9MH1IN9wzahE5zrmwpf1nNjr7ZuzXtuhqXVVU/XBFJaQE7zTeHiFAoy9qP/vm2AjZsBgRU6T9EWS2Q=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "branch"=>"test", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"iBLqyTpM9MH1IN9wzahE5zrmwpf1nNjr7ZuzXtuhqXVVU/XBFJaQE7zTeHiFAoy9qP/vm2AjZsBgRU6T9EWS2Q=="}
pid is 28163
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -e qishanqing@dafy.com -E '' -b test -T add -d ''
+ TEMP=' -u '\'''\'' -t '\''前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''test'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''test'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u '' -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -e qishanqing@dafy.com -E '' -b test -T add -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=test
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ trunks=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' ']'
+ '[' -z test ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170808
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708081242
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170808-test/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ source_name=https://192.168.0.220/svn/tech/Branch/test
+ dest_name=https://192.168.0.220/svn/tech/Branch/Closed/--close+201708081242-test
++ echo $'https://192.168.0.220/svn/tech/Branch/20170808-test/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F / '{print $7}'
+ br=20170808-test
+ access=20170808-test
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' $'https://192.168.0.220/svn/tech/Branch/20170808-test/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ die 'Svn branch create the reasons for failure are as follows'
+ mails-cm -i 'svn branch create failed'
+ echo 'Svn branch create the reasons for failure are as follows'
+ test -e /home/qishanqing/tmp/output.28163
+ echo
+ cat /home/qishanqing/tmp/output.28163
+ rm -rf /home/qishanqing/tmp/output.28163
+ kill 28163
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (2.0ms)
  Rendered builder/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 3772ms (Views: 80.0ms)


Completed 200 OK in 3772ms (Views: 80.0ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-08 12:42:57 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-08 12:42:57 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (8.1ms)
  Rendered builder/index.html.erb within layouts/application (8.1ms)
Completed 200 OK in 131ms (Views: 125.7ms)


Completed 200 OK in 131ms (Views: 125.7ms)


Started POST "/start" for 192.168.5.26 at 2017-08-08 12:43:02 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-08 12:43:02 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170808-test", "branch"=>"20170808-test", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"sBUCPRW8Md97JN/OwZhwLiKZKvv79h47Dq/juSlbb+5tVB01O2ZVDTLXeMaJMrh0sIAH925JoBCDcR50Br9UQg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170808-test", "branch"=>"20170808-test", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"sBUCPRW8Md97JN/OwZhwLiKZKvv79h47Dq/juSlbb+5tVB01O2ZVDTLXeMaJMrh0sIAH925JoBCDcR50Br9UQg=="}
pid is 28201
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t 20170808-test -e qishanqing@dafy.com -E '' -b 20170808-test -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170808-test'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170808-test'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170808-test'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170808-test'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t 20170808-test -e qishanqing@dafy.com -E '' -b 20170808-test -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=20170808-test
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=20170808-test
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ 20170808-test
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170808-test: command not found
++ for y in '$trunk'
++ echo 20170808-test
+ trunks=20170808-test
+ test del = add
+ delbranch
+ '[' -z 20170808-test ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170808
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708081243
+ move_dir=Closed/--close+
+ Trunk_name=https://192.168.0.220/svn/tech/Trunk/20170808-test
+ branch_name=https://192.168.0.220/svn/tech/Branch/20170808-20170808-test/Develop/20170808-test
+ source_name=https://192.168.0.220/svn/tech/Branch/20170808-test
+ dest_name=https://192.168.0.220/svn/tech/Branch/Closed/--close+201708081243-20170808-test
++ echo https://192.168.0.220/svn/tech/Branch/20170808-20170808-test/Develop/20170808-test
++ awk -F / '{print $7}'
+ br=20170808-20170808-test
+ access=20170808-20170808-test
+ svn move https://192.168.0.220/svn/tech/Branch/20170808-test https://192.168.0.220/svn/tech/Branch/Closed/--close+201708081243-20170808-test --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.28201
+ echo https://192.168.0.220/svn/tech/Branch/20170808-test
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170808-test%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170808-test%'\'';'
+ cat /tmp/cmdb.db.28201
+ rm -f /tmp/cmdb.db.28201
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.3ms)
  Rendered builder/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 25220ms (Views: 72.8ms)


Completed 200 OK in 25220ms (Views: 72.8ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-08 12:43:56 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-08 12:43:56 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (5.1ms)
  Rendered builder/index.html.erb within layouts/application (5.1ms)
Completed 200 OK in 184ms (Views: 179.8ms)


Completed 200 OK in 184ms (Views: 179.8ms)


Started POST "/start" for 192.168.5.26 at 2017-08-08 12:44:00 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-08 12:44:00 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"生活营销/卡包", "branch"=>"test", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"HTCyQNlinTSaMgzd2Ze1mMP7+wtUITnZVqOXFtw2NHzAca1I97j55tPBq9WRPX3CUeLWB8Geh/LbfWrb89IP0A=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"生活营销/卡包", "branch"=>"test", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"HTCyQNlinTSaMgzd2Ze1mMP7+wtUITnZVqOXFtw2NHzAca1I97j55tPBq9WRPX3CUeLWB8Geh/LbfWrb89IP0A=="}
pid is 28237
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205' -e qishanqing@dafy.com -E '' -b test -T add -d ''
+ TEMP=' -u '\'''\'' -t '\''生活营销/卡包'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''test'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''生活营销/卡包'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''test'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u '' -t $'\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205' -e qishanqing@dafy.com -E '' -b test -T add -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=test
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 生活营销/卡包: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205'
+ trunks=$'\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205' ']'
+ '[' -z test ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170808
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708081244
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170808-test/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205'
+ source_name=https://192.168.0.220/svn/tech/Branch/test
+ dest_name=https://192.168.0.220/svn/tech/Branch/Closed/--close+201708081244-test
++ echo $'https://192.168.0.220/svn/tech/Branch/20170808-test/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205'
++ awk -F / '{print $7}'
+ br=20170808-test
+ access=20170808-test
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205' $'https://192.168.0.220/svn/tech/Branch/20170808-test/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.28237
+ echo $'https://192.168.0.220/svn/tech/Branch/20170808-test/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/生活营销/卡包'\'', '\''https://192.168.0.220/svn/tech/Branch/20170808-test/Develop/生活营销/卡包'\'',now(),'\''qishanqing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/生活营销/卡包'\'', '\''https://192.168.0.220/svn/tech/Branch/20170808-test/Develop/生活营销/卡包'\'',now(),'\''qishanqing'\'');'
+ cat /tmp/cmdb.db.28237
+ rm -f /tmp/cmdb.db.28237
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170808-test] /svn/authz.conf'
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z ''
+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (2.5ms)
  Rendered builder/new.html.erb within layouts/application (2.5ms)
Completed 200 OK in 10584ms (Views: 229.2ms)


Completed 200 OK in 10584ms (Views: 229.2ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-08 12:45:16 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-08 12:45:16 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.5ms)
  Rendered builder/index.html.erb within layouts/application (3.5ms)
Completed 200 OK in 73ms (Views: 69.4ms)


Completed 200 OK in 73ms (Views: 69.4ms)


Started POST "/start" for 192.168.5.26 at 2017-08-08 12:45:19 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-08 12:45:19 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170808-test", "branch"=>"20170808-test", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"7Zv5fMMO0QbvLv42R8C1DySMgYaTJhZsg1stC8JdspIw2uZ07dS11KbdWT4Pan1VtpWsigaZqEcOhdDG7bmJPg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170808-test", "branch"=>"20170808-test", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"7Zv5fMMO0QbvLv42R8C1DySMgYaTJhZsg1stC8JdspIw2uZ07dS11KbdWT4Pan1VtpWsigaZqEcOhdDG7bmJPg=="}
pid is 28318
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t 20170808-test -e qishanqing@dafy.com -E '' -b 20170808-test -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170808-test'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170808-test'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170808-test'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170808-test'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t 20170808-test -e qishanqing@dafy.com -E '' -b 20170808-test -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=20170808-test
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=20170808-test
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ 20170808-test
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170808-test: command not found
++ for y in '$trunk'
++ echo 20170808-test
+ trunks=20170808-test
+ test del = add
+ delbranch
+ '[' -z 20170808-test ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170808
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708081245
+ move_dir=Closed/--close+
+ Trunk_name=https://192.168.0.220/svn/tech/Trunk/20170808-test
+ branch_name=https://192.168.0.220/svn/tech/Branch/20170808-20170808-test/Develop/20170808-test
+ source_name=https://192.168.0.220/svn/tech/Branch/20170808-test
+ dest_name=https://192.168.0.220/svn/tech/Branch/Closed/--close+201708081245-20170808-test
++ echo https://192.168.0.220/svn/tech/Branch/20170808-20170808-test/Develop/20170808-test
++ awk -F / '{print $7}'
+ br=20170808-20170808-test
+ access=20170808-20170808-test
+ svn move https://192.168.0.220/svn/tech/Branch/20170808-test https://192.168.0.220/svn/tech/Branch/Closed/--close+201708081245-20170808-test --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.28318
+ echo https://192.168.0.220/svn/tech/Branch/20170808-test
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170808-test%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170808-test%'\'';'
+ cat /tmp/cmdb.db.28318
+ rm -f /tmp/cmdb.db.28318
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 15870ms (Views: 55.4ms)


Completed 200 OK in 15870ms (Views: 55.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-08 13:37:17 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-08 13:37:17 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageCenter https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageOrderService https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageModule/StageMobile https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageWechatCenter https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/cmsStageManager https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage", "task"=>"http://192.168.0.221/zentao/task-view-43154.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"nk1o2IqqNgOZqDQDhiEG7ti5tvfh9gzsM96Z7HivCvBDDHfQpHBS0dBbkwvOi860SqCb+3RJsse+AGQhV0sxXA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageCenter https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageOrderService https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageModule/StageMobile https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageWechatCenter https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/cmsStageManager https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage", "task"=>"http://192.168.0.221/zentao/task-view-43154.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"nk1o2IqqNgOZqDQDhiEG7ti5tvfh9gzsM96Z7HivCvBDDHfQpHBS0dBbkwvOi860SqCb+3RJsse+AGQhV0sxXA=="}
pid is 29869
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43154.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageCenter https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageOrderService https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageModule/StageMobile https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageWechatCenter https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/cmsStageManager https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43154.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageCenter https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageOrderService https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageModule/StageMobile https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageWechatCenter https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/cmsStageManager https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43154.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageCenter https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageOrderService https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageModule/StageMobile https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageWechatCenter https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/cmsStageManager https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43154.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageCenter https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageOrderService https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageModule/StageMobile https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageWechatCenter https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/cmsStageManager https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43154.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageCenter https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageOrderService https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageModule/StageMobile https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageWechatCenter https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/cmsStageManager https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter' $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager' $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService' $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile' $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter' $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager' $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageCenter: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageCenter
https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageManager
https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageOrderService
https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageModule/StageMobile
https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageWechatCenter
https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/事事分期/StageAll/cmsStageManager
https://192.168.0.220/svn/tech/Branch/20170710-达分期风控/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ rm -f /home/qishanqing/tmp/merged/output.29869
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ mails-cm -i 'code merged from Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageCenter'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ awk -F '|' '{print$1}'
++ grep '^r'
++ grep -C 3 $'Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
++ head -n 4
Started GET "/builder" for 192.168.5.26 at 2017-08-08 13:38:34 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-08 13:38:34 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.7ms)
  Rendered builder/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 51ms (Views: 48.1ms)


Completed 200 OK in 51ms (Views: 48.1ms)


+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r133614 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ revision='r126649 '
+ '[' '!' -z r126649 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter@r126649' $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter' .
+ st='  树冲突：15'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\23215' ']'
+ die 'Svn merged conflicts the r126649 -r133614  from Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageCenter'
+ echo 'Svn merged conflicts the r126649 -r133614  from Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageCenter'
+ test -e /home/qishanqing/tmp/merged/output.29869
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.29869
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43154.html
Merged revision(s) r126649 -r133614   from Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageCenter' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ rm -f /home/qishanqing/tmp/merged/output.29869
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageManager'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
++ grep '^r'
+ head='r134478 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r126649 '
+ '[' '!' -z r126649 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager@r126649' $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：15'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\23215' ']'
+ die 'Svn merged conflicts the r126649 -r134478  from Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageManager'
+ echo 'Svn merged conflicts the r126649 -r134478  from Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageManager'
+ test -e /home/qishanqing/tmp/merged/output.29869
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.29869
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43154.html
Merged revision(s) r126649 -r134478   from Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageManager' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
+ rm -f /home/qishanqing/tmp/merged/output.29869
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
+ mails-cm -i 'code merged from Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageOrderService'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ awk -F '|' '{print$1}'
++ grep '^r'
++ grep -C 3 $'Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
++ head -n 4
+ revision=
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
++ awk -F '|' '{print$1}'
+ head='r133109 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
++ tail -n 4
+ revision='r130662 '
+ '[' '!' -z r130662 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService@r130662' $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：1'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2321' ']'
+ die 'Svn merged conflicts the r130662 -r133109  from Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageOrderService'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r130662 -r133109  from Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageOrderService'
+ test -e /home/qishanqing/tmp/merged/output.29869
+ rm -f /home/qishanqing/tmp/merged/output.29869
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43154.html
Merged revision(s) r130662 -r133109   from Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageOrderService' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ rm -f /home/qishanqing/tmp/merged/output.29869
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageModule/StageMobile'
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r133515 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r130662 '
+ '[' '!' -z r130662 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile@r130662' $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile@r130662' $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43154.html
Merged revision(s) r130662 -r133515   from Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageModule/StageMobile' --username qishanqing --password 372233
svn: E155015: 提交失败(细节如下): 
svn: E155015: 提交终止: “/home/qishanqing/workspace/code/Trunk/事事分期/StageAll/StageModule/StageMobile/src/main/resources/dev/NodeList.xml” 处于冲突状态
+ die 'Svn merged conflicts the reasons for failure are as follows'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the reasons for failure are as follows'
+ test -e /home/qishanqing/tmp/merged/output.29869
+ echo
+ cat /home/qishanqing/tmp/merged/output.29869
+ rm -f /home/qishanqing/tmp/merged/output.29869
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ rm -f /home/qishanqing/tmp/merged/output.29869
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageWechatCenter'
+ grep '^?'
+ svn st
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ grep -C 3 $'Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
++ head -n 4
++ grep '^r'
++ svn log
++ awk -F '|' '{print$1}'
+ revision=
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ head='r134611 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
++ grep '^r'
++ tail -n 4
++ awk -F '|' '{print$1}'
+ revision='r126649 '
+ '[' '!' -z r126649 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter@r126649' $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter@r126649' $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43154.html
Merged revision(s) r126649 -r134611   from Branch/20170710-达分期风控/Develop/事事分期/StageAll/StageWechatCenter' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager'
+ rm -f /home/qishanqing/tmp/merged/output.29869
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170710-达分期风控/Develop/事事分期/StageAll/cmsStageManager'
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager'
+ head='r134479 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r126649 '
+ '[' '!' -z r126649 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager@r126649' $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：1'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2321' ']'
+ die 'Svn merged conflicts the r126649 -r134479  from Branch/20170710-达分期风控/Develop/事事分期/StageAll/cmsStageManager'
+ echo 'Svn merged conflicts the r126649 -r134479  from Branch/20170710-达分期风控/Develop/事事分期/StageAll/cmsStageManager'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.29869
+ rm -f /home/qishanqing/tmp/merged/output.29869
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43154.html
Merged revision(s) r126649 -r134479   from Branch/20170710-达分期风控/Develop/事事分期/StageAll/cmsStageManager' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ rm -f /home/qishanqing/tmp/merged/output.29869
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ svn_from_tb_merged
+ mails-cm -i 'code merged from Branch/20170710-达分期风控/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r134784 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
++ tail -n 4
+ revision='r126650 '
+ '[' '!' -z r126650 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage@r126650' $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage' .
+ st='  树冲突：44'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\23244' ']'
+ die 'Svn merged conflicts the r126650 -r134784  from Branch/20170710-达分期风控/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r126650 -r134784  from Branch/20170710-达分期风控/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'
+ test -e /home/qishanqing/tmp/merged/output.29869
+ rm -f /home/qishanqing/tmp/merged/output.29869
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43154.html
Merged revision(s) r126650 -r134784   from Branch/20170710-达分期风控/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (3.0ms)
  Rendered merge/new.html.erb within layouts/application (3.0ms)
Completed 200 OK in 571439ms (Views: 51.6ms)


Completed 200 OK in 571439ms (Views: 51.6ms)


Started POST "/start" for 192.168.5.26 at 2017-08-08 13:46:58 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-08 13:46:58 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"lijinming@dafy.com", "types"=>"add", "trunk"=>"基础业务/用户中心/ShareBusiness", "branch"=>"访问handleTrans.cdo改造", "user"=>"lijinming", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"20gndog0t6598uIzK9tsgfFC9umXohcbtLHWWXnANvUGCTh+pu7TfDQBRTtjcaTbY1vb5QIdqTA5byuUViQNWQ=="}
  Parameters: {"email"=>"lijinming@dafy.com", "types"=>"add", "trunk"=>"基础业务/用户中心/ShareBusiness", "branch"=>"访问handleTrans.cdo改造", "user"=>"lijinming", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"20gndog0t6598uIzK9tsgfFC9umXohcbtLHWWXnANvUGCTh+pu7TfDQBRTtjcaTbY1vb5QIdqTA5byuUViQNWQ=="}
pid is 30392
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u lijinming -t $'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness' -e lijinming@dafy.com -E '' -b $'\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240' -T add -d ''
+ TEMP=' -u '\''lijinming'\'' -t '\''基础业务/用户中心/ShareBusiness'\'' -e '\''lijinming@dafy.com'\'' -E '\'''\'' -b '\''访问handleTrans.cdo改造'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''lijinming'\'' -t '\''基础业务/用户中心/ShareBusiness'\'' -e '\''lijinming@dafy.com'\'' -E '\'''\'' -b '\''访问handleTrans.cdo改造'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u lijinming -t $'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness' -e lijinming@dafy.com -E '' -b $'\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240' -T add -d '' --
+ true
+ case "$1" in
+ user=lijinming
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
+ shift 2
+ true
+ case "$1" in
+ email=lijinming@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=lijinming@dafy.com '
+ SMARTCM_EXTRA_MAIL='lijinming@dafy.com '
++ lijinming
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: lijinming: command not found
++ for x in '$user'
++ echo lijinming=rw
+ users=lijinming=rw
++ $'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 基础业务/用户中心/ShareBusiness: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
+ trunks=$'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness' ']'
+ '[' -z $'\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170808
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708081346
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170808-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708081346-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170808-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
++ awk -F / '{print $7}'
+ br=$'20170808-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240'
+ access=$'20170808-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness' $'https://192.168.0.220/svn/tech/Branch/20170808-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.30392
+ echo $'https://192.168.0.220/svn/tech/Branch/20170808-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/基础业务/用户中心/ShareBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170808-访问handleTrans.cdo改造/Develop/基础业务/用户中心/ShareBusiness'\'',now(),'\''lijinming'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/基础业务/用户中心/ShareBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170808-访问handleTrans.cdo改造/Develop/基础业务/用户中心/ShareBusiness'\'',now(),'\''lijinming'\'');'
+ cat /tmp/cmdb.db.30392
+ rm -f /tmp/cmdb.db.30392
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170808-访问handleTrans.cdo改造] /svn/authz.conf'
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z lijinming=rw
+ cat
+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.1ms)
  Rendered builder/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 23872ms (Views: 38.0ms)


Completed 200 OK in 23872ms (Views: 38.0ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-08 13:48:29 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-08 13:48:29 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (7.2ms)
  Rendered merge/index.html.erb within layouts/application (7.2ms)
Completed 200 OK in 130ms (Views: 126.5ms)


Completed 200 OK in 130ms (Views: 126.5ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-08 13:48:56 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-08 13:48:56 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170802-分支卡包/Develop/生活营销/卡包/CardBagManage https://192.168.0.220/svn/tech/Branch/20170803-页面显示优化/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170704-卡包项目/Develop/生活营销/卡包/CardBagBusiness", "task"=>"http://192.168.0.221/zentao/task-view-43350.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"NgfqlfVT2I4F3YFPia1hslKAUPAnFrwrKRZ4xHdmK73rRvWd24m8XEwuJkfBB6nowJl9/LKpAgCkyIUJWIIQEQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170802-分支卡包/Develop/生活营销/卡包/CardBagManage https://192.168.0.220/svn/tech/Branch/20170803-页面显示优化/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170704-卡包项目/Develop/生活营销/卡包/CardBagBusiness", "task"=>"http://192.168.0.221/zentao/task-view-43350.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"NgfqlfVT2I4F3YFPia1hslKAUPAnFrwrKRZ4xHdmK73rRvWd24m8XEwuJkfBB6nowJl9/LKpAgCkyIUJWIIQEQ=="}
pid is 30474
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43350.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170802-分支卡包/Develop/生活营销/卡包/CardBagManage https://192.168.0.220/svn/tech/Branch/20170803-页面显示优化/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170704-卡包项目/Develop/生活营销/卡包/CardBagBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43350.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170802-分支卡包/Develop/生活营销/卡包/CardBagManage https://192.168.0.220/svn/tech/Branch/20170803-页面显示优化/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170704-卡包项目/Develop/生活营销/卡包/CardBagBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43350.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170802-分支卡包/Develop/生活营销/卡包/CardBagManage https://192.168.0.220/svn/tech/Branch/20170803-页面显示优化/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170704-卡包项目/Develop/生活营销/卡包/CardBagBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43350.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170802-分支卡包/Develop/生活营销/卡包/CardBagManage https://192.168.0.220/svn/tech/Branch/20170803-页面显示优化/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170704-卡包项目/Develop/生活营销/卡包/CardBagBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43350.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170802-分支卡包/Develop/生活营销/卡包/CardBagManage https://192.168.0.220/svn/tech/Branch/20170803-页面显示优化/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170704-卡包项目/Develop/生活营销/卡包/CardBagBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170802-\345\210\206\346\224\257\345\215\241\345\214\205/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage' $'https://192.168.0.220/svn/tech/Branch/20170803-\351\241\265\351\235\242\346\230\276\347\244\272\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' $'https://192.168.0.220/svn/tech/Branch/20170704-\345\215\241\345\214\205\351\241\271\347\233\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170802-分支卡包/Develop/生活营销/卡包/CardBagManage: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\345\210\206\346\224\257\345\215\241\345\214\205/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170803-\351\241\265\351\235\242\346\230\276\347\244\272\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170704-\345\215\241\345\214\205\351\241\271\347\233\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170802-分支卡包/Develop/生活营销/卡包/CardBagManage
https://192.168.0.220/svn/tech/Branch/20170803-页面显示优化/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client
https://192.168.0.220/svn/tech/Branch/20170704-卡包项目/Develop/生活营销/卡包/CardBagBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\345\210\206\346\224\257\345\215\241\345\214\205/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\345\210\206\346\224\257\345\215\241\345\214\205/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage'
+ rm -f /home/qishanqing/tmp/merged/output.30474
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\345\210\206\346\224\257\345\215\241\345\214\205/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170802-分支卡包/Develop/生活营销/卡包/CardBagManage'
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ awk -F '|' '{print$1}'
++ grep -C 3 $'Branch/20170802-\345\210\206\346\224\257\345\215\241\345\214\205/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage'
++ grep '^r'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\345\210\206\346\224\257\345\215\241\345\214\205/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r134458 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170802-\345\210\206\346\224\257\345\215\241\345\214\205/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage'
++ awk -F '|' '{print$1}'
++ grep '^r'
++ tail -n 4
+ revision='r133304 '
+ '[' '!' -z r133304 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\345\210\206\346\224\257\345\215\241\345\214\205/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage@r133304' $'https://192.168.0.220/svn/tech/Branch/20170802-\345\210\206\346\224\257\345\215\241\345\214\205/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170802-\345\210\206\346\224\257\345\215\241\345\214\205/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage@r133304' $'https://192.168.0.220/svn/tech/Branch/20170802-\345\210\206\346\224\257\345\215\241\345\214\205/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43350.html
Merged revision(s) r133304 -r134458   from Branch/20170802-分支卡包/Develop/生活营销/卡包/CardBagManage' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170803-\351\241\265\351\235\242\346\230\276\347\244\272\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170803-\351\241\265\351\235\242\346\230\276\347\244\272\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ rm -f /home/qishanqing/tmp/merged/output.30474
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170803-\351\241\265\351\235\242\346\230\276\347\244\272\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ mails-cm -i 'code merged from Branch/20170803-页面显示优化/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170803-\351\241\265\351\235\242\346\230\276\347\244\272\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170803-\351\241\265\351\235\242\346\230\276\347\244\272\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r134460 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170803-\351\241\265\351\235\242\346\230\276\347\244\272\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ tail -n 4
+ revision='r133523 '
+ '[' '!' -z r133523 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170803-\351\241\265\351\235\242\346\230\276\347\244\272\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r133523' $'https://192.168.0.220/svn/tech/Branch/20170803-\351\241\265\351\235\242\346\230\276\347\244\272\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170803-\351\241\265\351\235\242\346\230\276\347\244\272\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r133523' $'https://192.168.0.220/svn/tech/Branch/20170803-\351\241\265\351\235\242\346\230\276\347\244\272\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43350.html
Merged revision(s) r133523 -r134460   from Branch/20170803-页面显示优化/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170704-\345\215\241\345\214\205\351\241\271\347\233\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170704-\345\215\241\345\214\205\351\241\271\347\233\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.30474
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170704-\345\215\241\345\214\205\351\241\271\347\233\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170704-卡包项目/Develop/生活营销/卡包/CardBagBusiness'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170704-\345\215\241\345\214\205\351\241\271\347\233\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r133171 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170704-\345\215\241\345\214\205\351\241\271\347\233\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r134449 '
+ '[' '!' -z r133171 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170704-\345\215\241\345\214\205\351\241\271\347\233\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness@r133171' $'https://192.168.0.220/svn/tech/Branch/20170704-\345\215\241\345\214\205\351\241\271\347\233\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170704-\345\215\241\345\214\205\351\241\271\347\233\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness@r133171' $'https://192.168.0.220/svn/tech/Branch/20170704-\345\215\241\345\214\205\351\241\271\347\233\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43350.html
Merged revision(s) r133171 -r134449   from Branch/20170704-卡包项目/Develop/生活营销/卡包/CardBagBusiness' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.5ms)
  Rendered merge/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 177714ms (Views: 302.5ms)


Completed 200 OK in 177714ms (Views: 302.5ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-08 13:55:32 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-08 13:55:32 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (6.2ms)
  Rendered merge/index.html.erb within layouts/application (6.2ms)
Completed 200 OK in 84ms (Views: 80.9ms)


Completed 200 OK in 84ms (Views: 80.9ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-08 13:55:35 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-08 13:55:35 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.8ms)
  Rendered builder/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 64ms (Views: 62.2ms)


Completed 200 OK in 64ms (Views: 62.2ms)


Started POST "/start" for 192.168.5.26 at 2017-08-08 13:55:38 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-08 13:55:38 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170803-页面显示优化", "branch"=>"20170803-页面显示优化", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"LXsRxdLjr+lK2b7pUydSxiNqqlkRE/7fSitgz+QFnw/wOg7N/DnLOwMqGeEbjZqcsXOHVYSsQPTH9Z0Cy+Gkow=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170803-页面显示优化", "branch"=>"20170803-页面显示优化", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"LXsRxdLjr+lK2b7pUydSxiNqqlkRE/7fSitgz+QFnw/wOg7N/DnLOwMqGeEbjZqcsXOHVYSsQPTH9Z0Cy+Gkow=="}
pid is 31115
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170803-\351\241\265\351\235\242\346\230\276\347\244\272\344\274\230\345\214\226' -e qishanqing@dafy.com -E '' -b $'20170803-\351\241\265\351\235\242\346\230\276\347\244\272\344\274\230\345\214\226' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170803-页面显示优化'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170803-页面显示优化'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170803-页面显示优化'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170803-页面显示优化'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170803-\351\241\265\351\235\242\346\230\276\347\244\272\344\274\230\345\214\226' -e qishanqing@dafy.com -E '' -b $'20170803-\351\241\265\351\235\242\346\230\276\347\244\272\344\274\230\345\214\226' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170803-\351\241\265\351\235\242\346\230\276\347\244\272\344\274\230\345\214\226'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170803-\351\241\265\351\235\242\346\230\276\347\244\272\344\274\230\345\214\226'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170803-\351\241\265\351\235\242\346\230\276\347\244\272\344\274\230\345\214\226'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170803-页面显示优化: command not found
++ for y in '$trunk'
++ echo $'20170803-\351\241\265\351\235\242\346\230\276\347\244\272\344\274\230\345\214\226'
+ trunks=$'20170803-\351\241\265\351\235\242\346\230\276\347\244\272\344\274\230\345\214\226'
+ test del = add
+ delbranch
+ '[' -z $'20170803-\351\241\265\351\235\242\346\230\276\347\244\272\344\274\230\345\214\226' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170808
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708081355
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170803-\351\241\265\351\235\242\346\230\276\347\244\272\344\274\230\345\214\226'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170808-20170803-\351\241\265\351\235\242\346\230\276\347\244\272\344\274\230\345\214\226/Develop/20170803-\351\241\265\351\235\242\346\230\276\347\244\272\344\274\230\345\214\226'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170803-\351\241\265\351\235\242\346\230\276\347\244\272\344\274\230\345\214\226'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708081355-20170803-\351\241\265\351\235\242\346\230\276\347\244\272\344\274\230\345\214\226'
++ awk -F / '{print $7}'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170808-20170803-\351\241\265\351\235\242\346\230\276\347\244\272\344\274\230\345\214\226/Develop/20170803-\351\241\265\351\235\242\346\230\276\347\244\272\344\274\230\345\214\226'
+ br=$'20170808-20170803-\351\241\265\351\235\242\346\230\276\347\244\272\344\274\230\345\214\226'
+ access=$'20170808-20170803-\351\241\265\351\235\242\346\230\276\347\244\272\344\274\230\345\214\226'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170803-\351\241\265\351\235\242\346\230\276\347\244\272\344\274\230\345\214\226' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708081355-20170803-\351\241\265\351\235\242\346\230\276\347\244\272\344\274\230\345\214\226' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.31115
+ echo $'https://192.168.0.220/svn/tech/Branch/20170803-\351\241\265\351\235\242\346\230\276\347\244\272\344\274\230\345\214\226'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170803-页面显示优化%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170803-页面显示优化%'\'';'
+ cat /tmp/cmdb.db.31115
+ rm -f /tmp/cmdb.db.31115
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.4ms)
  Rendered builder/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 4334ms (Views: 56.4ms)


Completed 200 OK in 4334ms (Views: 56.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-08 14:24:30 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-08 14:24:30 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (7.5ms)
  Rendered builder/index.html.erb within layouts/application (7.5ms)
Completed 200 OK in 143ms (Views: 139.6ms)


Completed 200 OK in 143ms (Views: 139.6ms)


Started POST "/start" for 192.168.5.26 at 2017-08-08 14:24:34 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-08 14:24:34 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170710-达分期风控", "branch"=>"20170710-达分期风控", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"5R79pcdzixGjaYCDwzyyFdBjI8HSc3D+9HwZAgWLmCA4X+Kt6anvw+qaJ4uLlnpPQnoOzUfMztV5ouTPKm+jjA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170710-达分期风控", "branch"=>"20170710-达分期风控", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"5R79pcdzixGjaYCDwzyyFdBjI8HSc3D+9HwZAgWLmCA4X+Kt6anvw+qaJ4uLlnpPQnoOzUfMztV5ouTPKm+jjA=="}
pid is 32487
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247' -e qishanqing@dafy.com -E '' -b $'20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170710-达分期风控'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170710-达分期风控'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170710-达分期风控'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170710-达分期风控'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247' -e qishanqing@dafy.com -E '' -b $'20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170710-达分期风控: command not found
++ for y in '$trunk'
++ echo $'20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247'
+ trunks=$'20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247'
+ test del = add
+ delbranch
+ '[' -z $'20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170808
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708081424
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170808-20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708081424-20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170808-20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247/Develop/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247'
++ awk -F / '{print $7}'
+ br=$'20170808-20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247'
+ access=$'20170808-20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708081424-20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.32487
+ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\350\276\276\345\210\206\346\234\237\351\243\216\346\216\247'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170710-达分期风控%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170710-达分期风控%'\'';'
+ cat /tmp/cmdb.db.32487
+ rm -f /tmp/cmdb.db.32487
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.3ms)
  Rendered builder/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 2592ms (Views: 60.3ms)


Completed 200 OK in 2592ms (Views: 60.3ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-08 16:24:49 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-08 16:24:49 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (36.2ms)
  Rendered builder/index.html.erb within layouts/application (36.2ms)
Completed 200 OK in 827ms (Views: 753.6ms)


Completed 200 OK in 827ms (Views: 753.6ms)


Started POST "/start" for 192.168.5.26 at 2017-08-08 16:25:24 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-08 16:25:24 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"limeng@dafy.com", "types"=>"add", "trunk"=>"基础业务/账户中心/AccountHepler", "branch"=>"账户中心辅助服务", "user"=>"limeng", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"p2jo2r2G6OnfT5R0Ke7hcPfRW7EzYUiOgK4TT4dJ4gt6KffSk1yMO5a8M3xhRCkqZch2vabe9qUNcO6CqK3Zpw=="}
  Parameters: {"email"=>"limeng@dafy.com", "types"=>"add", "trunk"=>"基础业务/账户中心/AccountHepler", "branch"=>"账户中心辅助服务", "user"=>"limeng", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"p2jo2r2G6OnfT5R0Ke7hcPfRW7EzYUiOgK4TT4dJ4gt6KffSk1yMO5a8M3xhRCkqZch2vabe9qUNcO6CqK3Zpw=="}
pid is 6105
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u limeng -t $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountHepler' -e limeng@dafy.com -E '' -b $'\350\264\246\346\210\267\344\270\255\345\277\203\350\276\205\345\212\251\346\234\215\345\212\241' -T add -d ''
+ TEMP=' -u '\''limeng'\'' -t '\''基础业务/账户中心/AccountHepler'\'' -e '\''limeng@dafy.com'\'' -E '\'''\'' -b '\''账户中心辅助服务'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''limeng'\'' -t '\''基础业务/账户中心/AccountHepler'\'' -e '\''limeng@dafy.com'\'' -E '\'''\'' -b '\''账户中心辅助服务'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u limeng -t $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountHepler' -e limeng@dafy.com -E '' -b $'\350\264\246\346\210\267\344\270\255\345\277\203\350\276\205\345\212\251\346\234\215\345\212\241' -T add -d '' --
+ true
+ case "$1" in
+ user=limeng
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountHepler'
+ shift 2
+ true
+ case "$1" in
+ email=limeng@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\350\264\246\346\210\267\344\270\255\345\277\203\350\276\205\345\212\251\346\234\215\345\212\241'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=limeng@dafy.com '
+ SMARTCM_EXTRA_MAIL='limeng@dafy.com '
++ limeng
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: limeng: command not found
++ for x in '$user'
++ echo limeng=rw
+ users=limeng=rw
++ $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountHepler'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 基础业务/账户中心/AccountHepler: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountHepler'
+ trunks=$'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountHepler'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountHepler' ']'
+ '[' -z $'\350\264\246\346\210\267\344\270\255\345\277\203\350\276\205\345\212\251\346\234\215\345\212\241' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170808
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708081625
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountHepler'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170808-\350\264\246\346\210\267\344\270\255\345\277\203\350\276\205\345\212\251\346\234\215\345\212\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountHepler'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\350\264\246\346\210\267\344\270\255\345\277\203\350\276\205\345\212\251\346\234\215\345\212\241'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708081625-\350\264\246\346\210\267\344\270\255\345\277\203\350\276\205\345\212\251\346\234\215\345\212\241'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170808-\350\264\246\346\210\267\344\270\255\345\277\203\350\276\205\345\212\251\346\234\215\345\212\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountHepler'
++ awk -F / '{print $7}'
+ br=$'20170808-\350\264\246\346\210\267\344\270\255\345\277\203\350\276\205\345\212\251\346\234\215\345\212\241'
+ access=$'20170808-\350\264\246\346\210\267\344\270\255\345\277\203\350\276\205\345\212\251\346\234\215\345\212\241'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountHepler' $'https://192.168.0.220/svn/tech/Branch/20170808-\350\264\246\346\210\267\344\270\255\345\277\203\350\276\205\345\212\251\346\234\215\345\212\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountHepler' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.6105
+ echo $'https://192.168.0.220/svn/tech/Branch/20170808-\350\264\246\346\210\267\344\270\255\345\277\203\350\276\205\345\212\251\346\234\215\345\212\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountHepler'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/基础业务/账户中心/AccountHepler'\'', '\''https://192.168.0.220/svn/tech/Branch/20170808-账户中心辅助服务/Develop/基础业务/账户中心/AccountHepler'\'',now(),'\''limeng'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/基础业务/账户中心/AccountHepler'\'', '\''https://192.168.0.220/svn/tech/Branch/20170808-账户中心辅助服务/Develop/基础业务/账户中心/AccountHepler'\'',now(),'\''limeng'\'');'
+ cat /tmp/cmdb.db.6105
+ rm -f /tmp/cmdb.db.6105
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170808-账户中心辅助服务] /svn/authz.conf'
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z limeng=rw
+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
+ cat
+ read num
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ cat
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (2.4ms)
  Rendered builder/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 14532ms (Views: 157.6ms)


Completed 200 OK in 14532ms (Views: 157.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-08 17:05:25 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-08 17:05:25 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ShareBusiness", "task"=>"http://192.168.0.221/zentao/task-view-43417.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"mkQeHSDOACvR1tavJP7MkjEm07tCze+qNdCJUDivY3ZHBQEVDhRk+ZglcadsVATIoz/+t9dyUYG4DnSdF0tY2g=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ShareBusiness", "task"=>"http://192.168.0.221/zentao/task-view-43417.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"mkQeHSDOACvR1tavJP7MkjEm07tCze+qNdCJUDivY3ZHBQEVDhRk+ZglcadsVATIoz/+t9dyUYG4DnSdF0tY2g=="}
pid is 8308
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43417.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43417.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ShareBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43417.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ShareBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43417.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43417.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/ShareBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ test -e /home/qishanqing/tmp/merged/output.8308
+ echo
+ cat /home/qishanqing/tmp/merged/output.8308
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.8308
+ rm -f /home/qishanqing/tmp/merged/output.8308
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170609-资金方协议/Develop/基础业务/用户中心/ShareBusiness'
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
svn: E160013: 找不到路径 “/svn/tech/!svn/rvr/135011/Branch/20170609-%E8%B5%84%E9%87%91%E6%96%B9%E5%8D%8F%E8%AE%AE/Develop/%E5%9F%BA%E7%A1%80%E4%B8%9A%E5%8A%A1/%E7%94%A8%E6%88%B7%E4%B8%AD%E5%BF%83/ShareBusiness”
+ head=
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
svn: E160013: 找不到路径 “/svn/tech/!svn/rvr/135011/Branch/20170609-%E8%B5%84%E9%87%91%E6%96%B9%E5%8D%8F%E8%AE%AE/Develop/%E5%9F%BA%E7%A1%80%E4%B8%9A%E5%8A%A1/%E7%94%A8%E6%88%B7%E4%B8%AD%E5%BF%83/ShareBusiness”
+ revision=
+ '[' '!' -z ']'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43417.html
Merged revision(s) -  from Branch/20170609-资金方协议/Develop/基础业务/用户中心/ShareBusiness' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (253.9ms)
  Rendered merge/new.html.erb within layouts/application (253.9ms)
Completed 200 OK in 35980ms (Views: 1732.4ms)


Completed 200 OK in 35980ms (Views: 1732.4ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-08 17:07:06 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-08 17:07:06 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (37.3ms)
  Rendered merge/index.html.erb within layouts/application (37.3ms)
Completed 200 OK in 113ms (Views: 97.1ms)


Completed 200 OK in 113ms (Views: 97.1ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-08 17:07:19 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-08 17:07:19 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170808-访问handleTrans.cdo改造/Develop/基础业务/用户中心/ShareBusiness", "task"=>"http://192.168.0.221/zentao/task-view-43452.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"4uy5R0VZlPoMabKpWl8C/s5+25eTft9pd4kHrbI2pRo/raZPa4PwKEWaFaES9cqkXGf2mwbBYUL6V/pgndKetg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170808-访问handleTrans.cdo改造/Develop/基础业务/用户中心/ShareBusiness", "task"=>"http://192.168.0.221/zentao/task-view-43452.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"4uy5R0VZlPoMabKpWl8C/s5+25eTft9pd4kHrbI2pRo/raZPa4PwKEWaFaES9cqkXGf2mwbBYUL6V/pgndKetg=="}
pid is 8403
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43452.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170808-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43452.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170808-访问handleTrans.cdo改造/Develop/基础业务/用户中心/ShareBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43452.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170808-访问handleTrans.cdo改造/Develop/基础业务/用户中心/ShareBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43452.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170808-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43452.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170808-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170808-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170808-访问handleTrans.cdo改造/Develop/基础业务/用户中心/ShareBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170808-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170808-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170808-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170808-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.8403
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170808-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170808-访问handleTrans.cdo改造/Develop/基础业务/用户中心/ShareBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170808-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170808-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r135008 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170808-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r134846 '
+ '[' '!' -z r134846 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170808-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness@r134846' $'https://192.168.0.220/svn/tech/Branch/20170808-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170808-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness@r134846' $'https://192.168.0.220/svn/tech/Branch/20170808-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ShareBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43452.html
Merged revision(s) r134846 -r135008   from Branch/20170808-访问handleTrans.cdo改造/Develop/基础业务/用户中心/ShareBusiness' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.1ms)
  Rendered merge/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 9454ms (Views: 214.5ms)


Completed 200 OK in 9454ms (Views: 214.5ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-08 17:09:18 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-08 17:09:18 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (25.7ms)
  Rendered builder/index.html.erb within layouts/application (25.7ms)
Completed 200 OK in 147ms (Views: 101.1ms)


Completed 200 OK in 147ms (Views: 101.1ms)


Started POST "/start" for 192.168.5.26 at 2017-08-08 17:09:22 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-08 17:09:22 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170808-访问handleTrans.cdo改造", "branch"=>"20170808-访问handleTrans.cdo改造", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"QlTB8uXAkzzp1E6bvGwXHkexPoetClwSc8fX8mLLya2fFd76yxr37qAn6ZP0xt9E1agTizi14jn+GSo/TS/yAQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170808-访问handleTrans.cdo改造", "branch"=>"20170808-访问handleTrans.cdo改造", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"QlTB8uXAkzzp1E6bvGwXHkexPoetClwSc8fX8mLLya2fFd76yxr37qAn6ZP0xt9E1agTizi14jn+GSo/TS/yAQ=="}
pid is 8497
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170808-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240' -e qishanqing@dafy.com -E '' -b $'20170808-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170808-访问handleTrans.cdo改造'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170808-访问handleTrans.cdo改造'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170808-访问handleTrans.cdo改造'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170808-访问handleTrans.cdo改造'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170808-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240' -e qishanqing@dafy.com -E '' -b $'20170808-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170808-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170808-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170808-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170808-访问handleTrans.cdo改造: command not found
++ for y in '$trunk'
++ echo $'20170808-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240'
+ trunks=$'20170808-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240'
+ test del = add
+ delbranch
+ '[' -z $'20170808-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170808
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708081709
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170808-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170808-20170808-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240/Develop/20170808-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170808-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708081709-20170808-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170808-20170808-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240/Develop/20170808-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240'
++ awk -F / '{print $7}'
+ br=$'20170808-20170808-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240'
+ access=$'20170808-20170808-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170808-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708081709-20170808-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.8497
+ echo $'https://192.168.0.220/svn/tech/Branch/20170808-\350\256\277\351\227\256handleTrans.cdo\346\224\271\351\200\240'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170808-访问handleTrans.cdo改造%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170808-访问handleTrans.cdo改造%'\'';'
+ cat /tmp/cmdb.db.8497
+ rm -f /tmp/cmdb.db.8497
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.0ms)
  Rendered builder/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 4424ms (Views: 77.8ms)


Completed 200 OK in 4424ms (Views: 77.8ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-08 17:09:59 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-08 17:09:59 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.9ms)
  Rendered builder/index.html.erb within layouts/application (4.9ms)
Completed 200 OK in 1118ms (Views: 1115.0ms)


Completed 200 OK in 1118ms (Views: 1115.0ms)


Started POST "/start" for 192.168.5.26 at 2017-08-08 17:11:25 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-08 17:11:25 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"xinchenglong@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/BorrowBusiness 外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/RepaymentBusiness 外部业务/P2P/Business/RepaymentBusiness2 外部业务/P2P/Business/BillBusiness2", "branch"=>"等额本息", "user"=>"@Tech-tongzhongfu", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"GtKG8cIAjRRAM7H+igYBR2KTmy37U4EuGUWZyOt/bZXHk5n57NrpxgnAFvbCrMkd8Iq2IW7sPwWUm2QFxJtWOQ=="}
  Parameters: {"email"=>"xinchenglong@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/BorrowBusiness 外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/RepaymentBusiness 外部业务/P2P/Business/RepaymentBusiness2 外部业务/P2P/Business/BillBusiness2", "branch"=>"等额本息", "user"=>"@Tech-tongzhongfu", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"GtKG8cIAjRRAM7H+igYBR2KTmy37U4EuGUWZyOt/bZXHk5n57NrpxgnAFvbCrMkd8Iq2IW7sPwWUm2QFxJtWOQ=="}
pid is 8596
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u @Tech-tongzhongfu -t '外部业务/P2P/Business/BorrowBusiness 外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/RepaymentBusiness 外部业务/P2P/Business/RepaymentBusiness2 外部业务/P2P/Business/BillBusiness2' -e xinchenglong@dafy.com -E '' -b $'\347\255\211\351\242\235\346\234\254\346\201\257' -T add -d ''
+ TEMP=' -u '\''@Tech-tongzhongfu'\'' -t '\''外部业务/P2P/Business/BorrowBusiness 外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/RepaymentBusiness 外部业务/P2P/Business/RepaymentBusiness2 外部业务/P2P/Business/BillBusiness2'\'' -e '\''xinchenglong@dafy.com'\'' -E '\'''\'' -b '\''等额本息'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''@Tech-tongzhongfu'\'' -t '\''外部业务/P2P/Business/BorrowBusiness 外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/RepaymentBusiness 外部业务/P2P/Business/RepaymentBusiness2 外部业务/P2P/Business/BillBusiness2'\'' -e '\''xinchenglong@dafy.com'\'' -E '\'''\'' -b '\''等额本息'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u @Tech-tongzhongfu -t '外部业务/P2P/Business/BorrowBusiness 外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/RepaymentBusiness 外部业务/P2P/Business/RepaymentBusiness2 外部业务/P2P/Business/BillBusiness2' -e xinchenglong@dafy.com -E '' -b $'\347\255\211\351\242\235\346\234\254\346\201\257' -T add -d '' --
+ true
+ case "$1" in
+ user=@Tech-tongzhongfu
+ shift 2
+ true
+ case "$1" in
+ trunk='外部业务/P2P/Business/BorrowBusiness 外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/RepaymentBusiness 外部业务/P2P/Business/RepaymentBusiness2 外部业务/P2P/Business/BillBusiness2'
+ shift 2
+ true
+ case "$1" in
+ email=xinchenglong@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\347\255\211\351\242\235\346\234\254\346\201\257'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=xinchenglong@dafy.com '
+ SMARTCM_EXTRA_MAIL='xinchenglong@dafy.com '
++ @Tech-tongzhongfu
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: @Tech-tongzhongfu: command not found
++ for x in '$user'
++ echo @Tech-tongzhongfu=rw
+ users=@Tech-tongzhongfu=rw
++ $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness' $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness' $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 外部业务/P2P/Business/BorrowBusiness: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2'
+ trunks='外部业务/P2P/Business/BorrowBusiness
外部业务/P2P/Business/BorrowBusiness2
外部业务/P2P/Business/RepaymentBusiness
外部业务/P2P/Business/RepaymentBusiness2
外部业务/P2P/Business/BillBusiness2'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness' ']'
+ '[' -z $'\347\255\211\351\242\235\346\234\254\346\201\257' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170808
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708081711
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170808-\347\255\211\351\242\235\346\234\254\346\201\257/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\347\255\211\351\242\235\346\234\254\346\201\257'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708081711-\347\255\211\351\242\235\346\234\254\346\201\257'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170808-\347\255\211\351\242\235\346\234\254\346\201\257/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ awk -F / '{print $7}'
+ br=$'20170808-\347\255\211\351\242\235\346\234\254\346\201\257'
+ access=$'20170808-\347\255\211\351\242\235\346\234\254\346\201\257'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness' $'https://192.168.0.220/svn/tech/Branch/20170808-\347\255\211\351\242\235\346\234\254\346\201\257/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.8596
+ echo $'https://192.168.0.220/svn/tech/Branch/20170808-\347\255\211\351\242\235\346\234\254\346\201\257/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BorrowBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170808-等额本息/Develop/外部业务/P2P/Business/BorrowBusiness'\'',now(),'\''xinchenglong'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BorrowBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170808-等额本息/Develop/外部业务/P2P/Business/BorrowBusiness'\'',now(),'\''xinchenglong'\'');'
+ cat /tmp/cmdb.db.8596
+ rm -f /tmp/cmdb.db.8596
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170808-等额本息] /svn/authz.conf'
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z @Tech-tongzhongfu=rw
+ cat
+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' ']'
+ '[' -z $'\347\255\211\351\242\235\346\234\254\346\201\257' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170808
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708081711
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170808-\347\255\211\351\242\235\346\234\254\346\201\257/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\347\255\211\351\242\235\346\234\254\346\201\257'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708081711-\347\255\211\351\242\235\346\234\254\346\201\257'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170808-\347\255\211\351\242\235\346\234\254\346\201\257/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ awk -F / '{print $7}'
+ br=$'20170808-\347\255\211\351\242\235\346\234\254\346\201\257'
+ access=$'20170808-\347\255\211\351\242\235\346\234\254\346\201\257'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' $'https://192.168.0.220/svn/tech/Branch/20170808-\347\255\211\351\242\235\346\234\254\346\201\257/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.8596
+ echo $'https://192.168.0.220/svn/tech/Branch/20170808-\347\255\211\351\242\235\346\234\254\346\201\257/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BorrowBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170808-等额本息/Develop/外部业务/P2P/Business/BorrowBusiness2'\'',now(),'\''xinchenglong'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BorrowBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170808-等额本息/Develop/外部业务/P2P/Business/BorrowBusiness2'\'',now(),'\''xinchenglong'\'');'
+ cat /tmp/cmdb.db.8596
+ rm -f /tmp/cmdb.db.8596
+ check-acces
+ read num
+ ssh root@192.168.0.220 'grep -c 20170808-等额本息] /svn/authz.conf'
+ '[' 1 -eq 0 ']'
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness' ']'
+ '[' -z $'\347\255\211\351\242\235\346\234\254\346\201\257' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170808
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708081711
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170808-\347\255\211\351\242\235\346\234\254\346\201\257/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\347\255\211\351\242\235\346\234\254\346\201\257'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708081711-\347\255\211\351\242\235\346\234\254\346\201\257'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170808-\347\255\211\351\242\235\346\234\254\346\201\257/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
++ awk -F / '{print $7}'
+ br=$'20170808-\347\255\211\351\242\235\346\234\254\346\201\257'
+ access=$'20170808-\347\255\211\351\242\235\346\234\254\346\201\257'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness' $'https://192.168.0.220/svn/tech/Branch/20170808-\347\255\211\351\242\235\346\234\254\346\201\257/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.8596
+ echo $'https://192.168.0.220/svn/tech/Branch/20170808-\347\255\211\351\242\235\346\234\254\346\201\257/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/RepaymentBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170808-等额本息/Develop/外部业务/P2P/Business/RepaymentBusiness'\'',now(),'\''xinchenglong'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/RepaymentBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170808-等额本息/Develop/外部业务/P2P/Business/RepaymentBusiness'\'',now(),'\''xinchenglong'\'');'
+ cat /tmp/cmdb.db.8596
+ rm -f /tmp/cmdb.db.8596
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170808-等额本息] /svn/authz.conf'
+ read num
+ '[' 1 -eq 0 ']'
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' ']'
+ '[' -z $'\347\255\211\351\242\235\346\234\254\346\201\257' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170808
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708081711
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170808-\347\255\211\351\242\235\346\234\254\346\201\257/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\347\255\211\351\242\235\346\234\254\346\201\257'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708081711-\347\255\211\351\242\235\346\234\254\346\201\257'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170808-\347\255\211\351\242\235\346\234\254\346\201\257/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ awk -F / '{print $7}'
+ br=$'20170808-\347\255\211\351\242\235\346\234\254\346\201\257'
+ access=$'20170808-\347\255\211\351\242\235\346\234\254\346\201\257'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' $'https://192.168.0.220/svn/tech/Branch/20170808-\347\255\211\351\242\235\346\234\254\346\201\257/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.8596
+ echo $'https://192.168.0.220/svn/tech/Branch/20170808-\347\255\211\351\242\235\346\234\254\346\201\257/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/RepaymentBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170808-等额本息/Develop/外部业务/P2P/Business/RepaymentBusiness2'\'',now(),'\''xinchenglong'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/RepaymentBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170808-等额本息/Develop/外部业务/P2P/Business/RepaymentBusiness2'\'',now(),'\''xinchenglong'\'');'
+ cat /tmp/cmdb.db.8596
+ rm -f /tmp/cmdb.db.8596
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170808-等额本息] /svn/authz.conf'
+ read num
+ '[' 1 -eq 0 ']'
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2' ']'
+ '[' -z $'\347\255\211\351\242\235\346\234\254\346\201\257' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170808
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708081711
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170808-\347\255\211\351\242\235\346\234\254\346\201\257/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\347\255\211\351\242\235\346\234\254\346\201\257'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708081711-\347\255\211\351\242\235\346\234\254\346\201\257'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170808-\347\255\211\351\242\235\346\234\254\346\201\257/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2'
++ awk -F / '{print $7}'
+ br=$'20170808-\347\255\211\351\242\235\346\234\254\346\201\257'
+ access=$'20170808-\347\255\211\351\242\235\346\234\254\346\201\257'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2' $'https://192.168.0.220/svn/tech/Branch/20170808-\347\255\211\351\242\235\346\234\254\346\201\257/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.8596
+ echo $'https://192.168.0.220/svn/tech/Branch/20170808-\347\255\211\351\242\235\346\234\254\346\201\257/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BillBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170808-等额本息/Develop/外部业务/P2P/Business/BillBusiness2'\'',now(),'\''xinchenglong'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BillBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170808-等额本息/Develop/外部业务/P2P/Business/BillBusiness2'\'',now(),'\''xinchenglong'\'');'
+ cat /tmp/cmdb.db.8596
+ rm -f /tmp/cmdb.db.8596
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170808-等额本息] /svn/authz.conf'
+ read num
+ '[' 1 -eq 0 ']'
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (88.0ms)
  Rendered builder/new.html.erb within layouts/application (88.0ms)
Completed 200 OK in 13661ms (Views: 668.9ms)


Completed 200 OK in 13661ms (Views: 668.9ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-08-09 09:42:42 +0800
Started GET "/merge/new" for 192.168.5.26 at 2017-08-09 09:42:42 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (90.4ms)
  Rendered merge/index.html.erb within layouts/application (90.4ms)
Completed 200 OK in 1364ms (Views: 1278.2ms)


Completed 200 OK in 1364ms (Views: 1278.2ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-09 09:48:46 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-09 09:48:46 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170511-转化maven项目/Develop/基础业务/账户中心/AccountBusiness", "task"=>"http://192.168.0.221/zentao/task-view-43528.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"Lyp2bu/4yk/5T+Fp36SiqDhptICCO1ItYfMDovZGq0Pya2lmwSKunbC8RmGXDmryqnCZjBeE7AbsLf5v2aKQ7w=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170511-转化maven项目/Develop/基础业务/账户中心/AccountBusiness", "task"=>"http://192.168.0.221/zentao/task-view-43528.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"Lyp2bu/4yk/5T+Fp36SiqDhptICCO1ItYfMDovZGq0Pya2lmwSKunbC8RmGXDmryqnCZjBeE7AbsLf5v2aKQ7w=="}
pid is 5003
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43528.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170511-\350\275\254\345\214\226maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43528.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170511-转化maven项目/Develop/基础业务/账户中心/AccountBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43528.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170511-转化maven项目/Develop/基础业务/账户中心/AccountBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43528.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170511-\350\275\254\345\214\226maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43528.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170511-\350\275\254\345\214\226maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170511-\350\275\254\345\214\226maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170511-转化maven项目/Develop/基础业务/账户中心/AccountBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170511-\350\275\254\345\214\226maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170511-\350\275\254\345\214\226maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170511-\350\275\254\345\214\226maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountBusiness'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170511-\350\275\254\345\214\226maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.5003
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170511-\350\275\254\345\214\226maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountBusiness'
+ mails-cm -i 'code merged from Branch/20170511-转化maven项目/Develop/基础业务/账户中心/AccountBusiness'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170511-\350\275\254\345\214\226maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r132443 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170511-\350\275\254\345\214\226maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r135089 '
+ '[' '!' -z r132443 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170511-\350\275\254\345\214\226maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountBusiness@r132443' $'https://192.168.0.220/svn/tech/Branch/20170511-\350\275\254\345\214\226maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170511-\350\275\254\345\214\226maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountBusiness@r132443' $'https://192.168.0.220/svn/tech/Branch/20170511-\350\275\254\345\214\226maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43528.html
Merged revision(s) r132443 -r135089   from Branch/20170511-转化maven项目/Develop/基础业务/账户中心/AccountBusiness' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (44.2ms)
  Rendered merge/new.html.erb within layouts/application (44.2ms)
Completed 200 OK in 310973ms (Views: 263.2ms)


Completed 200 OK in 310973ms (Views: 263.2ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-09 09:56:22 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-09 09:56:22 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.9ms)
  Rendered merge/index.html.erb within layouts/application (3.9ms)
Completed 200 OK in 380ms (Views: 377.1ms)


Completed 200 OK in 380ms (Views: 377.1ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-09 09:56:30 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-09 09:56:30 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170808-修改代偿bugV2/Develop/外部业务/P2P/Task/HaierDebt92DaySteadApp", "task"=>"http://192.168.0.221/zentao/task-view-43549.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"S6oNw+jDYdDK0PChHJ0n88iH7ZBMJ2+HTjaljGIKhp+W6xLLxhkFAoMjV6lUN++pWp7AnNmY0azD6FhBTe69Mw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170808-修改代偿bugV2/Develop/外部业务/P2P/Task/HaierDebt92DaySteadApp", "task"=>"http://192.168.0.221/zentao/task-view-43549.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"S6oNw+jDYdDK0PChHJ0n88iH7ZBMJ2+HTjaljGIKhp+W6xLLxhkFAoMjV6lUN++pWp7AnNmY0azD6FhBTe69Mw=="}
pid is 5583
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43549.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/HaierDebt92DaySteadApp' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43549.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170808-修改代偿bugV2/Develop/外部业务/P2P/Task/HaierDebt92DaySteadApp'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43549.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170808-修改代偿bugV2/Develop/外部业务/P2P/Task/HaierDebt92DaySteadApp'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43549.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/HaierDebt92DaySteadApp' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43549.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/HaierDebt92DaySteadApp'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/HaierDebt92DaySteadApp'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170808-修改代偿bugV2/Develop/外部业务/P2P/Task/HaierDebt92DaySteadApp: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/HaierDebt92DaySteadApp'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/HaierDebt92DaySteadApp'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/HaierDebt92DaySteadApp'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/HaierDebt92DaySteadApp'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/HaierDebt92DaySteadApp'
+ rm -f /home/qishanqing/tmp/merged/output.5583
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/HaierDebt92DaySteadApp'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/HaierDebt92DaySteadApp'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/HaierDebt92DaySteadApp'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170808-修改代偿bugV2/Develop/外部业务/P2P/Task/HaierDebt92DaySteadApp'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/HaierDebt92DaySteadApp'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/HaierDebt92DaySteadApp'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/HaierDebt92DaySteadApp'
+ head='r135042 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/HaierDebt92DaySteadApp'
++ awk -F '|' '{print$1}'
++ grep '^r'
++ tail -n 4
+ revision='r135030 '
+ '[' '!' -z r135030 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/HaierDebt92DaySteadApp@r135030' $'https://192.168.0.220/svn/tech/Branch/20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/HaierDebt92DaySteadApp' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/HaierDebt92DaySteadApp@r135030' $'https://192.168.0.220/svn/tech/Branch/20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/HaierDebt92DaySteadApp'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43549.html
Merged revision(s) r135030 -r135042   from Branch/20170808-修改代偿bugV2/Develop/外部业务/P2P/Task/HaierDebt92DaySteadApp' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.2ms)
  Rendered merge/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 13496ms (Views: 88.8ms)


Completed 200 OK in 13496ms (Views: 88.8ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-09 09:59:03 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-09 09:59:03 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.2ms)
  Rendered builder/index.html.erb within layouts/application (4.2ms)
Completed 200 OK in 307ms (Views: 230.0ms)


Completed 200 OK in 307ms (Views: 230.0ms)


Started POST "/start" for 192.168.5.26 at 2017-08-09 09:59:09 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-09 09:59:09 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170808-修改代偿bugV2", "branch"=>"20170808-修改代偿bugV2", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"M/0dmD4lBZVcaWN32zwQt2o9uq3EkWK/7qspo+/zujbuvAKQEP9hRxWaxH+Tltjt+CSXoVEu3JRjddRuwBeBmg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170808-修改代偿bugV2", "branch"=>"20170808-修改代偿bugV2", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"M/0dmD4lBZVcaWN32zwQt2o9uq3EkWK/7qspo+/zujbuvAKQEP9hRxWaxH+Tltjt+CSXoVEu3JRjddRuwBeBmg=="}
pid is 5701
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2' -e qishanqing@dafy.com -E '' -b $'20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170808-修改代偿bugV2'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170808-修改代偿bugV2'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170808-修改代偿bugV2'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170808-修改代偿bugV2'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2' -e qishanqing@dafy.com -E '' -b $'20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170808-修改代偿bugV2: command not found
++ for y in '$trunk'
++ echo $'20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2'
+ trunks=$'20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2'
+ test del = add
+ delbranch
+ '[' -z $'20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170809
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708090959
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170809-20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2/Develop/20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708090959-20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170809-20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2/Develop/20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2'
++ awk -F / '{print $7}'
+ br=$'20170809-20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2'
+ access=$'20170809-20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708090959-20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ die 'Svn branch delete the reasons for failure are as follows'
+ echo 'Svn branch delete the reasons for failure are as follows'
+ mails-cm -i 'svn branch create failed'
+ test -e /home/qishanqing/tmp/output.5701
+ echo
+ cat /home/qishanqing/tmp/output.5701
+ rm -rf /home/qishanqing/tmp/output.5701
+ kill 5701
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.1ms)
  Rendered builder/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 248ms (Views: 82.1ms)


Completed 200 OK in 248ms (Views: 82.1ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-09 09:59:28 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-09 09:59:28 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.4ms)
  Rendered merge/index.html.erb within layouts/application (4.4ms)
Completed 200 OK in 79ms (Views: 76.1ms)


Completed 200 OK in 79ms (Views: 76.1ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-09 10:00:00 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-09 10:00:00 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/jubaohui_gateway https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_gateway", "task"=>"http://192.168.0.221/zentao/task-view-43535.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"BS1jMW94bwqm25Fngv1H/wJLN745VT3Vs1UNhqswvYHYbHw5QaIL2O8oNm/KV4+lkFIasqzqg/4+i/BLhNSGLQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/jubaohui_gateway https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_gateway", "task"=>"http://192.168.0.221/zentao/task-view-43535.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"BS1jMW94bwqm25Fngv1H/wJLN745VT3Vs1UNhqswvYHYbHw5QaIL2O8oNm/KV4+lkFIasqzqg/4+i/BLhNSGLQ=="}
pid is 5732
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43535.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/jubaohui_gateway https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_gateway' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43535.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/jubaohui_gateway https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_gateway'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43535.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/jubaohui_gateway https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_gateway'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43535.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/jubaohui_gateway https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_gateway' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43535.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/jubaohui_gateway https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_gateway'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_gateway' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_gateway'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_gateway'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_gateway'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway
https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/jubaohui_gateway
https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_gateway'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ rm -f /home/qishanqing/tmp/merged/output.5732
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway'
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
++ awk -F '|' '{print$1}'
++ head -n 4
Started GET "/builder" for 192.168.5.26 at 2017-08-09 10:00:41 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-09 10:00:41 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (241.1ms)
  Rendered builder/index.html.erb within layouts/application (241.1ms)
Completed 200 OK in 2778ms (Views: 2776.0ms)


Completed 200 OK in 2778ms (Views: 2776.0ms)


Started POST "/start" for 192.168.5.26 at 2017-08-09 10:01:08 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-09 10:01:08 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170808-修改代偿bugV2", "branch"=>"20170808-修改代偿bugV2", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"LfVWq5m4vsjJGxYidjSZYwX1HSy1q/T6XbAnIRpPEQPwtEmjt2LaGoDosSo+nlE5l+wwICAUStHQbtrsNasqrw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170808-修改代偿bugV2", "branch"=>"20170808-修改代偿bugV2", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"LfVWq5m4vsjJGxYidjSZYwX1HSy1q/T6XbAnIRpPEQPwtEmjt2LaGoDosSo+nlE5l+wwICAUStHQbtrsNasqrw=="}
pid is 5817
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2' -e qishanqing@dafy.com -E '' -b $'20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170808-修改代偿bugV2'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170808-修改代偿bugV2'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170808-修改代偿bugV2'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170808-修改代偿bugV2'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2' -e qishanqing@dafy.com -E '' -b $'20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170808-修改代偿bugV2: command not found
++ for y in '$trunk'
++ echo $'20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2'
+ trunks=$'20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2'
+ test del = add
+ delbranch
+ '[' -z $'20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170809
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708091001
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170809-20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2/Develop/20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708091001-20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170809-20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2/Develop/20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2'
++ awk -F / '{print $7}'
+ br=$'20170809-20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2'
+ access=$'20170809-20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708091001-20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.5817
+ echo $'https://192.168.0.220/svn/tech/Branch/20170808-\344\277\256\346\224\271\344\273\243\345\201\277bugV2'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170808-修改代偿bugV2%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170808-修改代偿bugV2%'\'';'
+ cat /tmp/cmdb.db.5817
+ rm -f /tmp/cmdb.db.5817
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.3ms)
  Rendered builder/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 41802ms (Views: 56.4ms)


Completed 200 OK in 41802ms (Views: 56.4ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-09 10:04:05 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-09 10:04:05 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (14.2ms)
  Rendered merge/index.html.erb within layouts/application (14.2ms)
Completed 200 OK in 155ms (Views: 137.4ms)


Completed 200 OK in 155ms (Views: 137.4ms)


+ revision='r130704 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r134952 '
+ '[' '!' -z r130704 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway@r130704' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway@r130704' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_gateway'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43535.html
Merged revision(s) r130704 -r134952   from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_gateway' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_gateway'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_gateway'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_gateway'
+ rm -f /home/qishanqing/tmp/merged/output.5732
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_gateway'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_gateway'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_gateway'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/jubaohui_gateway'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_gateway'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_gateway'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_gateway'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r134954 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_gateway'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r119194 '
+ '[' '!' -z r119194 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_gateway@r119194' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/jubaohui_gateway' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：1'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2321' ']'
+ die 'Svn merged conflicts the r119194 -r134954  from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/jubaohui_gateway'
+ echo 'Svn merged conflicts the r119194 -r134954  from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/jubaohui_gateway'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.5732
+ rm -f /home/qishanqing/tmp/merged/output.5732
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43535.html
Merged revision(s) r119194 -r134954   from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/jubaohui_gateway' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_gateway'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_gateway'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_gateway'
+ rm -f /home/qishanqing/tmp/merged/output.5732
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_gateway'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_gateway'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_gateway'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_gateway'
+ mails-cm -i 'code merged from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_gateway'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_gateway'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_gateway'
++ grep '^r'
+ head='r134951 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_gateway'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r127494 '
+ '[' '!' -z r127494 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_gateway@r127494' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_gateway' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：5'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2325' ']'
+ die 'Svn merged conflicts the r127494 -r134951  from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_gateway'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r127494 -r134951  from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_gateway'
+ test -e /home/qishanqing/tmp/merged/output.5732
+ rm -f /home/qishanqing/tmp/merged/output.5732
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43535.html
Merged revision(s) r127494 -r134951   from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_gateway' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (2.4ms)
  Rendered merge/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 537558ms (Views: 89.0ms)


Completed 200 OK in 537558ms (Views: 89.0ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-09 10:10:36 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-09 10:10:36 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallBuyerBusiness https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170802-商城订单功能改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-43547.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"Je0RMH/+MkhdWHGgjKK9WMagWCd8F7rRvqay/Ok7LoD4rA44USRWmhSr1qjECHUCVLl1K+moBPozeE8xxt8VLA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallBuyerBusiness https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170802-商城订单功能改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-43547.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"Je0RMH/+MkhdWHGgjKK9WMagWCd8F7rRvqay/Ok7LoD4rA44USRWmhSr1qjECHUCVLl1K+moBPozeE8xxt8VLA=="}
pid is 6164
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43547.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallBuyerBusiness https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170802-商城订单功能改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43547.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallBuyerBusiness https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170802-商城订单功能改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43547.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallBuyerBusiness https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170802-商城订单功能改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43547.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallBuyerBusiness https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170802-商城订单功能改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43547.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallBuyerBusiness https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170802-商城订单功能改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness' $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallBuyerBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallBuyerBusiness
https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManager
https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallTaskBusiness
https://192.168.0.220/svn/tech/Branch/20170802-商城订单功能改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.6164
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallBuyerBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r135087 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
++ tail -n 4
+ revision='r133127 '
+ '[' '!' -z r133127 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness@r133127' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness@r133127' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43547.html
Merged revision(s) r133127 -r135087   from Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallBuyerBusiness' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ rm -f /home/qishanqing/tmp/merged/output.6164
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManager'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r135000 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r133128 '
+ '[' '!' -z r133128 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager@r133128' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：2'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2322' ']'
+ die 'Svn merged conflicts the r133128 -r135000  from Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManager'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r133128 -r135000  from Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManager'
+ test -e /home/qishanqing/tmp/merged/output.6164
+ rm -f /home/qishanqing/tmp/merged/output.6164
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43547.html
Merged revision(s) r133128 -r135000   from Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManager' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.6164
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallTaskBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r135001 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r134090 '
+ '[' '!' -z r134090 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness@r134090' $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness@r134090' $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43547.html
Merged revision(s) r134090 -r135001   from Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallTaskBusiness' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ rm -f /home/qishanqing/tmp/merged/output.6164
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170802-商城订单功能改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ head='r134898 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r133173 '
+ '[' '!' -z r133173 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r133173' $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r133173' $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43547.html
Merged revision(s) r133173 -r134898   from Branch/20170802-商城订单功能改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.8ms)
  Rendered merge/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 451742ms (Views: 101.1ms)


Completed 200 OK in 451742ms (Views: 101.1ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-09 10:21:32 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-09 10:21:32 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.6ms)
  Rendered builder/index.html.erb within layouts/application (4.6ms)
Completed 200 OK in 90ms (Views: 86.4ms)


Completed 200 OK in 90ms (Views: 86.4ms)


Started POST "/start" for 192.168.5.26 at 2017-08-09 10:21:35 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-09 10:21:35 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170802-订单取消", "branch"=>"20170802-订单取消", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"TV7PobZrwdRG5lM8jHtGaXr6aKxZM1JRdfvClju38SyQH9CpmLGlBg8V9DTE0Y4z6ONFoMyM7Hr4JT9bFFPKgA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170802-订单取消", "branch"=>"20170802-订单取消", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"TV7PobZrwdRG5lM8jHtGaXr6aKxZM1JRdfvClju38SyQH9CpmLGlBg8V9DTE0Y4z6ONFoMyM7Hr4JT9bFFPKgA=="}
pid is 6615
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170802-\350\256\242\345\215\225\345\217\226\346\266\210' -e qishanqing@dafy.com -E '' -b $'20170802-\350\256\242\345\215\225\345\217\226\346\266\210' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170802-订单取消'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170802-订单取消'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170802-订单取消'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170802-订单取消'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170802-\350\256\242\345\215\225\345\217\226\346\266\210' -e qishanqing@dafy.com -E '' -b $'20170802-\350\256\242\345\215\225\345\217\226\346\266\210' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170802-\350\256\242\345\215\225\345\217\226\346\266\210'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170802-\350\256\242\345\215\225\345\217\226\346\266\210'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170802-\350\256\242\345\215\225\345\217\226\346\266\210'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170802-订单取消: command not found
++ for y in '$trunk'
++ echo $'20170802-\350\256\242\345\215\225\345\217\226\346\266\210'
+ trunks=$'20170802-\350\256\242\345\215\225\345\217\226\346\266\210'
+ test del = add
+ delbranch
+ '[' -z $'20170802-\350\256\242\345\215\225\345\217\226\346\266\210' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170809
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708091021
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170802-\350\256\242\345\215\225\345\217\226\346\266\210'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170809-20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/20170802-\350\256\242\345\215\225\345\217\226\346\266\210'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708091021-20170802-\350\256\242\345\215\225\345\217\226\346\266\210'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170809-20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/20170802-\350\256\242\345\215\225\345\217\226\346\266\210'
++ awk -F / '{print $7}'
+ br=$'20170809-20170802-\350\256\242\345\215\225\345\217\226\346\266\210'
+ access=$'20170809-20170802-\350\256\242\345\215\225\345\217\226\346\266\210'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708091021-20170802-\350\256\242\345\215\225\345\217\226\346\266\210' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.6615
+ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170802-订单取消%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170802-订单取消%'\'';'
+ cat /tmp/cmdb.db.6615
+ rm -f /tmp/cmdb.db.6615
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.9ms)
  Rendered builder/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 3612ms (Views: 131.6ms)


Completed 200 OK in 3612ms (Views: 131.6ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-09 10:43:15 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-09 10:43:15 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.0ms)
  Rendered builder/index.html.erb within layouts/application (4.0ms)
Completed 200 OK in 71ms (Views: 67.3ms)


Completed 200 OK in 71ms (Views: 67.3ms)


Started POST "/start" for 192.168.5.26 at 2017-08-09 10:49:57 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-09 10:49:57 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"hexiangtao@dafy.com", "types"=>"add", "trunk"=>"分期商城/分期商城3.0/MallBuyerBusiness 分期商城/分期商城3.0/MallRefundBusiness 分期商城/分期商城3.0/MallManager", "branch"=>"商城前台用户在线申请退款", "user"=>"chenhongan hexiangtao houdi zhangruiqiang ", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"EnlcuSKRv8D6Wkrf4JEOb1yALwgD6LKz2yhl4KnwuTvPOEOxDEvbErOp7deoO8Y1zpkCBJZXDJhW9pgthhSClw=="}
  Parameters: {"email"=>"hexiangtao@dafy.com", "types"=>"add", "trunk"=>"分期商城/分期商城3.0/MallBuyerBusiness 分期商城/分期商城3.0/MallRefundBusiness 分期商城/分期商城3.0/MallManager", "branch"=>"商城前台用户在线申请退款", "user"=>"chenhongan hexiangtao houdi zhangruiqiang ", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"EnlcuSKRv8D6Wkrf4JEOb1yALwgD6LKz2yhl4KnwuTvPOEOxDEvbErOp7deoO8Y1zpkCBJZXDJhW9pgthhSClw=="}
pid is 7802
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'chenhongan hexiangtao houdi zhangruiqiang ' -t '分期商城/分期商城3.0/MallBuyerBusiness 分期商城/分期商城3.0/MallRefundBusiness 分期商城/分期商城3.0/MallManager' -e hexiangtao@dafy.com -E '' -b $'\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276' -T add -d ''
+ TEMP=' -u '\''chenhongan hexiangtao houdi zhangruiqiang '\'' -t '\''分期商城/分期商城3.0/MallBuyerBusiness 分期商城/分期商城3.0/MallRefundBusiness 分期商城/分期商城3.0/MallManager'\'' -e '\''hexiangtao@dafy.com'\'' -E '\'''\'' -b '\''商城前台用户在线申请退款'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''chenhongan hexiangtao houdi zhangruiqiang '\'' -t '\''分期商城/分期商城3.0/MallBuyerBusiness 分期商城/分期商城3.0/MallRefundBusiness 分期商城/分期商城3.0/MallManager'\'' -e '\''hexiangtao@dafy.com'\'' -E '\'''\'' -b '\''商城前台用户在线申请退款'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'chenhongan hexiangtao houdi zhangruiqiang ' -t '分期商城/分期商城3.0/MallBuyerBusiness 分期商城/分期商城3.0/MallRefundBusiness 分期商城/分期商城3.0/MallManager' -e hexiangtao@dafy.com -E '' -b $'\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276' -T add -d '' --
+ true
+ case "$1" in
+ user='chenhongan hexiangtao houdi zhangruiqiang '
+ shift 2
+ true
+ case "$1" in
+ trunk='分期商城/分期商城3.0/MallBuyerBusiness 分期商城/分期商城3.0/MallRefundBusiness 分期商城/分期商城3.0/MallManager'
+ shift 2
+ true
+ case "$1" in
+ email=hexiangtao@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=hexiangtao@dafy.com '
+ SMARTCM_EXTRA_MAIL='hexiangtao@dafy.com '
++ chenhongan hexiangtao houdi zhangruiqiang
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: chenhongan: command not found
++ for x in '$user'
++ echo chenhongan=rw
++ for x in '$user'
++ echo hexiangtao=rw
++ for x in '$user'
++ echo houdi=rw
++ for x in '$user'
++ echo zhangruiqiang=rw
+ users='chenhongan=rw
hexiangtao=rw
houdi=rw
zhangruiqiang=rw'
++ $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness' $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness' $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 分期商城/分期商城3.0/MallBuyerBusiness: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
++ for y in '$trunk'
++ echo $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
++ for y in '$trunk'
++ echo $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ trunks='分期商城/分期商城3.0/MallBuyerBusiness
分期商城/分期商城3.0/MallRefundBusiness
分期商城/分期商城3.0/MallManager'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness' ']'
+ '[' -z $'\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170809
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708091049
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708091049-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
++ awk -F / '{print $7}'
+ br=$'20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
+ access=$'20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness' $'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.7802
+ echo $'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallBuyerBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallBuyerBusiness'\'',now(),'\''hexiangtao'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallBuyerBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallBuyerBusiness'\'',now(),'\''hexiangtao'\'');'
+ cat /tmp/cmdb.db.7802
+ rm -f /tmp/cmdb.db.7802
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170809-商城前台用户在线申请退款] /svn/authz.conf'
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z 'chenhongan=rw
hexiangtao=rw
houdi=rw
zhangruiqiang=rw'
+ cat
+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness' ']'
+ '[' -z $'\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170809
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708091050
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708091050-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
++ awk -F / '{print $7}'
+ br=$'20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
+ access=$'20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness' $'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.7802
+ echo $'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallRefundBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallRefundBusiness'\'',now(),'\''hexiangtao'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallRefundBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallRefundBusiness'\'',now(),'\''hexiangtao'\'');'
+ cat /tmp/cmdb.db.7802
+ rm -f /tmp/cmdb.db.7802
+ check-acces
+ read num
+ ssh root@192.168.0.220 'grep -c 20170809-商城前台用户在线申请退款] /svn/authz.conf'
+ '[' 1 -eq 0 ']'
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' ']'
+ '[' -z $'\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170809
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708091050
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708091050-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F / '{print $7}'
+ br=$'20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
+ access=$'20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' $'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.7802
+ echo $'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallManager'\'', '\''https://192.168.0.220/svn/tech/Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallManager'\'',now(),'\''hexiangtao'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallManager'\'', '\''https://192.168.0.220/svn/tech/Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallManager'\'',now(),'\''hexiangtao'\'');'
+ cat /tmp/cmdb.db.7802
+ rm -f /tmp/cmdb.db.7802
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170809-商城前台用户在线申请退款] /svn/authz.conf'
+ read num
+ '[' 1 -eq 0 ']'
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.8ms)
  Rendered builder/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 7296ms (Views: 63.7ms)


Completed 200 OK in 7296ms (Views: 63.7ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-09 13:44:09 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-09 13:44:09 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (118.9ms)
  Rendered builder/index.html.erb within layouts/application (118.9ms)
Completed 200 OK in 1124ms (Views: 1021.9ms)


Completed 200 OK in 1124ms (Views: 1021.9ms)


Started POST "/start" for 192.168.5.26 at 2017-08-09 13:44:40 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-09 13:44:40 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"weishaolong@dafy.com", "types"=>"add", "trunk"=>"事事分期/卓越线上理财/Task/ZDWXRelationDataApp", "branch"=>"币港湾捞取债权条件限制", "user"=>"weishaolong", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"K+d8k13PmMXQ8iII5TMq93hAep5y7/ihpZISV6rLdj/2pmObcxX8F5kBhQCtmeKt6llXkudQRoooTO+ahS9Nkw=="}
  Parameters: {"email"=>"weishaolong@dafy.com", "types"=>"add", "trunk"=>"事事分期/卓越线上理财/Task/ZDWXRelationDataApp", "branch"=>"币港湾捞取债权条件限制", "user"=>"weishaolong", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"K+d8k13PmMXQ8iII5TMq93hAep5y7/ihpZISV6rLdj/2pmObcxX8F5kBhQCtmeKt6llXkudQRoooTO+ahS9Nkw=="}
pid is 16850
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u weishaolong -t $'\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/Task/ZDWXRelationDataApp' -e weishaolong@dafy.com -E '' -b $'\345\270\201\346\270\257\346\271\276\346\215\236\345\217\226\345\200\272\346\235\203\346\235\241\344\273\266\351\231\220\345\210\266' -T add -d ''
+ TEMP=' -u '\''weishaolong'\'' -t '\''事事分期/卓越线上理财/Task/ZDWXRelationDataApp'\'' -e '\''weishaolong@dafy.com'\'' -E '\'''\'' -b '\''币港湾捞取债权条件限制'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''weishaolong'\'' -t '\''事事分期/卓越线上理财/Task/ZDWXRelationDataApp'\'' -e '\''weishaolong@dafy.com'\'' -E '\'''\'' -b '\''币港湾捞取债权条件限制'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u weishaolong -t $'\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/Task/ZDWXRelationDataApp' -e weishaolong@dafy.com -E '' -b $'\345\270\201\346\270\257\346\271\276\346\215\236\345\217\226\345\200\272\346\235\203\346\235\241\344\273\266\351\231\220\345\210\266' -T add -d '' --
+ true
+ case "$1" in
+ user=weishaolong
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/Task/ZDWXRelationDataApp'
+ shift 2
+ true
+ case "$1" in
+ email=weishaolong@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\345\270\201\346\270\257\346\271\276\346\215\236\345\217\226\345\200\272\346\235\203\346\235\241\344\273\266\351\231\220\345\210\266'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=weishaolong@dafy.com '
+ SMARTCM_EXTRA_MAIL='weishaolong@dafy.com '
++ weishaolong
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: weishaolong: command not found
++ for x in '$user'
++ echo weishaolong=rw
+ users=weishaolong=rw
++ $'\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/Task/ZDWXRelationDataApp'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 事事分期/卓越线上理财/Task/ZDWXRelationDataApp: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/Task/ZDWXRelationDataApp'
+ trunks=$'\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/Task/ZDWXRelationDataApp'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/Task/ZDWXRelationDataApp' ']'
+ '[' -z $'\345\270\201\346\270\257\346\271\276\346\215\236\345\217\226\345\200\272\346\235\203\346\235\241\344\273\266\351\231\220\345\210\266' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170809
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708091344
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/Task/ZDWXRelationDataApp'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170809-\345\270\201\346\270\257\346\271\276\346\215\236\345\217\226\345\200\272\346\235\203\346\235\241\344\273\266\351\231\220\345\210\266/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/Task/ZDWXRelationDataApp'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\270\201\346\270\257\346\271\276\346\215\236\345\217\226\345\200\272\346\235\203\346\235\241\344\273\266\351\231\220\345\210\266'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708091344-\345\270\201\346\270\257\346\271\276\346\215\236\345\217\226\345\200\272\346\235\203\346\235\241\344\273\266\351\231\220\345\210\266'
++ awk -F / '{print $7}'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170809-\345\270\201\346\270\257\346\271\276\346\215\236\345\217\226\345\200\272\346\235\203\346\235\241\344\273\266\351\231\220\345\210\266/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/Task/ZDWXRelationDataApp'
+ br=$'20170809-\345\270\201\346\270\257\346\271\276\346\215\236\345\217\226\345\200\272\346\235\203\346\235\241\344\273\266\351\231\220\345\210\266'
+ access=$'20170809-\345\270\201\346\270\257\346\271\276\346\215\236\345\217\226\345\200\272\346\235\203\346\235\241\344\273\266\351\231\220\345\210\266'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/Task/ZDWXRelationDataApp' $'https://192.168.0.220/svn/tech/Branch/20170809-\345\270\201\346\270\257\346\271\276\346\215\236\345\217\226\345\200\272\346\235\203\346\235\241\344\273\266\351\231\220\345\210\266/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/Task/ZDWXRelationDataApp' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.16850
+ echo $'https://192.168.0.220/svn/tech/Branch/20170809-\345\270\201\346\270\257\346\271\276\346\215\236\345\217\226\345\200\272\346\235\203\346\235\241\344\273\266\351\231\220\345\210\266/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/Task/ZDWXRelationDataApp'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/事事分期/卓越线上理财/Task/ZDWXRelationDataApp'\'', '\''https://192.168.0.220/svn/tech/Branch/20170809-币港湾捞取债权条件限制/Develop/事事分期/卓越线上理财/Task/ZDWXRelationDataApp'\'',now(),'\''weishaolong'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/事事分期/卓越线上理财/Task/ZDWXRelationDataApp'\'', '\''https://192.168.0.220/svn/tech/Branch/20170809-币港湾捞取债权条件限制/Develop/事事分期/卓越线上理财/Task/ZDWXRelationDataApp'\'',now(),'\''weishaolong'\'');'
+ cat /tmp/cmdb.db.16850
+ rm -f /tmp/cmdb.db.16850
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170809-币港湾捞取债权条件限制] /svn/authz.conf'
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z weishaolong=rw
+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.4ms)
  Rendered builder/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 12744ms (Views: 92.3ms)


Completed 200 OK in 12744ms (Views: 92.3ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-10 10:20:47 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-10 10:20:47 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (64.6ms)
  Rendered merge/index.html.erb within layouts/application (64.6ms)
Completed 200 OK in 1002ms (Views: 915.5ms)


Completed 200 OK in 1002ms (Views: 915.5ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-10 10:21:07 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-10 10:21:07 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42 https://192.168.0.220/svn/tech/Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport", "task"=>"http://192.168.0.221/zentao/task-view-43660.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"ovErmDPJR4nusY4A2+iMiZGJ6MFM716500Lt/nuYidV/sDSQHRMjW6dCKQiTQkTTA5DFzdlQ4JJenBAzVHyyeQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42 https://192.168.0.220/svn/tech/Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport", "task"=>"http://192.168.0.221/zentao/task-view-43660.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"ovErmDPJR4nusY4A2+iMiZGJ6MFM716500Lt/nuYidV/sDSQHRMjW6dCKQiTQkTTA5DFzdlQ4JJenBAzVHyyeQ=="}
pid is 30804
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43660.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42 https://192.168.0.220/svn/tech/Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43660.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42 https://192.168.0.220/svn/tech/Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43660.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42 https://192.168.0.220/svn/tech/Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43660.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42 https://192.168.0.220/svn/tech/Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43660.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42 https://192.168.0.220/svn/tech/Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42' $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42
https://192.168.0.220/svn/tech/Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ rm -f /home/qishanqing/tmp/merged/output.30804
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ mails-cm -i 'code merged from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ awk -F '|' '{print$1}'
++ head -n 4
++ grep -C 3 $'Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ revision='r135530 '
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ head='r135440 '
+ '[' '!' -z r135530 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42@r135530' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42@r135530' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43660.html
Merged revision(s) r135530 -r135440   from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ rm -f /home/qishanqing/tmp/merged/output.30804
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport'
+ grep '^?'
+ xargs rm -rf
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
++ awk -F '|' '{print$1}'
+ revision='r134328 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r135255 
repay'
+ '[' '!' -z r134328 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport@r134328' $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport@r134328' $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43660.html
Merged revision(s) r134328 -r135255 
repay  from Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (42.1ms)
  Rendered merge/new.html.erb within layouts/application (42.1ms)
Completed 200 OK in 133604ms (Views: 304.5ms)


Completed 200 OK in 133604ms (Views: 304.5ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-10 10:24:09 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-10 10:24:09 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (9.7ms)
  Rendered merge/index.html.erb within layouts/application (9.7ms)
Completed 200 OK in 104ms (Views: 99.2ms)


Completed 200 OK in 104ms (Views: 99.2ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-10 10:24:24 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-10 10:24:24 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170809-XCDDC线上修复/Develop/催收/服务/collectionBusiness https://192.168.0.220/svn/tech/Branch/20170809-XCDDC线上修复/Develop/催收/服务/SupCCBusinessV1", "task"=>"http://192.168.0.221/zentao/task-view-43647.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"x3JaDwlfib7J5VSh0A9SbfYTTq7Z/sKMK6mJvQ9sj3waM0UHJ4XtbIAW86mYpZo3ZApjokxBfKemd3RwIIi00A=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170809-XCDDC线上修复/Develop/催收/服务/collectionBusiness https://192.168.0.220/svn/tech/Branch/20170809-XCDDC线上修复/Develop/催收/服务/SupCCBusinessV1", "task"=>"http://192.168.0.221/zentao/task-view-43647.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"x3JaDwlfib7J5VSh0A9SbfYTTq7Z/sKMK6mJvQ9sj3waM0UHJ4XtbIAW86mYpZo3ZApjokxBfKemd3RwIIi00A=="}
pid is 30947
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43647.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170809-XCDDC线上修复/Develop/催收/服务/collectionBusiness https://192.168.0.220/svn/tech/Branch/20170809-XCDDC线上修复/Develop/催收/服务/SupCCBusinessV1' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43647.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170809-XCDDC线上修复/Develop/催收/服务/collectionBusiness https://192.168.0.220/svn/tech/Branch/20170809-XCDDC线上修复/Develop/催收/服务/SupCCBusinessV1'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43647.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170809-XCDDC线上修复/Develop/催收/服务/collectionBusiness https://192.168.0.220/svn/tech/Branch/20170809-XCDDC线上修复/Develop/催收/服务/SupCCBusinessV1'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43647.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170809-XCDDC线上修复/Develop/催收/服务/collectionBusiness https://192.168.0.220/svn/tech/Branch/20170809-XCDDC线上修复/Develop/催收/服务/SupCCBusinessV1' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43647.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170809-XCDDC线上修复/Develop/催收/服务/collectionBusiness https://192.168.0.220/svn/tech/Branch/20170809-XCDDC线上修复/Develop/催收/服务/SupCCBusinessV1'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/collectionBusiness' $'https://192.168.0.220/svn/tech/Branch/20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170809-XCDDC线上修复/Develop/催收/服务/collectionBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/collectionBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170809-XCDDC线上修复/Develop/催收/服务/collectionBusiness
https://192.168.0.220/svn/tech/Branch/20170809-XCDDC线上修复/Develop/催收/服务/SupCCBusinessV1'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/collectionBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\202\254\346\224\266/\346\234\215\345\212\241/collectionBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/collectionBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.30947
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\202\254\346\224\266/\346\234\215\345\212\241/collectionBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/collectionBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\202\254\346\224\266/\346\234\215\345\212\241/collectionBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\202\254\346\224\266/\346\234\215\345\212\241/collectionBusiness'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170809-XCDDC线上修复/Develop/催收/服务/collectionBusiness'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/collectionBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/collectionBusiness'
+ head='r135458 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/collectionBusiness'
++ tail -n 4
+ revision='r135112 '
+ '[' '!' -z r135112 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/collectionBusiness@r135112' $'https://192.168.0.220/svn/tech/Branch/20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/collectionBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/collectionBusiness@r135112' $'https://192.168.0.220/svn/tech/Branch/20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/collectionBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43647.html
Merged revision(s) r135112 -r135458   from Branch/20170809-XCDDC线上修复/Develop/催收/服务/collectionBusiness' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
+ rm -f /home/qishanqing/tmp/merged/output.30947
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170809-XCDDC线上修复/Develop/催收/服务/SupCCBusinessV1'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r135468 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r135109 '
+ '[' '!' -z r135109 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1@r135109' $'https://192.168.0.220/svn/tech/Branch/20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1@r135109' $'https://192.168.0.220/svn/tech/Branch/20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
+ echo tc
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43647.html
Merged revision(s) r135109 -r135468   from Branch/20170809-XCDDC线上修复/Develop/催收/服务/SupCCBusinessV1' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.2ms)
  Rendered merge/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 43444ms (Views: 81.2ms)


Completed 200 OK in 43444ms (Views: 81.2ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-10 10:26:21 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-10 10:26:21 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (5.0ms)
  Rendered builder/index.html.erb within layouts/application (5.0ms)
Completed 200 OK in 215ms (Views: 196.2ms)


Completed 200 OK in 215ms (Views: 196.2ms)


Started POST "/start" for 192.168.5.26 at 2017-08-10 10:27:12 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-10 10:27:12 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"limeng@dafy.com", "types"=>"add", "trunk"=>"基础业务/账户中心/AccountToolkit", "branch"=>"业务逻辑的数据修改", "user"=>"limeng", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"yQmyc/1WYTwb47VlnP4ftcTr9LUzq/zcYGnALvkDNbgUSK1704wF7lIQEm3UVNfvVvLZuaYUQvfttz3j1ucOFA=="}
  Parameters: {"email"=>"limeng@dafy.com", "types"=>"add", "trunk"=>"基础业务/账户中心/AccountToolkit", "branch"=>"业务逻辑的数据修改", "user"=>"limeng", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"yQmyc/1WYTwb47VlnP4ftcTr9LUzq/zcYGnALvkDNbgUSK1704wF7lIQEm3UVNfvVvLZuaYUQvfttz3j1ucOFA=="}
pid is 31152
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u limeng -t $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountToolkit' -e limeng@dafy.com -E '' -b $'\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271' -T add -d ''
+ TEMP=' -u '\''limeng'\'' -t '\''基础业务/账户中心/AccountToolkit'\'' -e '\''limeng@dafy.com'\'' -E '\'''\'' -b '\''业务逻辑的数据修改'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''limeng'\'' -t '\''基础业务/账户中心/AccountToolkit'\'' -e '\''limeng@dafy.com'\'' -E '\'''\'' -b '\''业务逻辑的数据修改'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u limeng -t $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountToolkit' -e limeng@dafy.com -E '' -b $'\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271' -T add -d '' --
+ true
+ case "$1" in
+ user=limeng
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountToolkit'
+ shift 2
+ true
+ case "$1" in
+ email=limeng@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=limeng@dafy.com '
+ SMARTCM_EXTRA_MAIL='limeng@dafy.com '
++ limeng
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: limeng: command not found
++ for x in '$user'
++ echo limeng=rw
+ users=limeng=rw
++ $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountToolkit'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 基础业务/账户中心/AccountToolkit: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountToolkit'
+ trunks=$'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountToolkit'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountToolkit' ']'
+ '[' -z $'\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170810
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708101027
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountToolkit'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountToolkit'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708101027-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountToolkit'
++ awk -F / '{print $7}'
+ br=$'20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271'
+ access=$'20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountToolkit' $'https://192.168.0.220/svn/tech/Branch/20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountToolkit' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ die 'Svn branch create the reasons for failure are as follows'
+ echo 'Svn branch create the reasons for failure are as follows'
+ test -e /home/qishanqing/tmp/output.31152
+ mails-cm -i 'svn branch create failed'
+ echo
+ cat /home/qishanqing/tmp/output.31152
+ rm -rf /home/qishanqing/tmp/output.31152
+ kill 31152
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.3ms)
  Rendered builder/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 590ms (Views: 171.6ms)


Completed 200 OK in 590ms (Views: 171.6ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-10 10:29:01 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-10 10:29:01 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (8.0ms)
  Rendered builder/index.html.erb within layouts/application (8.0ms)
Completed 200 OK in 239ms (Views: 235.3ms)


Completed 200 OK in 239ms (Views: 235.3ms)


Started POST "/start" for 192.168.5.26 at 2017-08-10 10:29:06 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-10 10:29:06 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170809-XCDDC线上修复", "branch"=>"20170809-XCDDC线上修复", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"kJUlrK5KHcTfREytYO5J3kTDOwqhVOgtijSx14pXmwNN1DqkgJB5Fpa366UoRIGE1toWBjTrVgYH6kwapbOgrw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170809-XCDDC线上修复", "branch"=>"20170809-XCDDC线上修复", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"kJUlrK5KHcTfREytYO5J3kTDOwqhVOgtijSx14pXmwNN1DqkgJB5Fpa366UoRIGE1toWBjTrVgYH6kwapbOgrw=="}
pid is 31222
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215' -e qishanqing@dafy.com -E '' -b $'20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170809-XCDDC线上修复'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170809-XCDDC线上修复'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170809-XCDDC线上修复'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170809-XCDDC线上修复'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215' -e qishanqing@dafy.com -E '' -b $'20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170809-XCDDC线上修复: command not found
++ for y in '$trunk'
++ echo $'20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215'
+ trunks=$'20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215'
+ test del = add
+ delbranch
+ '[' -z $'20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170810
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708101029
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170810-20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215/Develop/20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708101029-20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170810-20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215/Develop/20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215'
++ awk -F / '{print $7}'
+ br=$'20170810-20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215'
+ access=$'20170810-20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708101029-20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.31222
+ echo $'https://192.168.0.220/svn/tech/Branch/20170809-XCDDC\347\272\277\344\270\212\344\277\256\345\244\215'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170809-XCDDC线上修复%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170809-XCDDC线上修复%'\'';'
+ cat /tmp/cmdb.db.31222
+ rm -f /tmp/cmdb.db.31222
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 7132ms (Views: 161.4ms)


Completed 200 OK in 7132ms (Views: 161.4ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-10 10:31:15 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-10 10:31:15 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.4ms)
  Rendered merge/index.html.erb within layouts/application (4.4ms)
Completed 200 OK in 116ms (Views: 113.5ms)


Completed 200 OK in 116ms (Views: 113.5ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-10 10:31:26 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-10 10:31:26 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170802-商品推荐/Develop/分期商城/分期商城3.0/MallBusiness https://192.168.0.220/svn/tech/Branch/20170802-商城订单功能改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client ", "task"=>"http://192.168.0.221/zentao/task-view-43627.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"9xpLaZR4kYGCb3ebKsFdP7zd0do3L8eOodMx03J/bMIqW1RhuqL1U8uc0JNia5VlLsT81qKQeaUsDcweXZtXbg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170802-商品推荐/Develop/分期商城/分期商城3.0/MallBusiness https://192.168.0.220/svn/tech/Branch/20170802-商城订单功能改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client ", "task"=>"http://192.168.0.221/zentao/task-view-43627.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"9xpLaZR4kYGCb3ebKsFdP7zd0do3L8eOodMx03J/bMIqW1RhuqL1U8uc0JNia5VlLsT81qKQeaUsDcweXZtXbg=="}
pid is 31499
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43627.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170802-商品推荐/Develop/分期商城/分期商城3.0/MallBusiness https://192.168.0.220/svn/tech/Branch/20170802-商城订单功能改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client ' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43627.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170802-商品推荐/Develop/分期商城/分期商城3.0/MallBusiness https://192.168.0.220/svn/tech/Branch/20170802-商城订单功能改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client '\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43627.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170802-商品推荐/Develop/分期商城/分期商城3.0/MallBusiness https://192.168.0.220/svn/tech/Branch/20170802-商城订单功能改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client '\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43627.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170802-商品推荐/Develop/分期商城/分期商城3.0/MallBusiness https://192.168.0.220/svn/tech/Branch/20170802-商城订单功能改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client ' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43627.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170802-商品推荐/Develop/分期商城/分期商城3.0/MallBusiness https://192.168.0.220/svn/tech/Branch/20170802-商城订单功能改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client '
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\223\201\346\216\250\350\215\220/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness' $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170802-商品推荐/Develop/分期商城/分期商城3.0/MallBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\223\201\346\216\250\350\215\220/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170802-商品推荐/Develop/分期商城/分期商城3.0/MallBusiness
https://192.168.0.220/svn/tech/Branch/20170802-商城订单功能改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\223\201\346\216\250\350\215\220/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\223\201\346\216\250\350\215\220/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.31499
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\345\225\206\345\223\201\346\216\250\350\215\220/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ svn_from_tb_merged
+ mails-cm -i 'code merged from Branch/20170802-商品推荐/Develop/分期商城/分期商城3.0/MallBusiness'
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170802-\345\225\206\345\223\201\346\216\250\350\215\220/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\223\201\346\216\250\350\215\220/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r135342 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\223\201\346\216\250\350\215\220/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r133177 '
+ '[' '!' -z r133177 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\223\201\346\216\250\350\215\220/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness@r133177' $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\223\201\346\216\250\350\215\220/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：1'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2321' ']'
+ die 'Svn merged conflicts the r133177 -r135342  from Branch/20170802-商品推荐/Develop/分期商城/分期商城3.0/MallBusiness'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r133177 -r135342  from Branch/20170802-商品推荐/Develop/分期商城/分期商城3.0/MallBusiness'
+ test -e /home/qishanqing/tmp/merged/output.31499
+ rm -f /home/qishanqing/tmp/merged/output.31499
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43627.html
Merged revision(s) r133177 -r135342   from Branch/20170802-商品推荐/Develop/分期商城/分期商城3.0/MallBusiness' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ rm -f /home/qishanqing/tmp/merged/output.31499
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ mails-cm -i 'code merged from Branch/20170802-商城订单功能改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r135128 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r135427 '
+ '[' '!' -z r135128 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r135128' $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r135128' $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43627.html
Merged revision(s) r135128 -r135427   from Branch/20170802-商城订单功能改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.5ms)
  Rendered merge/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 192427ms (Views: 56.2ms)


Completed 200 OK in 192427ms (Views: 56.2ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-10 10:39:55 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-10 10:39:55 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (7.7ms)
  Rendered builder/index.html.erb within layouts/application (7.7ms)
Completed 200 OK in 89ms (Views: 83.9ms)


Completed 200 OK in 89ms (Views: 83.9ms)


Started POST "/start" for 192.168.5.26 at 2017-08-10 10:40:19 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-10 10:40:19 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"limeng@dafy.com", "types"=>"add", "trunk"=>"基础业务/账户中心/AccountToolkit", "branch"=>"业务逻辑的数据修改", "user"=>"limeng", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"KUMm302p4fh/Q/fGyaHmqLNHaPwrSneKwDNnCoyRmrT0AjnXY3OFKjawUM6BCy7yIV5F8L71yaFN7ZrHo3WhGA=="}
  Parameters: {"email"=>"limeng@dafy.com", "types"=>"add", "trunk"=>"基础业务/账户中心/AccountToolkit", "branch"=>"业务逻辑的数据修改", "user"=>"limeng", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"KUMm302p4fh/Q/fGyaHmqLNHaPwrSneKwDNnCoyRmrT0AjnXY3OFKjawUM6BCy7yIV5F8L71yaFN7ZrHo3WhGA=="}
pid is 31877
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u limeng -t $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountToolkit' -e limeng@dafy.com -E '' -b $'\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271' -T add -d ''
+ TEMP=' -u '\''limeng'\'' -t '\''基础业务/账户中心/AccountToolkit'\'' -e '\''limeng@dafy.com'\'' -E '\'''\'' -b '\''业务逻辑的数据修改'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''limeng'\'' -t '\''基础业务/账户中心/AccountToolkit'\'' -e '\''limeng@dafy.com'\'' -E '\'''\'' -b '\''业务逻辑的数据修改'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u limeng -t $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountToolkit' -e limeng@dafy.com -E '' -b $'\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271' -T add -d '' --
+ true
+ case "$1" in
+ user=limeng
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountToolkit'
+ shift 2
+ true
+ case "$1" in
+ email=limeng@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=limeng@dafy.com '
+ SMARTCM_EXTRA_MAIL='limeng@dafy.com '
++ limeng
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: limeng: command not found
++ for x in '$user'
++ echo limeng=rw
+ users=limeng=rw
++ $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountToolkit'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 基础业务/账户中心/AccountToolkit: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountToolkit'
+ trunks=$'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountToolkit'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountToolkit' ']'
+ '[' -z $'\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170810
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708101040
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountToolkit'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountToolkit'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708101040-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271'
++ awk -F / '{print $7}'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountToolkit'
+ br=$'20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271'
+ access=$'20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountToolkit' $'https://192.168.0.220/svn/tech/Branch/20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountToolkit' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.31877
+ echo $'https://192.168.0.220/svn/tech/Branch/20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountToolkit'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/基础业务/账户中心/AccountToolkit'\'', '\''https://192.168.0.220/svn/tech/Branch/20170810-业务逻辑的数据修改/Develop/基础业务/账户中心/AccountToolkit'\'',now(),'\''limeng'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/基础业务/账户中心/AccountToolkit'\'', '\''https://192.168.0.220/svn/tech/Branch/20170810-业务逻辑的数据修改/Develop/基础业务/账户中心/AccountToolkit'\'',now(),'\''limeng'\'');'
+ cat /tmp/cmdb.db.31877
+ rm -f /tmp/cmdb.db.31877
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170810-业务逻辑的数据修改] /svn/authz.conf'
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z limeng=rw
+ cat
+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (2.9ms)
  Rendered builder/new.html.erb within layouts/application (2.9ms)
Completed 200 OK in 7240ms (Views: 68.7ms)


Completed 200 OK in 7240ms (Views: 68.7ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-10 10:41:27 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-10 10:41:27 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.2ms)
  Rendered merge/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 72ms (Views: 69.6ms)


Completed 200 OK in 72ms (Views: 69.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-10 10:41:40 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-10 10:41:40 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170731-调取凭证/Develop/基础业务/账户中心/TradingFeedback https://192.168.0.220/svn/tech/Branch/20170731-调取凭证/Develop/基础业务/账户中心/GatewayManager", "task"=>"http://192.168.0.221/zentao/task-view-43465.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"tFs7EdUtcMwl+ubSb5eXbmzpcDiw+m61n5+3v3z1pg1pGiQZ+/cUHmwJQdonPV80/vBdNCVF0J4SQUpyUxGdoQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170731-调取凭证/Develop/基础业务/账户中心/TradingFeedback https://192.168.0.220/svn/tech/Branch/20170731-调取凭证/Develop/基础业务/账户中心/GatewayManager", "task"=>"http://192.168.0.221/zentao/task-view-43465.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"tFs7EdUtcMwl+ubSb5eXbmzpcDiw+m61n5+3v3z1pg1pGiQZ+/cUHmwJQdonPV80/vBdNCVF0J4SQUpyUxGdoQ=="}
pid is 31936
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43465.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170731-调取凭证/Develop/基础业务/账户中心/TradingFeedback https://192.168.0.220/svn/tech/Branch/20170731-调取凭证/Develop/基础业务/账户中心/GatewayManager' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43465.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170731-调取凭证/Develop/基础业务/账户中心/TradingFeedback https://192.168.0.220/svn/tech/Branch/20170731-调取凭证/Develop/基础业务/账户中心/GatewayManager'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43465.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170731-调取凭证/Develop/基础业务/账户中心/TradingFeedback https://192.168.0.220/svn/tech/Branch/20170731-调取凭证/Develop/基础业务/账户中心/GatewayManager'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43465.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170731-调取凭证/Develop/基础业务/账户中心/TradingFeedback https://192.168.0.220/svn/tech/Branch/20170731-调取凭证/Develop/基础业务/账户中心/GatewayManager' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43465.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170731-调取凭证/Develop/基础业务/账户中心/TradingFeedback https://192.168.0.220/svn/tech/Branch/20170731-调取凭证/Develop/基础业务/账户中心/GatewayManager'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170731-\350\260\203\345\217\226\345\207\255\350\257\201/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/TradingFeedback' $'https://192.168.0.220/svn/tech/Branch/20170731-\350\260\203\345\217\226\345\207\255\350\257\201/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/GatewayManager'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170731-调取凭证/Develop/基础业务/账户中心/TradingFeedback: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\350\260\203\345\217\226\345\207\255\350\257\201/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/TradingFeedback'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\350\260\203\345\217\226\345\207\255\350\257\201/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/GatewayManager'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170731-调取凭证/Develop/基础业务/账户中心/TradingFeedback
https://192.168.0.220/svn/tech/Branch/20170731-调取凭证/Develop/基础业务/账户中心/GatewayManager'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\350\260\203\345\217\226\345\207\255\350\257\201/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/TradingFeedback'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/TradingFeedback'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\350\260\203\345\217\226\345\207\255\350\257\201/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/TradingFeedback'
+ rm -f /home/qishanqing/tmp/merged/output.31936
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/TradingFeedback'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170731-\350\260\203\345\217\226\345\207\255\350\257\201/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/TradingFeedback'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/TradingFeedback'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/TradingFeedback'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170731-调取凭证/Develop/基础业务/账户中心/TradingFeedback'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170731-\350\260\203\345\217\226\345\207\255\350\257\201/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/TradingFeedback'
++ head -n 4
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\350\260\203\345\217\226\345\207\255\350\257\201/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/TradingFeedback'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r135356 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170731-\350\260\203\345\217\226\345\207\255\350\257\201/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/TradingFeedback'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r132522 '
+ '[' '!' -z r132522 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170731-\350\260\203\345\217\226\345\207\255\350\257\201/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/TradingFeedback@r132522' $'https://192.168.0.220/svn/tech/Branch/20170731-\350\260\203\345\217\226\345\207\255\350\257\201/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/TradingFeedback' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170731-\350\260\203\345\217\226\345\207\255\350\257\201/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/TradingFeedback@r132522' $'https://192.168.0.220/svn/tech/Branch/20170731-\350\260\203\345\217\226\345\207\255\350\257\201/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/TradingFeedback'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43465.html
Merged revision(s) r132522 -r135356   from Branch/20170731-调取凭证/Develop/基础业务/账户中心/TradingFeedback' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\350\260\203\345\217\226\345\207\255\350\257\201/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/GatewayManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/GatewayManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\350\260\203\345\217\226\345\207\255\350\257\201/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/GatewayManager'
+ rm -f /home/qishanqing/tmp/merged/output.31936
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/GatewayManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170731-\350\260\203\345\217\226\345\207\255\350\257\201/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/GatewayManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/GatewayManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/GatewayManager'
+ mails-cm -i 'code merged from Branch/20170731-调取凭证/Develop/基础业务/账户中心/GatewayManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170731-\350\260\203\345\217\226\345\207\255\350\257\201/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/GatewayManager'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\350\260\203\345\217\226\345\207\255\350\257\201/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/GatewayManager'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r135067 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170731-\350\260\203\345\217\226\345\207\255\350\257\201/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/GatewayManager'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r132523 '
+ '[' '!' -z r132523 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170731-\350\260\203\345\217\226\345\207\255\350\257\201/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/GatewayManager@r132523' $'https://192.168.0.220/svn/tech/Branch/20170731-\350\260\203\345\217\226\345\207\255\350\257\201/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/GatewayManager' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170731-\350\260\203\345\217\226\345\207\255\350\257\201/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/GatewayManager@r132523' $'https://192.168.0.220/svn/tech/Branch/20170731-\350\260\203\345\217\226\345\207\255\350\257\201/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/GatewayManager'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43465.html
Merged revision(s) r132523 -r135067   from Branch/20170731-调取凭证/Develop/基础业务/账户中心/GatewayManager' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.1ms)
  Rendered merge/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 49497ms (Views: 53.4ms)


Completed 200 OK in 49497ms (Views: 53.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-10 10:43:39 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-10 10:43:39 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.6ms)
  Rendered builder/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 74ms (Views: 71.8ms)


Completed 200 OK in 74ms (Views: 71.8ms)


Started POST "/start" for 192.168.5.26 at 2017-08-10 10:43:44 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-10 10:43:44 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170731-调取凭证", "branch"=>"20170731-调取凭证", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"wUO/5rzt9BbjkZtclfFRyllJhiTJsKLiIDKbOnUsLf4cAqDukjeQxKpiPFTdW5mQy1CrKFwPHMmt7Gb3WsgWUg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170731-调取凭证", "branch"=>"20170731-调取凭证", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"wUO/5rzt9BbjkZtclfFRyllJhiTJsKLiIDKbOnUsLf4cAqDukjeQxKpiPFTdW5mQy1CrKFwPHMmt7Gb3WsgWUg=="}
pid is 32085
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170731-\350\260\203\345\217\226\345\207\255\350\257\201' -e qishanqing@dafy.com -E '' -b $'20170731-\350\260\203\345\217\226\345\207\255\350\257\201' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170731-调取凭证'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170731-调取凭证'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170731-调取凭证'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170731-调取凭证'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170731-\350\260\203\345\217\226\345\207\255\350\257\201' -e qishanqing@dafy.com -E '' -b $'20170731-\350\260\203\345\217\226\345\207\255\350\257\201' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170731-\350\260\203\345\217\226\345\207\255\350\257\201'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170731-\350\260\203\345\217\226\345\207\255\350\257\201'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170731-\350\260\203\345\217\226\345\207\255\350\257\201'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170731-调取凭证: command not found
++ for y in '$trunk'
++ echo $'20170731-\350\260\203\345\217\226\345\207\255\350\257\201'
+ trunks=$'20170731-\350\260\203\345\217\226\345\207\255\350\257\201'
+ test del = add
+ delbranch
+ '[' -z $'20170731-\350\260\203\345\217\226\345\207\255\350\257\201' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170810
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708101043
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170731-\350\260\203\345\217\226\345\207\255\350\257\201'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170810-20170731-\350\260\203\345\217\226\345\207\255\350\257\201/Develop/20170731-\350\260\203\345\217\226\345\207\255\350\257\201'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170731-\350\260\203\345\217\226\345\207\255\350\257\201'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708101043-20170731-\350\260\203\345\217\226\345\207\255\350\257\201'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170810-20170731-\350\260\203\345\217\226\345\207\255\350\257\201/Develop/20170731-\350\260\203\345\217\226\345\207\255\350\257\201'
++ awk -F / '{print $7}'
+ br=$'20170810-20170731-\350\260\203\345\217\226\345\207\255\350\257\201'
+ access=$'20170810-20170731-\350\260\203\345\217\226\345\207\255\350\257\201'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170731-\350\260\203\345\217\226\345\207\255\350\257\201' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708101043-20170731-\350\260\203\345\217\226\345\207\255\350\257\201' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.32085
+ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\350\260\203\345\217\226\345\207\255\350\257\201'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170731-调取凭证%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170731-调取凭证%'\'';'
+ cat /tmp/cmdb.db.32085
+ rm -f /tmp/cmdb.db.32085
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.4ms)
  Rendered builder/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 4136ms (Views: 53.7ms)


Completed 200 OK in 4136ms (Views: 53.7ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-10 10:45:30 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-10 10:45:30 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.2ms)
  Rendered merge/index.html.erb within layouts/application (4.2ms)
Completed 200 OK in 170ms (Views: 167.4ms)


Completed 200 OK in 170ms (Views: 167.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-10 10:45:38 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-10 10:45:38 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170807-监控短信数量统计/Develop/公共/Cuckoo", "task"=>"http://192.168.0.221/zentao/task-view-43611.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"9VpuCCNNNb6eoHKmwHIHVc/fsL/GRSArAfXz8AIrBx0oG3EADZdRbNdT1a6I2M8PXcads1P6ngCMKw49Lc88sQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170807-监控短信数量统计/Develop/公共/Cuckoo", "task"=>"http://192.168.0.221/zentao/task-view-43611.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"9VpuCCNNNb6eoHKmwHIHVc/fsL/GRSArAfXz8AIrBx0oG3EADZdRbNdT1a6I2M8PXcads1P6ngCMKw49Lc88sQ=="}
pid is 32160
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43611.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170807-\347\233\221\346\216\247\347\237\255\344\277\241\346\225\260\351\207\217\347\273\237\350\256\241/Develop/\345\205\254\345\205\261/Cuckoo' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43611.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170807-监控短信数量统计/Develop/公共/Cuckoo'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43611.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170807-监控短信数量统计/Develop/公共/Cuckoo'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43611.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170807-\347\233\221\346\216\247\347\237\255\344\277\241\346\225\260\351\207\217\347\273\237\350\256\241/Develop/\345\205\254\345\205\261/Cuckoo' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43611.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170807-\347\233\221\346\216\247\347\237\255\344\277\241\346\225\260\351\207\217\347\273\237\350\256\241/Develop/\345\205\254\345\205\261/Cuckoo'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170807-\347\233\221\346\216\247\347\237\255\344\277\241\346\225\260\351\207\217\347\273\237\350\256\241/Develop/\345\205\254\345\205\261/Cuckoo'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170807-监控短信数量统计/Develop/公共/Cuckoo: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170807-\347\233\221\346\216\247\347\237\255\344\277\241\346\225\260\351\207\217\347\273\237\350\256\241/Develop/\345\205\254\345\205\261/Cuckoo'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170807-\347\233\221\346\216\247\347\237\255\344\277\241\346\225\260\351\207\217\347\273\237\350\256\241/Develop/\345\205\254\345\205\261/Cuckoo'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170807-\347\233\221\346\216\247\347\237\255\344\277\241\346\225\260\351\207\217\347\273\237\350\256\241/Develop/\345\205\254\345\205\261/Cuckoo'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\205\254\345\205\261/Cuckoo'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170807-\347\233\221\346\216\247\347\237\255\344\277\241\346\225\260\351\207\217\347\273\237\350\256\241/Develop/\345\205\254\345\205\261/Cuckoo'
+ rm -f /home/qishanqing/tmp/merged/output.32160
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\205\254\345\205\261/Cuckoo'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170807-\347\233\221\346\216\247\347\237\255\344\277\241\346\225\260\351\207\217\347\273\237\350\256\241/Develop/\345\205\254\345\205\261/Cuckoo'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\205\254\345\205\261/Cuckoo'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\205\254\345\205\261/Cuckoo'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170807-监控短信数量统计/Develop/公共/Cuckoo'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170807-\347\233\221\346\216\247\347\237\255\344\277\241\346\225\260\351\207\217\347\273\237\350\256\241/Develop/\345\205\254\345\205\261/Cuckoo'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170807-\347\233\221\346\216\247\347\237\255\344\277\241\346\225\260\351\207\217\347\273\237\350\256\241/Develop/\345\205\254\345\205\261/Cuckoo'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r135374 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170807-\347\233\221\346\216\247\347\237\255\344\277\241\346\225\260\351\207\217\347\273\237\350\256\241/Develop/\345\205\254\345\205\261/Cuckoo'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r134481 '
+ '[' '!' -z r134481 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170807-\347\233\221\346\216\247\347\237\255\344\277\241\346\225\260\351\207\217\347\273\237\350\256\241/Develop/\345\205\254\345\205\261/Cuckoo@r134481' $'https://192.168.0.220/svn/tech/Branch/20170807-\347\233\221\346\216\247\347\237\255\344\277\241\346\225\260\351\207\217\347\273\237\350\256\241/Develop/\345\205\254\345\205\261/Cuckoo' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170807-\347\233\221\346\216\247\347\237\255\344\277\241\346\225\260\351\207\217\347\273\237\350\256\241/Develop/\345\205\254\345\205\261/Cuckoo@r134481' $'https://192.168.0.220/svn/tech/Branch/20170807-\347\233\221\346\216\247\347\237\255\344\277\241\346\225\260\351\207\217\347\273\237\350\256\241/Develop/\345\205\254\345\205\261/Cuckoo'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43611.html
Merged revision(s) r134481 -r135374   from Branch/20170807-监控短信数量统计/Develop/公共/Cuckoo' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (2.0ms)
  Rendered merge/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 32989ms (Views: 89.6ms)


Completed 200 OK in 32989ms (Views: 89.6ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-10 10:58:45 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-10 10:58:45 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.9ms)
  Rendered builder/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 202ms (Views: 200.0ms)


Completed 200 OK in 202ms (Views: 200.0ms)


Started POST "/start" for 192.168.5.26 at 2017-08-10 10:58:48 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-10 10:58:48 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170807-监控短信数量统计", "branch"=>"20170807-监控短信数量统计", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"n003m/ZRV8T9SYZVwE47M6mDkZMvQkNLpsuqu23w03JCDCiT2IszFrS6IV2I5PNpO5q8n7r9/WArFVd2QhTo3g=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170807-监控短信数量统计", "branch"=>"20170807-监控短信数量统计", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"n003m/ZRV8T9SYZVwE47M6mDkZMvQkNLpsuqu23w03JCDCiT2IszFrS6IV2I5PNpO5q8n7r9/WArFVd2QhTo3g=="}
pid is 518
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170807-\347\233\221\346\216\247\347\237\255\344\277\241\346\225\260\351\207\217\347\273\237\350\256\241' -e qishanqing@dafy.com -E '' -b $'20170807-\347\233\221\346\216\247\347\237\255\344\277\241\346\225\260\351\207\217\347\273\237\350\256\241' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170807-监控短信数量统计'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170807-监控短信数量统计'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170807-监控短信数量统计'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170807-监控短信数量统计'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170807-\347\233\221\346\216\247\347\237\255\344\277\241\346\225\260\351\207\217\347\273\237\350\256\241' -e qishanqing@dafy.com -E '' -b $'20170807-\347\233\221\346\216\247\347\237\255\344\277\241\346\225\260\351\207\217\347\273\237\350\256\241' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170807-\347\233\221\346\216\247\347\237\255\344\277\241\346\225\260\351\207\217\347\273\237\350\256\241'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170807-\347\233\221\346\216\247\347\237\255\344\277\241\346\225\260\351\207\217\347\273\237\350\256\241'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170807-\347\233\221\346\216\247\347\237\255\344\277\241\346\225\260\351\207\217\347\273\237\350\256\241'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170807-监控短信数量统计: command not found
++ for y in '$trunk'
++ echo $'20170807-\347\233\221\346\216\247\347\237\255\344\277\241\346\225\260\351\207\217\347\273\237\350\256\241'
+ trunks=$'20170807-\347\233\221\346\216\247\347\237\255\344\277\241\346\225\260\351\207\217\347\273\237\350\256\241'
+ test del = add
+ delbranch
+ '[' -z $'20170807-\347\233\221\346\216\247\347\237\255\344\277\241\346\225\260\351\207\217\347\273\237\350\256\241' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170810
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708101058
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170807-\347\233\221\346\216\247\347\237\255\344\277\241\346\225\260\351\207\217\347\273\237\350\256\241'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170810-20170807-\347\233\221\346\216\247\347\237\255\344\277\241\346\225\260\351\207\217\347\273\237\350\256\241/Develop/20170807-\347\233\221\346\216\247\347\237\255\344\277\241\346\225\260\351\207\217\347\273\237\350\256\241'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170807-\347\233\221\346\216\247\347\237\255\344\277\241\346\225\260\351\207\217\347\273\237\350\256\241'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708101058-20170807-\347\233\221\346\216\247\347\237\255\344\277\241\346\225\260\351\207\217\347\273\237\350\256\241'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170810-20170807-\347\233\221\346\216\247\347\237\255\344\277\241\346\225\260\351\207\217\347\273\237\350\256\241/Develop/20170807-\347\233\221\346\216\247\347\237\255\344\277\241\346\225\260\351\207\217\347\273\237\350\256\241'
++ awk -F / '{print $7}'
+ br=$'20170810-20170807-\347\233\221\346\216\247\347\237\255\344\277\241\346\225\260\351\207\217\347\273\237\350\256\241'
+ access=$'20170810-20170807-\347\233\221\346\216\247\347\237\255\344\277\241\346\225\260\351\207\217\347\273\237\350\256\241'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170807-\347\233\221\346\216\247\347\237\255\344\277\241\346\225\260\351\207\217\347\273\237\350\256\241' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708101058-20170807-\347\233\221\346\216\247\347\237\255\344\277\241\346\225\260\351\207\217\347\273\237\350\256\241' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.518
+ echo $'https://192.168.0.220/svn/tech/Branch/20170807-\347\233\221\346\216\247\347\237\255\344\277\241\346\225\260\351\207\217\347\273\237\350\256\241'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170807-监控短信数量统计%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170807-监控短信数量统计%'\'';'
+ cat /tmp/cmdb.db.518
+ rm -f /tmp/cmdb.db.518
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 4314ms (Views: 87.5ms)


Completed 200 OK in 4314ms (Views: 87.5ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-10 11:02:45 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-10 11:02:45 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.9ms)
  Rendered builder/index.html.erb within layouts/application (3.9ms)
Completed 200 OK in 114ms (Views: 111.1ms)


Completed 200 OK in 114ms (Views: 111.1ms)


Started POST "/start" for 192.168.5.26 at 2017-08-10 11:02:50 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-10 11:02:50 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170802-商品推荐", "branch"=>"20170802-商品推荐", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"VQZO74b16Y/Y9kZ6OUa6zt+gLpcfZ5NgGrg3Kn29kvqIR1HnqC+NXZEF4XJx7HKUTbkDm4rYLUuXZsrnUlmpVg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170802-商品推荐", "branch"=>"20170802-商品推荐", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"VQZO74b16Y/Y9kZ6OUa6zt+gLpcfZ5NgGrg3Kn29kvqIR1HnqC+NXZEF4XJx7HKUTbkDm4rYLUuXZsrnUlmpVg=="}
pid is 918
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170802-\345\225\206\345\223\201\346\216\250\350\215\220' -e qishanqing@dafy.com -E '' -b $'20170802-\345\225\206\345\223\201\346\216\250\350\215\220' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170802-商品推荐'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170802-商品推荐'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170802-商品推荐'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170802-商品推荐'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170802-\345\225\206\345\223\201\346\216\250\350\215\220' -e qishanqing@dafy.com -E '' -b $'20170802-\345\225\206\345\223\201\346\216\250\350\215\220' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170802-\345\225\206\345\223\201\346\216\250\350\215\220'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170802-\345\225\206\345\223\201\346\216\250\350\215\220'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170802-\345\225\206\345\223\201\346\216\250\350\215\220'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170802-商品推荐: command not found
++ for y in '$trunk'
++ echo $'20170802-\345\225\206\345\223\201\346\216\250\350\215\220'
+ trunks=$'20170802-\345\225\206\345\223\201\346\216\250\350\215\220'
+ test del = add
+ delbranch
+ '[' -z $'20170802-\345\225\206\345\223\201\346\216\250\350\215\220' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170810
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708101102
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170802-\345\225\206\345\223\201\346\216\250\350\215\220'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170810-20170802-\345\225\206\345\223\201\346\216\250\350\215\220/Develop/20170802-\345\225\206\345\223\201\346\216\250\350\215\220'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\223\201\346\216\250\350\215\220'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708101102-20170802-\345\225\206\345\223\201\346\216\250\350\215\220'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170810-20170802-\345\225\206\345\223\201\346\216\250\350\215\220/Develop/20170802-\345\225\206\345\223\201\346\216\250\350\215\220'
++ awk -F / '{print $7}'
+ br=$'20170810-20170802-\345\225\206\345\223\201\346\216\250\350\215\220'
+ access=$'20170810-20170802-\345\225\206\345\223\201\346\216\250\350\215\220'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\223\201\346\216\250\350\215\220' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708101102-20170802-\345\225\206\345\223\201\346\216\250\350\215\220' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.918
+ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\223\201\346\216\250\350\215\220'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170802-商品推荐%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170802-商品推荐%'\'';'
+ cat /tmp/cmdb.db.918
+ rm -f /tmp/cmdb.db.918
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 3529ms (Views: 63.7ms)


Completed 200 OK in 3529ms (Views: 63.7ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-10 11:02:59 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-10 11:02:59 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.9ms)
  Rendered builder/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 149ms (Views: 146.6ms)


Completed 200 OK in 149ms (Views: 146.6ms)


Started POST "/start" for 192.168.5.26 at 2017-08-10 11:03:02 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-10 11:03:02 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170802-商城订单功能改造", "branch"=>"20170802-商城订单功能改造", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"PnRAs+bxMlqjlVABB3eKsUQz3F4lYDADDsY/Gk71JiLjNV+7yCtWiOpm9wlP3ULr1irxUrDfjiiDGMLXYREdjg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170802-商城订单功能改造", "branch"=>"20170802-商城订单功能改造", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"PnRAs+bxMlqjlVABB3eKsUQz3F4lYDADDsY/Gk71JiLjNV+7yCtWiOpm9wlP3ULr1irxUrDfjiiDGMLXYREdjg=="}
pid is 961
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240' -e qishanqing@dafy.com -E '' -b $'20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170802-商城订单功能改造'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170802-商城订单功能改造'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170802-商城订单功能改造'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170802-商城订单功能改造'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240' -e qishanqing@dafy.com -E '' -b $'20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170802-商城订单功能改造: command not found
++ for y in '$trunk'
++ echo $'20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240'
+ trunks=$'20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240'
+ test del = add
+ delbranch
+ '[' -z $'20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170810
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708101103
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170810-20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240/Develop/20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708101103-20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170810-20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240/Develop/20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240'
++ awk -F / '{print $7}'
+ br=$'20170810-20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240'
+ access=$'20170810-20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708101103-20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.961
+ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170802-商城订单功能改造%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170802-商城订单功能改造%'\'';'
+ cat /tmp/cmdb.db.961
+ rm -f /tmp/cmdb.db.961
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.0ms)
  Rendered builder/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 891ms (Views: 67.1ms)


Completed 200 OK in 891ms (Views: 67.1ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-10 14:07:42 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-10 14:07:42 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (96.6ms)
  Rendered merge/index.html.erb within layouts/application (96.6ms)
Started GET "/builder" for 192.168.5.26 at 2017-08-10 14:07:43 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-10 14:07:43 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (9.8ms)
  Rendered builder/index.html.erb within layouts/application (9.8ms)
Completed 200 OK in 1536ms (Views: 1431.3ms)


Completed 200 OK in 1536ms (Views: 1431.3ms)


Completed 200 OK in 182ms (Views: 175.9ms)


Completed 200 OK in 182ms (Views: 175.9ms)


Started POST "/start" for 192.168.5.26 at 2017-08-10 14:08:43 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-10 14:08:43 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"基础业务/账户中心/AccountSearcher", "branch"=>"业务逻辑的数据修改", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"mnFPKo37q4FcCdhQVS8iurUBl9aAAEEaFcHkWPUe1H9HMFAioyHPUxX6f1gdhergJxi62hW//zGYHxmV2vrv0w=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"基础业务/账户中心/AccountSearcher", "branch"=>"业务逻辑的数据修改", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"mnFPKo37q4FcCdhQVS8iurUBl9aAAEEaFcHkWPUe1H9HMFAioyHPUxX6f1gdhergJxi62hW//zGYHxmV2vrv0w=="}
pid is 8686
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountSearcher' -e qishanqing@dafy.com -E '' -b $'\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271' -T add -d ''
+ TEMP=' -u '\'''\'' -t '\''基础业务/账户中心/AccountSearcher'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''业务逻辑的数据修改'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''基础业务/账户中心/AccountSearcher'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''业务逻辑的数据修改'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u '' -t $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountSearcher' -e qishanqing@dafy.com -E '' -b $'\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271' -T add -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountSearcher'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountSearcher'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 基础业务/账户中心/AccountSearcher: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountSearcher'
+ trunks=$'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountSearcher'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountSearcher' ']'
+ '[' -z $'\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170810
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708101408
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountSearcher'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountSearcher'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708101408-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountSearcher'
++ awk -F / '{print $7}'
+ br=$'20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271'
+ access=$'20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountSearcher' $'https://192.168.0.220/svn/tech/Branch/20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountSearcher' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ die 'Svn branch create the reasons for failure are as follows'
+ echo 'Svn branch create the reasons for failure are as follows'
+ mails-cm -i 'svn branch create failed'
+ test -e /home/qishanqing/tmp/output.8686
+ echo
+ cat /home/qishanqing/tmp/output.8686
+ rm -rf /home/qishanqing/tmp/output.8686
+ kill 8686
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (45.5ms)
  Rendered builder/new.html.erb within layouts/application (45.5ms)
Completed 200 OK in 1858ms (Views: 356.2ms)


Completed 200 OK in 1858ms (Views: 356.2ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-10 14:09:34 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-10 14:09:34 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.7ms)
  Rendered builder/index.html.erb within layouts/application (3.7ms)
Completed 200 OK in 423ms (Views: 420.3ms)


Completed 200 OK in 423ms (Views: 420.3ms)


Started POST "/start" for 192.168.5.26 at 2017-08-10 14:10:16 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-10 14:10:16 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"基础业务/账户中心/AccountSearcher", "branch"=>"业务逻辑的数据修改", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"sogF9xjB/ViTbloRbe6V3TY9U8UesnrdDt6kTGY34mFvyRr/NhuZitqd/RklRF2HpCR+yYsNxPaDAFmBSdPZzQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"基础业务/账户中心/AccountSearcher", "branch"=>"业务逻辑的数据修改", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"sogF9xjB/ViTbloRbe6V3TY9U8UesnrdDt6kTGY34mFvyRr/NhuZitqd/RklRF2HpCR+yYsNxPaDAFmBSdPZzQ=="}
pid is 8760
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountSearcher' -e qishanqing@dafy.com -E '' -b $'\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271' -T add -d ''
+ TEMP=' -u '\'''\'' -t '\''基础业务/账户中心/AccountSearcher'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''业务逻辑的数据修改'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''基础业务/账户中心/AccountSearcher'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''业务逻辑的数据修改'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u '' -t $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountSearcher' -e qishanqing@dafy.com -E '' -b $'\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271' -T add -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountSearcher'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountSearcher'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 基础业务/账户中心/AccountSearcher: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountSearcher'
+ trunks=$'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountSearcher'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountSearcher' ']'
+ '[' -z $'\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170810
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708101410
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountSearcher'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountSearcher'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708101410-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountSearcher'
++ awk -F / '{print $7}'
+ br=$'20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271'
+ access=$'20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountSearcher' $'https://192.168.0.220/svn/tech/Branch/20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountSearcher' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.8760
+ echo $'https://192.168.0.220/svn/tech/Branch/20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountSearcher'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/基础业务/账户中心/AccountSearcher'\'', '\''https://192.168.0.220/svn/tech/Branch/20170810-业务逻辑的数据修改/Develop/基础业务/账户中心/AccountSearcher'\'',now(),'\''qishanqing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/基础业务/账户中心/AccountSearcher'\'', '\''https://192.168.0.220/svn/tech/Branch/20170810-业务逻辑的数据修改/Develop/基础业务/账户中心/AccountSearcher'\'',now(),'\''qishanqing'\'');'
+ cat /tmp/cmdb.db.8760
+ rm -f /tmp/cmdb.db.8760
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170810-业务逻辑的数据修改] /svn/authz.conf'
+ read num
+ '[' 1 -eq 0 ']'
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (12.7ms)
  Rendered builder/new.html.erb within layouts/application (12.7ms)
Completed 200 OK in 2817ms (Views: 141.5ms)


Completed 200 OK in 2817ms (Views: 141.5ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-10 17:11:43 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-10 17:11:43 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (77.8ms)
  Rendered builder/index.html.erb within layouts/application (77.8ms)
Completed 200 OK in 1249ms (Views: 1152.3ms)


Completed 200 OK in 1249ms (Views: 1152.3ms)


Started POST "/start" for 192.168.5.26 at 2017-08-10 17:11:49 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-10 17:11:49 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170810-业务逻辑的数据修改", "branch"=>"20170810-业务逻辑的数据修改", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"4VXB9y23oyvt+75HO4F/wWeFdz/sem56hKzd4vraNZs8FN7/A23H+aQIGU9zK7eb9ZxaM3nF0FEJciAv1T4ONw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170810-业务逻辑的数据修改", "branch"=>"20170810-业务逻辑的数据修改", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"4VXB9y23oyvt+75HO4F/wWeFdz/sem56hKzd4vraNZs8FN7/A23H+aQIGU9zK7eb9ZxaM3nF0FEJciAv1T4ONw=="}
pid is 27444
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271' -e qishanqing@dafy.com -E '' -b $'20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170810-业务逻辑的数据修改'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170810-业务逻辑的数据修改'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170810-业务逻辑的数据修改'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170810-业务逻辑的数据修改'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271' -e qishanqing@dafy.com -E '' -b $'20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170810-业务逻辑的数据修改: command not found
++ for y in '$trunk'
++ echo $'20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271'
+ trunks=$'20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271'
+ test del = add
+ delbranch
+ '[' -z $'20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170810
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708101711
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170810-20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271/Develop/20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708101711-20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170810-20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271/Develop/20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271'
++ awk -F / '{print $7}'
+ br=$'20170810-20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271'
+ access=$'20170810-20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708101711-20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.27444
+ echo $'https://192.168.0.220/svn/tech/Branch/20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170810-业务逻辑的数据修改%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170810-业务逻辑的数据修改%'\'';'
+ cat /tmp/cmdb.db.27444
+ rm -f /tmp/cmdb.db.27444
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (5.1ms)
  Rendered builder/new.html.erb within layouts/application (5.1ms)
Completed 200 OK in 4284ms (Views: 122.5ms)


Completed 200 OK in 4284ms (Views: 122.5ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-10 17:11:56 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-10 17:11:56 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (21.5ms)
  Rendered builder/index.html.erb within layouts/application (21.5ms)
Completed 200 OK in 127ms (Views: 123.4ms)


Completed 200 OK in 127ms (Views: 123.4ms)


Started POST "/start" for 192.168.5.26 at 2017-08-10 17:12:57 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-10 17:12:57 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"基础业务/账户中心/AccSearcher 基础业务/账户中心/AccToolkit", "branch"=>"业务逻辑的数据修改", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"bsupFfROtoWnPW5YOsOVmg5AIcKgVb4OrD9QBH26OfezirYd2pTSV+7OyVByaV3AnFkMzjXqACUh4a3JUl4CWw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"基础业务/账户中心/AccSearcher 基础业务/账户中心/AccToolkit", "branch"=>"业务逻辑的数据修改", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"bsupFfROtoWnPW5YOsOVmg5AIcKgVb4OrD9QBH26OfezirYd2pTSV+7OyVByaV3AnFkMzjXqACUh4a3JUl4CWw=="}
pid is 27495
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t '基础业务/账户中心/AccSearcher 基础业务/账户中心/AccToolkit' -e qishanqing@dafy.com -E '' -b $'\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271' -T add -d ''
+ TEMP=' -u '\'''\'' -t '\''基础业务/账户中心/AccSearcher 基础业务/账户中心/AccToolkit'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''业务逻辑的数据修改'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''基础业务/账户中心/AccSearcher 基础业务/账户中心/AccToolkit'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''业务逻辑的数据修改'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u '' -t '基础业务/账户中心/AccSearcher 基础业务/账户中心/AccToolkit' -e qishanqing@dafy.com -E '' -b $'\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271' -T add -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk='基础业务/账户中心/AccSearcher 基础业务/账户中心/AccToolkit'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccSearcher' $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccToolkit'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 基础业务/账户中心/AccSearcher: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccSearcher'
++ for y in '$trunk'
++ echo $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccToolkit'
+ trunks='基础业务/账户中心/AccSearcher
基础业务/账户中心/AccToolkit'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccSearcher' ']'
+ '[' -z $'\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170810
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708101712
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccSearcher'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccSearcher'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708101712-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccSearcher'
++ awk -F / '{print $7}'
+ br=$'20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271'
+ access=$'20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccSearcher' $'https://192.168.0.220/svn/tech/Branch/20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccSearcher' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.27495
+ echo $'https://192.168.0.220/svn/tech/Branch/20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccSearcher'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/基础业务/账户中心/AccSearcher'\'', '\''https://192.168.0.220/svn/tech/Branch/20170810-业务逻辑的数据修改/Develop/基础业务/账户中心/AccSearcher'\'',now(),'\''qishanqing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/基础业务/账户中心/AccSearcher'\'', '\''https://192.168.0.220/svn/tech/Branch/20170810-业务逻辑的数据修改/Develop/基础业务/账户中心/AccSearcher'\'',now(),'\''qishanqing'\'');'
+ cat /tmp/cmdb.db.27495
+ rm -f /tmp/cmdb.db.27495
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170810-业务逻辑的数据修改] /svn/authz.conf'
+ read num
+ '[' 1 -eq 0 ']'
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccToolkit' ']'
+ '[' -z $'\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170810
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708101713
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccToolkit'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccToolkit'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708101713-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccToolkit'
++ awk -F / '{print $7}'
+ br=$'20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271'
+ access=$'20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccToolkit' $'https://192.168.0.220/svn/tech/Branch/20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccToolkit' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.27495
+ echo $'https://192.168.0.220/svn/tech/Branch/20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccToolkit'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/基础业务/账户中心/AccToolkit'\'', '\''https://192.168.0.220/svn/tech/Branch/20170810-业务逻辑的数据修改/Develop/基础业务/账户中心/AccToolkit'\'',now(),'\''qishanqing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/基础业务/账户中心/AccToolkit'\'', '\''https://192.168.0.220/svn/tech/Branch/20170810-业务逻辑的数据修改/Develop/基础业务/账户中心/AccToolkit'\'',now(),'\''qishanqing'\'');'
+ cat /tmp/cmdb.db.27495
+ rm -f /tmp/cmdb.db.27495
+ check-acces
+ read num
+ ssh root@192.168.0.220 'grep -c 20170810-业务逻辑的数据修改] /svn/authz.conf'
+ '[' 1 -eq 0 ']'
+ echo 'access authz added'
access authz added
+ read num
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ cat
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.3ms)
  Rendered builder/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 4281ms (Views: 342.9ms)


Completed 200 OK in 4281ms (Views: 342.9ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-10 17:27:21 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-10 17:27:21 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (6.0ms)
  Rendered builder/index.html.erb within layouts/application (6.0ms)
Completed 200 OK in 83ms (Views: 70.9ms)


Completed 200 OK in 83ms (Views: 70.9ms)


Started POST "/start" for 192.168.5.26 at 2017-08-10 17:28:40 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-10 17:28:40 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "branch"=>"首页第改版", "user"=>"liuxueqin", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"r2XLnu1lOMiwPKI4nefyfl1op7nMp2Ake0K1Yv5sqJNyJNSWw79cGvnPBTDVTTokz3GKtVkY3g/2nEiv0YiTPw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "branch"=>"首页第改版", "user"=>"liuxueqin", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"r2XLnu1lOMiwPKI4nefyfl1op7nMp2Ake0K1Yv5sqJNyJNSWw79cGvnPBTDVTTokz3GKtVkY3g/2nEiv0YiTPw=="}
pid is 27976
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u liuxueqin -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -e qishanqing@dafy.com -E '' -b $'\351\246\226\351\241\265\347\254\254\346\224\271\347\211\210' -T add -d ''
+ TEMP=' -u '\''liuxueqin'\'' -t '\''前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''首页第改版'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''liuxueqin'\'' -t '\''前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''首页第改版'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u liuxueqin -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -e qishanqing@dafy.com -E '' -b $'\351\246\226\351\241\265\347\254\254\346\224\271\347\211\210' -T add -d '' --
+ true
+ case "$1" in
+ user=liuxueqin
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\351\246\226\351\241\265\347\254\254\346\224\271\347\211\210'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
++ liuxueqin
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: liuxueqin: command not found
++ for x in '$user'
++ echo liuxueqin=rw
+ users=liuxueqin=rw
++ $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ trunks=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' ']'
+ '[' -z $'\351\246\226\351\241\265\347\254\254\346\224\271\347\211\210' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170810
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708101728
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170810-\351\246\226\351\241\265\347\254\254\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\351\246\226\351\241\265\347\254\254\346\224\271\347\211\210'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708101728-\351\246\226\351\241\265\347\254\254\346\224\271\347\211\210'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170810-\351\246\226\351\241\265\347\254\254\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F / '{print $7}'
+ br=$'20170810-\351\246\226\351\241\265\347\254\254\346\224\271\347\211\210'
+ access=$'20170810-\351\246\226\351\241\265\347\254\254\346\224\271\347\211\210'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' $'https://192.168.0.220/svn/tech/Branch/20170810-\351\246\226\351\241\265\347\254\254\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.27976
+ echo $'https://192.168.0.220/svn/tech/Branch/20170810-\351\246\226\351\241\265\347\254\254\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'', '\''https://192.168.0.220/svn/tech/Branch/20170810-首页第改版/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'',now(),'\''qishanqing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'', '\''https://192.168.0.220/svn/tech/Branch/20170810-首页第改版/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'',now(),'\''qishanqing'\'');'
+ cat /tmp/cmdb.db.27976
+ rm -f /tmp/cmdb.db.27976
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170810-首页第改版] /svn/authz.conf'
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z liuxueqin=rw
+ cat
+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (16.0ms)
  Rendered builder/new.html.erb within layouts/application (16.0ms)
Completed 200 OK in 10130ms (Views: 86.8ms)


Completed 200 OK in 10130ms (Views: 86.8ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-10 17:31:20 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-10 17:31:20 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.8ms)
  Rendered builder/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 111ms (Views: 108.3ms)


Completed 200 OK in 111ms (Views: 108.3ms)


Started POST "/start" for 192.168.5.26 at 2017-08-10 17:31:41 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-10 17:31:41 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/P2PManager  ", "branch"=>"等额本息", "user"=>"", "extra_mails"=>"", "riqi"=>"20170808", "authenticity_token"=>"7nZFNw81o8uiJUID6yqz4gb2V5FRVNrOIzLEfYOT0wgzN1o/Ie/HGevW5QujgHu4lO96ncTrZOWu7DmwrHfopA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/P2PManager  ", "branch"=>"等额本息", "user"=>"", "extra_mails"=>"", "riqi"=>"20170808", "authenticity_token"=>"7nZFNw81o8uiJUID6yqz4gb2V5FRVNrOIzLEfYOT0wgzN1o/Ie/HGevW5QujgHu4lO96ncTrZOWu7DmwrHfopA=="}
pid is 28092
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t '外部业务/P2P/P2PManager  ' -e qishanqing@dafy.com -E '' -b $'\347\255\211\351\242\235\346\234\254\346\201\257' -T add -d 20170808
+ TEMP=' -u '\'''\'' -t '\''外部业务/P2P/P2PManager  '\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''等额本息'\'' -T '\''add'\'' -d '\''20170808'\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''外部业务/P2P/P2PManager  '\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''等额本息'\'' -T '\''add'\'' -d '\''20170808'\'' --'
++ set -- -u '' -t '外部业务/P2P/P2PManager  ' -e qishanqing@dafy.com -E '' -b $'\347\255\211\351\242\235\346\234\254\346\201\257' -T add -d 20170808 --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk='外部业务/P2P/P2PManager  '
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\347\255\211\351\242\235\346\234\254\346\201\257'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=20170808
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 外部业务/P2P/P2PManager: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ trunks=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager' ']'
+ '[' -z $'\347\255\211\351\242\235\346\234\254\346\201\257' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170810
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708101731
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170808-\347\255\211\351\242\235\346\234\254\346\201\257/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\347\255\211\351\242\235\346\234\254\346\201\257'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708101731-\347\255\211\351\242\235\346\234\254\346\201\257'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170808-\347\255\211\351\242\235\346\234\254\346\201\257/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ awk -F / '{print $7}'
+ br=$'20170808-\347\255\211\351\242\235\346\234\254\346\201\257'
+ access=$'20170808-\347\255\211\351\242\235\346\234\254\346\201\257'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager' $'https://192.168.0.220/svn/tech/Branch/20170808-\347\255\211\351\242\235\346\234\254\346\201\257/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.28092
+ echo $'https://192.168.0.220/svn/tech/Branch/20170808-\347\255\211\351\242\235\346\234\254\346\201\257/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/P2PManager'\'', '\''https://192.168.0.220/svn/tech/Branch/20170808-等额本息/Develop/外部业务/P2P/P2PManager'\'',now(),'\''qishanqing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/P2PManager'\'', '\''https://192.168.0.220/svn/tech/Branch/20170808-等额本息/Develop/外部业务/P2P/P2PManager'\'',now(),'\''qishanqing'\'');'
+ cat /tmp/cmdb.db.28092
+ rm -f /tmp/cmdb.db.28092
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170808-等额本息] /svn/authz.conf'
+ read num
+ '[' 1 -eq 0 ']'
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.8ms)
  Rendered builder/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 4878ms (Views: 173.8ms)


Completed 200 OK in 4878ms (Views: 173.8ms)


Started GET "/start" for 192.168.5.26 at 2017-08-11 09:33:49 +0800
Started GET "/start" for 192.168.5.26 at 2017-08-11 09:33:49 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  
  
ActionController::RoutingError (No route matches [GET] "/start"):
ActionController::RoutingError (No route matches [GET] "/start"):
  
  
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/merge/new" for 192.168.5.26 at 2017-08-11 09:46:42 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-11 09:46:42 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170810-优化重试策略/Develop/外部业务/P2P/TRGateway", "task"=>"http://192.168.0.221/zentao/task-view-43712.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"Z7pcMaj4139nUUfBHvk+2mU7dqyg5Qth0uSnL/+hLgu6+0M5hiKzrS6i4MlWU/aA9yJboDVatUpfOlri0EUVpw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170810-优化重试策略/Develop/外部业务/P2P/TRGateway", "task"=>"http://192.168.0.221/zentao/task-view-43712.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"Z7pcMaj4139nUUfBHvk+2mU7dqyg5Qth0uSnL/+hLgu6+0M5hiKzrS6i4MlWU/aA9yJboDVatUpfOlri0EUVpw=="}
Can't verify CSRF token authenticity.
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 183ms


Completed 422 Unprocessable Entity in 183ms


  
  
ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  
  
actionpack (5.1.1) lib/action_controller/metal/request_forgery_protection.rb:195:in `handle_unverified_request'
actionpack (5.1.1) lib/action_controller/metal/request_forgery_protection.rb:227:in `handle_unverified_request'
actionpack (5.1.1) lib/action_controller/metal/request_forgery_protection.rb:222:in `verify_authenticity_token'
activesupport (5.1.1) lib/active_support/callbacks.rb:413:in `block in make_lambda'
activesupport (5.1.1) lib/active_support/callbacks.rb:197:in `block (2 levels) in halting'
actionpack (5.1.1) lib/abstract_controller/callbacks.rb:12:in `block (2 levels) in <module:Callbacks>'
activesupport (5.1.1) lib/active_support/callbacks.rb:198:in `block in halting'
activesupport (5.1.1) lib/active_support/callbacks.rb:507:in `block in invoke_before'
activesupport (5.1.1) lib/active_support/callbacks.rb:507:in `each'
activesupport (5.1.1) lib/active_support/callbacks.rb:507:in `invoke_before'
activesupport (5.1.1) lib/active_support/callbacks.rb:130:in `run_callbacks'
actionpack (5.1.1) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.1.1) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.1.1) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.1.1) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.1) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.1) lib/active_support/notifications.rb:166:in `instrument'
actionpack (5.1.1) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.1.1) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
activerecord (5.1.1) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
actionpack (5.1.1) lib/abstract_controller/base.rb:124:in `process'
actionview (5.1.1) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.1) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.1) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.1) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.1) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.1) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.1) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.1) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.1) lib/action_dispatch/routing/route_set.rb:832:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.1) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.1) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.1) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
actionpack (5.1.1) lib/action_controller/metal/request_forgery_protection.rb:195:in `handle_unverified_request'
actionpack (5.1.1) lib/action_controller/metal/request_forgery_protection.rb:227:in `handle_unverified_request'
actionpack (5.1.1) lib/action_controller/metal/request_forgery_protection.rb:222:in `verify_authenticity_token'
activesupport (5.1.1) lib/active_support/callbacks.rb:413:in `block in make_lambda'
activesupport (5.1.1) lib/active_support/callbacks.rb:197:in `block (2 levels) in halting'
actionpack (5.1.1) lib/abstract_controller/callbacks.rb:12:in `block (2 levels) in <module:Callbacks>'
activesupport (5.1.1) lib/active_support/callbacks.rb:198:in `block in halting'
activesupport (5.1.1) lib/active_support/callbacks.rb:507:in `block in invoke_before'
activesupport (5.1.1) lib/active_support/callbacks.rb:507:in `each'
activesupport (5.1.1) lib/active_support/callbacks.rb:507:in `invoke_before'
activesupport (5.1.1) lib/active_support/callbacks.rb:130:in `run_callbacks'
actionpack (5.1.1) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.1.1) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.1.1) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.1.1) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.1) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.1) lib/active_support/notifications.rb:166:in `instrument'
actionpack (5.1.1) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.1.1) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
activerecord (5.1.1) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
actionpack (5.1.1) lib/abstract_controller/base.rb:124:in `process'
actionview (5.1.1) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.1) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.1) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.1) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.1) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.1) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.1) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.1) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.1) lib/action_dispatch/routing/route_set.rb:832:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.1) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.1) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.1) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/merge" for 192.168.5.26 at 2017-08-11 09:47:16 +0800
Started GET "/merge" for 192.168.5.26 at 2017-08-11 09:47:16 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (2.1ms)
  Rendered merge/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 936ms (Views: 852.9ms)


Completed 200 OK in 936ms (Views: 852.9ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-11 09:48:53 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-11 09:48:53 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170810-优化重试策略/Develop/外部业务/P2P/TRGateway", "task"=>"http://192.168.0.221/zentao/task-view-43712.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"M5BDnKQsqokBnksF8ycTBNwo/LrOBtCSQUlAz6klnc4B47MaFi43NLTc9AhmpXZ7UYy2TcAAfoZNWQi8cXFSqQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170810-优化重试策略/Develop/外部业务/P2P/TRGateway", "task"=>"http://192.168.0.221/zentao/task-view-43712.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"M5BDnKQsqokBnksF8ycTBNwo/LrOBtCSQUlAz6klnc4B47MaFi43NLTc9AhmpXZ7UYy2TcAAfoZNWQi8cXFSqQ=="}
Filter chain halted as #<Proc:0x00000003dad358@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Filter chain halted as #<Proc:0x00000003dad358@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Completed 401 Unauthorized in 374ms


Completed 401 Unauthorized in 374ms


Started POST "/merge/new" for 192.168.5.26 at 2017-08-11 09:48:55 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-11 09:48:55 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170810-优化重试策略/Develop/外部业务/P2P/TRGateway", "task"=>"http://192.168.0.221/zentao/task-view-43712.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"M5BDnKQsqokBnksF8ycTBNwo/LrOBtCSQUlAz6klnc4B47MaFi43NLTc9AhmpXZ7UYy2TcAAfoZNWQi8cXFSqQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170810-优化重试策略/Develop/外部业务/P2P/TRGateway", "task"=>"http://192.168.0.221/zentao/task-view-43712.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"M5BDnKQsqokBnksF8ycTBNwo/LrOBtCSQUlAz6klnc4B47MaFi43NLTc9AhmpXZ7UYy2TcAAfoZNWQi8cXFSqQ=="}
pid is 32319
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43712.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170810-\344\274\230\345\214\226\351\207\215\350\257\225\347\255\226\347\225\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/TRGateway' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43712.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170810-优化重试策略/Develop/外部业务/P2P/TRGateway'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43712.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170810-优化重试策略/Develop/外部业务/P2P/TRGateway'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43712.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170810-\344\274\230\345\214\226\351\207\215\350\257\225\347\255\226\347\225\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/TRGateway' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43712.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170810-\344\274\230\345\214\226\351\207\215\350\257\225\347\255\226\347\225\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/TRGateway'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170810-\344\274\230\345\214\226\351\207\215\350\257\225\347\255\226\347\225\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/TRGateway'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170810-优化重试策略/Develop/外部业务/P2P/TRGateway: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170810-\344\274\230\345\214\226\351\207\215\350\257\225\347\255\226\347\225\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/TRGateway'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170810-\344\274\230\345\214\226\351\207\215\350\257\225\347\255\226\347\225\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/TRGateway'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170810-\344\274\230\345\214\226\351\207\215\350\257\225\347\255\226\347\225\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/TRGateway'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/TRGateway'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170810-\344\274\230\345\214\226\351\207\215\350\257\225\347\255\226\347\225\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/TRGateway'
+ rm -f /home/qishanqing/tmp/merged/output.32319
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/TRGateway'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170810-\344\274\230\345\214\226\351\207\215\350\257\225\347\255\226\347\225\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/TRGateway'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/TRGateway'
+ svn_from_tb_merged
+ mails-cm -i 'code merged from Branch/20170810-优化重试策略/Develop/外部业务/P2P/TRGateway'
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/TRGateway'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep -C 3 $'Branch/20170810-\344\274\230\345\214\226\351\207\215\350\257\225\347\255\226\347\225\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/TRGateway'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170810-\344\274\230\345\214\226\351\207\215\350\257\225\347\255\226\347\225\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/TRGateway'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r135641 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170810-\344\274\230\345\214\226\351\207\215\350\257\225\347\255\226\347\225\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/TRGateway'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r135631 '
+ '[' '!' -z r135631 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170810-\344\274\230\345\214\226\351\207\215\350\257\225\347\255\226\347\225\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/TRGateway@r135631' $'https://192.168.0.220/svn/tech/Branch/20170810-\344\274\230\345\214\226\351\207\215\350\257\225\347\255\226\347\225\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/TRGateway' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170810-\344\274\230\345\214\226\351\207\215\350\257\225\347\255\226\347\225\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/TRGateway@r135631' $'https://192.168.0.220/svn/tech/Branch/20170810-\344\274\230\345\214\226\351\207\215\350\257\225\347\255\226\347\225\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/TRGateway'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43712.html
Merged revision(s) r135631 -r135641   from Branch/20170810-优化重试策略/Develop/外部业务/P2P/TRGateway' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (81.6ms)
  Rendered merge/new.html.erb within layouts/application (81.6ms)
Completed 200 OK in 185888ms (Views: 884.2ms)


Completed 200 OK in 185888ms (Views: 884.2ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-11 09:52:10 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-11 09:52:10 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.0ms)
  Rendered merge/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 67ms (Views: 63.9ms)


Completed 200 OK in 67ms (Views: 63.9ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-11 09:52:27 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-11 09:52:27 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170725-实时大屏数据/Develop/外部业务/P2P/Business/RealTimeAcquisition https://192.168.0.220/svn/tech/Branch/20170807-提供数据/Develop/外部业务/P2P/Business/DashboardStatics", "task"=>"http://192.168.0.221/zentao/task-view-43687.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"avqEZUFdv0hKT4fAOtdmwx8tJa32XRibnzTjD1Z5SztYiXTj818i9f8NOM2vVQO8kolvWvhbto+TJKt8ji2EXA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170725-实时大屏数据/Develop/外部业务/P2P/Business/RealTimeAcquisition https://192.168.0.220/svn/tech/Branch/20170807-提供数据/Develop/外部业务/P2P/Business/DashboardStatics", "task"=>"http://192.168.0.221/zentao/task-view-43687.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"avqEZUFdv0hKT4fAOtdmwx8tJa32XRibnzTjD1Z5SztYiXTj818i9f8NOM2vVQO8kolvWvhbto+TJKt8ji2EXA=="}
pid is 385
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43687.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170725-实时大屏数据/Develop/外部业务/P2P/Business/RealTimeAcquisition https://192.168.0.220/svn/tech/Branch/20170807-提供数据/Develop/外部业务/P2P/Business/DashboardStatics' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43687.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170725-实时大屏数据/Develop/外部业务/P2P/Business/RealTimeAcquisition https://192.168.0.220/svn/tech/Branch/20170807-提供数据/Develop/外部业务/P2P/Business/DashboardStatics'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43687.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170725-实时大屏数据/Develop/外部业务/P2P/Business/RealTimeAcquisition https://192.168.0.220/svn/tech/Branch/20170807-提供数据/Develop/外部业务/P2P/Business/DashboardStatics'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43687.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170725-实时大屏数据/Develop/外部业务/P2P/Business/RealTimeAcquisition https://192.168.0.220/svn/tech/Branch/20170807-提供数据/Develop/外部业务/P2P/Business/DashboardStatics' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43687.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170725-实时大屏数据/Develop/外部业务/P2P/Business/RealTimeAcquisition https://192.168.0.220/svn/tech/Branch/20170807-提供数据/Develop/外部业务/P2P/Business/DashboardStatics'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170725-\345\256\236\346\227\266\345\244\247\345\261\217\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition' $'https://192.168.0.220/svn/tech/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170725-实时大屏数据/Develop/外部业务/P2P/Business/RealTimeAcquisition: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170725-\345\256\236\346\227\266\345\244\247\345\261\217\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170725-实时大屏数据/Develop/外部业务/P2P/Business/RealTimeAcquisition
https://192.168.0.220/svn/tech/Branch/20170807-提供数据/Develop/外部业务/P2P/Business/DashboardStatics'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170725-\345\256\236\346\227\266\345\244\247\345\261\217\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170725-\345\256\236\346\227\266\345\244\247\345\261\217\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition'
+ rm -f /home/qishanqing/tmp/merged/output.385
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170725-\345\256\236\346\227\266\345\244\247\345\261\217\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170725-实时大屏数据/Develop/外部业务/P2P/Business/RealTimeAcquisition'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170725-\345\256\236\346\227\266\345\244\247\345\261\217\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170725-\345\256\236\346\227\266\345\244\247\345\261\217\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r135999 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170725-\345\256\236\346\227\266\345\244\247\345\261\217\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition'
++ grep '^r'
++ tail -n 4
++ awk -F '|' '{print$1}'
+ revision='r130897 '
+ '[' '!' -z r130897 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170725-\345\256\236\346\227\266\345\244\247\345\261\217\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition@r130897' $'https://192.168.0.220/svn/tech/Branch/20170725-\345\256\236\346\227\266\345\244\247\345\261\217\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170725-\345\256\236\346\227\266\345\244\247\345\261\217\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition@r130897' $'https://192.168.0.220/svn/tech/Branch/20170725-\345\256\236\346\227\266\345\244\247\345\261\217\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition'
Started GET "/" for 192.168.5.26 at 2017-08-11 09:53:25 +0800
Started GET "/" for 192.168.5.26 at 2017-08-11 09:53:25 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (18.7ms)
  Rendered builder/index.html.erb within layouts/application (18.7ms)
Completed 200 OK in 99ms (Views: 58.5ms)


Completed 200 OK in 99ms (Views: 58.5ms)


Started POST "/start" for 192.168.5.26 at 2017-08-11 09:53:40 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-11 09:53:40 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170810-优化重试策略", "branch"=>"20170810-优化重试策略", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"+01aGecrUtWTQEwosP4qkJ+AYkfXswPcGGXNPDWt3NjJPqqfVSnPaCYC8yUlfE/vEiQosNm1rcgUdYVP7fkTvw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170810-优化重试策略", "branch"=>"20170810-优化重试策略", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"+01aGecrUtWTQEwosP4qkJ+AYkfXswPcGGXNPDWt3NjJPqqfVSnPaCYC8yUlfE/vEiQosNm1rcgUdYVP7fkTvw=="}
Filter chain halted as #<Proc:0x007f58158e0138@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Filter chain halted as #<Proc:0x007f58158e0138@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Completed 401 Unauthorized in 1ms


Completed 401 Unauthorized in 1ms


Started POST "/start" for 192.168.5.26 at 2017-08-11 09:53:40 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-11 09:53:40 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170810-优化重试策略", "branch"=>"20170810-优化重试策略", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"+01aGecrUtWTQEwosP4qkJ+AYkfXswPcGGXNPDWt3NjJPqqfVSnPaCYC8yUlfE/vEiQosNm1rcgUdYVP7fkTvw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170810-优化重试策略", "branch"=>"20170810-优化重试策略", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"+01aGecrUtWTQEwosP4qkJ+AYkfXswPcGGXNPDWt3NjJPqqfVSnPaCYC8yUlfE/vEiQosNm1rcgUdYVP7fkTvw=="}
pid is 499
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170810-\344\274\230\345\214\226\351\207\215\350\257\225\347\255\226\347\225\245' -e qishanqing@dafy.com -E '' -b $'20170810-\344\274\230\345\214\226\351\207\215\350\257\225\347\255\226\347\225\245' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170810-优化重试策略'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170810-优化重试策略'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170810-优化重试策略'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170810-优化重试策略'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170810-\344\274\230\345\214\226\351\207\215\350\257\225\347\255\226\347\225\245' -e qishanqing@dafy.com -E '' -b $'20170810-\344\274\230\345\214\226\351\207\215\350\257\225\347\255\226\347\225\245' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170810-\344\274\230\345\214\226\351\207\215\350\257\225\347\255\226\347\225\245'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170810-\344\274\230\345\214\226\351\207\215\350\257\225\347\255\226\347\225\245'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170810-\344\274\230\345\214\226\351\207\215\350\257\225\347\255\226\347\225\245'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170810-优化重试策略: command not found
++ for y in '$trunk'
++ echo $'20170810-\344\274\230\345\214\226\351\207\215\350\257\225\347\255\226\347\225\245'
+ trunks=$'20170810-\344\274\230\345\214\226\351\207\215\350\257\225\347\255\226\347\225\245'
+ test del = add
+ delbranch
+ '[' -z $'20170810-\344\274\230\345\214\226\351\207\215\350\257\225\347\255\226\347\225\245' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170811
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708110953
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170810-\344\274\230\345\214\226\351\207\215\350\257\225\347\255\226\347\225\245'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170811-20170810-\344\274\230\345\214\226\351\207\215\350\257\225\347\255\226\347\225\245/Develop/20170810-\344\274\230\345\214\226\351\207\215\350\257\225\347\255\226\347\225\245'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170810-\344\274\230\345\214\226\351\207\215\350\257\225\347\255\226\347\225\245'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708110953-20170810-\344\274\230\345\214\226\351\207\215\350\257\225\347\255\226\347\225\245'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170811-20170810-\344\274\230\345\214\226\351\207\215\350\257\225\347\255\226\347\225\245/Develop/20170810-\344\274\230\345\214\226\351\207\215\350\257\225\347\255\226\347\225\245'
++ awk -F / '{print $7}'
+ br=$'20170811-20170810-\344\274\230\345\214\226\351\207\215\350\257\225\347\255\226\347\225\245'
+ access=$'20170811-20170810-\344\274\230\345\214\226\351\207\215\350\257\225\347\255\226\347\225\245'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170810-\344\274\230\345\214\226\351\207\215\350\257\225\347\255\226\347\225\245' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708110953-20170810-\344\274\230\345\214\226\351\207\215\350\257\225\347\255\226\347\225\245' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43687.html
Merged revision(s) r130897 -r135999   from Branch/20170725-实时大屏数据/Develop/外部业务/P2P/Business/RealTimeAcquisition' --username qishanqing --password 372233
+ rm -f /home/qishanqing/tmp/output.499
+ echo $'https://192.168.0.220/svn/tech/Branch/20170810-\344\274\230\345\214\226\351\207\215\350\257\225\347\255\226\347\225\245'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170810-优化重试策略%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170810-优化重试策略%'\'';'
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
+ rm -f /home/qishanqing/tmp/merged/output.385
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
+ mails-cm -i 'code merged from Branch/20170807-提供数据/Develop/外部业务/P2P/Business/DashboardStatics'
+ clean_workspace
+ svn cleanup .
+ cat /tmp/cmdb.db.499
+ rm -f /tmp/cmdb.db.499
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.1ms)
  Rendered builder/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 11225ms (Views: 64.0ms)


Completed 200 OK in 11225ms (Views: 64.0ms)


+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r135893 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r134456 '
+ '[' '!' -z r134456 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics@r134456' $'https://192.168.0.220/svn/tech/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics@r134456' $'https://192.168.0.220/svn/tech/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43687.html
Merged revision(s) r134456 -r135893   from Branch/20170807-提供数据/Develop/外部业务/P2P/Business/DashboardStatics' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.6ms)
  Rendered merge/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 141829ms (Views: 69.4ms)


Completed 200 OK in 141829ms (Views: 69.4ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-11 09:56:48 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-11 09:56:48 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.8ms)
  Rendered merge/index.html.erb within layouts/application (4.8ms)
Completed 200 OK in 484ms (Views: 481.3ms)


Completed 200 OK in 484ms (Views: 481.3ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-11 09:56:58 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-11 09:56:58 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory", "task"=>"http://192.168.0.221/zentao/task-view-43681.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"ulLptd7zLhd/DPS5K6M9aEmBaBzGCPmoBz7sJoxUI9WIIRkzbPGzqspOS7S+IVgXxCUi68gOV7wLLqRVVADssg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory", "task"=>"http://192.168.0.221/zentao/task-view-43681.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"ulLptd7zLhd/DPS5K6M9aEmBaBzGCPmoBz7sJoxUI9WIIRkzbPGzqspOS7S+IVgXxCUi68gOV7wLLqRVVADssg=="}
pid is 883
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43681.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43681.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43681.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43681.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43681.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/老系统/新达飞贷/网站中心/BossSite: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/老系统/新达飞贷/网站中心/BossSite
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ rm -f /home/qishanqing/tmp/merged/output.883
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170803-登陆改造/Develop/老系统/新达飞贷/网站中心/BossSite'
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r135810 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r133575 '
+ '[' '!' -z r133575 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r133575' $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r133575' $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43681.html
Merged revision(s) r133575 -r135810   from Branch/20170803-登陆改造/Develop/老系统/新达飞贷/网站中心/BossSite' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ rm -f /home/qishanqing/tmp/merged/output.883
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory'
+ grep '^?'
+ xargs rm -rf
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ awk -F '|' '{print$1}'
++ head -n 4
++ grep -C 3 $'Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ revision='r134312 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r134026 '
+ '[' '!' -z r134312 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory@r134312' $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory@r134312' $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43681.html
Merged revision(s) r134312 -r134026   from Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.4ms)
  Rendered merge/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 513719ms (Views: 152.4ms)


Completed 200 OK in 513719ms (Views: 152.4ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-11 10:07:32 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-11 10:07:32 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.1ms)
  Rendered merge/index.html.erb within layouts/application (4.1ms)
Completed 200 OK in 118ms (Views: 115.8ms)


Completed 200 OK in 118ms (Views: 115.8ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-11 10:07:40 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-11 10:07:40 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42", "task"=>"http://192.168.0.221/zentao/task-view-43730.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"5aNyokimuY440kvWNyAcdqWYrKF5pvK7dh7Rq/eFbY3X0IIk+qQkM42Q9NuionkJKDzmVnegXK96DpnYL9Gi6g=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42", "task"=>"http://192.168.0.221/zentao/task-view-43730.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"5aNyokimuY440kvWNyAcdqWYrKF5pvK7dh7Rq/eFbY3X0IIk+qQkM42Q9NuionkJKDzmVnegXK96DpnYL9Gi6g=="}
pid is 2208
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43730.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43730.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43730.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43730.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43730.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ rm -f /home/qishanqing/tmp/merged/output.2208
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42'
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ head -n 4
++ grep -C 3 $'Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
++ awk -F '|' '{print$1}'
+ revision='r135801 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r135724 '
+ '[' '!' -z r135801 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42@r135801' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42@r135801' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43730.html
Merged revision(s) r135801 -r135724   from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.3ms)
  Rendered merge/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 99121ms (Views: 54.5ms)


Completed 200 OK in 99121ms (Views: 54.5ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-11 10:10:11 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-11 10:10:11 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (11.1ms)
  Rendered merge/index.html.erb within layouts/application (11.1ms)
Completed 200 OK in 405ms (Views: 403.2ms)


Completed 200 OK in 405ms (Views: 403.2ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-11 10:10:20 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-11 10:10:20 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/lvjinsuo_31", "task"=>"http://192.168.0.221/zentao/task-view-43482.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"1tnDY/31eKPlcmWkmU3Uz99ZSZp8/L2VbCb4KGnFirvkqjPlT/flHlAw2qkMz7GwUv0DbXL6E4FgNrBbsZFF3A=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/lvjinsuo_31", "task"=>"http://192.168.0.221/zentao/task-view-43482.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"1tnDY/31eKPlcmWkmU3Uz99ZSZp8/L2VbCb4KGnFirvkqjPlT/flHlAw2qkMz7GwUv0DbXL6E4FgNrBbsZFF3A=="}
pid is 2563
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43482.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43482.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/lvjinsuo_31'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43482.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/lvjinsuo_31'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43482.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43482.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/lvjinsuo_31: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31'
+ rm -f /home/qishanqing/tmp/merged/output.2563
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31'
+ mails-cm -i 'code merged from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/lvjinsuo_31'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r135799 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r135833 '
+ '[' '!' -z r135799 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31@r135799' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31@r135799' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/lvjinsuo_31'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43482.html
Merged revision(s) r135799 -r135833   from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/lvjinsuo_31' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (80.3ms)
  Rendered merge/new.html.erb within layouts/application (80.3ms)
Completed 200 OK in 50340ms (Views: 140.2ms)


Completed 200 OK in 50340ms (Views: 140.2ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-11 10:12:44 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-11 10:12:44 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.3ms)
  Rendered merge/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 63ms (Views: 60.9ms)


Completed 200 OK in 63ms (Views: 60.9ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-11 10:12:59 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-11 10:12:59 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170809-返还优惠券优化/Develop/分期商城/分期商城3.0/MallManageOrderBusiness https://192.168.0.220/svn/tech/Branch/20170809-返还优惠券优化/Develop/分期商城/分期商城3.0/MallTaskBusiness", "task"=>"http://192.168.0.221/zentao/task-view-43721.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"VsSVLTWshPR5SzZf0j2IklPGRbZJd3A/r73rsgokNvxkt2Wrh64ZScwJiVJHv+3t3mIPQUdx3iujraPB0nD5mw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170809-返还优惠券优化/Develop/分期商城/分期商城3.0/MallManageOrderBusiness https://192.168.0.220/svn/tech/Branch/20170809-返还优惠券优化/Develop/分期商城/分期商城3.0/MallTaskBusiness", "task"=>"http://192.168.0.221/zentao/task-view-43721.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"VsSVLTWshPR5SzZf0j2IklPGRbZJd3A/r73rsgokNvxkt2Wrh64ZScwJiVJHv+3t3mIPQUdx3iujraPB0nD5mw=="}
pid is 2661
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43721.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170809-返还优惠券优化/Develop/分期商城/分期商城3.0/MallManageOrderBusiness https://192.168.0.220/svn/tech/Branch/20170809-返还优惠券优化/Develop/分期商城/分期商城3.0/MallTaskBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43721.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170809-返还优惠券优化/Develop/分期商城/分期商城3.0/MallManageOrderBusiness https://192.168.0.220/svn/tech/Branch/20170809-返还优惠券优化/Develop/分期商城/分期商城3.0/MallTaskBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43721.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170809-返还优惠券优化/Develop/分期商城/分期商城3.0/MallManageOrderBusiness https://192.168.0.220/svn/tech/Branch/20170809-返还优惠券优化/Develop/分期商城/分期商城3.0/MallTaskBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43721.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170809-返还优惠券优化/Develop/分期商城/分期商城3.0/MallManageOrderBusiness https://192.168.0.220/svn/tech/Branch/20170809-返还优惠券优化/Develop/分期商城/分期商城3.0/MallTaskBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43721.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170809-返还优惠券优化/Develop/分期商城/分期商城3.0/MallManageOrderBusiness https://192.168.0.220/svn/tech/Branch/20170809-返还优惠券优化/Develop/分期商城/分期商城3.0/MallTaskBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness' $'https://192.168.0.220/svn/tech/Branch/20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170809-返还优惠券优化/Develop/分期商城/分期商城3.0/MallManageOrderBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170809-返还优惠券优化/Develop/分期商城/分期商城3.0/MallManageOrderBusiness
https://192.168.0.220/svn/tech/Branch/20170809-返还优惠券优化/Develop/分期商城/分期商城3.0/MallTaskBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.2661
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ mails-cm -i 'code merged from Branch/20170809-返还优惠券优化/Develop/分期商城/分期商城3.0/MallManageOrderBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep -C 3 $'Branch/20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r135639 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r135357 '
+ '[' '!' -z r135357 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness@r135357' $'https://192.168.0.220/svn/tech/Branch/20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness@r135357' $'https://192.168.0.220/svn/tech/Branch/20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43721.html
Merged revision(s) r135357 -r135639   from Branch/20170809-返还优惠券优化/Develop/分期商城/分期商城3.0/MallManageOrderBusiness' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.2661
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170809-返还优惠券优化/Develop/分期商城/分期商城3.0/MallTaskBusiness'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ awk -F '|' '{print$1}'
++ head -n 4
++ grep -C 3 $'Branch/20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r135638 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r135358 '
+ '[' '!' -z r135358 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness@r135358' $'https://192.168.0.220/svn/tech/Branch/20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness@r135358' $'https://192.168.0.220/svn/tech/Branch/20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43721.html
Merged revision(s) r135358 -r135638   from Branch/20170809-返还优惠券优化/Develop/分期商城/分期商城3.0/MallTaskBusiness' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.2ms)
  Rendered merge/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 69042ms (Views: 66.1ms)


Completed 200 OK in 69042ms (Views: 66.1ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-11 10:18:14 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-11 10:18:14 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.8ms)
  Rendered builder/index.html.erb within layouts/application (3.8ms)
Completed 200 OK in 77ms (Views: 58.3ms)


Completed 200 OK in 77ms (Views: 58.3ms)


Started POST "/start" for 192.168.5.26 at 2017-08-11 10:18:17 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-11 10:18:17 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170809-返还优惠券优化", "branch"=>"20170809-返还优惠券优化", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"L00+pp5HZL30dNHN97FfHmXq7QpUUwTNEDC4Ufj3KbgdPs4gLEX5AEE2bsBiMzph6E6n/VpVqtkcIPAiIKPm3w=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170809-返还优惠券优化", "branch"=>"20170809-返还优惠券优化", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"L00+pp5HZL30dNHN97FfHmXq7QpUUwTNEDC4Ufj3KbgdPs4gLEX5AEE2bsBiMzph6E6n/VpVqtkcIPAiIKPm3w=="}
pid is 3116
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226' -e qishanqing@dafy.com -E '' -b $'20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170809-返还优惠券优化'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170809-返还优惠券优化'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170809-返还优惠券优化'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170809-返还优惠券优化'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226' -e qishanqing@dafy.com -E '' -b $'20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170809-返还优惠券优化: command not found
++ for y in '$trunk'
++ echo $'20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226'
+ trunks=$'20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226'
+ test del = add
+ delbranch
+ '[' -z $'20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170811
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708111018
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170811-20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226/Develop/20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708111018-20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170811-20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226/Develop/20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226'
++ awk -F / '{print $7}'
+ br=$'20170811-20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226'
+ access=$'20170811-20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708111018-20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.3116
+ echo $'https://192.168.0.220/svn/tech/Branch/20170809-\350\277\224\350\277\230\344\274\230\346\203\240\345\210\270\344\274\230\345\214\226'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170809-返还优惠券优化%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170809-返还优惠券优化%'\'';'
+ cat /tmp/cmdb.db.3116
+ rm -f /tmp/cmdb.db.3116
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.0ms)
  Rendered builder/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 2195ms (Views: 40.9ms)


Completed 200 OK in 2195ms (Views: 40.9ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-11 10:18:29 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-11 10:18:29 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.2ms)
  Rendered merge/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 45ms (Views: 43.4ms)


Completed 200 OK in 45ms (Views: 43.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-11 10:18:43 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-11 10:18:43 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170810-发起退款申请修改/Develop/分期商城/分期商城3.0/MallManageOrderBusiness https://192.168.0.220/svn/tech/Branch/20170810-发起退款申请修改/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170810-发起退款申请修改/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170810-发起退款申请修改/Develop/分期商城/分期商城3.0/MallRefundBusiness", "task"=>"http://192.168.0.221/zentao/task-view-43736.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"Yx9Jt46chwstAcn5lP/bXcqQTsd5F+6t44NDLFtVmzdRbLkxPJ4atphDdvQBfb4iRzQEMHcRQLnvkwtfgwFUUA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170810-发起退款申请修改/Develop/分期商城/分期商城3.0/MallManageOrderBusiness https://192.168.0.220/svn/tech/Branch/20170810-发起退款申请修改/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170810-发起退款申请修改/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170810-发起退款申请修改/Develop/分期商城/分期商城3.0/MallRefundBusiness", "task"=>"http://192.168.0.221/zentao/task-view-43736.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"Yx9Jt46chwstAcn5lP/bXcqQTsd5F+6t44NDLFtVmzdRbLkxPJ4atphDdvQBfb4iRzQEMHcRQLnvkwtfgwFUUA=="}
pid is 3160
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43736.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170810-发起退款申请修改/Develop/分期商城/分期商城3.0/MallManageOrderBusiness https://192.168.0.220/svn/tech/Branch/20170810-发起退款申请修改/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170810-发起退款申请修改/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170810-发起退款申请修改/Develop/分期商城/分期商城3.0/MallRefundBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43736.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170810-发起退款申请修改/Develop/分期商城/分期商城3.0/MallManageOrderBusiness https://192.168.0.220/svn/tech/Branch/20170810-发起退款申请修改/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170810-发起退款申请修改/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170810-发起退款申请修改/Develop/分期商城/分期商城3.0/MallRefundBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43736.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170810-发起退款申请修改/Develop/分期商城/分期商城3.0/MallManageOrderBusiness https://192.168.0.220/svn/tech/Branch/20170810-发起退款申请修改/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170810-发起退款申请修改/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170810-发起退款申请修改/Develop/分期商城/分期商城3.0/MallRefundBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43736.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170810-发起退款申请修改/Develop/分期商城/分期商城3.0/MallManageOrderBusiness https://192.168.0.220/svn/tech/Branch/20170810-发起退款申请修改/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170810-发起退款申请修改/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170810-发起退款申请修改/Develop/分期商城/分期商城3.0/MallRefundBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43736.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170810-发起退款申请修改/Develop/分期商城/分期商城3.0/MallManageOrderBusiness https://192.168.0.220/svn/tech/Branch/20170810-发起退款申请修改/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170810-发起退款申请修改/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170810-发起退款申请修改/Develop/分期商城/分期商城3.0/MallRefundBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness' $'https://192.168.0.220/svn/tech/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' $'https://192.168.0.220/svn/tech/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness' $'https://192.168.0.220/svn/tech/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170810-发起退款申请修改/Develop/分期商城/分期商城3.0/MallManageOrderBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170810-发起退款申请修改/Develop/分期商城/分期商城3.0/MallManageOrderBusiness
https://192.168.0.220/svn/tech/Branch/20170810-发起退款申请修改/Develop/分期商城/分期商城3.0/MallManager
https://192.168.0.220/svn/tech/Branch/20170810-发起退款申请修改/Develop/分期商城/分期商城3.0/MallTaskBusiness
https://192.168.0.220/svn/tech/Branch/20170810-发起退款申请修改/Develop/分期商城/分期商城3.0/MallRefundBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.3160
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ svn_from_tb_merged
+ mails-cm -i 'code merged from Branch/20170810-发起退款申请修改/Develop/分期商城/分期商城3.0/MallManageOrderBusiness'
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r135731 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r135615 '
+ '[' '!' -z r135615 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness@r135615' $'https://192.168.0.220/svn/tech/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness@r135615' $'https://192.168.0.220/svn/tech/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43736.html
Merged revision(s) r135615 -r135731   from Branch/20170810-发起退款申请修改/Develop/分期商城/分期商城3.0/MallManageOrderBusiness' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ rm -f /home/qishanqing/tmp/merged/output.3160
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ mails-cm -i 'code merged from Branch/20170810-发起退款申请修改/Develop/分期商城/分期商城3.0/MallManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r135731 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r135616 '
+ '[' '!' -z r135616 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager@r135616' $'https://192.168.0.220/svn/tech/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager@r135616' $'https://192.168.0.220/svn/tech/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43736.html
Merged revision(s) r135616 -r135731   from Branch/20170810-发起退款申请修改/Develop/分期商城/分期商城3.0/MallManager' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.3160
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170810-发起退款申请修改/Develop/分期商城/分期商城3.0/MallTaskBusiness'
+ grep '^?'
+ xargs rm -rf
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ head -n 4
++ grep '^r'
++ svn log
++ grep -C 3 $'Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r135731 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r135674 '
+ '[' '!' -z r135674 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness@r135674' $'https://192.168.0.220/svn/tech/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness@r135674' $'https://192.168.0.220/svn/tech/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43736.html
Merged revision(s) r135674 -r135731   from Branch/20170810-发起退款申请修改/Develop/分期商城/分期商城3.0/MallTaskBusiness' --username qishanqing --password 372233
svn: E155015: 提交失败(细节如下): 
svn: E155015: 提交终止: “/home/qishanqing/workspace/code/Trunk/分期商城/分期商城3.0/MallTaskBusiness/businessplugin/com/dafy/malltaskbusiness/business/plugin/mall/refundtask/MallRefundService.java” 处于冲突状态
+ die 'Svn merged conflicts the reasons for failure are as follows'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the reasons for failure are as follows'
+ test -e /home/qishanqing/tmp/merged/output.3160
+ echo
+ cat /home/qishanqing/tmp/merged/output.3160
+ rm -f /home/qishanqing/tmp/merged/output.3160
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.3160
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170810-发起退款申请修改/Develop/分期商城/分期商城3.0/MallRefundBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep -C 3 $'Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
++ grep '^r'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r135731 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
++ grep '^r'
++ tail -n 4
++ awk -F '|' '{print$1}'
+ revision='r135721 '
+ '[' '!' -z r135721 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness@r135721' $'https://192.168.0.220/svn/tech/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness@r135721' $'https://192.168.0.220/svn/tech/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43736.html
Merged revision(s) r135721 -r135731   from Branch/20170810-发起退款申请修改/Develop/分期商城/分期商城3.0/MallRefundBusiness' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.4ms)
  Rendered merge/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 158436ms (Views: 1312.3ms)


Completed 200 OK in 158436ms (Views: 1312.3ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-11 10:22:17 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-11 10:22:17 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (5.5ms)
  Rendered merge/index.html.erb within layouts/application (5.5ms)
Completed 200 OK in 88ms (Views: 84.4ms)


Completed 200 OK in 88ms (Views: 84.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-11 10:22:28 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-11 10:22:28 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170704-卡包项目/Develop/生活营销/卡包/CardBagBusiness", "task"=>"http://192.168.0.221/zentao/task-view-43716.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"zMsWrimKWQF1NWUeVcSXcrU09EZSOjig3c7qne2WboT+uOYom4jEvMB32hPARvINOJC+sVw8lrTR3qLuNcKh4w=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170704-卡包项目/Develop/生活营销/卡包/CardBagBusiness", "task"=>"http://192.168.0.221/zentao/task-view-43716.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"zMsWrimKWQF1NWUeVcSXcrU09EZSOjig3c7qne2WboT+uOYom4jEvMB32hPARvINOJC+sVw8lrTR3qLuNcKh4w=="}
pid is 3453
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43716.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170704-\345\215\241\345\214\205\351\241\271\347\233\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43716.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170704-卡包项目/Develop/生活营销/卡包/CardBagBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43716.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170704-卡包项目/Develop/生活营销/卡包/CardBagBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43716.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170704-\345\215\241\345\214\205\351\241\271\347\233\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43716.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170704-\345\215\241\345\214\205\351\241\271\347\233\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170704-\345\215\241\345\214\205\351\241\271\347\233\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170704-卡包项目/Develop/生活营销/卡包/CardBagBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170704-\345\215\241\345\214\205\351\241\271\347\233\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170704-\345\215\241\345\214\205\351\241\271\347\233\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170704-\345\215\241\345\214\205\351\241\271\347\233\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170704-\345\215\241\345\214\205\351\241\271\347\233\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.3453
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170704-\345\215\241\345\214\205\351\241\271\347\233\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170704-卡包项目/Develop/生活营销/卡包/CardBagBusiness'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ awk -F '|' '{print$1}'
++ grep '^r'
++ grep -C 3 $'Branch/20170704-\345\215\241\345\214\205\351\241\271\347\233\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness'
++ head -n 4
+ revision='r134854 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170704-\345\215\241\345\214\205\351\241\271\347\233\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r135511 '
+ '[' '!' -z r134854 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170704-\345\215\241\345\214\205\351\241\271\347\233\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness@r134854' $'https://192.168.0.220/svn/tech/Branch/20170704-\345\215\241\345\214\205\351\241\271\347\233\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170704-\345\215\241\345\214\205\351\241\271\347\233\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness@r134854' $'https://192.168.0.220/svn/tech/Branch/20170704-\345\215\241\345\214\205\351\241\271\347\233\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43716.html
Merged revision(s) r134854 -r135511   from Branch/20170704-卡包项目/Develop/生活营销/卡包/CardBagBusiness' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1376.6ms)
  Rendered merge/new.html.erb within layouts/application (1376.6ms)
Completed 200 OK in 16129ms (Views: 1426.1ms)


Completed 200 OK in 16129ms (Views: 1426.1ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-11 10:25:42 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-11 10:25:42 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (2.8ms)
  Rendered merge/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 475ms (Views: 473.7ms)


Completed 200 OK in 475ms (Views: 473.7ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-11 10:25:56 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-11 10:25:56 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170725-实时大屏数据/Develop/外部业务/P2P/Business/RealTimeAcquisition https://192.168.0.220/svn/tech/Branch/20170807-提供数据/Develop/外部业务/P2P/Business/DashboardStatics", "task"=>"http://192.168.0.221/zentao/task-view-43751.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"ahu1LB/WnpHuK41mC9lmObtj8MN1qH45q+DM37ILTYlYaEWqrdQDLFtpMmueWwNGNse6NHuu0C2n8ISsal+C7g=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170725-实时大屏数据/Develop/外部业务/P2P/Business/RealTimeAcquisition https://192.168.0.220/svn/tech/Branch/20170807-提供数据/Develop/外部业务/P2P/Business/DashboardStatics", "task"=>"http://192.168.0.221/zentao/task-view-43751.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"ahu1LB/WnpHuK41mC9lmObtj8MN1qH45q+DM37ILTYlYaEWqrdQDLFtpMmueWwNGNse6NHuu0C2n8ISsal+C7g=="}
pid is 3735
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43751.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170725-实时大屏数据/Develop/外部业务/P2P/Business/RealTimeAcquisition https://192.168.0.220/svn/tech/Branch/20170807-提供数据/Develop/外部业务/P2P/Business/DashboardStatics' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43751.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170725-实时大屏数据/Develop/外部业务/P2P/Business/RealTimeAcquisition https://192.168.0.220/svn/tech/Branch/20170807-提供数据/Develop/外部业务/P2P/Business/DashboardStatics'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43751.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170725-实时大屏数据/Develop/外部业务/P2P/Business/RealTimeAcquisition https://192.168.0.220/svn/tech/Branch/20170807-提供数据/Develop/外部业务/P2P/Business/DashboardStatics'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43751.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170725-实时大屏数据/Develop/外部业务/P2P/Business/RealTimeAcquisition https://192.168.0.220/svn/tech/Branch/20170807-提供数据/Develop/外部业务/P2P/Business/DashboardStatics' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43751.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170725-实时大屏数据/Develop/外部业务/P2P/Business/RealTimeAcquisition https://192.168.0.220/svn/tech/Branch/20170807-提供数据/Develop/外部业务/P2P/Business/DashboardStatics'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170725-\345\256\236\346\227\266\345\244\247\345\261\217\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition' $'https://192.168.0.220/svn/tech/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170725-实时大屏数据/Develop/外部业务/P2P/Business/RealTimeAcquisition: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170725-\345\256\236\346\227\266\345\244\247\345\261\217\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170725-实时大屏数据/Develop/外部业务/P2P/Business/RealTimeAcquisition
https://192.168.0.220/svn/tech/Branch/20170807-提供数据/Develop/外部业务/P2P/Business/DashboardStatics'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170725-\345\256\236\346\227\266\345\244\247\345\261\217\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170725-\345\256\236\346\227\266\345\244\247\345\261\217\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition'
+ rm -f /home/qishanqing/tmp/merged/output.3735
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170725-\345\256\236\346\227\266\345\244\247\345\261\217\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170725-实时大屏数据/Develop/外部业务/P2P/Business/RealTimeAcquisition'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep -C 3 $'Branch/20170725-\345\256\236\346\227\266\345\244\247\345\261\217\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ revision='r136004 '
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170725-\345\256\236\346\227\266\345\244\247\345\261\217\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition'
+ head='r135999 '
+ '[' '!' -z r136004 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170725-\345\256\236\346\227\266\345\244\247\345\261\217\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition@r136004' $'https://192.168.0.220/svn/tech/Branch/20170725-\345\256\236\346\227\266\345\244\247\345\261\217\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170725-\345\256\236\346\227\266\345\244\247\345\261\217\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition@r136004' $'https://192.168.0.220/svn/tech/Branch/20170725-\345\256\236\346\227\266\345\244\247\345\261\217\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43751.html
Merged revision(s) r136004 -r135999   from Branch/20170725-实时大屏数据/Develop/外部业务/P2P/Business/RealTimeAcquisition' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
+ rm -f /home/qishanqing/tmp/merged/output.3735
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170807-提供数据/Develop/外部业务/P2P/Business/DashboardStatics'
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
++ awk -F '|' '{print$1}'
+ revision='r136005 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r135893 '
+ '[' '!' -z r136005 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics@r136005' $'https://192.168.0.220/svn/tech/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics' .
+ st=
+ '[' -z ']'
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics@r136005' $'https://192.168.0.220/svn/tech/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
+ echo tc
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43751.html
Merged revision(s) r136005 -r135893   from Branch/20170807-提供数据/Develop/外部业务/P2P/Business/DashboardStatics' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (17.5ms)
  Rendered merge/new.html.erb within layouts/application (17.5ms)
Completed 200 OK in 19565ms (Views: 62.9ms)


Completed 200 OK in 19565ms (Views: 62.9ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-11 10:26:18 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-11 10:26:18 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.7ms)
  Rendered builder/index.html.erb within layouts/application (3.7ms)
Completed 200 OK in 86ms (Views: 83.2ms)


Completed 200 OK in 86ms (Views: 83.2ms)


Started POST "/start" for 192.168.5.26 at 2017-08-11 10:26:22 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-11 10:26:22 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170810-发起退款申请修改", "branch"=>"20170810-发起退款申请修改", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"MQ04zaZdMxyCQbCBjmi6xaz09tBRmjPaNJJwgtkGt/UDfshLFF+uoTcDD4wb6t+6IVC8J1+cnc44gjjxAVJ4kg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170810-发起退款申请修改", "branch"=>"20170810-发起退款申请修改", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"MQ04zaZdMxyCQbCBjmi6xaz09tBRmjPaNJJwgtkGt/UDfshLFF+uoTcDD4wb6t+6IVC8J1+cnc44gjjxAVJ4kg=="}
pid is 3859
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271' -e qishanqing@dafy.com -E '' -b $'20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170810-发起退款申请修改'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170810-发起退款申请修改'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170810-发起退款申请修改'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170810-发起退款申请修改'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271' -e qishanqing@dafy.com -E '' -b $'20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170810-发起退款申请修改: command not found
++ for y in '$trunk'
++ echo $'20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271'
+ trunks=$'20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271'
+ test del = add
+ delbranch
+ '[' -z $'20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170811
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708111026
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170811-20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708111026-20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271'
++ awk -F / '{print $7}'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170811-20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271/Develop/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271'
+ br=$'20170811-20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271'
+ access=$'20170811-20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708111026-20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.3859
+ echo $'https://192.168.0.220/svn/tech/Branch/20170810-\345\217\221\350\265\267\351\200\200\346\254\276\347\224\263\350\257\267\344\277\256\346\224\271'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170810-发起退款申请修改%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170810-发起退款申请修改%'\'';'
+ cat /tmp/cmdb.db.3859
+ rm -f /tmp/cmdb.db.3859
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 2693ms (Views: 55.6ms)


Completed 200 OK in 2693ms (Views: 55.6ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-11 15:08:39 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-11 15:08:39 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (1222.5ms)
  Rendered merge/index.html.erb within layouts/application (1222.5ms)
Started GET "/builder" for 192.168.5.26 at 2017-08-11 15:08:43 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-11 15:08:44 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.9ms)
  Rendered builder/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 3067ms (Views: 2959.7ms)


Completed 200 OK in 3067ms (Views: 2959.7ms)


Completed 200 OK in 6373ms (Views: 5723.1ms)


Completed 200 OK in 6373ms (Views: 5723.1ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-11 15:08:57 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-11 15:08:57 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.7ms)
  Rendered builder/index.html.erb within layouts/application (4.7ms)
Completed 200 OK in 341ms (Views: 337.4ms)


Completed 200 OK in 341ms (Views: 337.4ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-11 15:16:08 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-11 15:16:08 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.5ms)
  Rendered merge/index.html.erb within layouts/application (3.5ms)
Completed 200 OK in 73ms (Views: 70.8ms)


Completed 200 OK in 73ms (Views: 70.8ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-11 17:24:40 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-11 17:24:40 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"dt", "trunk"=>"https://192.168.0.220/svn/tech/Trunk/老系统/移动支付/easyLoan", "branch"=>"https://192.168.0.220/svn/tech/Trunk/老系统/移动支付/easyLoan", "task"=>"", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"M4x9gpL0Qc9W/JvVtMeyA/XGjAtFSV7righMyEtnivsB/40EIPbccuO+JNghRdd8eGLG/EtP8P+GGAS7kzNFnA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"dt", "trunk"=>"https://192.168.0.220/svn/tech/Trunk/老系统/移动支付/easyLoan", "branch"=>"https://192.168.0.220/svn/tech/Trunk/老系统/移动支付/easyLoan", "task"=>"", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"M4x9gpL0Qc9W/JvVtMeyA/XGjAtFSV7righMyEtnivsB/40EIPbccuO+JNghRdd8eGLG/EtP8P+GGAS7kzNFnA=="}
pid is 26798
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k '' -R '' -t $'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\347\247\273\345\212\250\346\224\257\344\273\230/easyLoan' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\347\247\273\345\212\250\346\224\257\344\273\230/easyLoan' -T dt
+ TEMP=' -k '\'''\'' -R '\'''\'' -t '\''https://192.168.0.220/svn/tech/Trunk/老系统/移动支付/easyLoan'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Trunk/老系统/移动支付/easyLoan'\'' -T '\''dt'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\'''\'' -R '\'''\'' -t '\''https://192.168.0.220/svn/tech/Trunk/老系统/移动支付/easyLoan'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Trunk/老系统/移动支付/easyLoan'\'' -T '\''dt'\'' --'
++ set -- -k '' -R '' -t $'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\347\247\273\345\212\250\346\224\257\344\273\230/easyLoan' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\347\247\273\345\212\250\346\224\257\344\273\230/easyLoan' -T dt --
+ true
+ case "$1" in
+ task=
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\347\247\273\345\212\250\346\224\257\344\273\230/easyLoan'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\347\247\273\345\212\250\346\224\257\344\273\230/easyLoan'
+ shift 2
+ true
+ case "$1" in
+ types=dt
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\347\247\273\345\212\250\346\224\257\344\273\230/easyLoan'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Trunk/老系统/移动支付/easyLoan: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\347\247\273\345\212\250\346\224\257\344\273\230/easyLoan'
+ branchs=$'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\347\247\273\345\212\250\346\224\257\344\273\230/easyLoan'
+ test dt = add
+ test dt = del
+ test dt = dt
+ Basecode
+ test -z $'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\347\247\273\345\212\250\346\224\257\344\273\230/easyLoan'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\347\247\273\345\212\250\346\224\257\344\273\230/easyLoan'
+ rm -f /home/qishanqing/tmp/merged/output.26798
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\347\247\273\345\212\250\346\224\257\344\273\230/easyLoan'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\347\247\273\345\212\250\346\224\257\344\273\230/easyLoan'
+ svn_dt_merged
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\347\247\273\345\212\250\346\224\257\344\273\230/easyLoan'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
正在升级 '.':
U    WebRoot/index.jsp
U    WebRoot/app/user/login.jsp
U    src/main/resources/sqlMapConfig.xml
A    src/main/resources/property/redis.properties
A    src/main/java/com/dafy/easyLoan/common/jedis
A    src/main/java/com/dafy/easyLoan/common/login
U    src/main/java/com/dafy/easyLoan/security/MyUsernamePasswordAuthenticationFilter.java
A    src/main/java/com/dafy/easyLoan/entity/LoginCache.java
U    src/main/java/com/dafy/easyLoan/web/filter/LoginFilter.java
U    src/main/java/com/dafy/easyLoan/web/filter/cdo/Constant.java
A    src/main/java/com/dafy/easyLoan/common/jedis/JedisUtil.java
A    src/main/java/com/dafy/easyLoan/common/jedis/JRedisPoolConfig.java
A    src/main/java/com/dafy/easyLoan/common/jedis/SerializeUtil.java
A    src/main/java/com/dafy/easyLoan/common/login/LoginCache.java
A    src/main/java/com/dafy/easyLoan/common/login/LoginUtil.java
A    src/main/java/com/dafy/easyLoan/sqlmap/loginCache_SqlMap.xml
A    src/main/java/com/dafy/easyLoan/service/impl/LoginCacheJedisImpl.java
A    src/main/java/com/dafy/easyLoan/service/impl/LoginCacheMysqlImpl.java
A    src/main/java/com/dafy/easyLoan/dao/impl/LoginCacheDAOImpl.java
A    src/main/java/com/dafy/easyLoan/dao/impl/LoginCacheReadDAOImpl.java
A    src/main/java/com/dafy/easyLoan/dao/LoginCacheReadDAO.java
A    src/main/java/com/dafy/easyLoan/dao/LoginCacheDAO.java
U    pom.xml
更新到版本 136305。
++ svn log -l 2
++ awk -F '|' '{print$1}'
++ grep '^r'
++ tail -n 1
+ revision='r135869 '
+ '[' -z ']'
+ svn merge -r HEAD:r135869 .
+ mails-cm -i $'\345\267\262\345\233\236\351\200\200\347\211\210\346\234\254'
+ svn ci -m '版本回退至: r135869 '
Null message body; hope that's ok
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (2.0ms)
  Rendered merge/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 34782ms (Views: 539.1ms)


Completed 200 OK in 34782ms (Views: 539.1ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-11 17:25:20 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-11 17:25:20 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (2.7ms)
  Rendered merge/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 130ms (Views: 128.1ms)


Completed 200 OK in 130ms (Views: 128.1ms)


nohup: 无法运行命令"rails": 没有那个文件或目录
nohup: 无法运行命令"rails": 没有那个文件或目录
nohup: 无法运行命令"rails": 没有那个文件或目录
nohup: 无法运行命令"rails": 没有那个文件或目录
nohup: 无法运行命令"rails": 没有那个文件或目录
nohup: 无法运行命令"rails": 没有那个文件或目录
nohup: 无法运行命令"rails": 没有那个文件或目录
nohup: 无法运行命令"rails": 没有那个文件或目录
nohup: 无法运行命令"rails": 没有那个文件或目录
nohup: 无法运行命令"rails": 没有那个文件或目录
nohup: 无法运行命令"rails": 没有那个文件或目录
nohup: 无法运行命令"rails": 没有那个文件或目录
nohup: 无法运行命令"rails": 没有那个文件或目录
nohup: 无法运行命令"rails": 没有那个文件或目录
nohup: 无法运行命令"rails": 没有那个文件或目录
nohup: 无法运行命令"rails": 没有那个文件或目录
nohup: 无法运行命令"rails": 没有那个文件或目录
nohup: 无法运行命令"rails": 没有那个文件或目录
nohup: 忽略输入
=> Booting Puma
=> Rails 5.1.1 application starting in development on http://localhost:3000
=> Run `rails server -h` for more startup options
Puma starting in single mode...
* Version 3.8.2 (ruby 2.4.1-p111), codename: Sassy Salamander
* Min threads: 5, max threads: 5
* Environment: development
* Listening on tcp://0.0.0.0:3000
Use Ctrl-C to stop
Started GET "/" for 192.168.5.26 at 2017-08-14 10:19:38 +0800
Started GET "/" for 192.168.5.26 at 2017-08-14 10:19:38 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (15.3ms)
  Rendered builder/index.html.erb within layouts/application (15.3ms)
Completed 200 OK in 2541ms (Views: 1378.6ms)


Completed 200 OK in 2541ms (Views: 1378.6ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-14 10:19:45 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-14 10:19:45 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.0ms)
  Rendered merge/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 85ms (Views: 49.1ms)


Completed 200 OK in 85ms (Views: 49.1ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-14 10:20:05 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-14 10:20:05 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170807-修改定点时间校验/Develop/公共/TaskScheduler/TaskSchedulerApp https://192.168.0.220/svn/tech/Branch/20170807-修改定点时间校验/Develop/公共/TaskScheduler/TaskSchedulerManager", "task"=>"http://192.168.0.221/zentao/task-view-43693.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"ub38pjugiqta6dJev/8Nz6NTDDkIaotsJJ6Sr50dcs2LzgwgiaIXFu+rbVMqfWiwLvdGzgZsJXgojtrcRUm9qg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170807-修改定点时间校验/Develop/公共/TaskScheduler/TaskSchedulerApp https://192.168.0.220/svn/tech/Branch/20170807-修改定点时间校验/Develop/公共/TaskScheduler/TaskSchedulerManager", "task"=>"http://192.168.0.221/zentao/task-view-43693.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"ub38pjugiqta6dJev/8Nz6NTDDkIaotsJJ6Sr50dcs2LzgwgiaIXFu+rbVMqfWiwLvdGzgZsJXgojtrcRUm9qg=="}
pid is 16839
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43693.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170807-修改定点时间校验/Develop/公共/TaskScheduler/TaskSchedulerApp https://192.168.0.220/svn/tech/Branch/20170807-修改定点时间校验/Develop/公共/TaskScheduler/TaskSchedulerManager' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43693.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170807-修改定点时间校验/Develop/公共/TaskScheduler/TaskSchedulerApp https://192.168.0.220/svn/tech/Branch/20170807-修改定点时间校验/Develop/公共/TaskScheduler/TaskSchedulerManager'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43693.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170807-修改定点时间校验/Develop/公共/TaskScheduler/TaskSchedulerApp https://192.168.0.220/svn/tech/Branch/20170807-修改定点时间校验/Develop/公共/TaskScheduler/TaskSchedulerManager'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43693.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170807-修改定点时间校验/Develop/公共/TaskScheduler/TaskSchedulerApp https://192.168.0.220/svn/tech/Branch/20170807-修改定点时间校验/Develop/公共/TaskScheduler/TaskSchedulerManager' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43693.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170807-修改定点时间校验/Develop/公共/TaskScheduler/TaskSchedulerApp https://192.168.0.220/svn/tech/Branch/20170807-修改定点时间校验/Develop/公共/TaskScheduler/TaskSchedulerManager'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerApp' $'https://192.168.0.220/svn/tech/Branch/20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170807-修改定点时间校验/Develop/公共/TaskScheduler/TaskSchedulerApp: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerApp'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170807-修改定点时间校验/Develop/公共/TaskScheduler/TaskSchedulerApp
https://192.168.0.220/svn/tech/Branch/20170807-修改定点时间校验/Develop/公共/TaskScheduler/TaskSchedulerManager'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerApp'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerApp'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerApp'
+ rm -f /home/qishanqing/tmp/merged/output.16839
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerApp'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerApp'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerApp'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerApp'
+ mails-cm -i 'code merged from Branch/20170807-修改定点时间校验/Develop/公共/TaskScheduler/TaskSchedulerApp'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerApp'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerApp'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r135526 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerApp'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r134296 '
+ '[' '!' -z r134296 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerApp@r134296' $'https://192.168.0.220/svn/tech/Branch/20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerApp' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerApp@r134296' $'https://192.168.0.220/svn/tech/Branch/20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerApp'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43693.html
Merged revision(s) r134296 -r135526   from Branch/20170807-修改定点时间校验/Develop/公共/TaskScheduler/TaskSchedulerApp' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
+ rm -f /home/qishanqing/tmp/merged/output.16839
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
+ mails-cm -i 'code merged from Branch/20170807-修改定点时间校验/Develop/公共/TaskScheduler/TaskSchedulerManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
++ head -n 4
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r135624 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r134297 '
+ '[' '!' -z r134297 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager@r134297' $'https://192.168.0.220/svn/tech/Branch/20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager@r134297' $'https://192.168.0.220/svn/tech/Branch/20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43693.html
Merged revision(s) r134297 -r135624   from Branch/20170807-修改定点时间校验/Develop/公共/TaskScheduler/TaskSchedulerManager' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.6ms)
  Rendered merge/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 36538ms (Views: 48.9ms)


Completed 200 OK in 36538ms (Views: 48.9ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-14 10:24:01 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-14 10:24:01 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.9ms)
  Rendered builder/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 58ms (Views: 55.4ms)


Completed 200 OK in 58ms (Views: 55.4ms)


Started POST "/start" for 192.168.5.26 at 2017-08-14 10:25:28 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-14 10:25:28 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"liuxuxing@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/BorrowBusiness", "branch"=>"商城重新发起借款", "user"=>"liuxuxing", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"qJ+Oz2hml6roOiwtyQp1+lzPkoocgbZAJJWv27dVHHGa7H5J2mQKF114kyBciBCF0WvYfRKHGFQoheeobwHTFg=="}
  Parameters: {"email"=>"liuxuxing@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/BorrowBusiness", "branch"=>"商城重新发起借款", "user"=>"liuxuxing", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"qJ+Oz2hml6roOiwtyQp1+lzPkoocgbZAJJWv27dVHHGa7H5J2mQKF114kyBciBCF0WvYfRKHGFQoheeobwHTFg=="}
pid is 17089
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u liuxuxing -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness' -e liuxuxing@dafy.com -E '' -b $'\345\225\206\345\237\216\351\207\215\346\226\260\345\217\221\350\265\267\345\200\237\346\254\276' -T add -d ''
+ TEMP=' -u '\''liuxuxing'\'' -t '\''外部业务/P2P/Business/BorrowBusiness'\'' -e '\''liuxuxing@dafy.com'\'' -E '\'''\'' -b '\''商城重新发起借款'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''liuxuxing'\'' -t '\''外部业务/P2P/Business/BorrowBusiness'\'' -e '\''liuxuxing@dafy.com'\'' -E '\'''\'' -b '\''商城重新发起借款'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u liuxuxing -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness' -e liuxuxing@dafy.com -E '' -b $'\345\225\206\345\237\216\351\207\215\346\226\260\345\217\221\350\265\267\345\200\237\346\254\276' -T add -d '' --
+ true
+ case "$1" in
+ user=liuxuxing
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ shift 2
+ true
+ case "$1" in
+ email=liuxuxing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\345\225\206\345\237\216\351\207\215\346\226\260\345\217\221\350\265\267\345\200\237\346\254\276'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=liuxuxing@dafy.com '
+ SMARTCM_EXTRA_MAIL='liuxuxing@dafy.com '
++ liuxuxing
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: liuxuxing: command not found
++ for x in '$user'
++ echo liuxuxing=rw
+ users=liuxuxing=rw
++ $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 外部业务/P2P/Business/BorrowBusiness: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ trunks=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness' ']'
+ '[' -z $'\345\225\206\345\237\216\351\207\215\346\226\260\345\217\221\350\265\267\345\200\237\346\254\276' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170814
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708141025
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170814-\345\225\206\345\237\216\351\207\215\346\226\260\345\217\221\350\265\267\345\200\237\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\225\206\345\237\216\351\207\215\346\226\260\345\217\221\350\265\267\345\200\237\346\254\276'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708141025-\345\225\206\345\237\216\351\207\215\346\226\260\345\217\221\350\265\267\345\200\237\346\254\276'
++ awk -F / '{print $7}'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170814-\345\225\206\345\237\216\351\207\215\346\226\260\345\217\221\350\265\267\345\200\237\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ br=$'20170814-\345\225\206\345\237\216\351\207\215\346\226\260\345\217\221\350\265\267\345\200\237\346\254\276'
+ access=$'20170814-\345\225\206\345\237\216\351\207\215\346\226\260\345\217\221\350\265\267\345\200\237\346\254\276'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness' $'https://192.168.0.220/svn/tech/Branch/20170814-\345\225\206\345\237\216\351\207\215\346\226\260\345\217\221\350\265\267\345\200\237\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.17089
+ echo $'https://192.168.0.220/svn/tech/Branch/20170814-\345\225\206\345\237\216\351\207\215\346\226\260\345\217\221\350\265\267\345\200\237\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BorrowBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170814-商城重新发起借款/Develop/外部业务/P2P/Business/BorrowBusiness'\'',now(),'\''liuxuxing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BorrowBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170814-商城重新发起借款/Develop/外部业务/P2P/Business/BorrowBusiness'\'',now(),'\''liuxuxing'\'');'
+ cat /tmp/cmdb.db.17089
+ rm -f /tmp/cmdb.db.17089
+ check-acces
+ read num
+ ssh root@192.168.0.220 'grep -c 20170814-商城重新发起借款] /svn/authz.conf'
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
+ test -z liuxuxing=rw
+ cat
+ read num
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ cat
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 7653ms (Views: 45.0ms)


Completed 200 OK in 7653ms (Views: 45.0ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-14 10:28:48 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-14 10:28:48 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (2.6ms)
  Rendered merge/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 56ms (Views: 44.9ms)


Completed 200 OK in 56ms (Views: 44.9ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-14 10:29:15 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-14 10:29:15 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170811-推送数据调整/Develop/催收/Task/ExportOverdueData", "task"=>"http://192.168.0.221/zentao/task-view-43806.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"hiCfEcVNElJEIGQW/WNWxTOJTj+WARb0RyKSRk5bwTO0U2+Xd0+P7/Fi2xto4TO6vi0EyJgHuOBLMto1lg8OVA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170811-推送数据调整/Develop/催收/Task/ExportOverdueData", "task"=>"http://192.168.0.221/zentao/task-view-43806.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"hiCfEcVNElJEIGQW/WNWxTOJTj+WARb0RyKSRk5bwTO0U2+Xd0+P7/Fi2xto4TO6vi0EyJgHuOBLMto1lg8OVA=="}
pid is 17624
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43806.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170811-\346\216\250\351\200\201\346\225\260\346\215\256\350\260\203\346\225\264/Develop/\345\202\254\346\224\266/Task/ExportOverdueData' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43806.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170811-推送数据调整/Develop/催收/Task/ExportOverdueData'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43806.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170811-推送数据调整/Develop/催收/Task/ExportOverdueData'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43806.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170811-\346\216\250\351\200\201\346\225\260\346\215\256\350\260\203\346\225\264/Develop/\345\202\254\346\224\266/Task/ExportOverdueData' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43806.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170811-\346\216\250\351\200\201\346\225\260\346\215\256\350\260\203\346\225\264/Develop/\345\202\254\346\224\266/Task/ExportOverdueData'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170811-\346\216\250\351\200\201\346\225\260\346\215\256\350\260\203\346\225\264/Develop/\345\202\254\346\224\266/Task/ExportOverdueData'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170811-推送数据调整/Develop/催收/Task/ExportOverdueData: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170811-\346\216\250\351\200\201\346\225\260\346\215\256\350\260\203\346\225\264/Develop/\345\202\254\346\224\266/Task/ExportOverdueData'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170811-\346\216\250\351\200\201\346\225\260\346\215\256\350\260\203\346\225\264/Develop/\345\202\254\346\224\266/Task/ExportOverdueData'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170811-\346\216\250\351\200\201\346\225\260\346\215\256\350\260\203\346\225\264/Develop/\345\202\254\346\224\266/Task/ExportOverdueData'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\202\254\346\224\266/Task/ExportOverdueData'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170811-\346\216\250\351\200\201\346\225\260\346\215\256\350\260\203\346\225\264/Develop/\345\202\254\346\224\266/Task/ExportOverdueData'
+ rm -f /home/qishanqing/tmp/merged/output.17624
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\202\254\346\224\266/Task/ExportOverdueData'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170811-\346\216\250\351\200\201\346\225\260\346\215\256\350\260\203\346\225\264/Develop/\345\202\254\346\224\266/Task/ExportOverdueData'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\202\254\346\224\266/Task/ExportOverdueData'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\202\254\346\224\266/Task/ExportOverdueData'
+ mails-cm -i 'code merged from Branch/20170811-推送数据调整/Develop/催收/Task/ExportOverdueData'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170811-\346\216\250\351\200\201\346\225\260\346\215\256\350\260\203\346\225\264/Develop/\345\202\254\346\224\266/Task/ExportOverdueData'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170811-\346\216\250\351\200\201\346\225\260\346\215\256\350\260\203\346\225\264/Develop/\345\202\254\346\224\266/Task/ExportOverdueData'
+ head='r136145 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170811-\346\216\250\351\200\201\346\225\260\346\215\256\350\260\203\346\225\264/Develop/\345\202\254\346\224\266/Task/ExportOverdueData'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r136134 '
+ '[' '!' -z r136134 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170811-\346\216\250\351\200\201\346\225\260\346\215\256\350\260\203\346\225\264/Develop/\345\202\254\346\224\266/Task/ExportOverdueData@r136134' $'https://192.168.0.220/svn/tech/Branch/20170811-\346\216\250\351\200\201\346\225\260\346\215\256\350\260\203\346\225\264/Develop/\345\202\254\346\224\266/Task/ExportOverdueData' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170811-\346\216\250\351\200\201\346\225\260\346\215\256\350\260\203\346\225\264/Develop/\345\202\254\346\224\266/Task/ExportOverdueData@r136134' $'https://192.168.0.220/svn/tech/Branch/20170811-\346\216\250\351\200\201\346\225\260\346\215\256\350\260\203\346\225\264/Develop/\345\202\254\346\224\266/Task/ExportOverdueData'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43806.html
Merged revision(s) r136134 -r136145   from Branch/20170811-推送数据调整/Develop/催收/Task/ExportOverdueData' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (0.6ms)
  Rendered merge/new.html.erb within layouts/application (0.6ms)
Completed 200 OK in 7496ms (Views: 33.9ms)


Completed 200 OK in 7496ms (Views: 33.9ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-14 10:29:48 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-14 10:29:48 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.5ms)
  Rendered builder/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 56ms (Views: 53.8ms)


Completed 200 OK in 56ms (Views: 53.8ms)


Started POST "/start" for 192.168.5.26 at 2017-08-14 10:29:53 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-14 10:29:53 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170807-修改定点时间校验", "branch"=>"20170807-修改定点时间校验", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"qvIJv1lX2qmeo/bHe378JGzhq7PWCax3YDSz9B6es5iYgfk561VHFCvhScru/Jlb4UXhRNgPAmNsJPuHxsp8/w=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170807-修改定点时间校验", "branch"=>"20170807-修改定点时间校验", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"qvIJv1lX2qmeo/bHe378JGzhq7PWCax3YDSz9B6es5iYgfk561VHFCvhScru/Jlb4UXhRNgPAmNsJPuHxsp8/w=="}
pid is 17680
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214' -e qishanqing@dafy.com -E '' -b $'20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170807-修改定点时间校验'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170807-修改定点时间校验'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170807-修改定点时间校验'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170807-修改定点时间校验'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214' -e qishanqing@dafy.com -E '' -b $'20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170807-修改定点时间校验: command not found
++ for y in '$trunk'
++ echo $'20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214'
+ trunks=$'20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214'
+ test del = add
+ delbranch
+ '[' -z $'20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170814
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708141029
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170814-20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214/Develop/20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708141029-20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170814-20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214/Develop/20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214'
++ awk -F / '{print $7}'
+ br=$'20170814-20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214'
+ access=$'20170814-20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708141029-20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.17680
+ echo $'https://192.168.0.220/svn/tech/Branch/20170807-\344\277\256\346\224\271\345\256\232\347\202\271\346\227\266\351\227\264\346\240\241\351\252\214'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170807-修改定点时间校验%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170807-修改定点时间校验%'\'';'
+ cat /tmp/cmdb.db.17680
+ rm -f /tmp/cmdb.db.17680
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.0ms)
  Rendered builder/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 1171ms (Views: 47.8ms)


Completed 200 OK in 1171ms (Views: 47.8ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-14 10:31:38 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-14 10:31:38 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.5ms)
  Rendered builder/index.html.erb within layouts/application (3.5ms)
Completed 200 OK in 78ms (Views: 76.6ms)


Completed 200 OK in 78ms (Views: 76.6ms)


Started POST "/start" for 192.168.5.26 at 2017-08-14 10:31:42 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-14 10:31:42 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170811-推送数据调整", "branch"=>"20170811-推送数据调整", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"8j+2oc9MPKRC7150Cna3pF7Ar5urkDr3HwYsFSvZSr/ATEYnfU6hGfet4Xmf9NLb02TlbKWWlOMTFmRm842F2A=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170811-推送数据调整", "branch"=>"20170811-推送数据调整", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"8j+2oc9MPKRC7150Cna3pF7Ar5urkDr3HwYsFSvZSr/ATEYnfU6hGfet4Xmf9NLb02TlbKWWlOMTFmRm842F2A=="}
pid is 17775
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170811-\346\216\250\351\200\201\346\225\260\346\215\256\350\260\203\346\225\264' -e qishanqing@dafy.com -E '' -b $'20170811-\346\216\250\351\200\201\346\225\260\346\215\256\350\260\203\346\225\264' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170811-推送数据调整'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170811-推送数据调整'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170811-推送数据调整'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170811-推送数据调整'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170811-\346\216\250\351\200\201\346\225\260\346\215\256\350\260\203\346\225\264' -e qishanqing@dafy.com -E '' -b $'20170811-\346\216\250\351\200\201\346\225\260\346\215\256\350\260\203\346\225\264' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170811-\346\216\250\351\200\201\346\225\260\346\215\256\350\260\203\346\225\264'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170811-\346\216\250\351\200\201\346\225\260\346\215\256\350\260\203\346\225\264'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170811-\346\216\250\351\200\201\346\225\260\346\215\256\350\260\203\346\225\264'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170811-推送数据调整: command not found
++ for y in '$trunk'
++ echo $'20170811-\346\216\250\351\200\201\346\225\260\346\215\256\350\260\203\346\225\264'
+ trunks=$'20170811-\346\216\250\351\200\201\346\225\260\346\215\256\350\260\203\346\225\264'
+ test del = add
+ delbranch
+ '[' -z $'20170811-\346\216\250\351\200\201\346\225\260\346\215\256\350\260\203\346\225\264' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170814
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708141031
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170811-\346\216\250\351\200\201\346\225\260\346\215\256\350\260\203\346\225\264'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170814-20170811-\346\216\250\351\200\201\346\225\260\346\215\256\350\260\203\346\225\264/Develop/20170811-\346\216\250\351\200\201\346\225\260\346\215\256\350\260\203\346\225\264'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170811-\346\216\250\351\200\201\346\225\260\346\215\256\350\260\203\346\225\264'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708141031-20170811-\346\216\250\351\200\201\346\225\260\346\215\256\350\260\203\346\225\264'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170814-20170811-\346\216\250\351\200\201\346\225\260\346\215\256\350\260\203\346\225\264/Develop/20170811-\346\216\250\351\200\201\346\225\260\346\215\256\350\260\203\346\225\264'
++ awk -F / '{print $7}'
+ br=$'20170814-20170811-\346\216\250\351\200\201\346\225\260\346\215\256\350\260\203\346\225\264'
+ access=$'20170814-20170811-\346\216\250\351\200\201\346\225\260\346\215\256\350\260\203\346\225\264'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170811-\346\216\250\351\200\201\346\225\260\346\215\256\350\260\203\346\225\264' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708141031-20170811-\346\216\250\351\200\201\346\225\260\346\215\256\350\260\203\346\225\264' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.17775
+ echo $'https://192.168.0.220/svn/tech/Branch/20170811-\346\216\250\351\200\201\346\225\260\346\215\256\350\260\203\346\225\264'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170811-推送数据调整%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170811-推送数据调整%'\'';'
+ cat /tmp/cmdb.db.17775
+ rm -f /tmp/cmdb.db.17775
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.3ms)
  Rendered builder/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 733ms (Views: 45.9ms)


Completed 200 OK in 733ms (Views: 45.9ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-14 10:31:51 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-14 10:31:51 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (2.7ms)
  Rendered merge/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 66ms (Views: 64.4ms)


Completed 200 OK in 66ms (Views: 64.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-14 10:32:07 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-14 10:32:07 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/基础业务/用户中心/UserBusiness https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/基础业务/用户中心/UserSite", "task"=>"http://192.168.0.221/zentao/task-view-43824.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"xqFTkzqaYxaDv0i9TkcVmPxLqXALgD68V1+hxxp10Rz00qMViJj+qzb997DbxXDnce/jhwWGkKhbT+m0wiEeew=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/基础业务/用户中心/UserBusiness https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/基础业务/用户中心/UserSite", "task"=>"http://192.168.0.221/zentao/task-view-43824.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"xqFTkzqaYxaDv0i9TkcVmPxLqXALgD68V1+hxxp10Rz00qMViJj+qzb997DbxXDnce/jhwWGkKhbT+m0wiEeew=="}
pid is 17824
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43824.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/基础业务/用户中心/UserBusiness https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/基础业务/用户中心/UserSite' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43824.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/基础业务/用户中心/UserBusiness https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/基础业务/用户中心/UserSite'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43824.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/基础业务/用户中心/UserBusiness https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/基础业务/用户中心/UserSite'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43824.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/基础业务/用户中心/UserBusiness https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/基础业务/用户中心/UserSite' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43824.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/基础业务/用户中心/UserBusiness https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/基础业务/用户中心/UserSite'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/老系统/新达飞贷/网站中心/BossSite: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/老系统/新达飞贷/网站中心/BossSite
https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/基础业务/用户中心/UserBusiness
https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/基础业务/用户中心/UserSite'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ rm -f /home/qishanqing/tmp/merged/output.17824
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ mails-cm -i 'code merged from Branch/20170803-登陆改造/Develop/老系统/新达飞贷/网站中心/BossSite'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r136009 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r135810 '
+ '[' '!' -z r136009 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r136009' $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r136009' $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43824.html
Merged revision(s) r136009 -r135810   from Branch/20170803-登陆改造/Develop/老系统/新达飞贷/网站中心/BossSite' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.17824
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170803-登陆改造/Develop/基础业务/用户中心/UserBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ awk -F '|' '{print$1}'
++ grep '^r'
++ grep -C 3 $'Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r136459 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r133574 '
+ '[' '!' -z r133574 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness@r133574' $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness@r133574' $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43824.html
Merged revision(s) r133574 -r136459   from Branch/20170803-登陆改造/Develop/基础业务/用户中心/UserBusiness' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ rm -f /home/qishanqing/tmp/merged/output.17824
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170803-登陆改造/Develop/基础业务/用户中心/UserSite'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ head -n 4
++ grep -C 3 $'Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r136458 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
++ grep '^r'
++ tail -n 4
++ awk -F '|' '{print$1}'
+ revision='r134108 '
+ '[' '!' -z r134108 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite@r134108' $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite@r134108' $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43824.html
Merged revision(s) r134108 -r136458   from Branch/20170803-登陆改造/Develop/基础业务/用户中心/UserSite' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.1ms)
  Rendered merge/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 87325ms (Views: 45.1ms)


Completed 200 OK in 87325ms (Views: 45.1ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-14 10:33:45 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-14 10:33:45 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (5.0ms)
  Rendered merge/index.html.erb within layouts/application (5.0ms)
Completed 200 OK in 71ms (Views: 67.4ms)


Completed 200 OK in 71ms (Views: 67.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-14 10:34:55 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-14 10:34:55 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170706-文件加密/Develop/自如/MobileWallet/IOS/DFCloudLoan https://192.168.0.220/svn/tech/Branch/20170705-云贷2.0-服务分流/Develop/自如/MobileWallet/Android/DafyC2C_all https://192.168.0.220/svn/tech/Branch/20170706-md5校验/Develop/自如/MobileWallet/Android/DafyC2C_all https://192.168.0.220/svn/tech/Branch/20170802-云贷2.0登录改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170801-配置文件新增服务/Develop/自如/后台服务管理/MobileWalletCenter", "task"=>"http://192.168.0.221/zentao/task-view-43825.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"aZ8lIUN3EfN6GNqKO4a5iMH1TRrawS5eKfrZRs3G2HFb7NWn8XWMTs9aZYeuBNz3TFEH7dTHgEol6pE1FZIXFg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170706-文件加密/Develop/自如/MobileWallet/IOS/DFCloudLoan https://192.168.0.220/svn/tech/Branch/20170705-云贷2.0-服务分流/Develop/自如/MobileWallet/Android/DafyC2C_all https://192.168.0.220/svn/tech/Branch/20170706-md5校验/Develop/自如/MobileWallet/Android/DafyC2C_all https://192.168.0.220/svn/tech/Branch/20170802-云贷2.0登录改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170801-配置文件新增服务/Develop/自如/后台服务管理/MobileWalletCenter", "task"=>"http://192.168.0.221/zentao/task-view-43825.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"aZ8lIUN3EfN6GNqKO4a5iMH1TRrawS5eKfrZRs3G2HFb7NWn8XWMTs9aZYeuBNz3TFEH7dTHgEol6pE1FZIXFg=="}
pid is 18021
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43825.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170706-文件加密/Develop/自如/MobileWallet/IOS/DFCloudLoan https://192.168.0.220/svn/tech/Branch/20170705-云贷2.0-服务分流/Develop/自如/MobileWallet/Android/DafyC2C_all https://192.168.0.220/svn/tech/Branch/20170706-md5校验/Develop/自如/MobileWallet/Android/DafyC2C_all https://192.168.0.220/svn/tech/Branch/20170802-云贷2.0登录改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170801-配置文件新增服务/Develop/自如/后台服务管理/MobileWalletCenter' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43825.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170706-文件加密/Develop/自如/MobileWallet/IOS/DFCloudLoan https://192.168.0.220/svn/tech/Branch/20170705-云贷2.0-服务分流/Develop/自如/MobileWallet/Android/DafyC2C_all https://192.168.0.220/svn/tech/Branch/20170706-md5校验/Develop/自如/MobileWallet/Android/DafyC2C_all https://192.168.0.220/svn/tech/Branch/20170802-云贷2.0登录改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170801-配置文件新增服务/Develop/自如/后台服务管理/MobileWalletCenter'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43825.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170706-文件加密/Develop/自如/MobileWallet/IOS/DFCloudLoan https://192.168.0.220/svn/tech/Branch/20170705-云贷2.0-服务分流/Develop/自如/MobileWallet/Android/DafyC2C_all https://192.168.0.220/svn/tech/Branch/20170706-md5校验/Develop/自如/MobileWallet/Android/DafyC2C_all https://192.168.0.220/svn/tech/Branch/20170802-云贷2.0登录改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170801-配置文件新增服务/Develop/自如/后台服务管理/MobileWalletCenter'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43825.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170706-文件加密/Develop/自如/MobileWallet/IOS/DFCloudLoan https://192.168.0.220/svn/tech/Branch/20170705-云贷2.0-服务分流/Develop/自如/MobileWallet/Android/DafyC2C_all https://192.168.0.220/svn/tech/Branch/20170706-md5校验/Develop/自如/MobileWallet/Android/DafyC2C_all https://192.168.0.220/svn/tech/Branch/20170802-云贷2.0登录改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170801-配置文件新增服务/Develop/自如/后台服务管理/MobileWalletCenter' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43825.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170706-文件加密/Develop/自如/MobileWallet/IOS/DFCloudLoan https://192.168.0.220/svn/tech/Branch/20170705-云贷2.0-服务分流/Develop/自如/MobileWallet/Android/DafyC2C_all https://192.168.0.220/svn/tech/Branch/20170706-md5校验/Develop/自如/MobileWallet/Android/DafyC2C_all https://192.168.0.220/svn/tech/Branch/20170802-云贷2.0登录改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170801-配置文件新增服务/Develop/自如/后台服务管理/MobileWalletCenter'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170706-\346\226\207\344\273\266\345\212\240\345\257\206/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan' $'https://192.168.0.220/svn/tech/Branch/20170705-\344\272\221\350\264\2672.0-\346\234\215\345\212\241\345\210\206\346\265\201/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all' $'https://192.168.0.220/svn/tech/Branch/20170706-md5\346\240\241\351\252\214/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all' $'https://192.168.0.220/svn/tech/Branch/20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' $'https://192.168.0.220/svn/tech/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170706-文件加密/Develop/自如/MobileWallet/IOS/DFCloudLoan: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170706-\346\226\207\344\273\266\345\212\240\345\257\206/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170705-\344\272\221\350\264\2672.0-\346\234\215\345\212\241\345\210\206\346\265\201/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170706-md5\346\240\241\351\252\214/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170706-文件加密/Develop/自如/MobileWallet/IOS/DFCloudLoan
https://192.168.0.220/svn/tech/Branch/20170705-云贷2.0-服务分流/Develop/自如/MobileWallet/Android/DafyC2C_all
https://192.168.0.220/svn/tech/Branch/20170706-md5校验/Develop/自如/MobileWallet/Android/DafyC2C_all
https://192.168.0.220/svn/tech/Branch/20170802-云贷2.0登录改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client
https://192.168.0.220/svn/tech/Branch/20170801-配置文件新增服务/Develop/自如/后台服务管理/MobileWalletCenter'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170706-\346\226\207\344\273\266\345\212\240\345\257\206/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170706-\346\226\207\344\273\266\345\212\240\345\257\206/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
+ rm -f /home/qishanqing/tmp/merged/output.18021
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170706-\346\226\207\344\273\266\345\212\240\345\257\206/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170706-文件加密/Develop/自如/MobileWallet/IOS/DFCloudLoan'
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170706-\346\226\207\344\273\266\345\212\240\345\257\206/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170706-\346\226\207\344\273\266\345\212\240\345\257\206/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r136460 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170706-\346\226\207\344\273\266\345\212\240\345\257\206/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
++ tail -n 4
+ revision='r125946 '
+ '[' '!' -z r125946 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170706-\346\226\207\344\273\266\345\212\240\345\257\206/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan@r125946' $'https://192.168.0.220/svn/tech/Branch/20170706-\346\226\207\344\273\266\345\212\240\345\257\206/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170706-\346\226\207\344\273\266\345\212\240\345\257\206/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan@r125946' $'https://192.168.0.220/svn/tech/Branch/20170706-\346\226\207\344\273\266\345\212\240\345\257\206/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43825.html
Merged revision(s) r125946 -r136460   from Branch/20170706-文件加密/Develop/自如/MobileWallet/IOS/DFCloudLoan' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170705-\344\272\221\350\264\2672.0-\346\234\215\345\212\241\345\210\206\346\265\201/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170705-\344\272\221\350\264\2672.0-\346\234\215\345\212\241\345\210\206\346\265\201/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
+ rm -f /home/qishanqing/tmp/merged/output.18021
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170705-\344\272\221\350\264\2672.0-\346\234\215\345\212\241\345\210\206\346\265\201/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
+ die '自如/MobileWallet/Android/DafyC2C_all  project code no found'
+ echo '自如/MobileWallet/Android/DafyC2C_all  project code no found'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.18021
+ rm -f /home/qishanqing/tmp/merged/output.18021
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170706-md5\346\240\241\351\252\214/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170706-md5\346\240\241\351\252\214/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
+ rm -f /home/qishanqing/tmp/merged/output.18021
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170706-md5\346\240\241\351\252\214/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
+ die '自如/MobileWallet/Android/DafyC2C_all  project code no found'
+ echo '自如/MobileWallet/Android/DafyC2C_all  project code no found'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.18021
+ rm -f /home/qishanqing/tmp/merged/output.18021
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ rm -f /home/qishanqing/tmp/merged/output.18021
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170802-云贷2.0登录改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep -C 3 $'Branch/20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ head='r136462 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r133214 '
+ '[' '!' -z r133214 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r133214' $'https://192.168.0.220/svn/tech/Branch/20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：8'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2328' ']'
+ die 'Svn merged conflicts the r133214 -r136462  from Branch/20170802-云贷2.0登录改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ echo 'Svn merged conflicts the r133214 -r136462  from Branch/20170802-云贷2.0登录改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.18021
+ rm -f /home/qishanqing/tmp/merged/output.18021
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43825.html
Merged revision(s) r133214 -r136462   from Branch/20170802-云贷2.0登录改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ rm -f /home/qishanqing/tmp/merged/output.18021
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170801-配置文件新增服务/Develop/自如/后台服务管理/MobileWalletCenter'
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ awk -F '|' '{print$1}'
++ head -n 4
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r136252 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
++ tail -n 4
+ revision='r132997 '
+ '[' '!' -z r132997 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter@r132997' $'https://192.168.0.220/svn/tech/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter@r132997' $'https://192.168.0.220/svn/tech/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43825.html
Merged revision(s) r132997 -r136252   from Branch/20170801-配置文件新增服务/Develop/自如/后台服务管理/MobileWalletCenter' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.4ms)
  Rendered merge/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 111578ms (Views: 43.8ms)


Completed 200 OK in 111578ms (Views: 43.8ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-14 10:39:31 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-14 10:39:31 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.1ms)
  Rendered merge/index.html.erb within layouts/application (3.1ms)
Completed 200 OK in 46ms (Views: 44.3ms)


Completed 200 OK in 46ms (Views: 44.3ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-14 10:39:47 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-14 10:39:47 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170810-借款失败通知/Develop/外部业务/P2P/Business/BorrowBusiness2", "task"=>"http://192.168.0.221/zentao/task-view-43723.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"m0CKXcDqP4qjFUy2gtC21QZYTGjcwX49GTRgfoy4VNipM3rbcuiiNxZX87sXUtOqi/wGn9LH0CkVJCgNVOybvw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170810-借款失败通知/Develop/外部业务/P2P/Business/BorrowBusiness2", "task"=>"http://192.168.0.221/zentao/task-view-43723.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"m0CKXcDqP4qjFUy2gtC21QZYTGjcwX49GTRgfoy4VNipM3rbcuiiNxZX87sXUtOqi/wGn9LH0CkVJCgNVOybvw=="}
pid is 18300
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43723.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170810-\345\200\237\346\254\276\345\244\261\350\264\245\351\200\232\347\237\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43723.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170810-借款失败通知/Develop/外部业务/P2P/Business/BorrowBusiness2'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43723.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170810-借款失败通知/Develop/外部业务/P2P/Business/BorrowBusiness2'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43723.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170810-\345\200\237\346\254\276\345\244\261\350\264\245\351\200\232\347\237\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43723.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170810-\345\200\237\346\254\276\345\244\261\350\264\245\351\200\232\347\237\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170810-\345\200\237\346\254\276\345\244\261\350\264\245\351\200\232\347\237\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170810-借款失败通知/Develop/外部业务/P2P/Business/BorrowBusiness2: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170810-\345\200\237\346\254\276\345\244\261\350\264\245\351\200\232\347\237\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170810-\345\200\237\346\254\276\345\244\261\350\264\245\351\200\232\347\237\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170810-\345\200\237\346\254\276\345\244\261\350\264\245\351\200\232\347\237\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170810-\345\200\237\346\254\276\345\244\261\350\264\245\351\200\232\347\237\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ rm -f /home/qishanqing/tmp/merged/output.18300
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170810-\345\200\237\346\254\276\345\244\261\350\264\245\351\200\232\347\237\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170810-借款失败通知/Develop/外部业务/P2P/Business/BorrowBusiness2'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170810-\345\200\237\346\254\276\345\244\261\350\264\245\351\200\232\347\237\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170810-\345\200\237\346\254\276\345\244\261\350\264\245\351\200\232\347\237\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r135726 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170810-\345\200\237\346\254\276\345\244\261\350\264\245\351\200\232\347\237\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r135627 '
+ '[' '!' -z r135627 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170810-\345\200\237\346\254\276\345\244\261\350\264\245\351\200\232\347\237\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2@r135627' $'https://192.168.0.220/svn/tech/Branch/20170810-\345\200\237\346\254\276\345\244\261\350\264\245\351\200\232\347\237\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170810-\345\200\237\346\254\276\345\244\261\350\264\245\351\200\232\347\237\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2@r135627' $'https://192.168.0.220/svn/tech/Branch/20170810-\345\200\237\346\254\276\345\244\261\350\264\245\351\200\232\347\237\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43723.html
Merged revision(s) r135627 -r135726   from Branch/20170810-借款失败通知/Develop/外部业务/P2P/Business/BorrowBusiness2' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (0.9ms)
  Rendered merge/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 10476ms (Views: 46.6ms)


Completed 200 OK in 10476ms (Views: 46.6ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-14 10:40:14 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-14 10:40:14 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (2.6ms)
  Rendered merge/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 43ms (Views: 41.1ms)


Completed 200 OK in 43ms (Views: 41.1ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-14 10:40:21 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-14 10:40:21 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39", "task"=>"http://192.168.0.221/zentao/task-view-43822.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"3598Sj8dhRAqYvHxJvyg49I4p+A4+GyCWO3Nftm3rq/t7IzMjR8YrZ8gTvyzfsWcX5ztFzb+wpZU/YUNAeNhyA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39", "task"=>"http://192.168.0.221/zentao/task-view-43822.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"3598Sj8dhRAqYvHxJvyg49I4p+A4+GyCWO3Nftm3rq/t7IzMjR8YrZ8gTvyzfsWcX5ztFzb+wpZU/YUNAeNhyA=="}
pid is 18370
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43822.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43822.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43822.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43822.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43822.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ rm -f /home/qishanqing/tmp/merged/output.18370
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
++ awk -F '|' '{print$1}'
++ head -n 4
Started GET "/builder" for 192.168.5.26 at 2017-08-14 10:40:32 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-14 10:40:32 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.4ms)
  Rendered builder/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 48ms (Views: 46.2ms)


Completed 200 OK in 48ms (Views: 46.2ms)


Started POST "/start" for 192.168.5.26 at 2017-08-14 10:40:36 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-14 10:40:36 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170810-借款失败通知", "branch"=>"20170810-借款失败通知", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"8oGGC/+Ywqp+QOylXLe+rOD4s+eioQTlbEeRgF78yQfA8naNTZpfF8sCU6jJNdvTbVz5EKynqvFgV9nzhqgGYA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170810-借款失败通知", "branch"=>"20170810-借款失败通知", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"8oGGC/+Ywqp+QOylXLe+rOD4s+eioQTlbEeRgF78yQfA8naNTZpfF8sCU6jJNdvTbVz5EKynqvFgV9nzhqgGYA=="}
pid is 18399
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170810-\345\200\237\346\254\276\345\244\261\350\264\245\351\200\232\347\237\245' -e qishanqing@dafy.com -E '' -b $'20170810-\345\200\237\346\254\276\345\244\261\350\264\245\351\200\232\347\237\245' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170810-借款失败通知'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170810-借款失败通知'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170810-借款失败通知'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170810-借款失败通知'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170810-\345\200\237\346\254\276\345\244\261\350\264\245\351\200\232\347\237\245' -e qishanqing@dafy.com -E '' -b $'20170810-\345\200\237\346\254\276\345\244\261\350\264\245\351\200\232\347\237\245' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170810-\345\200\237\346\254\276\345\244\261\350\264\245\351\200\232\347\237\245'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170810-\345\200\237\346\254\276\345\244\261\350\264\245\351\200\232\347\237\245'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170810-\345\200\237\346\254\276\345\244\261\350\264\245\351\200\232\347\237\245'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170810-借款失败通知: command not found
++ for y in '$trunk'
++ echo $'20170810-\345\200\237\346\254\276\345\244\261\350\264\245\351\200\232\347\237\245'
+ trunks=$'20170810-\345\200\237\346\254\276\345\244\261\350\264\245\351\200\232\347\237\245'
+ test del = add
+ delbranch
+ '[' -z $'20170810-\345\200\237\346\254\276\345\244\261\350\264\245\351\200\232\347\237\245' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170814
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708141040
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170810-\345\200\237\346\254\276\345\244\261\350\264\245\351\200\232\347\237\245'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170814-20170810-\345\200\237\346\254\276\345\244\261\350\264\245\351\200\232\347\237\245/Develop/20170810-\345\200\237\346\254\276\345\244\261\350\264\245\351\200\232\347\237\245'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170810-\345\200\237\346\254\276\345\244\261\350\264\245\351\200\232\347\237\245'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708141040-20170810-\345\200\237\346\254\276\345\244\261\350\264\245\351\200\232\347\237\245'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170814-20170810-\345\200\237\346\254\276\345\244\261\350\264\245\351\200\232\347\237\245/Develop/20170810-\345\200\237\346\254\276\345\244\261\350\264\245\351\200\232\347\237\245'
++ awk -F / '{print $7}'
+ br=$'20170814-20170810-\345\200\237\346\254\276\345\244\261\350\264\245\351\200\232\347\237\245'
+ access=$'20170814-20170810-\345\200\237\346\254\276\345\244\261\350\264\245\351\200\232\347\237\245'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170810-\345\200\237\346\254\276\345\244\261\350\264\245\351\200\232\347\237\245' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708141040-20170810-\345\200\237\346\254\276\345\244\261\350\264\245\351\200\232\347\237\245' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.18399
+ echo $'https://192.168.0.220/svn/tech/Branch/20170810-\345\200\237\346\254\276\345\244\261\350\264\245\351\200\232\347\237\245'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170810-借款失败通知%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170810-借款失败通知%'\'';'
+ cat /tmp/cmdb.db.18399
+ rm -f /tmp/cmdb.db.18399
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.0ms)
  Rendered builder/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 5492ms (Views: 44.7ms)


Completed 200 OK in 5492ms (Views: 44.7ms)


+ revision='r131339 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r136262 '
+ '[' '!' -z r131339 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39@r131339' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39@r131339' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/aibendi_39'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43822.html
Merged revision(s) r131339 -r136262   from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/aibendi_39' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (0.9ms)
  Rendered merge/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 31246ms (Views: 43.0ms)


Completed 200 OK in 31246ms (Views: 43.0ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-14 10:51:58 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-14 10:51:58 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.2ms)
  Rendered merge/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 7630ms (Views: 7426.2ms)


Completed 200 OK in 7630ms (Views: 7426.2ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-14 10:52:21 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-14 10:52:21 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170705-云贷2.0-服务分流/Develop/自如/MobileWallet/Android/DafyC2C_all https://192.168.0.220/svn/tech/Branch/20170706-md5校验/Develop/自如/MobileWallet/Android/DafyC2C_all", "task"=>"http://192.168.0.221/zentao/task-view-43825.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"Bh3yWe3kJ+0/PLUQYijwss+9navTXhCuS0c4iRr1qwg0bgLfX+a6UIp+Ch33qpXNQhnXXN1YvrpHV3D6wqFkbw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170705-云贷2.0-服务分流/Develop/自如/MobileWallet/Android/DafyC2C_all https://192.168.0.220/svn/tech/Branch/20170706-md5校验/Develop/自如/MobileWallet/Android/DafyC2C_all", "task"=>"http://192.168.0.221/zentao/task-view-43825.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"Bh3yWe3kJ+0/PLUQYijwss+9navTXhCuS0c4iRr1qwg0bgLfX+a6UIp+Ch33qpXNQhnXXN1YvrpHV3D6wqFkbw=="}
pid is 18739
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43825.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170705-云贷2.0-服务分流/Develop/自如/MobileWallet/Android/DafyC2C_all https://192.168.0.220/svn/tech/Branch/20170706-md5校验/Develop/自如/MobileWallet/Android/DafyC2C_all' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43825.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170705-云贷2.0-服务分流/Develop/自如/MobileWallet/Android/DafyC2C_all https://192.168.0.220/svn/tech/Branch/20170706-md5校验/Develop/自如/MobileWallet/Android/DafyC2C_all'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43825.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170705-云贷2.0-服务分流/Develop/自如/MobileWallet/Android/DafyC2C_all https://192.168.0.220/svn/tech/Branch/20170706-md5校验/Develop/自如/MobileWallet/Android/DafyC2C_all'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43825.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170705-云贷2.0-服务分流/Develop/自如/MobileWallet/Android/DafyC2C_all https://192.168.0.220/svn/tech/Branch/20170706-md5校验/Develop/自如/MobileWallet/Android/DafyC2C_all' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43825.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170705-云贷2.0-服务分流/Develop/自如/MobileWallet/Android/DafyC2C_all https://192.168.0.220/svn/tech/Branch/20170706-md5校验/Develop/自如/MobileWallet/Android/DafyC2C_all'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170705-\344\272\221\350\264\2672.0-\346\234\215\345\212\241\345\210\206\346\265\201/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all' $'https://192.168.0.220/svn/tech/Branch/20170706-md5\346\240\241\351\252\214/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170705-云贷2.0-服务分流/Develop/自如/MobileWallet/Android/DafyC2C_all: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170705-\344\272\221\350\264\2672.0-\346\234\215\345\212\241\345\210\206\346\265\201/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170706-md5\346\240\241\351\252\214/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170705-云贷2.0-服务分流/Develop/自如/MobileWallet/Android/DafyC2C_all
https://192.168.0.220/svn/tech/Branch/20170706-md5校验/Develop/自如/MobileWallet/Android/DafyC2C_all'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170705-\344\272\221\350\264\2672.0-\346\234\215\345\212\241\345\210\206\346\265\201/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170705-\344\272\221\350\264\2672.0-\346\234\215\345\212\241\345\210\206\346\265\201/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
+ rm -f /home/qishanqing/tmp/merged/output.18739
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170705-\344\272\221\350\264\2672.0-\346\234\215\345\212\241\345\210\206\346\265\201/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170705-云贷2.0-服务分流/Develop/自如/MobileWallet/Android/DafyC2C_all'
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ awk -F '|' '{print$1}'
++ grep '^r'
++ grep -C 3 $'Branch/20170705-\344\272\221\350\264\2672.0-\346\234\215\345\212\241\345\210\206\346\265\201/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170705-\344\272\221\350\264\2672.0-\346\234\215\345\212\241\345\210\206\346\265\201/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r136454 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170705-\344\272\221\350\264\2672.0-\346\234\215\345\212\241\345\210\206\346\265\201/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r125555 '
+ '[' '!' -z r125555 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170705-\344\272\221\350\264\2672.0-\346\234\215\345\212\241\345\210\206\346\265\201/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all@r125555' $'https://192.168.0.220/svn/tech/Branch/20170705-\344\272\221\350\264\2672.0-\346\234\215\345\212\241\345\210\206\346\265\201/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170705-\344\272\221\350\264\2672.0-\346\234\215\345\212\241\345\210\206\346\265\201/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all@r125555' $'https://192.168.0.220/svn/tech/Branch/20170705-\344\272\221\350\264\2672.0-\346\234\215\345\212\241\345\210\206\346\265\201/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43825.html
Merged revision(s) r125555 -r136454   from Branch/20170705-云贷2.0-服务分流/Develop/自如/MobileWallet/Android/DafyC2C_all' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170706-md5\346\240\241\351\252\214/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170706-md5\346\240\241\351\252\214/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
+ rm -f /home/qishanqing/tmp/merged/output.18739
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170706-md5\346\240\241\351\252\214/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170706-md5校验/Develop/自如/MobileWallet/Android/DafyC2C_all'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170706-md5\346\240\241\351\252\214/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170706-md5\346\240\241\351\252\214/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r128169 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170706-md5\346\240\241\351\252\214/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r125821 '
+ '[' '!' -z r125821 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170706-md5\346\240\241\351\252\214/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all@r125821' $'https://192.168.0.220/svn/tech/Branch/20170706-md5\346\240\241\351\252\214/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170706-md5\346\240\241\351\252\214/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all@r125821' $'https://192.168.0.220/svn/tech/Branch/20170706-md5\346\240\241\351\252\214/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43825.html
Merged revision(s) r125821 -r128169   from Branch/20170706-md5校验/Develop/自如/MobileWallet/Android/DafyC2C_all' --username qishanqing --password 372233
svn: E155015: 提交失败(细节如下): 
svn: E155015: 提交终止: “/home/qishanqing/workspace/code/Trunk/自如/MobileWallet/Android/DafyC2C_all/.idea/misc.xml” 处于冲突状态
+ die 'Svn merged conflicts the reasons for failure are as follows'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the reasons for failure are as follows'
+ test -e /home/qishanqing/tmp/merged/output.18739
+ echo
+ cat /home/qishanqing/tmp/merged/output.18739
+ rm -f /home/qishanqing/tmp/merged/output.18739
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.1ms)
  Rendered merge/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 39891ms (Views: 97.8ms)


Completed 200 OK in 39891ms (Views: 97.8ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-14 11:08:02 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-14 11:08:02 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.1ms)
  Rendered builder/index.html.erb within layouts/application (3.1ms)
Completed 200 OK in 63ms (Views: 48.9ms)


Completed 200 OK in 63ms (Views: 48.9ms)


Started POST "/start" for 192.168.5.26 at 2017-08-14 11:08:06 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-14 11:08:06 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170706-md5校验", "branch"=>"20170706-md5校验", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"n2Y/FvS07zVTAwTBicP1e0YCnlx9Yt8h7JUp3HLxFnOtFc+QRrZyiOZBu8wcQZAEy6bUq3NkcTXghWGvqqXZFA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170706-md5校验", "branch"=>"20170706-md5校验", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"n2Y/FvS07zVTAwTBicP1e0YCnlx9Yt8h7JUp3HLxFnOtFc+QRrZyiOZBu8wcQZAEy6bUq3NkcTXghWGvqqXZFA=="}
pid is 19497
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170706-md5\346\240\241\351\252\214' -e qishanqing@dafy.com -E '' -b $'20170706-md5\346\240\241\351\252\214' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170706-md5校验'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170706-md5校验'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170706-md5校验'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170706-md5校验'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170706-md5\346\240\241\351\252\214' -e qishanqing@dafy.com -E '' -b $'20170706-md5\346\240\241\351\252\214' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170706-md5\346\240\241\351\252\214'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170706-md5\346\240\241\351\252\214'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170706-md5\346\240\241\351\252\214'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170706-md5校验: command not found
++ for y in '$trunk'
++ echo $'20170706-md5\346\240\241\351\252\214'
+ trunks=$'20170706-md5\346\240\241\351\252\214'
+ test del = add
+ delbranch
+ '[' -z $'20170706-md5\346\240\241\351\252\214' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170814
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708141108
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170706-md5\346\240\241\351\252\214'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170814-20170706-md5\346\240\241\351\252\214/Develop/20170706-md5\346\240\241\351\252\214'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170706-md5\346\240\241\351\252\214'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708141108-20170706-md5\346\240\241\351\252\214'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170814-20170706-md5\346\240\241\351\252\214/Develop/20170706-md5\346\240\241\351\252\214'
++ awk -F / '{print $7}'
+ br=$'20170814-20170706-md5\346\240\241\351\252\214'
+ access=$'20170814-20170706-md5\346\240\241\351\252\214'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170706-md5\346\240\241\351\252\214' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708141108-20170706-md5\346\240\241\351\252\214' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.19497
+ echo $'https://192.168.0.220/svn/tech/Branch/20170706-md5\346\240\241\351\252\214'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170706-md5校验%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170706-md5校验%'\'';'
+ cat /tmp/cmdb.db.19497
+ rm -f /tmp/cmdb.db.19497
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.1ms)
  Rendered builder/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 939ms (Views: 41.8ms)


Completed 200 OK in 939ms (Views: 41.8ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-08-14 11:12:35 +0800
Started GET "/merge/new" for 192.168.5.26 at 2017-08-14 11:12:35 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/start" for 192.168.5.26 at 2017-08-14 11:12:35 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/start" for 192.168.5.26 at 2017-08-14 11:12:35 +0800
Processing by MergeController#new as HTML
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Filter chain halted as #<Proc:0x007f4ad8014008@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
  
Filter chain halted as #<Proc:0x007f4ad8014008@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
  
Completed 401 Unauthorized in 10ms


ActionController::RoutingError (No route matches [GET] "/start"):
Completed 401 Unauthorized in 10ms


ActionController::RoutingError (No route matches [GET] "/start"):
  
  
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/merge/new" for 192.168.5.26 at 2017-08-14 11:24:27 +0800
Started GET "/merge/new" for 192.168.5.26 at 2017-08-14 11:24:27 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (6.1ms)
  Rendered merge/index.html.erb within layouts/application (6.1ms)
Completed 200 OK in 135ms (Views: 129.9ms)


Completed 200 OK in 135ms (Views: 129.9ms)


Started GET "/" for 192.168.5.26 at 2017-08-14 11:24:31 +0800
Started GET "/" for 192.168.5.26 at 2017-08-14 11:24:31 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.5ms)
  Rendered builder/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 61ms (Views: 57.6ms)


Completed 200 OK in 61ms (Views: 57.6ms)


Started POST "/start" for 192.168.5.26 at 2017-08-14 11:26:30 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-14 11:26:30 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170802-云贷2.0登录改造", "branch"=>"/20170802-云贷2.0登录改造", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"ePVn+6QDejuyB5hlm2MDlsPfwieRQvAWDHdj8dvjTMFR7aeZ6vpTW3Ye6w9zuow6oDosyriaLLyMFPaVEEoFXw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170802-云贷2.0登录改造", "branch"=>"/20170802-云贷2.0登录改造", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"ePVn+6QDejuyB5hlm2MDlsPfwieRQvAWDHdj8dvjTMFR7aeZ6vpTW3Ye6w9zuow6oDosyriaLLyMFPaVEEoFXw=="}
Filter chain halted as #<Proc:0x00000004f12940@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Filter chain halted as #<Proc:0x00000004f12940@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Completed 401 Unauthorized in 2ms


Completed 401 Unauthorized in 2ms


Started POST "/start" for 192.168.5.26 at 2017-08-14 11:26:30 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-14 11:26:30 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170802-云贷2.0登录改造", "branch"=>"/20170802-云贷2.0登录改造", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"ePVn+6QDejuyB5hlm2MDlsPfwieRQvAWDHdj8dvjTMFR7aeZ6vpTW3Ye6w9zuow6oDosyriaLLyMFPaVEEoFXw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170802-云贷2.0登录改造", "branch"=>"/20170802-云贷2.0登录改造", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"ePVn+6QDejuyB5hlm2MDlsPfwieRQvAWDHdj8dvjTMFR7aeZ6vpTW3Ye6w9zuow6oDosyriaLLyMFPaVEEoFXw=="}
pid is 20793
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240' -e qishanqing@dafy.com -E '' -b $'/20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170802-云贷2.0登录改造'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''/20170802-云贷2.0登录改造'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170802-云贷2.0登录改造'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''/20170802-云贷2.0登录改造'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240' -e qishanqing@dafy.com -E '' -b $'/20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'/20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170802-云贷2.0登录改造: command not found
++ for y in '$trunk'
++ echo $'20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240'
+ trunks=$'20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240'
+ test del = add
+ delbranch
+ '[' -z $'/20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170814
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708141126
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170814-/20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240/Develop/20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240'
+ source_name=$'https://192.168.0.220/svn/tech/Branch//20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708141126-/20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170814-/20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240/Develop/20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240'
++ awk -F / '{print $7}'
+ br=20170814-
+ access=$'20170814-/20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240'
+ svn move $'https://192.168.0.220/svn/tech/Branch//20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708141126-/20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ die 'Svn branch delete the reasons for failure are as follows'
+ echo 'Svn branch delete the reasons for failure are as follows'
+ mails-cm -i 'svn branch create failed'
+ test -e /home/qishanqing/tmp/output.20793
+ echo
+ cat /home/qishanqing/tmp/output.20793
+ rm -rf /home/qishanqing/tmp/output.20793
+ kill 20793
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.0ms)
  Rendered builder/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 1150ms (Views: 39.0ms)


Completed 200 OK in 1150ms (Views: 39.0ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-14 11:47:44 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-14 11:47:44 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.9ms)
  Rendered builder/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 68ms (Views: 65.0ms)


Completed 200 OK in 68ms (Views: 65.0ms)


Started POST "/start" for 192.168.5.26 at 2017-08-14 11:47:48 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-14 11:47:48 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170802-云贷2.0登录改造", "branch"=>"20170802-云贷2.0登录改造", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"Sj5kDAo0nVh4QXPTiXCCQaUfHH7XHekR65pLUzSlF6hjJqRuRM20OLxYALlhqQ3txvryk/7FNbtr+d43/wxeNg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170802-云贷2.0登录改造", "branch"=>"20170802-云贷2.0登录改造", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"Sj5kDAo0nVh4QXPTiXCCQaUfHH7XHekR65pLUzSlF6hjJqRuRM20OLxYALlhqQ3txvryk/7FNbtr+d43/wxeNg=="}
pid is 21738
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240' -e qishanqing@dafy.com -E '' -b $'20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170802-云贷2.0登录改造'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170802-云贷2.0登录改造'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170802-云贷2.0登录改造'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170802-云贷2.0登录改造'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240' -e qishanqing@dafy.com -E '' -b $'20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170802-云贷2.0登录改造: command not found
++ for y in '$trunk'
++ echo $'20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240'
+ trunks=$'20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240'
+ test del = add
+ delbranch
+ '[' -z $'20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170814
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708141147
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170814-20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240/Develop/20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708141147-20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170814-20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240/Develop/20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240'
++ awk -F / '{print $7}'
+ br=$'20170814-20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240'
+ access=$'20170814-20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708141147-20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.21738
+ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170802-云贷2.0登录改造%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170802-云贷2.0登录改造%'\'';'
+ cat /tmp/cmdb.db.21738
+ rm -f /tmp/cmdb.db.21738
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (0.9ms)
  Rendered builder/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 978ms (Views: 43.9ms)


Completed 200 OK in 978ms (Views: 43.9ms)


Started GET "/start" for 192.168.5.26 at 2017-08-14 14:34:01 +0800
Started GET "/start" for 192.168.5.26 at 2017-08-14 14:34:02 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  
  
ActionController::RoutingError (No route matches [GET] "/start"):
ActionController::RoutingError (No route matches [GET] "/start"):
  
  
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 192.168.5.26 at 2017-08-14 14:59:34 +0800
Started GET "/" for 192.168.5.26 at 2017-08-14 14:59:34 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (58.9ms)
  Rendered builder/index.html.erb within layouts/application (58.9ms)
Completed 200 OK in 794ms (Views: 731.6ms)


Completed 200 OK in 794ms (Views: 731.6ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-08-14 14:59:38 +0800
Started GET "/merge/new" for 192.168.5.26 at 2017-08-14 14:59:38 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
Filter chain halted as #<Proc:0x007f4ad8014008@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Filter chain halted as #<Proc:0x007f4ad8014008@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Completed 401 Unauthorized in 75ms


Completed 401 Unauthorized in 75ms


Started GET "/merge/new" for 192.168.5.26 at 2017-08-14 14:59:39 +0800
Started GET "/merge/new" for 192.168.5.26 at 2017-08-14 14:59:39 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (61.7ms)
  Rendered merge/index.html.erb within layouts/application (61.7ms)
Completed 200 OK in 455ms (Views: 453.6ms)


Completed 200 OK in 455ms (Views: 453.6ms)


Started POST "/start" for 192.168.5.26 at 2017-08-14 16:49:58 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-14 16:49:58 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/HLCCenter 外部业务/P2P/Task/HLCAboutTask", "branch"=>"红岭改造", "user"=>"", "extra_mails"=>"", "riqi"=>"20170724", "authenticity_token"=>"sfILojg/KPhn1KWGkTQgY55IuAxLB83OailMq91STm984+5m+0x6nwginyPZW+tp4NRXHKHSFisiPnmBJXiEcQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/HLCCenter 外部业务/P2P/Task/HLCAboutTask", "branch"=>"红岭改造", "user"=>"", "extra_mails"=>"", "riqi"=>"20170724", "authenticity_token"=>"sfILojg/KPhn1KWGkTQgY55IuAxLB83OailMq91STm984+5m+0x6nwginyPZW+tp4NRXHKHSFisiPnmBJXiEcQ=="}
Can't verify CSRF token authenticity.
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 131ms


Completed 422 Unprocessable Entity in 131ms


  
  
ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  
  
actionpack (5.1.1) lib/action_controller/metal/request_forgery_protection.rb:195:in `handle_unverified_request'
actionpack (5.1.1) lib/action_controller/metal/request_forgery_protection.rb:227:in `handle_unverified_request'
actionpack (5.1.1) lib/action_controller/metal/request_forgery_protection.rb:222:in `verify_authenticity_token'
activesupport (5.1.1) lib/active_support/callbacks.rb:413:in `block in make_lambda'
activesupport (5.1.1) lib/active_support/callbacks.rb:197:in `block (2 levels) in halting'
actionpack (5.1.1) lib/abstract_controller/callbacks.rb:12:in `block (2 levels) in <module:Callbacks>'
activesupport (5.1.1) lib/active_support/callbacks.rb:198:in `block in halting'
activesupport (5.1.1) lib/active_support/callbacks.rb:507:in `block in invoke_before'
activesupport (5.1.1) lib/active_support/callbacks.rb:507:in `each'
activesupport (5.1.1) lib/active_support/callbacks.rb:507:in `invoke_before'
activesupport (5.1.1) lib/active_support/callbacks.rb:130:in `run_callbacks'
actionpack (5.1.1) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.1.1) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.1.1) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.1.1) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.1) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.1) lib/active_support/notifications.rb:166:in `instrument'
actionpack (5.1.1) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.1.1) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
activerecord (5.1.1) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
actionpack (5.1.1) lib/abstract_controller/base.rb:124:in `process'
actionview (5.1.1) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.1) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.1) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.1) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.1) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.1) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.1) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.1) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.1) lib/action_dispatch/routing/route_set.rb:832:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.1) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.1) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.1) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
actionpack (5.1.1) lib/action_controller/metal/request_forgery_protection.rb:195:in `handle_unverified_request'
actionpack (5.1.1) lib/action_controller/metal/request_forgery_protection.rb:227:in `handle_unverified_request'
actionpack (5.1.1) lib/action_controller/metal/request_forgery_protection.rb:222:in `verify_authenticity_token'
activesupport (5.1.1) lib/active_support/callbacks.rb:413:in `block in make_lambda'
activesupport (5.1.1) lib/active_support/callbacks.rb:197:in `block (2 levels) in halting'
actionpack (5.1.1) lib/abstract_controller/callbacks.rb:12:in `block (2 levels) in <module:Callbacks>'
activesupport (5.1.1) lib/active_support/callbacks.rb:198:in `block in halting'
activesupport (5.1.1) lib/active_support/callbacks.rb:507:in `block in invoke_before'
activesupport (5.1.1) lib/active_support/callbacks.rb:507:in `each'
activesupport (5.1.1) lib/active_support/callbacks.rb:507:in `invoke_before'
activesupport (5.1.1) lib/active_support/callbacks.rb:130:in `run_callbacks'
actionpack (5.1.1) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.1.1) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.1.1) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.1.1) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.1) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.1) lib/active_support/notifications.rb:166:in `instrument'
actionpack (5.1.1) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.1.1) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
activerecord (5.1.1) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
actionpack (5.1.1) lib/abstract_controller/base.rb:124:in `process'
actionview (5.1.1) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.1) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.1) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.1) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.1) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.1) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.1) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.1) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.1) lib/action_dispatch/routing/route_set.rb:832:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.1) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.1) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.1) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 192.168.5.26 at 2017-08-14 16:51:21 +0800
Started GET "/" for 192.168.5.26 at 2017-08-14 16:51:21 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (155.6ms)
  Rendered builder/index.html.erb within layouts/application (155.6ms)
Started GET "/" for 192.168.5.26 at 2017-08-14 16:51:21 +0800
Started GET "/" for 192.168.5.26 at 2017-08-14 16:51:21 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (27.5ms)
  Rendered builder/index.html.erb within layouts/application (27.5ms)
Completed 200 OK in 5229ms (Views: 5124.5ms)


Completed 200 OK in 5229ms (Views: 5124.5ms)


Completed 200 OK in 4828ms (Views: 4827.0ms)


Completed 200 OK in 4828ms (Views: 4827.0ms)


Started POST "/start" for 192.168.5.26 at 2017-08-14 16:51:57 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-14 16:51:57 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/HLCCenter 外部业务/P2P/Task/HLCAboutTask", "branch"=>"红岭改造", "user"=>"", "extra_mails"=>"", "riqi"=>"20170724", "authenticity_token"=>"hkznzjUdP+hzoORQ7PUu9+ZCil0dB+2dJQcfzpMO1VGHmU5bzzEDzMNqTfji2RD9wQ6txgrGFx9kOSO4U0exfg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/HLCCenter 外部业务/P2P/Task/HLCAboutTask", "branch"=>"红岭改造", "user"=>"", "extra_mails"=>"", "riqi"=>"20170724", "authenticity_token"=>"hkznzjUdP+hzoORQ7PUu9+ZCil0dB+2dJQcfzpMO1VGHmU5bzzEDzMNqTfji2RD9wQ6txgrGFx9kOSO4U0exfg=="}
Filter chain halted as #<Proc:0x00000004f12940@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Filter chain halted as #<Proc:0x00000004f12940@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Completed 401 Unauthorized in 18ms


Completed 401 Unauthorized in 18ms


Started POST "/start" for 192.168.5.26 at 2017-08-14 16:51:58 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-14 16:51:58 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/HLCCenter 外部业务/P2P/Task/HLCAboutTask", "branch"=>"红岭改造", "user"=>"", "extra_mails"=>"", "riqi"=>"20170724", "authenticity_token"=>"hkznzjUdP+hzoORQ7PUu9+ZCil0dB+2dJQcfzpMO1VGHmU5bzzEDzMNqTfji2RD9wQ6txgrGFx9kOSO4U0exfg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/HLCCenter 外部业务/P2P/Task/HLCAboutTask", "branch"=>"红岭改造", "user"=>"", "extra_mails"=>"", "riqi"=>"20170724", "authenticity_token"=>"hkznzjUdP+hzoORQ7PUu9+ZCil0dB+2dJQcfzpMO1VGHmU5bzzEDzMNqTfji2RD9wQ6txgrGFx9kOSO4U0exfg=="}
pid is 8485
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t '外部业务/P2P/Business/HLCCenter 外部业务/P2P/Task/HLCAboutTask' -e qishanqing@dafy.com -E '' -b $'\347\272\242\345\262\255\346\224\271\351\200\240' -T add -d 20170724
+ TEMP=' -u '\'''\'' -t '\''外部业务/P2P/Business/HLCCenter 外部业务/P2P/Task/HLCAboutTask'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''红岭改造'\'' -T '\''add'\'' -d '\''20170724'\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''外部业务/P2P/Business/HLCCenter 外部业务/P2P/Task/HLCAboutTask'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''红岭改造'\'' -T '\''add'\'' -d '\''20170724'\'' --'
++ set -- -u '' -t '外部业务/P2P/Business/HLCCenter 外部业务/P2P/Task/HLCAboutTask' -e qishanqing@dafy.com -E '' -b $'\347\272\242\345\262\255\346\224\271\351\200\240' -T add -d 20170724 --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk='外部业务/P2P/Business/HLCCenter 外部业务/P2P/Task/HLCAboutTask'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\347\272\242\345\262\255\346\224\271\351\200\240'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=20170724
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLCCenter' $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/HLCAboutTask'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 外部业务/P2P/Business/HLCCenter: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLCCenter'
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/HLCAboutTask'
+ trunks='外部业务/P2P/Business/HLCCenter
外部业务/P2P/Task/HLCAboutTask'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLCCenter' ']'
+ '[' -z $'\347\272\242\345\262\255\346\224\271\351\200\240' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170814
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708141651
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLCCenter'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170724-\347\272\242\345\262\255\346\224\271\351\200\240/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLCCenter'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\347\272\242\345\262\255\346\224\271\351\200\240'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708141651-\347\272\242\345\262\255\346\224\271\351\200\240'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\347\272\242\345\262\255\346\224\271\351\200\240/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLCCenter'
++ awk -F / '{print $7}'
+ br=$'20170724-\347\272\242\345\262\255\346\224\271\351\200\240'
+ access=$'20170724-\347\272\242\345\262\255\346\224\271\351\200\240'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLCCenter' $'https://192.168.0.220/svn/tech/Branch/20170724-\347\272\242\345\262\255\346\224\271\351\200\240/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLCCenter' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.8485
+ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\347\272\242\345\262\255\346\224\271\351\200\240/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/HLCCenter'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/HLCCenter'\'', '\''https://192.168.0.220/svn/tech/Branch/20170724-红岭改造/Develop/外部业务/P2P/Business/HLCCenter'\'',now(),'\''qishanqing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/HLCCenter'\'', '\''https://192.168.0.220/svn/tech/Branch/20170724-红岭改造/Develop/外部业务/P2P/Business/HLCCenter'\'',now(),'\''qishanqing'\'');'
+ cat /tmp/cmdb.db.8485
+ rm -f /tmp/cmdb.db.8485
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170724-红岭改造] /svn/authz.conf'
+ read num
+ '[' 1 -eq 0 ']'
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/HLCAboutTask' ']'
+ '[' -z $'\347\272\242\345\262\255\346\224\271\351\200\240' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170814
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708141652
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/HLCAboutTask'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170724-\347\272\242\345\262\255\346\224\271\351\200\240/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/HLCAboutTask'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\347\272\242\345\262\255\346\224\271\351\200\240'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708141652-\347\272\242\345\262\255\346\224\271\351\200\240'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\347\272\242\345\262\255\346\224\271\351\200\240/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/HLCAboutTask'
++ awk -F / '{print $7}'
+ br=$'20170724-\347\272\242\345\262\255\346\224\271\351\200\240'
+ access=$'20170724-\347\272\242\345\262\255\346\224\271\351\200\240'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/HLCAboutTask' $'https://192.168.0.220/svn/tech/Branch/20170724-\347\272\242\345\262\255\346\224\271\351\200\240/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/HLCAboutTask' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.8485
+ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\347\272\242\345\262\255\346\224\271\351\200\240/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/HLCAboutTask'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Task/HLCAboutTask'\'', '\''https://192.168.0.220/svn/tech/Branch/20170724-红岭改造/Develop/外部业务/P2P/Task/HLCAboutTask'\'',now(),'\''qishanqing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Task/HLCAboutTask'\'', '\''https://192.168.0.220/svn/tech/Branch/20170724-红岭改造/Develop/外部业务/P2P/Task/HLCAboutTask'\'',now(),'\''qishanqing'\'');'
+ cat /tmp/cmdb.db.8485
+ rm -f /tmp/cmdb.db.8485
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170724-红岭改造] /svn/authz.conf'
+ read num
+ '[' 1 -eq 0 ']'
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (215.1ms)
  Rendered builder/new.html.erb within layouts/application (215.1ms)
Completed 200 OK in 6349ms (Views: 991.5ms)


Completed 200 OK in 6349ms (Views: 991.5ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-08-14 16:52:05 +0800
Started GET "/merge/new" for 192.168.5.26 at 2017-08-14 16:52:05 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (130.0ms)
  Rendered merge/index.html.erb within layouts/application (130.0ms)
Completed 200 OK in 785ms (Views: 782.8ms)


Completed 200 OK in 785ms (Views: 782.8ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-08-14 16:52:06 +0800
Started GET "/merge/new" for 192.168.5.26 at 2017-08-14 16:52:06 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (18.8ms)
  Rendered merge/index.html.erb within layouts/application (18.8ms)
Completed 200 OK in 245ms (Views: 243.9ms)


Completed 200 OK in 245ms (Views: 243.9ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-14 16:53:03 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-14 16:53:03 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/builder" for 192.168.5.26 at 2017-08-14 16:53:03 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-14 16:53:03 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendered builder/index.html.erb within layouts/application (3.4ms)
  Rendered builder/index.html.erb within layouts/application (3.4ms)
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (1.5ms)
  Rendered builder/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 120ms (Views: 117.1ms)


Completed 200 OK in 120ms (Views: 117.1ms)


Completed 200 OK in 194ms (Views: 192.0ms)


Completed 200 OK in 194ms (Views: 192.0ms)


Started POST "/start" for 192.168.5.26 at 2017-08-14 16:54:08 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-14 16:54:09 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"zhangruiqiang@dafy.com", "types"=>"add", "trunk"=>"分期商城/分期商城3.0/MallTaskBusiness", "branch"=>"亿鑫达协议修改", "user"=>"zhangruiqiang", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"0uSqTWqH0iRHwPV/gOvx81l7RkwPrKUHN9HM7VMzDOfTMQPYkKvuAPcKXNeOx8/5fjdh1xhtX4V27/Cbk3poyA=="}
  Parameters: {"email"=>"zhangruiqiang@dafy.com", "types"=>"add", "trunk"=>"分期商城/分期商城3.0/MallTaskBusiness", "branch"=>"亿鑫达协议修改", "user"=>"zhangruiqiang", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"0uSqTWqH0iRHwPV/gOvx81l7RkwPrKUHN9HM7VMzDOfTMQPYkKvuAPcKXNeOx8/5fjdh1xhtX4V27/Cbk3poyA=="}
pid is 8781
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u zhangruiqiang -t $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness' -e zhangruiqiang@dafy.com -E '' -b $'\344\272\277\351\221\253\350\276\276\345\215\217\350\256\256\344\277\256\346\224\271' -T add -d ''
+ TEMP=' -u '\''zhangruiqiang'\'' -t '\''分期商城/分期商城3.0/MallTaskBusiness'\'' -e '\''zhangruiqiang@dafy.com'\'' -E '\'''\'' -b '\''亿鑫达协议修改'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''zhangruiqiang'\'' -t '\''分期商城/分期商城3.0/MallTaskBusiness'\'' -e '\''zhangruiqiang@dafy.com'\'' -E '\'''\'' -b '\''亿鑫达协议修改'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u zhangruiqiang -t $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness' -e zhangruiqiang@dafy.com -E '' -b $'\344\272\277\351\221\253\350\276\276\345\215\217\350\256\256\344\277\256\346\224\271' -T add -d '' --
+ true
+ case "$1" in
+ user=zhangruiqiang
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ shift 2
+ true
+ case "$1" in
+ email=zhangruiqiang@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\344\272\277\351\221\253\350\276\276\345\215\217\350\256\256\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=zhangruiqiang@dafy.com '
+ SMARTCM_EXTRA_MAIL='zhangruiqiang@dafy.com '
++ zhangruiqiang
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: zhangruiqiang: command not found
++ for x in '$user'
++ echo zhangruiqiang=rw
+ users=zhangruiqiang=rw
++ $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 分期商城/分期商城3.0/MallTaskBusiness: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ trunks=$'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness' ']'
+ '[' -z $'\344\272\277\351\221\253\350\276\276\345\215\217\350\256\256\344\277\256\346\224\271' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170814
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708141654
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170814-\344\272\277\351\221\253\350\276\276\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\344\272\277\351\221\253\350\276\276\345\215\217\350\256\256\344\277\256\346\224\271'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708141654-\344\272\277\351\221\253\350\276\276\345\215\217\350\256\256\344\277\256\346\224\271'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170814-\344\272\277\351\221\253\350\276\276\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ awk -F / '{print $7}'
+ br=$'20170814-\344\272\277\351\221\253\350\276\276\345\215\217\350\256\256\344\277\256\346\224\271'
+ access=$'20170814-\344\272\277\351\221\253\350\276\276\345\215\217\350\256\256\344\277\256\346\224\271'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness' $'https://192.168.0.220/svn/tech/Branch/20170814-\344\272\277\351\221\253\350\276\276\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.8781
+ echo $'https://192.168.0.220/svn/tech/Branch/20170814-\344\272\277\351\221\253\350\276\276\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallTaskBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170814-亿鑫达协议修改/Develop/分期商城/分期商城3.0/MallTaskBusiness'\'',now(),'\''zhangruiqiang'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallTaskBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170814-亿鑫达协议修改/Develop/分期商城/分期商城3.0/MallTaskBusiness'\'',now(),'\''zhangruiqiang'\'');'
+ cat /tmp/cmdb.db.8781
+ rm -f /tmp/cmdb.db.8781
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170814-亿鑫达协议修改] /svn/authz.conf'
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z zhangruiqiang=rw
+ cat
+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (22.1ms)
  Rendered builder/new.html.erb within layouts/application (22.1ms)
Completed 200 OK in 5577ms (Views: 116.3ms)


Completed 200 OK in 5577ms (Views: 116.3ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-15 09:41:04 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-15 09:41:04 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (199.0ms)
  Rendered builder/index.html.erb within layouts/application (199.0ms)
Completed 200 OK in 1295ms (Views: 1211.1ms)


Completed 200 OK in 1295ms (Views: 1211.1ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-15 09:41:06 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-15 09:41:06 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (36.3ms)
  Rendered builder/index.html.erb within layouts/application (36.3ms)
Completed 200 OK in 201ms (Views: 198.6ms)


Completed 200 OK in 201ms (Views: 198.6ms)


Started POST "/start" for 192.168.5.26 at 2017-08-15 09:41:46 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-15 09:41:46 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage", "branch"=>"达分期团购", "user"=>"@Tech-anliguo", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"1hNZD1jacvlen1lkpQ38MuMbQo65gueOk5MPKIUTBCDXxvCaovZO3e5V8MyrIcI4xFdlFa5DHQzSrTNeRVpgDw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage", "branch"=>"达分期团购", "user"=>"@Tech-anliguo", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"1hNZD1jacvlen1lkpQ38MuMbQo65gueOk5MPKIUTBCDXxvCaovZO3e5V8MyrIcI4xFdlFa5DHQzSrTNeRVpgDw=="}
pid is 19062
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u @Tech-anliguo -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage' -e qishanqing@dafy.com -E '' -b $'\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255' -T add -d ''
+ TEMP=' -u '\''@Tech-anliguo'\'' -t '\''前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''达分期团购'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''@Tech-anliguo'\'' -t '\''前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''达分期团购'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u @Tech-anliguo -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage' -e qishanqing@dafy.com -E '' -b $'\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255' -T add -d '' --
+ true
+ case "$1" in
+ user=@Tech-anliguo
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
++ @Tech-anliguo
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: @Tech-anliguo: command not found
++ for x in '$user'
++ echo @Tech-anliguo=rw
+ users=@Tech-anliguo=rw
++ $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ trunks=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage' ']'
+ '[' -z $'\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170815
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708150941
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170815-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708150941-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170815-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
++ awk -F / '{print $7}'
+ br=$'20170815-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255'
+ access=$'20170815-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage' $'https://192.168.0.220/svn/tech/Branch/20170815-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.19062
+ echo $'https://192.168.0.220/svn/tech/Branch/20170815-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'', '\''https://192.168.0.220/svn/tech/Branch/20170815-达分期团购/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'',now(),'\''qishanqing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'', '\''https://192.168.0.220/svn/tech/Branch/20170815-达分期团购/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'',now(),'\''qishanqing'\'');'
+ cat /tmp/cmdb.db.19062
+ rm -f /tmp/cmdb.db.19062
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170815-达分期团购] /svn/authz.conf'
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
+ test -z @Tech-anliguo=rw
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (12.3ms)
  Rendered builder/new.html.erb within layouts/application (12.3ms)
Completed 200 OK in 7947ms (Views: 182.2ms)


Completed 200 OK in 7947ms (Views: 182.2ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-15 09:43:30 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-15 09:43:30 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170810-业务逻辑的数据修改/Develop/基础业务/账户中心/AccToolkit", "task"=>"http://192.168.0.221/zentao/task-view-44011.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"Td6/iUcim4BpCTb1MerO2bFXaAP6ebO1og2eCe0dvZNMCxYcvQ6npNnDn10/xvDTlhtPmO24STfjM6J/LVTZvA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170810-业务逻辑的数据修改/Develop/基础业务/账户中心/AccToolkit", "task"=>"http://192.168.0.221/zentao/task-view-44011.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"Td6/iUcim4BpCTb1MerO2bFXaAP6ebO1og2eCe0dvZNMCxYcvQ6npNnDn10/xvDTlhtPmO24STfjM6J/LVTZvA=="}
pid is 19136
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-44011.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccToolkit' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-44011.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170810-业务逻辑的数据修改/Develop/基础业务/账户中心/AccToolkit'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-44011.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170810-业务逻辑的数据修改/Develop/基础业务/账户中心/AccToolkit'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-44011.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccToolkit' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-44011.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccToolkit'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccToolkit'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170810-业务逻辑的数据修改/Develop/基础业务/账户中心/AccToolkit: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccToolkit'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccToolkit'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccToolkit'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccToolkit'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccToolkit'
+ rm -f /home/qishanqing/tmp/merged/output.19136
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccToolkit'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccToolkit'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccToolkit'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccToolkit'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170810-业务逻辑的数据修改/Develop/基础业务/账户中心/AccToolkit'
+ svn cleanup .
+ grep '^?'
+ xargs rm -rf
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccToolkit'
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccToolkit'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r135829 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccToolkit'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r135786 '
+ '[' '!' -z r135786 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccToolkit@r135786' $'https://192.168.0.220/svn/tech/Branch/20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccToolkit' .
+ st=
+ '[' -z ']'
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccToolkit@r135786' $'https://192.168.0.220/svn/tech/Branch/20170810-\344\270\232\345\212\241\351\200\273\350\276\221\347\232\204\346\225\260\346\215\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccToolkit'
+ echo tc
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44011.html
Merged revision(s) r135786 -r135829   from Branch/20170810-业务逻辑的数据修改/Develop/基础业务/账户中心/AccToolkit' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (48.5ms)
  Rendered merge/new.html.erb within layouts/application (48.5ms)
Completed 200 OK in 24872ms (Views: 207.1ms)


Completed 200 OK in 24872ms (Views: 207.1ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-15 09:44:50 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-15 09:44:50 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (35.0ms)
  Rendered merge/index.html.erb within layouts/application (35.0ms)
Completed 200 OK in 151ms (Views: 121.4ms)


Completed 200 OK in 151ms (Views: 121.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-15 09:44:58 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-15 09:44:58 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170814-逾期信息抓取/Develop/催收/Task/FetchOverdueDataV1", "task"=>"http://192.168.0.221/zentao/task-view-44015.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"vWhhbSxB09ybmSVbcQx6e196s23fYkQzcxZO4/VOOwS8vcj41m3v+CtTjPN/IERxeDaU9sijvrEyKHKVNQdfKw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170814-逾期信息抓取/Develop/催收/Task/FetchOverdueDataV1", "task"=>"http://192.168.0.221/zentao/task-view-44015.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"vWhhbSxB09ybmSVbcQx6e196s23fYkQzcxZO4/VOOwS8vcj41m3v+CtTjPN/IERxeDaU9sijvrEyKHKVNQdfKw=="}
pid is 19212
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-44015.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170814-\351\200\276\346\234\237\344\277\241\346\201\257\346\212\223\345\217\226/Develop/\345\202\254\346\224\266/Task/FetchOverdueDataV1' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-44015.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170814-逾期信息抓取/Develop/催收/Task/FetchOverdueDataV1'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-44015.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170814-逾期信息抓取/Develop/催收/Task/FetchOverdueDataV1'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-44015.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170814-\351\200\276\346\234\237\344\277\241\346\201\257\346\212\223\345\217\226/Develop/\345\202\254\346\224\266/Task/FetchOverdueDataV1' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-44015.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170814-\351\200\276\346\234\237\344\277\241\346\201\257\346\212\223\345\217\226/Develop/\345\202\254\346\224\266/Task/FetchOverdueDataV1'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170814-\351\200\276\346\234\237\344\277\241\346\201\257\346\212\223\345\217\226/Develop/\345\202\254\346\224\266/Task/FetchOverdueDataV1'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170814-逾期信息抓取/Develop/催收/Task/FetchOverdueDataV1: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170814-\351\200\276\346\234\237\344\277\241\346\201\257\346\212\223\345\217\226/Develop/\345\202\254\346\224\266/Task/FetchOverdueDataV1'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170814-\351\200\276\346\234\237\344\277\241\346\201\257\346\212\223\345\217\226/Develop/\345\202\254\346\224\266/Task/FetchOverdueDataV1'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170814-\351\200\276\346\234\237\344\277\241\346\201\257\346\212\223\345\217\226/Develop/\345\202\254\346\224\266/Task/FetchOverdueDataV1'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\202\254\346\224\266/Task/FetchOverdueDataV1'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170814-\351\200\276\346\234\237\344\277\241\346\201\257\346\212\223\345\217\226/Develop/\345\202\254\346\224\266/Task/FetchOverdueDataV1'
+ rm -f /home/qishanqing/tmp/merged/output.19212
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\202\254\346\224\266/Task/FetchOverdueDataV1'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170814-\351\200\276\346\234\237\344\277\241\346\201\257\346\212\223\345\217\226/Develop/\345\202\254\346\224\266/Task/FetchOverdueDataV1'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\202\254\346\224\266/Task/FetchOverdueDataV1'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\202\254\346\224\266/Task/FetchOverdueDataV1'
+ mails-cm -i 'code merged from Branch/20170814-逾期信息抓取/Develop/催收/Task/FetchOverdueDataV1'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170814-\351\200\276\346\234\237\344\277\241\346\201\257\346\212\223\345\217\226/Develop/\345\202\254\346\224\266/Task/FetchOverdueDataV1'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170814-\351\200\276\346\234\237\344\277\241\346\201\257\346\212\223\345\217\226/Develop/\345\202\254\346\224\266/Task/FetchOverdueDataV1'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r137092 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170814-\351\200\276\346\234\237\344\277\241\346\201\257\346\212\223\345\217\226/Develop/\345\202\254\346\224\266/Task/FetchOverdueDataV1'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r136808 '
+ '[' '!' -z r136808 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170814-\351\200\276\346\234\237\344\277\241\346\201\257\346\212\223\345\217\226/Develop/\345\202\254\346\224\266/Task/FetchOverdueDataV1@r136808' $'https://192.168.0.220/svn/tech/Branch/20170814-\351\200\276\346\234\237\344\277\241\346\201\257\346\212\223\345\217\226/Develop/\345\202\254\346\224\266/Task/FetchOverdueDataV1' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170814-\351\200\276\346\234\237\344\277\241\346\201\257\346\212\223\345\217\226/Develop/\345\202\254\346\224\266/Task/FetchOverdueDataV1@r136808' $'https://192.168.0.220/svn/tech/Branch/20170814-\351\200\276\346\234\237\344\277\241\346\201\257\346\212\223\345\217\226/Develop/\345\202\254\346\224\266/Task/FetchOverdueDataV1'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44015.html
Merged revision(s) r136808 -r137092   from Branch/20170814-逾期信息抓取/Develop/催收/Task/FetchOverdueDataV1' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (26.8ms)
  Rendered merge/new.html.erb within layouts/application (26.8ms)
Completed 200 OK in 8165ms (Views: 254.0ms)


Completed 200 OK in 8165ms (Views: 254.0ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-15 09:46:50 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-15 09:46:50 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (20.4ms)
  Rendered merge/index.html.erb within layouts/application (20.4ms)
Completed 200 OK in 171ms (Views: 168.4ms)


Completed 200 OK in 171ms (Views: 168.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-15 09:47:01 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-15 09:47:01 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170704-卡包项目/Develop/生活营销/卡包/CardBagBusiness", "task"=>"http://192.168.0.221/zentao/task-view-43999.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"TdOcZGRV3TSu9TsE6nFoTd0KmnrVQNZulNUjrmPXMPtMBjXxnnnhEB4/kqzkXVZH+ka94cKBLOzV6x/Yo55U1A=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170704-卡包项目/Develop/生活营销/卡包/CardBagBusiness", "task"=>"http://192.168.0.221/zentao/task-view-43999.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"TdOcZGRV3TSu9TsE6nFoTd0KmnrVQNZulNUjrmPXMPtMBjXxnnnhEB4/kqzkXVZH+ka94cKBLOzV6x/Yo55U1A=="}
pid is 19303
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43999.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170704-\345\215\241\345\214\205\351\241\271\347\233\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43999.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170704-卡包项目/Develop/生活营销/卡包/CardBagBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43999.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170704-卡包项目/Develop/生活营销/卡包/CardBagBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43999.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170704-\345\215\241\345\214\205\351\241\271\347\233\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43999.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170704-\345\215\241\345\214\205\351\241\271\347\233\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170704-\345\215\241\345\214\205\351\241\271\347\233\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170704-卡包项目/Develop/生活营销/卡包/CardBagBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170704-\345\215\241\345\214\205\351\241\271\347\233\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170704-\345\215\241\345\214\205\351\241\271\347\233\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170704-\345\215\241\345\214\205\351\241\271\347\233\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170704-\345\215\241\345\214\205\351\241\271\347\233\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.19303
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170704-\345\215\241\345\214\205\351\241\271\347\233\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness'
+ svn_from_tb_merged
+ mails-cm -i 'code merged from Branch/20170704-卡包项目/Develop/生活营销/卡包/CardBagBusiness'
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170704-\345\215\241\345\214\205\351\241\271\347\233\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r136020 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170704-\345\215\241\345\214\205\351\241\271\347\233\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r136779 '
+ '[' '!' -z r136020 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170704-\345\215\241\345\214\205\351\241\271\347\233\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness@r136020' $'https://192.168.0.220/svn/tech/Branch/20170704-\345\215\241\345\214\205\351\241\271\347\233\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170704-\345\215\241\345\214\205\351\241\271\347\233\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness@r136020' $'https://192.168.0.220/svn/tech/Branch/20170704-\345\215\241\345\214\205\351\241\271\347\233\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-43999.html
Merged revision(s) r136020 -r136779   from Branch/20170704-卡包项目/Develop/生活营销/卡包/CardBagBusiness' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (21.0ms)
  Rendered merge/new.html.erb within layouts/application (21.0ms)
Completed 200 OK in 11734ms (Views: 129.7ms)


Completed 200 OK in 11734ms (Views: 129.7ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-15 11:13:23 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-15 11:13:23 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (19.6ms)
  Rendered merge/index.html.erb within layouts/application (19.6ms)
Completed 200 OK in 290ms (Views: 287.7ms)


Completed 200 OK in 290ms (Views: 287.7ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-15 11:18:52 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-15 11:18:52 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.4ms)
  Rendered builder/index.html.erb within layouts/application (3.4ms)
Completed 200 OK in 269ms (Views: 266.2ms)


Completed 200 OK in 269ms (Views: 266.2ms)


Started POST "/start" for 192.168.5.26 at 2017-08-15 11:18:58 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-15 11:18:58 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170814-逾期信息抓取", "branch"=>"20170814-逾期信息抓取", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"YgnGwszLJTsS3haCKcqZNYRFUbmjxJklDVzSfQqU4/Vj3G9XNucZH6IUvyon5qc/owl2IrQFY6dMYu4Lyt2H2g=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170814-逾期信息抓取", "branch"=>"20170814-逾期信息抓取", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"YgnGwszLJTsS3haCKcqZNYRFUbmjxJklDVzSfQqU4/Vj3G9XNucZH6IUvyon5qc/owl2IrQFY6dMYu4Lyt2H2g=="}
pid is 22124
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170814-\351\200\276\346\234\237\344\277\241\346\201\257\346\212\223\345\217\226' -e qishanqing@dafy.com -E '' -b $'20170814-\351\200\276\346\234\237\344\277\241\346\201\257\346\212\223\345\217\226' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170814-逾期信息抓取'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170814-逾期信息抓取'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170814-逾期信息抓取'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170814-逾期信息抓取'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170814-\351\200\276\346\234\237\344\277\241\346\201\257\346\212\223\345\217\226' -e qishanqing@dafy.com -E '' -b $'20170814-\351\200\276\346\234\237\344\277\241\346\201\257\346\212\223\345\217\226' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170814-\351\200\276\346\234\237\344\277\241\346\201\257\346\212\223\345\217\226'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170814-\351\200\276\346\234\237\344\277\241\346\201\257\346\212\223\345\217\226'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170814-\351\200\276\346\234\237\344\277\241\346\201\257\346\212\223\345\217\226'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170814-逾期信息抓取: command not found
++ for y in '$trunk'
++ echo $'20170814-\351\200\276\346\234\237\344\277\241\346\201\257\346\212\223\345\217\226'
+ trunks=$'20170814-\351\200\276\346\234\237\344\277\241\346\201\257\346\212\223\345\217\226'
+ test del = add
+ delbranch
+ '[' -z $'20170814-\351\200\276\346\234\237\344\277\241\346\201\257\346\212\223\345\217\226' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170815
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708151118
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170814-\351\200\276\346\234\237\344\277\241\346\201\257\346\212\223\345\217\226'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170815-20170814-\351\200\276\346\234\237\344\277\241\346\201\257\346\212\223\345\217\226/Develop/20170814-\351\200\276\346\234\237\344\277\241\346\201\257\346\212\223\345\217\226'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170814-\351\200\276\346\234\237\344\277\241\346\201\257\346\212\223\345\217\226'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708151118-20170814-\351\200\276\346\234\237\344\277\241\346\201\257\346\212\223\345\217\226'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170815-20170814-\351\200\276\346\234\237\344\277\241\346\201\257\346\212\223\345\217\226/Develop/20170814-\351\200\276\346\234\237\344\277\241\346\201\257\346\212\223\345\217\226'
++ awk -F / '{print $7}'
+ br=$'20170815-20170814-\351\200\276\346\234\237\344\277\241\346\201\257\346\212\223\345\217\226'
+ access=$'20170815-20170814-\351\200\276\346\234\237\344\277\241\346\201\257\346\212\223\345\217\226'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170814-\351\200\276\346\234\237\344\277\241\346\201\257\346\212\223\345\217\226' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708151118-20170814-\351\200\276\346\234\237\344\277\241\346\201\257\346\212\223\345\217\226' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.22124
+ echo $'https://192.168.0.220/svn/tech/Branch/20170814-\351\200\276\346\234\237\344\277\241\346\201\257\346\212\223\345\217\226'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170814-逾期信息抓取%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170814-逾期信息抓取%'\'';'
+ cat /tmp/cmdb.db.22124
+ rm -f /tmp/cmdb.db.22124
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (25.8ms)
  Rendered builder/new.html.erb within layouts/application (25.8ms)
Completed 200 OK in 1411ms (Views: 58.4ms)


Completed 200 OK in 1411ms (Views: 58.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-15 11:27:32 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-15 11:27:32 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170814-bug紧急修复/Develop/前端业务/口袋助手3.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper", "task"=>"http://192.168.0.221/zentao/task-view-44023.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"WpUaYiSBVbZNN/67GGpelOrBPrtN9Am8Rfpqb7RDLrZbQLP33q1pkv39VxMWRmCezY0ZIFo18z4ExFYZdApKmQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170814-bug紧急修复/Develop/前端业务/口袋助手3.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper", "task"=>"http://192.168.0.221/zentao/task-view-44023.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"WpUaYiSBVbZNN/67GGpelOrBPrtN9Am8Rfpqb7RDLrZbQLP33q1pkv39VxMWRmCezY0ZIFo18z4ExFYZdApKmQ=="}
pid is 22430
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-44023.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170814-bug\347\264\247\346\200\245\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-44023.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170814-bug紧急修复/Develop/前端业务/口袋助手3.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-44023.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170814-bug紧急修复/Develop/前端业务/口袋助手3.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-44023.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170814-bug\347\264\247\346\200\245\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-44023.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170814-bug\347\264\247\346\200\245\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170814-bug\347\264\247\346\200\245\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170814-bug紧急修复/Develop/前端业务/口袋助手3.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170814-bug\347\264\247\346\200\245\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170814-bug\347\264\247\346\200\245\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170814-bug\347\264\247\346\200\245\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170814-bug\347\264\247\346\200\245\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'
+ rm -f /home/qishanqing/tmp/merged/output.22430
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170814-bug\347\264\247\346\200\245\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170814-bug紧急修复/Develop/前端业务/口袋助手3.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ awk -F '|' '{print$1}'
++ head -n 4
++ svn log
++ grep -C 3 $'Branch/20170814-bug\347\264\247\346\200\245\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'
++ grep '^r'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170814-bug\347\264\247\346\200\245\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r137162 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170814-bug\347\264\247\346\200\245\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'
++ awk -F '|' '{print$1}'
++ grep '^r'
++ tail -n 4
+ revision='r137048 '
+ '[' '!' -z r137048 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170814-bug\347\264\247\346\200\245\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper@r137048' $'https://192.168.0.220/svn/tech/Branch/20170814-bug\347\264\247\346\200\245\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170814-bug\347\264\247\346\200\245\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper@r137048' $'https://192.168.0.220/svn/tech/Branch/20170814-bug\347\264\247\346\200\245\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44023.html
Merged revision(s) r137048 -r137162   from Branch/20170814-bug紧急修复/Develop/前端业务/口袋助手3.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (120.0ms)
  Rendered merge/new.html.erb within layouts/application (120.0ms)
Completed 200 OK in 35475ms (Views: 260.4ms)


Completed 200 OK in 35475ms (Views: 260.4ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-15 11:28:11 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-15 11:28:11 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (6.8ms)
  Rendered merge/index.html.erb within layouts/application (6.8ms)
Completed 200 OK in 101ms (Views: 97.9ms)


Completed 200 OK in 101ms (Views: 97.9ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-15 11:28:12 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-15 11:28:12 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (40.2ms)
  Rendered builder/index.html.erb within layouts/application (40.2ms)
Completed 200 OK in 125ms (Views: 123.1ms)


Completed 200 OK in 125ms (Views: 123.1ms)


Started POST "/start" for 192.168.5.26 at 2017-08-15 11:28:49 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-15 11:28:49 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"luxuewei@dafy.com", "types"=>"add", "trunk"=>"催收/Task/FetchOverdueDataV2", "branch"=>"调整云贷逾期抓取策略", "user"=>"luxuewei", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"HyEZ5fcuStOZOeBgvb6usFem4uch63nU/bHMVN5igMEe9LBwDQJ29ynzScizkpC6cOrFfDYqg1a8j/AiHivk7g=="}
  Parameters: {"email"=>"luxuewei@dafy.com", "types"=>"add", "trunk"=>"催收/Task/FetchOverdueDataV2", "branch"=>"调整云贷逾期抓取策略", "user"=>"luxuewei", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"HyEZ5fcuStOZOeBgvb6usFem4uch63nU/bHMVN5igMEe9LBwDQJ29ynzScizkpC6cOrFfDYqg1a8j/AiHivk7g=="}
pid is 22681
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u luxuewei -t $'\345\202\254\346\224\266/Task/FetchOverdueDataV2' -e luxuewei@dafy.com -E '' -b $'\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245' -T add -d ''
+ TEMP=' -u '\''luxuewei'\'' -t '\''催收/Task/FetchOverdueDataV2'\'' -e '\''luxuewei@dafy.com'\'' -E '\'''\'' -b '\''调整云贷逾期抓取策略'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''luxuewei'\'' -t '\''催收/Task/FetchOverdueDataV2'\'' -e '\''luxuewei@dafy.com'\'' -E '\'''\'' -b '\''调整云贷逾期抓取策略'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u luxuewei -t $'\345\202\254\346\224\266/Task/FetchOverdueDataV2' -e luxuewei@dafy.com -E '' -b $'\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245' -T add -d '' --
+ true
+ case "$1" in
+ user=luxuewei
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\202\254\346\224\266/Task/FetchOverdueDataV2'
+ shift 2
+ true
+ case "$1" in
+ email=luxuewei@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=luxuewei@dafy.com '
+ SMARTCM_EXTRA_MAIL='luxuewei@dafy.com '
++ luxuewei
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: luxuewei: command not found
++ for x in '$user'
++ echo luxuewei=rw
+ users=luxuewei=rw
++ $'\345\202\254\346\224\266/Task/FetchOverdueDataV2'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 催收/Task/FetchOverdueDataV2: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\202\254\346\224\266/Task/FetchOverdueDataV2'
+ trunks=$'\345\202\254\346\224\266/Task/FetchOverdueDataV2'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\202\254\346\224\266/Task/FetchOverdueDataV2' ']'
+ '[' -z $'\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170815
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708151128
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\202\254\346\224\266/Task/FetchOverdueDataV2'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170815-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245/Develop/\345\202\254\346\224\266/Task/FetchOverdueDataV2'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708151128-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170815-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245/Develop/\345\202\254\346\224\266/Task/FetchOverdueDataV2'
++ awk -F / '{print $7}'
+ br=$'20170815-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245'
+ access=$'20170815-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\202\254\346\224\266/Task/FetchOverdueDataV2' $'https://192.168.0.220/svn/tech/Branch/20170815-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245/Develop/\345\202\254\346\224\266/Task/FetchOverdueDataV2' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.22681
+ echo $'https://192.168.0.220/svn/tech/Branch/20170815-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245/Develop/\345\202\254\346\224\266/Task/FetchOverdueDataV2'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/催收/Task/FetchOverdueDataV2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170815-调整云贷逾期抓取策略/Develop/催收/Task/FetchOverdueDataV2'\'',now(),'\''luxuewei'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/催收/Task/FetchOverdueDataV2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170815-调整云贷逾期抓取策略/Develop/催收/Task/FetchOverdueDataV2'\'',now(),'\''luxuewei'\'');'
+ cat /tmp/cmdb.db.22681
+ rm -f /tmp/cmdb.db.22681
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170815-调整云贷逾期抓取策略] /svn/authz.conf'
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z luxuewei=rw
+ cat
+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.1ms)
  Rendered builder/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 4772ms (Views: 67.8ms)


Completed 200 OK in 4772ms (Views: 67.8ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-15 11:29:32 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-15 11:29:32 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (16.9ms)
  Rendered builder/index.html.erb within layouts/application (16.9ms)
Completed 200 OK in 207ms (Views: 205.4ms)


Completed 200 OK in 207ms (Views: 205.4ms)


Started POST "/start" for 192.168.5.26 at 2017-08-15 11:29:37 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-15 11:29:37 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170814-bug紧急修复", "branch"=>"20170814-bug紧急修复", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"R6/jdt2Cy9mXUzyKPKsjLv3GJwUaiOngoyxZipk6NwVGekrjJ673/SeZlSIyhx0k2ooAng1JE2LiEmX8WXNTKg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170814-bug紧急修复", "branch"=>"20170814-bug紧急修复", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"R6/jdt2Cy9mXUzyKPKsjLv3GJwUaiOngoyxZipk6NwVGekrjJ673/SeZlSIyhx0k2ooAng1JE2LiEmX8WXNTKg=="}
pid is 22772
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170814-bug\347\264\247\346\200\245\344\277\256\345\244\215' -e qishanqing@dafy.com -E '' -b $'20170814-bug\347\264\247\346\200\245\344\277\256\345\244\215' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170814-bug紧急修复'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170814-bug紧急修复'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170814-bug紧急修复'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170814-bug紧急修复'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170814-bug\347\264\247\346\200\245\344\277\256\345\244\215' -e qishanqing@dafy.com -E '' -b $'20170814-bug\347\264\247\346\200\245\344\277\256\345\244\215' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170814-bug\347\264\247\346\200\245\344\277\256\345\244\215'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170814-bug\347\264\247\346\200\245\344\277\256\345\244\215'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170814-bug\347\264\247\346\200\245\344\277\256\345\244\215'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170814-bug紧急修复: command not found
++ for y in '$trunk'
++ echo $'20170814-bug\347\264\247\346\200\245\344\277\256\345\244\215'
+ trunks=$'20170814-bug\347\264\247\346\200\245\344\277\256\345\244\215'
+ test del = add
+ delbranch
+ '[' -z $'20170814-bug\347\264\247\346\200\245\344\277\256\345\244\215' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170815
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708151129
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170814-bug\347\264\247\346\200\245\344\277\256\345\244\215'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170815-20170814-bug\347\264\247\346\200\245\344\277\256\345\244\215/Develop/20170814-bug\347\264\247\346\200\245\344\277\256\345\244\215'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170814-bug\347\264\247\346\200\245\344\277\256\345\244\215'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708151129-20170814-bug\347\264\247\346\200\245\344\277\256\345\244\215'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170815-20170814-bug\347\264\247\346\200\245\344\277\256\345\244\215/Develop/20170814-bug\347\264\247\346\200\245\344\277\256\345\244\215'
++ awk -F / '{print $7}'
+ br=$'20170815-20170814-bug\347\264\247\346\200\245\344\277\256\345\244\215'
+ access=$'20170815-20170814-bug\347\264\247\346\200\245\344\277\256\345\244\215'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170814-bug\347\264\247\346\200\245\344\277\256\345\244\215' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708151129-20170814-bug\347\264\247\346\200\245\344\277\256\345\244\215' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.22772
+ echo $'https://192.168.0.220/svn/tech/Branch/20170814-bug\347\264\247\346\200\245\344\277\256\345\244\215'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170814-bug紧急修复%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170814-bug紧急修复%'\'';'
+ cat /tmp/cmdb.db.22772
+ rm -f /tmp/cmdb.db.22772
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (101.7ms)
  Rendered builder/new.html.erb within layouts/application (101.7ms)
Completed 200 OK in 870ms (Views: 262.5ms)


Completed 200 OK in 870ms (Views: 262.5ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-15 11:30:14 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-15 11:30:14 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170802-商城新建/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-44022.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"6AdrvZ9/xia1ehtpTyo2XB5WtcB8s28OUntc0YaqeNbp0sIoZVP6AgWwssFBBghWORqSW2tylYwTRWCnRuMc+Q=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170802-商城新建/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-44022.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"6AdrvZ9/xia1ehtpTyo2XB5WtcB8s28OUntc0YaqeNbp0sIoZVP6AgWwssFBBghWORqSW2tylYwTRWCnRuMc+Q=="}
pid is 22820
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-44022.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\237\216\346\226\260\345\273\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-44022.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170802-商城新建/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-44022.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170802-商城新建/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-44022.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\237\216\346\226\260\345\273\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-44022.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\237\216\346\226\260\345\273\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\237\216\346\226\260\345\273\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170802-商城新建/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\237\216\346\226\260\345\273\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\237\216\346\226\260\345\273\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\237\216\346\226\260\345\273\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\237\216\346\226\260\345\273\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ test -e /home/qishanqing/tmp/merged/output.22820
+ echo
+ cat /home/qishanqing/tmp/merged/output.22820
+ rm -f /home/qishanqing/tmp/merged/output.22820
+ rm -f /home/qishanqing/tmp/merged/output.22820
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\345\225\206\345\237\216\346\226\260\345\273\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170802-商城新建/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ head -n 4
++ grep -C 3 $'Branch/20170802-\345\225\206\345\237\216\346\226\260\345\273\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
+ revision='r137290 '
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\237\216\346\226\260\345\273\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
svn: E160013: 找不到路径 “/svn/tech/!svn/rvr/137303/Branch/20170802-%E5%95%86%E5%9F%8E%E6%96%B0%E5%BB%BA/Develop/%E5%89%8D%E7%AB%AF%E4%B8%9A%E5%8A%A1/%E8%BE%BE%E9%A3%9E%E4%BA%91%E8%B4%B7/%E5%AE%A2%E6%88%B7%E7%AB%AF/Mobile/CloudLoanH5Client”
+ head=
+ '[' '!' -z r137290 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\237\216\346\226\260\345\273\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r137290' $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\237\216\346\226\260\345\273\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' .
++ grep -Ei 'conflicts|树冲突'
svn: E160013: 找不到路径 “/svn/tech/!svn/rvr/137303/Branch/20170802-%E5%95%86%E5%9F%8E%E6%96%B0%E5%BB%BA/Develop/%E5%89%8D%E7%AB%AF%E4%B8%9A%E5%8A%A1/%E8%BE%BE%E9%A3%9E%E4%BA%91%E8%B4%B7/%E5%AE%A2%E6%88%B7%E7%AB%AF/Mobile/CloudLoanH5Client”
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\237\216\346\226\260\345\273\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r137290' $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\237\216\346\226\260\345\273\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
svn: E160013: 找不到路径 “/svn/tech/!svn/rvr/137303/Branch/20170802-%E5%95%86%E5%9F%8E%E6%96%B0%E5%BB%BA/Develop/%E5%89%8D%E7%AB%AF%E4%B8%9A%E5%8A%A1/%E8%BE%BE%E9%A3%9E%E4%BA%91%E8%B4%B7/%E5%AE%A2%E6%88%B7%E7%AB%AF/Mobile/CloudLoanH5Client”
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44022.html
Merged revision(s) r137290 -  from Branch/20170802-商城新建/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.1ms)
  Rendered merge/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 39591ms (Views: 182.3ms)


Completed 200 OK in 39591ms (Views: 182.3ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-15 14:42:26 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-15 14:42:26 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (459.4ms)
  Rendered builder/index.html.erb within layouts/application (459.4ms)
Completed 200 OK in 12452ms (Views: 12144.4ms)


Completed 200 OK in 12452ms (Views: 12144.4ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-15 14:42:41 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-15 14:42:41 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (263.9ms)
  Rendered merge/index.html.erb within layouts/application (263.9ms)
Completed 200 OK in 764ms (Views: 670.1ms)


Completed 200 OK in 764ms (Views: 670.1ms)


Started POST "/start" for 192.168.5.26 at 2017-08-15 14:43:08 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-15 14:43:08 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"haochao@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Task/LoanTask", "branch"=>"红岭改造", "user"=>"", "extra_mails"=>"", "riqi"=>"20170724", "authenticity_token"=>"5crtoUcH52y9uTzE8KU0jliNi3t7U8Y/kk+cC6haTzTkH0Q0vSvbSA1zlWz+iQqEf8Gs4GySPL3TcaB9aBMrGw=="}
  Parameters: {"email"=>"haochao@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Task/LoanTask", "branch"=>"红岭改造", "user"=>"", "extra_mails"=>"", "riqi"=>"20170724", "authenticity_token"=>"5crtoUcH52y9uTzE8KU0jliNi3t7U8Y/kk+cC6haTzTkH0Q0vSvbSA1zlWz+iQqEf8Gs4GySPL3TcaB9aBMrGw=="}
pid is 2098
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/LoanTask' -e haochao@dafy.com -E '' -b $'\347\272\242\345\262\255\346\224\271\351\200\240' -T add -d 20170724
+ TEMP=' -u '\'''\'' -t '\''外部业务/P2P/Task/LoanTask'\'' -e '\''haochao@dafy.com'\'' -E '\'''\'' -b '\''红岭改造'\'' -T '\''add'\'' -d '\''20170724'\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''外部业务/P2P/Task/LoanTask'\'' -e '\''haochao@dafy.com'\'' -E '\'''\'' -b '\''红岭改造'\'' -T '\''add'\'' -d '\''20170724'\'' --'
++ set -- -u '' -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/LoanTask' -e haochao@dafy.com -E '' -b $'\347\272\242\345\262\255\346\224\271\351\200\240' -T add -d 20170724 --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/LoanTask'
+ shift 2
+ true
+ case "$1" in
+ email=haochao@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\347\272\242\345\262\255\346\224\271\351\200\240'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=20170724
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=haochao@dafy.com '
+ SMARTCM_EXTRA_MAIL='haochao@dafy.com '
+ users=
++ $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/LoanTask'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 外部业务/P2P/Task/LoanTask: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/LoanTask'
+ trunks=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/LoanTask'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/LoanTask' ']'
+ '[' -z $'\347\272\242\345\262\255\346\224\271\351\200\240' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170815
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708151443
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/LoanTask'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170724-\347\272\242\345\262\255\346\224\271\351\200\240/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/LoanTask'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\347\272\242\345\262\255\346\224\271\351\200\240'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708151443-\347\272\242\345\262\255\346\224\271\351\200\240'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\347\272\242\345\262\255\346\224\271\351\200\240/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/LoanTask'
++ awk -F / '{print $7}'
+ br=$'20170724-\347\272\242\345\262\255\346\224\271\351\200\240'
+ access=$'20170724-\347\272\242\345\262\255\346\224\271\351\200\240'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/LoanTask' $'https://192.168.0.220/svn/tech/Branch/20170724-\347\272\242\345\262\255\346\224\271\351\200\240/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/LoanTask' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.2098
+ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\347\272\242\345\262\255\346\224\271\351\200\240/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/LoanTask'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Task/LoanTask'\'', '\''https://192.168.0.220/svn/tech/Branch/20170724-红岭改造/Develop/外部业务/P2P/Task/LoanTask'\'',now(),'\''haochao'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Task/LoanTask'\'', '\''https://192.168.0.220/svn/tech/Branch/20170724-红岭改造/Develop/外部业务/P2P/Task/LoanTask'\'',now(),'\''haochao'\'');'
+ cat /tmp/cmdb.db.2098
+ rm -f /tmp/cmdb.db.2098
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170724-红岭改造] /svn/authz.conf'
+ read num
+ '[' 1 -eq 0 ']'
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (79.5ms)
  Rendered builder/new.html.erb within layouts/application (79.5ms)
Completed 200 OK in 3838ms (Views: 281.1ms)


Completed 200 OK in 3838ms (Views: 281.1ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-15 17:43:36 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-15 17:43:36 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170810-优惠券领取活动改版/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness https://192.168.0.220/svn/tech/Branch/20170813-领取活动页/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-44092.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"ShwsW8sSV3r6o35XsVYEhYv6UQDKVkAmK63+PV71JABLyYXOMT5rXkpp1/+/ejqPrLZ2m92XuqRqk8JLnrxALw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170810-优惠券领取活动改版/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness https://192.168.0.220/svn/tech/Branch/20170813-领取活动页/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-44092.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"ShwsW8sSV3r6o35XsVYEhYv6UQDKVkAmK63+PV71JABLyYXOMT5rXkpp1/+/ejqPrLZ2m92XuqRqk8JLnrxALw=="}
pid is 12930
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-44092.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170810-优惠券领取活动改版/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness https://192.168.0.220/svn/tech/Branch/20170813-领取活动页/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-44092.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170810-优惠券领取活动改版/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness https://192.168.0.220/svn/tech/Branch/20170813-领取活动页/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-44092.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170810-优惠券领取活动改版/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness https://192.168.0.220/svn/tech/Branch/20170813-领取活动页/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-44092.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170810-优惠券领取活动改版/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness https://192.168.0.220/svn/tech/Branch/20170813-领取活动页/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-44092.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170810-优惠券领取活动改版/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness https://192.168.0.220/svn/tech/Branch/20170813-领取活动页/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170810-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness' $'https://192.168.0.220/svn/tech/Branch/20170813-\351\242\206\345\217\226\346\264\273\345\212\250\351\241\265/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170810-优惠券领取活动改版/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170810-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170813-\351\242\206\345\217\226\346\264\273\345\212\250\351\241\265/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170810-优惠券领取活动改版/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness
https://192.168.0.220/svn/tech/Branch/20170813-领取活动页/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170810-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170810-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.12930
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170810-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170810-优惠券领取活动改版/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness'
+ grep '^?'
+ svn st
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ awk -F '|' '{print$1}'
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170810-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170810-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r137394 '
+ '[' '!' -z ']'
++ grep '^r'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170810-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r135861 '
+ '[' '!' -z r135861 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170810-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness@r135861' $'https://192.168.0.220/svn/tech/Branch/20170810-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170810-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness@r135861' $'https://192.168.0.220/svn/tech/Branch/20170810-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ echo tc
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44092.html
Merged revision(s) r135861 -r137394   from Branch/20170810-优惠券领取活动改版/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170813-\351\242\206\345\217\226\346\264\273\345\212\250\351\241\265/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170813-\351\242\206\345\217\226\346\264\273\345\212\250\351\241\265/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ rm -f /home/qishanqing/tmp/merged/output.12930
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170813-\351\242\206\345\217\226\346\264\273\345\212\250\351\241\265/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn_from_tb_merged
+ mails-cm -i 'code merged from Branch/20170813-领取活动页/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170813-\351\242\206\345\217\226\346\264\273\345\212\250\351\241\265/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ head -n 4
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170813-\351\242\206\345\217\226\346\264\273\345\212\250\351\241\265/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r137320 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170813-\351\242\206\345\217\226\346\264\273\345\212\250\351\241\265/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ tail -n 4
+ revision='r136835 '
+ '[' '!' -z r136835 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170813-\351\242\206\345\217\226\346\264\273\345\212\250\351\241\265/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r136835' $'https://192.168.0.220/svn/tech/Branch/20170813-\351\242\206\345\217\226\346\264\273\345\212\250\351\241\265/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170813-\351\242\206\345\217\226\346\264\273\345\212\250\351\241\265/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r136835' $'https://192.168.0.220/svn/tech/Branch/20170813-\351\242\206\345\217\226\346\264\273\345\212\250\351\241\265/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44092.html
Merged revision(s) r136835 -r137320   from Branch/20170813-领取活动页/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (540.3ms)
  Rendered merge/new.html.erb within layouts/application (540.3ms)
Completed 200 OK in 98546ms (Views: 12262.4ms)


Completed 200 OK in 98546ms (Views: 12262.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-15 17:51:06 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-15 17:51:06 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (18.4ms)
  Rendered builder/index.html.erb within layouts/application (18.4ms)
Completed 200 OK in 1116ms (Views: 1081.7ms)


Completed 200 OK in 1116ms (Views: 1081.7ms)


Started POST "/start" for 192.168.5.26 at 2017-08-15 17:51:11 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-15 17:51:11 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170813-领取活动页", "branch"=>"20170813-领取活动页", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"nGodKUSgR5fRoZT66ztFZYqfTu7MWsVfxHL5IQpKQamdv7S8vox7s2FrPVLlF3tvrdNpddubP92FTMVXygMlhg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170813-领取活动页", "branch"=>"20170813-领取活动页", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"nGodKUSgR5fRoZT66ztFZYqfTu7MWsVfxHL5IQpKQamdv7S8vox7s2FrPVLlF3tvrdNpddubP92FTMVXygMlhg=="}
pid is 14110
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170813-\351\242\206\345\217\226\346\264\273\345\212\250\351\241\265' -e qishanqing@dafy.com -E '' -b $'20170813-\351\242\206\345\217\226\346\264\273\345\212\250\351\241\265' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170813-领取活动页'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170813-领取活动页'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170813-领取活动页'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170813-领取活动页'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170813-\351\242\206\345\217\226\346\264\273\345\212\250\351\241\265' -e qishanqing@dafy.com -E '' -b $'20170813-\351\242\206\345\217\226\346\264\273\345\212\250\351\241\265' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170813-\351\242\206\345\217\226\346\264\273\345\212\250\351\241\265'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170813-\351\242\206\345\217\226\346\264\273\345\212\250\351\241\265'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170813-\351\242\206\345\217\226\346\264\273\345\212\250\351\241\265'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170813-领取活动页: command not found
++ for y in '$trunk'
++ echo $'20170813-\351\242\206\345\217\226\346\264\273\345\212\250\351\241\265'
+ trunks=$'20170813-\351\242\206\345\217\226\346\264\273\345\212\250\351\241\265'
+ test del = add
+ delbranch
+ '[' -z $'20170813-\351\242\206\345\217\226\346\264\273\345\212\250\351\241\265' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170815
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708151751
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170813-\351\242\206\345\217\226\346\264\273\345\212\250\351\241\265'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170815-20170813-\351\242\206\345\217\226\346\264\273\345\212\250\351\241\265/Develop/20170813-\351\242\206\345\217\226\346\264\273\345\212\250\351\241\265'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170813-\351\242\206\345\217\226\346\264\273\345\212\250\351\241\265'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708151751-20170813-\351\242\206\345\217\226\346\264\273\345\212\250\351\241\265'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170815-20170813-\351\242\206\345\217\226\346\264\273\345\212\250\351\241\265/Develop/20170813-\351\242\206\345\217\226\346\264\273\345\212\250\351\241\265'
++ awk -F / '{print $7}'
+ br=$'20170815-20170813-\351\242\206\345\217\226\346\264\273\345\212\250\351\241\265'
+ access=$'20170815-20170813-\351\242\206\345\217\226\346\264\273\345\212\250\351\241\265'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170813-\351\242\206\345\217\226\346\264\273\345\212\250\351\241\265' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708151751-20170813-\351\242\206\345\217\226\346\264\273\345\212\250\351\241\265' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.14110
+ echo $'https://192.168.0.220/svn/tech/Branch/20170813-\351\242\206\345\217\226\346\264\273\345\212\250\351\241\265'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170813-领取活动页%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170813-领取活动页%'\'';'
+ cat /tmp/cmdb.db.14110
+ rm -f /tmp/cmdb.db.14110
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 2020ms (Views: 124.3ms)


Completed 200 OK in 2020ms (Views: 124.3ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-15 17:51:46 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-15 17:51:46 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (16.0ms)
  Rendered builder/index.html.erb within layouts/application (16.0ms)
Completed 200 OK in 136ms (Views: 132.9ms)


Completed 200 OK in 136ms (Views: 132.9ms)


Started POST "/start" for 192.168.5.26 at 2017-08-15 17:51:50 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-15 17:51:50 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170810-优惠券领取活动改版", "branch"=>"20170810-优惠券领取活动改版", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"jJzxVS5aISFS4tb2ouIGv+BcFF1J/SKxI0fYfcLgQCuNSVjA1HYdBeIof16szji1xxAzxl482DNieeQLAqkkBA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170810-优惠券领取活动改版", "branch"=>"20170810-优惠券领取活动改版", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"jJzxVS5aISFS4tb2ouIGv+BcFF1J/SKxI0fYfcLgQCuNSVjA1HYdBeIof16szji1xxAzxl482DNieeQLAqkkBA=="}
pid is 14138
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170810-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250\346\224\271\347\211\210' -e qishanqing@dafy.com -E '' -b $'20170810-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250\346\224\271\347\211\210' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170810-优惠券领取活动改版'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170810-优惠券领取活动改版'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170810-优惠券领取活动改版'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170810-优惠券领取活动改版'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170810-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250\346\224\271\347\211\210' -e qishanqing@dafy.com -E '' -b $'20170810-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250\346\224\271\347\211\210' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170810-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250\346\224\271\347\211\210'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170810-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250\346\224\271\347\211\210'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170810-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250\346\224\271\347\211\210'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170810-优惠券领取活动改版: command not found
++ for y in '$trunk'
++ echo $'20170810-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250\346\224\271\347\211\210'
+ trunks=$'20170810-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250\346\224\271\347\211\210'
+ test del = add
+ delbranch
+ '[' -z $'20170810-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250\346\224\271\347\211\210' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170815
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708151751
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170810-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250\346\224\271\347\211\210'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170815-20170810-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250\346\224\271\347\211\210/Develop/20170810-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250\346\224\271\347\211\210'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170810-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250\346\224\271\347\211\210'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708151751-20170810-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250\346\224\271\347\211\210'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170815-20170810-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250\346\224\271\347\211\210/Develop/20170810-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250\346\224\271\347\211\210'
++ awk -F / '{print $7}'
+ br=$'20170815-20170810-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250\346\224\271\347\211\210'
+ access=$'20170815-20170810-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250\346\224\271\347\211\210'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170810-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250\346\224\271\347\211\210' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708151751-20170810-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250\346\224\271\347\211\210' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.14138
+ echo $'https://192.168.0.220/svn/tech/Branch/20170810-\344\274\230\346\203\240\345\210\270\351\242\206\345\217\226\346\264\273\345\212\250\346\224\271\347\211\210'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170810-优惠券领取活动改版%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170810-优惠券领取活动改版%'\'';'
+ cat /tmp/cmdb.db.14138
+ rm -f /tmp/cmdb.db.14138
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (51.3ms)
  Rendered builder/new.html.erb within layouts/application (51.3ms)
Completed 200 OK in 934ms (Views: 427.5ms)


Completed 200 OK in 934ms (Views: 427.5ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-16 10:00:49 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-16 10:00:49 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (64.6ms)
  Rendered merge/index.html.erb within layouts/application (64.6ms)
Completed 200 OK in 837ms (Views: 764.6ms)


Completed 200 OK in 837ms (Views: 764.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-16 10:00:59 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-16 10:00:59 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20160629-消息推送/Develop/平台架构/通知/NoticeBusiness", "task"=>"http://192.168.0.221/zentao/task-view-44099.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"eEUQEyYObITNInFRFs0l+GSb47K4UU6QW3MyxYbN8QZ5kLmG3CJQoH3o2PkY4RvyQ9fEKa+QtBIaTQ6zRoSVKQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20160629-消息推送/Develop/平台架构/通知/NoticeBusiness", "task"=>"http://192.168.0.221/zentao/task-view-44099.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"eEUQEyYObITNInFRFs0l+GSb47K4UU6QW3MyxYbN8QZ5kLmG3CJQoH3o2PkY4RvyQ9fEKa+QtBIaTQ6zRoSVKQ=="}
pid is 20128
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-44099.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-44099.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20160629-消息推送/Develop/平台架构/通知/NoticeBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-44099.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20160629-消息推送/Develop/平台架构/通知/NoticeBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-44099.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-44099.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20160629-消息推送/Develop/平台架构/通知/NoticeBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.20128
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeBusiness'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20160629-消息推送/Develop/平台架构/通知/NoticeBusiness'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeBusiness'
++ awk -F '|' '{print$1}'
+ revision='r134760 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r137491 '
+ '[' '!' -z r134760 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeBusiness@r134760' $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeBusiness@r134760' $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44099.html
Merged revision(s) r134760 -r137491   from Branch/20160629-消息推送/Develop/平台架构/通知/NoticeBusiness' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.1ms)
  Rendered merge/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 25654ms (Views: 64.5ms)


Completed 200 OK in 25654ms (Views: 64.5ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-16 10:02:18 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-16 10:02:18 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (25.4ms)
  Rendered merge/index.html.erb within layouts/application (25.4ms)
Completed 200 OK in 294ms (Views: 271.8ms)


Completed 200 OK in 294ms (Views: 271.8ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-16 10:02:33 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-16 10:02:33 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170801-埋点功能开发/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-44089.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"a37j6WtTxAyAkOp7kkSmdqman+16WuI0EhUAenrvzgxqq0p8kX/4KDBaQ9OcaJh8jta4dm2bGLZTKzwMuqaqIw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170801-埋点功能开发/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-44089.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"a37j6WtTxAyAkOp7kkSmdqman+16WuI0EhUAenrvzgxqq0p8kX/4KDBaQ9OcaJh8jta4dm2bGLZTKzwMuqaqIw=="}
pid is 20225
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-44089.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170801-\345\237\213\347\202\271\345\212\237\350\203\275\345\274\200\345\217\221/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-44089.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170801-埋点功能开发/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-44089.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170801-埋点功能开发/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-44089.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170801-\345\237\213\347\202\271\345\212\237\350\203\275\345\274\200\345\217\221/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-44089.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170801-\345\237\213\347\202\271\345\212\237\350\203\275\345\274\200\345\217\221/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170801-\345\237\213\347\202\271\345\212\237\350\203\275\345\274\200\345\217\221/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170801-埋点功能开发/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\345\237\213\347\202\271\345\212\237\350\203\275\345\274\200\345\217\221/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170801-\345\237\213\347\202\271\345\212\237\350\203\275\345\274\200\345\217\221/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\345\237\213\347\202\271\345\212\237\350\203\275\345\274\200\345\217\221/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170801-\345\237\213\347\202\271\345\212\237\350\203\275\345\274\200\345\217\221/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ rm -f /home/qishanqing/tmp/merged/output.20225
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170801-\345\237\213\347\202\271\345\212\237\350\203\275\345\274\200\345\217\221/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170801-埋点功能开发/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170801-\345\237\213\347\202\271\345\212\237\350\203\275\345\274\200\345\217\221/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ head -n 4
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170801-\345\237\213\347\202\271\345\212\237\350\203\275\345\274\200\345\217\221/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r137315 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170801-\345\237\213\347\202\271\345\212\237\350\203\275\345\274\200\345\217\221/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r132814 '
+ '[' '!' -z r132814 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170801-\345\237\213\347\202\271\345\212\237\350\203\275\345\274\200\345\217\221/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r132814' $'https://192.168.0.220/svn/tech/Branch/20170801-\345\237\213\347\202\271\345\212\237\350\203\275\345\274\200\345\217\221/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' .
+ st='  树冲突：8'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2328' ']'
+ die 'Svn merged conflicts the r132814 -r137315  from Branch/20170801-埋点功能开发/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r132814 -r137315  from Branch/20170801-埋点功能开发/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ test -e /home/qishanqing/tmp/merged/output.20225
+ rm -f /home/qishanqing/tmp/merged/output.20225
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44089.html
Merged revision(s) r132814 -r137315   from Branch/20170801-埋点功能开发/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.7ms)
  Rendered merge/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 39180ms (Views: 246.2ms)


Completed 200 OK in 39180ms (Views: 246.2ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-16 10:05:42 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-16 10:05:42 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (15.2ms)
  Rendered merge/index.html.erb within layouts/application (15.2ms)
Completed 200 OK in 306ms (Views: 302.0ms)


Completed 200 OK in 306ms (Views: 302.0ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-16 10:06:18 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-16 10:06:18 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170803-借款申请管理/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170801-借款申请管理/Develop/外部业务/P2P/Business/AntiFraudBusiness https://192.168.0.220/svn/tech/Branch/20170801-借款申请管理/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170801-借款申请管理/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170801-借款申请管理/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1", "task"=>"http://192.168.0.221/zentao/task-view-44095.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"/rgSe/GbXBWlaed0vzyz1HeWTA0x4LwAeWS2IlIZWU//bbvuC7dgMRWjTtyxEI3eUNprliYhRoI4WopUklA9YA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170803-借款申请管理/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170801-借款申请管理/Develop/外部业务/P2P/Business/AntiFraudBusiness https://192.168.0.220/svn/tech/Branch/20170801-借款申请管理/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170801-借款申请管理/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170801-借款申请管理/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1", "task"=>"http://192.168.0.221/zentao/task-view-44095.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"/rgSe/GbXBWlaed0vzyz1HeWTA0x4LwAeWS2IlIZWU//bbvuC7dgMRWjTtyxEI3eUNprliYhRoI4WopUklA9YA=="}
pid is 20671
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-44095.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170803-借款申请管理/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170801-借款申请管理/Develop/外部业务/P2P/Business/AntiFraudBusiness https://192.168.0.220/svn/tech/Branch/20170801-借款申请管理/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170801-借款申请管理/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170801-借款申请管理/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-44095.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170803-借款申请管理/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170801-借款申请管理/Develop/外部业务/P2P/Business/AntiFraudBusiness https://192.168.0.220/svn/tech/Branch/20170801-借款申请管理/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170801-借款申请管理/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170801-借款申请管理/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-44095.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170803-借款申请管理/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170801-借款申请管理/Develop/外部业务/P2P/Business/AntiFraudBusiness https://192.168.0.220/svn/tech/Branch/20170801-借款申请管理/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170801-借款申请管理/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170801-借款申请管理/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-44095.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170803-借款申请管理/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170801-借款申请管理/Develop/外部业务/P2P/Business/AntiFraudBusiness https://192.168.0.220/svn/tech/Branch/20170801-借款申请管理/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170801-借款申请管理/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170801-借款申请管理/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-44095.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170803-借款申请管理/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170801-借款申请管理/Develop/外部业务/P2P/Business/AntiFraudBusiness https://192.168.0.220/svn/tech/Branch/20170801-借款申请管理/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170801-借款申请管理/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170801-借款申请管理/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170803-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/AntiFraudBusiness' $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness' $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170803-借款申请管理/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170803-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/AntiFraudBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170803-借款申请管理/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client
https://192.168.0.220/svn/tech/Branch/20170801-借款申请管理/Develop/外部业务/P2P/Business/AntiFraudBusiness
https://192.168.0.220/svn/tech/Branch/20170801-借款申请管理/Develop/外部业务/P2P/Business/BorrowBusiness2
https://192.168.0.220/svn/tech/Branch/20170801-借款申请管理/Develop/外部业务/P2P/Business/BossBusiness
https://192.168.0.220/svn/tech/Branch/20170801-借款申请管理/Develop/外部业务/P2P/P2PManager
https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite
https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170803-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170803-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ rm -f /home/qishanqing/tmp/merged/output.20671
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170803-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170803-借款申请管理/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170803-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170803-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r137689 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170803-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r133755 '
+ '[' '!' -z r133755 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170803-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r133755' $'https://192.168.0.220/svn/tech/Branch/20170803-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：18'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\23218' ']'
+ die 'Svn merged conflicts the r133755 -r137689  from Branch/20170803-借款申请管理/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ echo 'Svn merged conflicts the r133755 -r137689  from Branch/20170803-借款申请管理/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.20671
+ rm -f /home/qishanqing/tmp/merged/output.20671
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44095.html
Merged revision(s) r133755 -r137689   from Branch/20170803-借款申请管理/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/AntiFraudBusiness'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/AntiFraudBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/AntiFraudBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.20671
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/AntiFraudBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/AntiFraudBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/AntiFraudBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/AntiFraudBusiness'
+ mails-cm -i 'code merged from Branch/20170801-借款申请管理/Develop/外部业务/P2P/Business/AntiFraudBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/AntiFraudBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/AntiFraudBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r137018 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/AntiFraudBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r132979 '
+ '[' '!' -z r132979 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/AntiFraudBusiness@r132979' $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/AntiFraudBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：1'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2321' ']'
+ die 'Svn merged conflicts the r132979 -r137018  from Branch/20170801-借款申请管理/Develop/外部业务/P2P/Business/AntiFraudBusiness'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r132979 -r137018  from Branch/20170801-借款申请管理/Develop/外部业务/P2P/Business/AntiFraudBusiness'
+ test -e /home/qishanqing/tmp/merged/output.20671
+ rm -f /home/qishanqing/tmp/merged/output.20671
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44095.html
Merged revision(s) r132979 -r137018   from Branch/20170801-借款申请管理/Develop/外部业务/P2P/Business/AntiFraudBusiness' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ rm -f /home/qishanqing/tmp/merged/output.20671
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170801-借款申请管理/Develop/外部业务/P2P/Business/BorrowBusiness2'
+ xargs rm -rf
+ svn st
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r137412 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r132978 '
+ '[' '!' -z r132978 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2@r132978' $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：2'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2322' ']'
+ die 'Svn merged conflicts the r132978 -r137412  from Branch/20170801-借款申请管理/Develop/外部业务/P2P/Business/BorrowBusiness2'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r132978 -r137412  from Branch/20170801-借款申请管理/Develop/外部业务/P2P/Business/BorrowBusiness2'
+ test -e /home/qishanqing/tmp/merged/output.20671
+ rm -f /home/qishanqing/tmp/merged/output.20671
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44095.html
Merged revision(s) r132978 -r137412   from Branch/20170801-借款申请管理/Develop/外部业务/P2P/Business/BorrowBusiness2' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.20671
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ mails-cm -i 'code merged from Branch/20170801-借款申请管理/Develop/外部业务/P2P/Business/BossBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r137333 '
+ '[' '!' -z ']'
++ grep '^r'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r133145 '
+ '[' '!' -z r133145 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness@r133145' $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness@r133145' $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44095.html
Merged revision(s) r133145 -r137333   from Branch/20170801-借款申请管理/Develop/外部业务/P2P/Business/BossBusiness' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ rm -f /home/qishanqing/tmp/merged/output.20671
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170801-借款申请管理/Develop/外部业务/P2P/P2PManager'
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ head -n 4
++ awk -F '|' '{print$1}'
+ revision=
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ head='r137541 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r133143 '
+ '[' '!' -z r133143 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager@r133143' $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：4'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2324' ']'
+ die 'Svn merged conflicts the r133143 -r137541  from Branch/20170801-借款申请管理/Develop/外部业务/P2P/P2PManager'
+ echo 'Svn merged conflicts the r133143 -r137541  from Branch/20170801-借款申请管理/Develop/外部业务/P2P/P2PManager'
+ test -e /home/qishanqing/tmp/merged/output.20671
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.20671
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44095.html
Merged revision(s) r133143 -r137541   from Branch/20170801-借款申请管理/Develop/外部业务/P2P/P2PManager' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ rm -f /home/qishanqing/tmp/merged/output.20671
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ head -n 4
++ awk -F '|' '{print$1}'
+ revision='r131827 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r137540 '
+ '[' '!' -z r131827 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r131827' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r131827' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44095.html
Merged revision(s) r131827 -r137540   from Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite' --username qishanqing --password 372233
svn: E155015: 提交失败(细节如下): 
svn: E155015: 提交终止: “/home/qishanqing/workspace/code/Trunk/老系统/新达飞贷/网站中心/BossSite/config/Permission.xml” 处于冲突状态
+ die 'Svn merged conflicts the reasons for failure are as follows'
+ echo 'Svn merged conflicts the reasons for failure are as follows'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.20671
+ echo
+ cat /home/qishanqing/tmp/merged/output.20671
+ rm -f /home/qishanqing/tmp/merged/output.20671
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ rm -f /home/qishanqing/tmp/merged/output.20671
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
++ awk -F '|' '{print$1}'
+ revision='r134359 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r137542 '
+ '[' '!' -z r134359 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1@r134359' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1@r134359' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44095.html
Merged revision(s) r134359 -r137542   from Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1' --username qishanqing --password 372233
svn: E155015: 提交失败(细节如下): 
svn: E155015: 提交终止: “/home/qishanqing/workspace/code/Trunk/基础业务/用户中心/DFLib1/src/Navigator.xml” 处于冲突状态
+ die 'Svn merged conflicts the reasons for failure are as follows'
+ echo 'Svn merged conflicts the reasons for failure are as follows'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.20671
+ echo
+ cat /home/qishanqing/tmp/merged/output.20671
+ rm -f /home/qishanqing/tmp/merged/output.20671
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.5ms)
  Rendered merge/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 252212ms (Views: 2607.7ms)


Completed 200 OK in 252212ms (Views: 2607.7ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-16 10:10:38 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-16 10:10:38 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.4ms)
  Rendered merge/index.html.erb within layouts/application (4.4ms)
Completed 200 OK in 721ms (Views: 718.9ms)


Completed 200 OK in 721ms (Views: 718.9ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-16 10:10:47 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-16 10:10:47 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/zhihui_33", "task"=>"http://192.168.0.221/zentao/task-view-44130.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"m/z1vHmCho05+mSCVrbkKB7HoLfK60eaQhAyE21KbCWaKVwpg666qYkwzSpYmtoiOYuHLN0qvRgDLg5lrQMICg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/zhihui_33", "task"=>"http://192.168.0.221/zentao/task-view-44130.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"m/z1vHmCho05+mSCVrbkKB7HoLfK60eaQhAyE21KbCWaKVwpg666qYkwzSpYmtoiOYuHLN0qvRgDLg5lrQMICg=="}
pid is 21309
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-44130.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/zhihui_33' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-44130.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/zhihui_33'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-44130.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/zhihui_33'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-44130.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/zhihui_33' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-44130.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/zhihui_33'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/zhihui_33'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/zhihui_33: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/zhihui_33'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/zhihui_33'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/zhihui_33'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/zhihui_33'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/zhihui_33'
+ rm -f /home/qishanqing/tmp/merged/output.21309
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/zhihui_33'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/zhihui_33'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/zhihui_33'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/zhihui_33'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/zhihui_33'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/zhihui_33'
++ head -n 4
++ awk -F '|' '{print$1}'
+ revision='r133879 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/zhihui_33'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r137335 '
+ '[' '!' -z r133879 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/zhihui_33@r133879' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/zhihui_33' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/zhihui_33@r133879' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/zhihui_33'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44130.html
Merged revision(s) r133879 -r137335   from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/zhihui_33' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (0.9ms)
  Rendered merge/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 20856ms (Views: 92.2ms)


Completed 200 OK in 20856ms (Views: 92.2ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-16 10:11:21 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-16 10:11:21 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.9ms)
  Rendered builder/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 108ms (Views: 70.9ms)


Completed 200 OK in 108ms (Views: 70.9ms)


Started POST "/start" for 192.168.5.26 at 2017-08-16 10:11:25 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-16 10:11:25 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170801-埋点功能开发", "branch"=>"20170801-埋点功能开发", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"m5VJnzVf+/y4autblLjhDZYMpdnPoi8Y74c950TiEYqaQOAKz3PH2AigQvOalN8HsUCCQthj1ZquuQGRhKt1pQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170801-埋点功能开发", "branch"=>"20170801-埋点功能开发", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"m5VJnzVf+/y4autblLjhDZYMpdnPoi8Y74c950TiEYqaQOAKz3PH2AigQvOalN8HsUCCQthj1ZquuQGRhKt1pQ=="}
pid is 21372
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170801-\345\237\213\347\202\271\345\212\237\350\203\275\345\274\200\345\217\221' -e qishanqing@dafy.com -E '' -b $'20170801-\345\237\213\347\202\271\345\212\237\350\203\275\345\274\200\345\217\221' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170801-埋点功能开发'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170801-埋点功能开发'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170801-埋点功能开发'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170801-埋点功能开发'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170801-\345\237\213\347\202\271\345\212\237\350\203\275\345\274\200\345\217\221' -e qishanqing@dafy.com -E '' -b $'20170801-\345\237\213\347\202\271\345\212\237\350\203\275\345\274\200\345\217\221' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170801-\345\237\213\347\202\271\345\212\237\350\203\275\345\274\200\345\217\221'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170801-\345\237\213\347\202\271\345\212\237\350\203\275\345\274\200\345\217\221'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170801-\345\237\213\347\202\271\345\212\237\350\203\275\345\274\200\345\217\221'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170801-埋点功能开发: command not found
++ for y in '$trunk'
++ echo $'20170801-\345\237\213\347\202\271\345\212\237\350\203\275\345\274\200\345\217\221'
+ trunks=$'20170801-\345\237\213\347\202\271\345\212\237\350\203\275\345\274\200\345\217\221'
+ test del = add
+ delbranch
+ '[' -z $'20170801-\345\237\213\347\202\271\345\212\237\350\203\275\345\274\200\345\217\221' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170816
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708161011
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170801-\345\237\213\347\202\271\345\212\237\350\203\275\345\274\200\345\217\221'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170816-20170801-\345\237\213\347\202\271\345\212\237\350\203\275\345\274\200\345\217\221/Develop/20170801-\345\237\213\347\202\271\345\212\237\350\203\275\345\274\200\345\217\221'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170801-\345\237\213\347\202\271\345\212\237\350\203\275\345\274\200\345\217\221'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708161011-20170801-\345\237\213\347\202\271\345\212\237\350\203\275\345\274\200\345\217\221'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170816-20170801-\345\237\213\347\202\271\345\212\237\350\203\275\345\274\200\345\217\221/Develop/20170801-\345\237\213\347\202\271\345\212\237\350\203\275\345\274\200\345\217\221'
++ awk -F / '{print $7}'
+ br=$'20170816-20170801-\345\237\213\347\202\271\345\212\237\350\203\275\345\274\200\345\217\221'
+ access=$'20170816-20170801-\345\237\213\347\202\271\345\212\237\350\203\275\345\274\200\345\217\221'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170801-\345\237\213\347\202\271\345\212\237\350\203\275\345\274\200\345\217\221' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708161011-20170801-\345\237\213\347\202\271\345\212\237\350\203\275\345\274\200\345\217\221' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.21372
+ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\345\237\213\347\202\271\345\212\237\350\203\275\345\274\200\345\217\221'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170801-埋点功能开发%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170801-埋点功能开发%'\'';'
+ cat /tmp/cmdb.db.21372
+ rm -f /tmp/cmdb.db.21372
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.1ms)
  Rendered builder/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 7076ms (Views: 77.2ms)


Completed 200 OK in 7076ms (Views: 77.2ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-16 10:13:09 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-16 10:13:09 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.0ms)
  Rendered merge/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 355ms (Views: 351.0ms)


Completed 200 OK in 355ms (Views: 351.0ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-16 10:13:21 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-16 10:13:21 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageModule/StageBossService", "task"=>"http://192.168.0.221/zentao/task-view-44086.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"nSUmBfP32H/hIPwQjV8TB7p86MRm8Pqa32fV5kB9kPWc8I+QCdvkW1HqVbiDcy0NnTDPX3ExABieWemQgDT02g=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageModule/StageBossService", "task"=>"http://192.168.0.221/zentao/task-view-44086.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"nSUmBfP32H/hIPwQjV8TB7p86MRm8Pqa32fV5kB9kPWc8I+QCdvkW1HqVbiDcy0NnTDPX3ExABieWemQgDT02g=="}
pid is 21455
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-44086.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageModule/StageBossService' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-44086.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageModule/StageBossService'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-44086.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageModule/StageBossService'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-44086.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageModule/StageBossService' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-44086.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageModule/StageBossService'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager' $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageManager: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageManager
https://192.168.0.220/svn/tech/Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageModule/StageBossService'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ rm -f /home/qishanqing/tmp/merged/output.21455
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageManager'
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r137698 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r130433 '
+ '[' '!' -z r130433 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager@r130433' $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：18'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\23218' ']'
+ die 'Svn merged conflicts the r130433 -r137698  from Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageManager'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r130433 -r137698  from Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageManager'
+ test -e /home/qishanqing/tmp/merged/output.21455
+ rm -f /home/qishanqing/tmp/merged/output.21455
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44086.html
Merged revision(s) r130433 -r137698   from Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageManager' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
+ rm -f /home/qishanqing/tmp/merged/output.21455
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageModule/StageBossService'
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
++ head -n 4
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r137561 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
++ tail -n 4
+ revision='r130434 '
+ '[' '!' -z r130434 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService@r130434' $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService@r130434' $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44086.html
Merged revision(s) r130434 -r137561   from Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageModule/StageBossService' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.1ms)
  Rendered merge/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 39109ms (Views: 67.7ms)


Completed 200 OK in 39109ms (Views: 67.7ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-16 10:14:54 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-16 10:14:54 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.8ms)
  Rendered builder/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 129ms (Views: 126.2ms)


Completed 200 OK in 129ms (Views: 126.2ms)


Started POST "/start" for 192.168.5.26 at 2017-08-16 10:14:58 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-16 10:14:58 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170803-借款申请管理", "branch"=>"20170803-借款申请管理", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"yNjqE+8ch2IHNLewF2+YqgqwLylIADc0fFqrfwV22eTJDUOGFTC7Rrf+HhgZQ6agLfwIsl/BzbY9ZJcJxT+9yw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170803-借款申请管理", "branch"=>"20170803-借款申请管理", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"yNjqE+8ch2IHNLewF2+YqgqwLylIADc0fFqrfwV22eTJDUOGFTC7Rrf+HhgZQ6agLfwIsl/BzbY9ZJcJxT+9yw=="}
pid is 21567
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170803-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206' -e qishanqing@dafy.com -E '' -b $'20170803-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170803-借款申请管理'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170803-借款申请管理'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170803-借款申请管理'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170803-借款申请管理'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170803-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206' -e qishanqing@dafy.com -E '' -b $'20170803-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170803-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170803-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170803-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170803-借款申请管理: command not found
++ for y in '$trunk'
++ echo $'20170803-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206'
+ trunks=$'20170803-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206'
+ test del = add
+ delbranch
+ '[' -z $'20170803-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170816
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708161014
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170803-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170816-20170803-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/20170803-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170803-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708161014-20170803-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170816-20170803-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/20170803-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206'
++ awk -F / '{print $7}'
+ br=$'20170816-20170803-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206'
+ access=$'20170816-20170803-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170803-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708161014-20170803-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.21567
+ echo $'https://192.168.0.220/svn/tech/Branch/20170803-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170803-借款申请管理%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170803-借款申请管理%'\'';'
+ cat /tmp/cmdb.db.21567
+ rm -f /tmp/cmdb.db.21567
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.3ms)
  Rendered builder/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 748ms (Views: 313.9ms)


Completed 200 OK in 748ms (Views: 313.9ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-16 10:24:08 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-16 10:24:08 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.6ms)
  Rendered merge/index.html.erb within layouts/application (3.6ms)
Completed 200 OK in 1141ms (Views: 1138.1ms)


Completed 200 OK in 1141ms (Views: 1138.1ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-16 10:24:16 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-16 10:24:16 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170815-调整云贷逾期抓取策略/Develop/催收/Task/FetchOverdueDataV2", "task"=>"http://192.168.0.221/zentao/task-view-44127.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"oww+bxhxvyPucCFnomq2bKk1pRFHzv3VF/z0ZgFewumi2Zf64l2DB166iM+sRohmjnmCilAPB1dWwsgQwRemxg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170815-调整云贷逾期抓取策略/Develop/催收/Task/FetchOverdueDataV2", "task"=>"http://192.168.0.221/zentao/task-view-44127.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"oww+bxhxvyPucCFnomq2bKk1pRFHzv3VF/z0ZgFewumi2Zf64l2DB166iM+sRohmjnmCilAPB1dWwsgQwRemxg=="}
pid is 21861
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-44127.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170815-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245/Develop/\345\202\254\346\224\266/Task/FetchOverdueDataV2' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-44127.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170815-调整云贷逾期抓取策略/Develop/催收/Task/FetchOverdueDataV2'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-44127.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170815-调整云贷逾期抓取策略/Develop/催收/Task/FetchOverdueDataV2'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-44127.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170815-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245/Develop/\345\202\254\346\224\266/Task/FetchOverdueDataV2' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-44127.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170815-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245/Develop/\345\202\254\346\224\266/Task/FetchOverdueDataV2'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170815-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245/Develop/\345\202\254\346\224\266/Task/FetchOverdueDataV2'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170815-调整云贷逾期抓取策略/Develop/催收/Task/FetchOverdueDataV2: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170815-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245/Develop/\345\202\254\346\224\266/Task/FetchOverdueDataV2'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170815-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245/Develop/\345\202\254\346\224\266/Task/FetchOverdueDataV2'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170815-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245/Develop/\345\202\254\346\224\266/Task/FetchOverdueDataV2'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\202\254\346\224\266/Task/FetchOverdueDataV2'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170815-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245/Develop/\345\202\254\346\224\266/Task/FetchOverdueDataV2'
+ rm -f /home/qishanqing/tmp/merged/output.21861
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\202\254\346\224\266/Task/FetchOverdueDataV2'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170815-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245/Develop/\345\202\254\346\224\266/Task/FetchOverdueDataV2'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\202\254\346\224\266/Task/FetchOverdueDataV2'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\202\254\346\224\266/Task/FetchOverdueDataV2'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170815-调整云贷逾期抓取策略/Develop/催收/Task/FetchOverdueDataV2'
+ xargs rm -rf
+ svn st
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170815-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245/Develop/\345\202\254\346\224\266/Task/FetchOverdueDataV2'
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170815-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245/Develop/\345\202\254\346\224\266/Task/FetchOverdueDataV2'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r137630 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170815-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245/Develop/\345\202\254\346\224\266/Task/FetchOverdueDataV2'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r137294 '
+ '[' '!' -z r137294 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170815-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245/Develop/\345\202\254\346\224\266/Task/FetchOverdueDataV2@r137294' $'https://192.168.0.220/svn/tech/Branch/20170815-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245/Develop/\345\202\254\346\224\266/Task/FetchOverdueDataV2' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170815-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245/Develop/\345\202\254\346\224\266/Task/FetchOverdueDataV2@r137294' $'https://192.168.0.220/svn/tech/Branch/20170815-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245/Develop/\345\202\254\346\224\266/Task/FetchOverdueDataV2'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44127.html
Merged revision(s) r137294 -r137630   from Branch/20170815-调整云贷逾期抓取策略/Develop/催收/Task/FetchOverdueDataV2' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.3ms)
  Rendered merge/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 10363ms (Views: 61.0ms)


Completed 200 OK in 10363ms (Views: 61.0ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-16 10:25:30 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-16 10:25:30 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (17.0ms)
  Rendered builder/index.html.erb within layouts/application (17.0ms)
Completed 200 OK in 213ms (Views: 211.0ms)


Completed 200 OK in 213ms (Views: 211.0ms)


Started POST "/start" for 192.168.5.26 at 2017-08-16 10:25:34 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-16 10:25:34 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170815-调整云贷逾期抓取策略", "branch"=>"20170815-调整云贷逾期抓取策略", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"JxFEteNEHilLWi694Tk17HFIuQhvKRgCx7BGT9qOfk4mxO0gGWgiDfuQhxXvFQvmVgSek3jo4oCGjno5GscaYQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170815-调整云贷逾期抓取策略", "branch"=>"20170815-调整云贷逾期抓取策略", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"JxFEteNEHilLWi694Tk17HFIuQhvKRgCx7BGT9qOfk4mxO0gGWgiDfuQhxXvFQvmVgSek3jo4oCGjno5GscaYQ=="}
pid is 21929
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170815-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245' -e qishanqing@dafy.com -E '' -b $'20170815-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170815-调整云贷逾期抓取策略'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170815-调整云贷逾期抓取策略'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170815-调整云贷逾期抓取策略'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170815-调整云贷逾期抓取策略'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170815-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245' -e qishanqing@dafy.com -E '' -b $'20170815-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170815-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170815-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170815-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170815-调整云贷逾期抓取策略: command not found
++ for y in '$trunk'
++ echo $'20170815-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245'
+ trunks=$'20170815-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245'
+ test del = add
+ delbranch
+ '[' -z $'20170815-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170816
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708161025
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170815-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170816-20170815-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245/Develop/20170815-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170815-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708161025-20170815-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170816-20170815-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245/Develop/20170815-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245'
++ awk -F / '{print $7}'
+ br=$'20170816-20170815-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245'
+ access=$'20170816-20170815-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170815-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708161025-20170815-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.21929
+ echo $'https://192.168.0.220/svn/tech/Branch/20170815-\350\260\203\346\225\264\344\272\221\350\264\267\351\200\276\346\234\237\346\212\223\345\217\226\347\255\226\347\225\245'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170815-调整云贷逾期抓取策略%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170815-调整云贷逾期抓取策略%'\'';'
+ cat /tmp/cmdb.db.21929
+ rm -f /tmp/cmdb.db.21929
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (2.8ms)
  Rendered builder/new.html.erb within layouts/application (2.8ms)
Completed 200 OK in 1653ms (Views: 86.5ms)


Completed 200 OK in 1653ms (Views: 86.5ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-16 10:26:21 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-16 10:26:21 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.0ms)
  Rendered merge/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 65ms (Views: 62.8ms)


Completed 200 OK in 65ms (Views: 62.8ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-16 10:26:29 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-16 10:26:29 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170801-用户分流改造/Develop/事事分期/StageAll/StageModule/StageMobile", "task"=>"http://192.168.0.221/zentao/task-view-44157.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"LoKY5czjG+lTQDKIsncn70R4kbTaNJMalQRZVYnd/fAvVzFwNs8nzeOKmyC8WxnlYzS2L831aZjUOmUjSZSZ3w=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170801-用户分流改造/Develop/事事分期/StageAll/StageModule/StageMobile", "task"=>"http://192.168.0.221/zentao/task-view-44157.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"LoKY5czjG+lTQDKIsncn70R4kbTaNJMalQRZVYnd/fAvVzFwNs8nzeOKmyC8WxnlYzS2L831aZjUOmUjSZSZ3w=="}
pid is 21980
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-44157.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170801-\347\224\250\346\210\267\345\210\206\346\265\201\346\224\271\351\200\240/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-44157.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170801-用户分流改造/Develop/事事分期/StageAll/StageModule/StageMobile'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-44157.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170801-用户分流改造/Develop/事事分期/StageAll/StageModule/StageMobile'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-44157.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170801-\347\224\250\346\210\267\345\210\206\346\265\201\346\224\271\351\200\240/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-44157.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170801-\347\224\250\346\210\267\345\210\206\346\265\201\346\224\271\351\200\240/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170801-\347\224\250\346\210\267\345\210\206\346\265\201\346\224\271\351\200\240/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170801-用户分流改造/Develop/事事分期/StageAll/StageModule/StageMobile: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\347\224\250\346\210\267\345\210\206\346\265\201\346\224\271\351\200\240/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170801-\347\224\250\346\210\267\345\210\206\346\265\201\346\224\271\351\200\240/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\347\224\250\346\210\267\345\210\206\346\265\201\346\224\271\351\200\240/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170801-\347\224\250\346\210\267\345\210\206\346\265\201\346\224\271\351\200\240/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ rm -f /home/qishanqing/tmp/merged/output.21980
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170801-\347\224\250\346\210\267\345\210\206\346\265\201\346\224\271\351\200\240/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170801-用户分流改造/Develop/事事分期/StageAll/StageModule/StageMobile'
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170801-\347\224\250\346\210\267\345\210\206\346\265\201\346\224\271\351\200\240/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170801-\347\224\250\346\210\267\345\210\206\346\265\201\346\224\271\351\200\240/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r136231 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170801-\347\224\250\346\210\267\345\210\206\346\265\201\346\224\271\351\200\240/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r132827 '
+ '[' '!' -z r132827 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170801-\347\224\250\346\210\267\345\210\206\346\265\201\346\224\271\351\200\240/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile@r132827' $'https://192.168.0.220/svn/tech/Branch/20170801-\347\224\250\346\210\267\345\210\206\346\265\201\346\224\271\351\200\240/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170801-\347\224\250\346\210\267\345\210\206\346\265\201\346\224\271\351\200\240/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile@r132827' $'https://192.168.0.220/svn/tech/Branch/20170801-\347\224\250\346\210\267\345\210\206\346\265\201\346\224\271\351\200\240/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44157.html
Merged revision(s) r132827 -r136231   from Branch/20170801-用户分流改造/Develop/事事分期/StageAll/StageModule/StageMobile' --username qishanqing --password 372233
svn: E155015: 提交失败(细节如下): 
svn: E155015: 提交终止: “/home/qishanqing/workspace/code/Trunk/事事分期/StageAll/StageModule/StageMobile/src/main/resources/prod/TransFilter.xml” 处于冲突状态
+ die 'Svn merged conflicts the reasons for failure are as follows'
+ echo 'Svn merged conflicts the reasons for failure are as follows'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.21980
+ echo
+ cat /home/qishanqing/tmp/merged/output.21980
+ rm -f /home/qishanqing/tmp/merged/output.21980
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.3ms)
  Rendered merge/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 14176ms (Views: 95.4ms)


Completed 200 OK in 14176ms (Views: 95.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-16 10:54:43 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-16 10:54:43 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.5ms)
  Rendered builder/index.html.erb within layouts/application (3.5ms)
Completed 200 OK in 74ms (Views: 71.3ms)


Completed 200 OK in 74ms (Views: 71.3ms)


Started POST "/start" for 192.168.5.26 at 2017-08-16 10:55:10 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-16 10:55:10 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"zhangruiqiang@dafy.com", "types"=>"add", "trunk"=>"分期商城/分期商城3.0/MallBusiness", "branch"=>"亿鑫达协议修改", "user"=>"", "extra_mails"=>"", "riqi"=>"20170814", "authenticity_token"=>"HWQC8kp4ZFtqcqDA2yWee61S4lHVxQ8Rv0s6FiDLihEcsatnsFRYf9q4CWjVCaBxih7FysIE9ZP+dQZg4ILuPg=="}
  Parameters: {"email"=>"zhangruiqiang@dafy.com", "types"=>"add", "trunk"=>"分期商城/分期商城3.0/MallBusiness", "branch"=>"亿鑫达协议修改", "user"=>"", "extra_mails"=>"", "riqi"=>"20170814", "authenticity_token"=>"HWQC8kp4ZFtqcqDA2yWee61S4lHVxQ8Rv0s6FiDLihEcsatnsFRYf9q4CWjVCaBxih7FysIE9ZP+dQZg4ILuPg=="}
pid is 23428
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness' -e zhangruiqiang@dafy.com -E '' -b $'\344\272\277\351\221\253\350\276\276\345\215\217\350\256\256\344\277\256\346\224\271' -T add -d 20170814
+ TEMP=' -u '\'''\'' -t '\''分期商城/分期商城3.0/MallBusiness'\'' -e '\''zhangruiqiang@dafy.com'\'' -E '\'''\'' -b '\''亿鑫达协议修改'\'' -T '\''add'\'' -d '\''20170814'\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''分期商城/分期商城3.0/MallBusiness'\'' -e '\''zhangruiqiang@dafy.com'\'' -E '\'''\'' -b '\''亿鑫达协议修改'\'' -T '\''add'\'' -d '\''20170814'\'' --'
++ set -- -u '' -t $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness' -e zhangruiqiang@dafy.com -E '' -b $'\344\272\277\351\221\253\350\276\276\345\215\217\350\256\256\344\277\256\346\224\271' -T add -d 20170814 --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ shift 2
+ true
+ case "$1" in
+ email=zhangruiqiang@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\344\272\277\351\221\253\350\276\276\345\215\217\350\256\256\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=20170814
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=zhangruiqiang@dafy.com '
+ SMARTCM_EXTRA_MAIL='zhangruiqiang@dafy.com '
+ users=
++ $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 分期商城/分期商城3.0/MallBusiness: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ trunks=$'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness' ']'
+ '[' -z $'\344\272\277\351\221\253\350\276\276\345\215\217\350\256\256\344\277\256\346\224\271' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170816
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708161055
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170814-\344\272\277\351\221\253\350\276\276\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\344\272\277\351\221\253\350\276\276\345\215\217\350\256\256\344\277\256\346\224\271'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708161055-\344\272\277\351\221\253\350\276\276\345\215\217\350\256\256\344\277\256\346\224\271'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170814-\344\272\277\351\221\253\350\276\276\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
++ awk -F / '{print $7}'
+ br=$'20170814-\344\272\277\351\221\253\350\276\276\345\215\217\350\256\256\344\277\256\346\224\271'
+ access=$'20170814-\344\272\277\351\221\253\350\276\276\345\215\217\350\256\256\344\277\256\346\224\271'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness' $'https://192.168.0.220/svn/tech/Branch/20170814-\344\272\277\351\221\253\350\276\276\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.23428
+ echo $'https://192.168.0.220/svn/tech/Branch/20170814-\344\272\277\351\221\253\350\276\276\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170814-亿鑫达协议修改/Develop/分期商城/分期商城3.0/MallBusiness'\'',now(),'\''zhangruiqiang'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170814-亿鑫达协议修改/Develop/分期商城/分期商城3.0/MallBusiness'\'',now(),'\''zhangruiqiang'\'');'
+ cat /tmp/cmdb.db.23428
+ rm -f /tmp/cmdb.db.23428
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170814-亿鑫达协议修改] /svn/authz.conf'
+ read num
+ '[' 1 -eq 0 ']'
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 6219ms (Views: 44.5ms)


Completed 200 OK in 6219ms (Views: 44.5ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-16 13:43:22 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-16 13:43:22 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (127.5ms)
  Rendered merge/index.html.erb within layouts/application (127.5ms)
Completed 200 OK in 1139ms (Views: 989.5ms)


Completed 200 OK in 1139ms (Views: 989.5ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-16 13:43:36 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-16 13:43:36 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170621-项目报表/Develop/外部业务/P2P/Business/FDPReport https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/maimaiti_46 https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/maimaiti_gateway https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol", "task"=>"http://192.168.0.221/zentao/task-view-44080.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"4gmQqltPKkjmzRrdpB/zPSIui97kOCyudZ97fcfMBOnj3Dk/oWMWbFYHs3WqM803BWKsRfP51iw0oUcLB4Vgxg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170621-项目报表/Develop/外部业务/P2P/Business/FDPReport https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/maimaiti_46 https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/maimaiti_gateway https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol", "task"=>"http://192.168.0.221/zentao/task-view-44080.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"4gmQqltPKkjmzRrdpB/zPSIui97kOCyudZ97fcfMBOnj3Dk/oWMWbFYHs3WqM803BWKsRfP51iw0oUcLB4Vgxg=="}
pid is 29900
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-44080.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170621-项目报表/Develop/外部业务/P2P/Business/FDPReport https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/maimaiti_46 https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/maimaiti_gateway https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-44080.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170621-项目报表/Develop/外部业务/P2P/Business/FDPReport https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/maimaiti_46 https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/maimaiti_gateway https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-44080.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170621-项目报表/Develop/外部业务/P2P/Business/FDPReport https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/maimaiti_46 https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/maimaiti_gateway https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-44080.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170621-项目报表/Develop/外部业务/P2P/Business/FDPReport https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/maimaiti_46 https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/maimaiti_gateway https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-44080.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170621-项目报表/Develop/外部业务/P2P/Business/FDPReport https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/maimaiti_46 https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/maimaiti_gateway https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170621-\351\241\271\347\233\256\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/maimaiti_46' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/maimaiti_gateway' $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170621-项目报表/Develop/外部业务/P2P/Business/FDPReport: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170621-\351\241\271\347\233\256\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/maimaiti_46'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/maimaiti_gateway'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170621-项目报表/Develop/外部业务/P2P/Business/FDPReport
https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/maimaiti_46
https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/maimaiti_gateway
https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170621-\351\241\271\347\233\256\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170621-\351\241\271\347\233\256\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ rm -f /home/qishanqing/tmp/merged/output.29900
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170621-\351\241\271\347\233\256\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ mails-cm -i 'code merged from Branch/20170621-项目报表/Develop/外部业务/P2P/Business/FDPReport'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170621-\351\241\271\347\233\256\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r137723 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170621-\351\241\271\347\233\256\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r137437 '
+ '[' '!' -z r137723 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170621-\351\241\271\347\233\256\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport@r137723' $'https://192.168.0.220/svn/tech/Branch/20170621-\351\241\271\347\233\256\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170621-\351\241\271\347\233\256\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport@r137723' $'https://192.168.0.220/svn/tech/Branch/20170621-\351\241\271\347\233\256\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44080.html
Merged revision(s) r137723 -r137437   from Branch/20170621-项目报表/Develop/外部业务/P2P/Business/FDPReport' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/maimaiti_46'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/maimaiti_46'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/maimaiti_46'
+ rm -f /home/qishanqing/tmp/merged/output.29900
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/maimaiti_46'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/maimaiti_46'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/maimaiti_46'
+ die '外部业务/P2P/Business/basefundprovider/maimaiti_46  project code no found'
+ echo '外部业务/P2P/Business/basefundprovider/maimaiti_46  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.29900
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.29900
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/maimaiti_gateway'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/maimaiti_gateway'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/maimaiti_gateway'
+ rm -f /home/qishanqing/tmp/merged/output.29900
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/maimaiti_gateway'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/maimaiti_gateway'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/maimaiti_gateway'
+ die '外部业务/P2P/Business/basefundprovider/maimaiti_gateway  project code no found'
+ mails-cm -i 'svn merged faild'
+ echo '外部业务/P2P/Business/basefundprovider/maimaiti_gateway  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.29900
+ rm -f /home/qishanqing/tmp/merged/output.29900
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ rm -f /home/qishanqing/tmp/merged/output.29900
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
++ head -n 4
++ awk -F '|' '{print$1}'
+ revision='r134306 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r134022 '
+ '[' '!' -z r134306 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol@r134306' $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol@r134306' $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44080.html
Merged revision(s) r134306 -r134022   from Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (2.2ms)
  Rendered merge/new.html.erb within layouts/application (2.2ms)
Completed 200 OK in 35337ms (Views: 335.2ms)


Completed 200 OK in 35337ms (Views: 335.2ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-16 14:07:24 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-16 14:07:24 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.6ms)
  Rendered builder/index.html.erb within layouts/application (3.6ms)
Completed 200 OK in 205ms (Views: 164.7ms)


Completed 200 OK in 205ms (Views: 164.7ms)


Started POST "/start" for 192.168.5.26 at 2017-08-16 14:07:28 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-16 14:07:28 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170801-借款申请管理", "branch"=>"20170801-借款申请管理", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"zXqAGMkaNyJ8a52dh6Mu6UkwZbXBuepwDBD/ELbrBqzMrymNMzYLBsyhNDWJjxDjbnxCLtZ4EPJNLsNmdqJigw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170801-借款申请管理", "branch"=>"20170801-借款申请管理", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"zXqAGMkaNyJ8a52dh6Mu6UkwZbXBuepwDBD/ELbrBqzMrymNMzYLBsyhNDWJjxDjbnxCLtZ4EPJNLsNmdqJigw=="}
pid is 30872
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206' -e qishanqing@dafy.com -E '' -b $'20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170801-借款申请管理'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170801-借款申请管理'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170801-借款申请管理'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170801-借款申请管理'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206' -e qishanqing@dafy.com -E '' -b $'20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170801-借款申请管理: command not found
++ for y in '$trunk'
++ echo $'20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206'
+ trunks=$'20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206'
+ test del = add
+ delbranch
+ '[' -z $'20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170816
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708161407
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170816-20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708161407-20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170816-20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206'
++ awk -F / '{print $7}'
+ br=$'20170816-20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206'
+ access=$'20170816-20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708161407-20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.30872
+ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170801-借款申请管理%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170801-借款申请管理%'\'';'
+ cat /tmp/cmdb.db.30872
+ rm -f /tmp/cmdb.db.30872
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (16.9ms)
  Rendered builder/new.html.erb within layouts/application (16.9ms)
Completed 200 OK in 1480ms (Views: 147.1ms)


Completed 200 OK in 1480ms (Views: 147.1ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-16 15:22:47 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-16 15:22:47 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.0ms)
  Rendered builder/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 111ms (Views: 109.2ms)


Completed 200 OK in 111ms (Views: 109.2ms)


Started POST "/start" for 192.168.5.26 at 2017-08-16 15:23:15 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-16 15:23:15 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"luxuewei@dafy.com", "types"=>"add", "trunk"=>"催收/Task/ExportOverdueDataTell", "branch"=>"XCDDC提供Excel优化", "user"=>"luxuewei", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"Pl5Ybv0jip5OfIiMoHuFw3sWTeQxD7XA7/l8SlL6y0M/i/H7Bw+2uv62ISSuV7vJXFpqfybOT0Kux0A8krOvbA=="}
  Parameters: {"email"=>"luxuewei@dafy.com", "types"=>"add", "trunk"=>"催收/Task/ExportOverdueDataTell", "branch"=>"XCDDC提供Excel优化", "user"=>"luxuewei", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"Pl5Ybv0jip5OfIiMoHuFw3sWTeQxD7XA7/l8SlL6y0M/i/H7Bw+2uv62ISSuV7vJXFpqfybOT0Kux0A8krOvbA=="}
pid is 2333
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u luxuewei -t $'\345\202\254\346\224\266/Task/ExportOverdueDataTell' -e luxuewei@dafy.com -E '' -b $'XCDDC\346\217\220\344\276\233Excel\344\274\230\345\214\226' -T add -d ''
+ TEMP=' -u '\''luxuewei'\'' -t '\''催收/Task/ExportOverdueDataTell'\'' -e '\''luxuewei@dafy.com'\'' -E '\'''\'' -b '\''XCDDC提供Excel优化'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''luxuewei'\'' -t '\''催收/Task/ExportOverdueDataTell'\'' -e '\''luxuewei@dafy.com'\'' -E '\'''\'' -b '\''XCDDC提供Excel优化'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u luxuewei -t $'\345\202\254\346\224\266/Task/ExportOverdueDataTell' -e luxuewei@dafy.com -E '' -b $'XCDDC\346\217\220\344\276\233Excel\344\274\230\345\214\226' -T add -d '' --
+ true
+ case "$1" in
+ user=luxuewei
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\202\254\346\224\266/Task/ExportOverdueDataTell'
+ shift 2
+ true
+ case "$1" in
+ email=luxuewei@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'XCDDC\346\217\220\344\276\233Excel\344\274\230\345\214\226'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=luxuewei@dafy.com '
+ SMARTCM_EXTRA_MAIL='luxuewei@dafy.com '
++ luxuewei
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: luxuewei: command not found
++ for x in '$user'
++ echo luxuewei=rw
+ users=luxuewei=rw
++ $'\345\202\254\346\224\266/Task/ExportOverdueDataTell'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 催收/Task/ExportOverdueDataTell: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\202\254\346\224\266/Task/ExportOverdueDataTell'
+ trunks=$'\345\202\254\346\224\266/Task/ExportOverdueDataTell'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\202\254\346\224\266/Task/ExportOverdueDataTell' ']'
+ '[' -z $'XCDDC\346\217\220\344\276\233Excel\344\274\230\345\214\226' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170816
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708161523
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\202\254\346\224\266/Task/ExportOverdueDataTell'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170816-XCDDC\346\217\220\344\276\233Excel\344\274\230\345\214\226/Develop/\345\202\254\346\224\266/Task/ExportOverdueDataTell'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/XCDDC\346\217\220\344\276\233Excel\344\274\230\345\214\226'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708161523-XCDDC\346\217\220\344\276\233Excel\344\274\230\345\214\226'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170816-XCDDC\346\217\220\344\276\233Excel\344\274\230\345\214\226/Develop/\345\202\254\346\224\266/Task/ExportOverdueDataTell'
++ awk -F / '{print $7}'
+ br=$'20170816-XCDDC\346\217\220\344\276\233Excel\344\274\230\345\214\226'
+ access=$'20170816-XCDDC\346\217\220\344\276\233Excel\344\274\230\345\214\226'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\202\254\346\224\266/Task/ExportOverdueDataTell' $'https://192.168.0.220/svn/tech/Branch/20170816-XCDDC\346\217\220\344\276\233Excel\344\274\230\345\214\226/Develop/\345\202\254\346\224\266/Task/ExportOverdueDataTell' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.2333
+ echo $'https://192.168.0.220/svn/tech/Branch/20170816-XCDDC\346\217\220\344\276\233Excel\344\274\230\345\214\226/Develop/\345\202\254\346\224\266/Task/ExportOverdueDataTell'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/催收/Task/ExportOverdueDataTell'\'', '\''https://192.168.0.220/svn/tech/Branch/20170816-XCDDC提供Excel优化/Develop/催收/Task/ExportOverdueDataTell'\'',now(),'\''luxuewei'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/催收/Task/ExportOverdueDataTell'\'', '\''https://192.168.0.220/svn/tech/Branch/20170816-XCDDC提供Excel优化/Develop/催收/Task/ExportOverdueDataTell'\'',now(),'\''luxuewei'\'');'
+ cat /tmp/cmdb.db.2333
+ rm -f /tmp/cmdb.db.2333
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170816-XCDDC提供Excel优化] /svn/authz.conf'
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z luxuewei=rw
+ cat
+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (18.0ms)
  Rendered builder/new.html.erb within layouts/application (18.0ms)
Completed 200 OK in 5882ms (Views: 86.9ms)


Completed 200 OK in 5882ms (Views: 86.9ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-17 09:51:43 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-17 09:51:43 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (61.6ms)
  Rendered merge/index.html.erb within layouts/application (61.6ms)
Completed 200 OK in 854ms (Views: 684.1ms)


Completed 200 OK in 854ms (Views: 684.1ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-17 09:51:56 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-17 09:51:56 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170816-线上乱码优化/Develop/外部业务/P2P/Task/BorrowAgreementTask", "task"=>"http://192.168.0.221/zentao/task-view-44259.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"9C2G2n6ziYJ0a3YniWUSwkRssaJjzHpblCZhqQU5WA31+C9PhJ+1psSh34+HSSzIYyCWOXQNgNnVGF3fxXA8Ig=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170816-线上乱码优化/Develop/外部业务/P2P/Task/BorrowAgreementTask", "task"=>"http://192.168.0.221/zentao/task-view-44259.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"9C2G2n6ziYJ0a3YniWUSwkRssaJjzHpblCZhqQU5WA31+C9PhJ+1psSh34+HSSzIYyCWOXQNgNnVGF3fxXA8Ig=="}
pid is 6190
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-44259.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170816-\347\272\277\344\270\212\344\271\261\347\240\201\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-44259.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170816-线上乱码优化/Develop/外部业务/P2P/Task/BorrowAgreementTask'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-44259.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170816-线上乱码优化/Develop/外部业务/P2P/Task/BorrowAgreementTask'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-44259.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170816-\347\272\277\344\270\212\344\271\261\347\240\201\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-44259.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170816-\347\272\277\344\270\212\344\271\261\347\240\201\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170816-\347\272\277\344\270\212\344\271\261\347\240\201\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170816-线上乱码优化/Develop/外部业务/P2P/Task/BorrowAgreementTask: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170816-\347\272\277\344\270\212\344\271\261\347\240\201\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170816-\347\272\277\344\270\212\344\271\261\347\240\201\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170816-\347\272\277\344\270\212\344\271\261\347\240\201\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170816-\347\272\277\344\270\212\344\271\261\347\240\201\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask'
+ rm -f /home/qishanqing/tmp/merged/output.6190
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170816-\347\272\277\344\270\212\344\271\261\347\240\201\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170816-线上乱码优化/Develop/外部业务/P2P/Task/BorrowAgreementTask'
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170816-\347\272\277\344\270\212\344\271\261\347\240\201\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170816-\347\272\277\344\270\212\344\271\261\347\240\201\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r137951 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170816-\347\272\277\344\270\212\344\271\261\347\240\201\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r137938 '
+ '[' '!' -z r137938 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170816-\347\272\277\344\270\212\344\271\261\347\240\201\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask@r137938' $'https://192.168.0.220/svn/tech/Branch/20170816-\347\272\277\344\270\212\344\271\261\347\240\201\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170816-\347\272\277\344\270\212\344\271\261\347\240\201\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask@r137938' $'https://192.168.0.220/svn/tech/Branch/20170816-\347\272\277\344\270\212\344\271\261\347\240\201\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44259.html
Merged revision(s) r137938 -r137951   from Branch/20170816-线上乱码优化/Develop/外部业务/P2P/Task/BorrowAgreementTask' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.2ms)
  Rendered merge/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 31679ms (Views: 132.2ms)


Completed 200 OK in 31679ms (Views: 132.2ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-17 09:58:31 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-17 09:58:31 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (37.6ms)
  Rendered builder/index.html.erb within layouts/application (37.6ms)
Completed 200 OK in 149ms (Views: 114.2ms)


Completed 200 OK in 149ms (Views: 114.2ms)


Started POST "/start" for 192.168.5.26 at 2017-08-17 09:58:37 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-17 09:58:37 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170816-线上乱码优化", "branch"=>"20170816-线上乱码优化", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"hpkIgGl2BquM6x3a2BWuaNd1lf35cWnh+PodiyYFjp+HTKEVk1o6jzwhtHLWOZBi8DmyZu6wk2O5xCH95kzqsA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170816-线上乱码优化", "branch"=>"20170816-线上乱码优化", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"hpkIgGl2BquM6x3a2BWuaNd1lf35cWnh+PodiyYFjp+HTKEVk1o6jzwhtHLWOZBi8DmyZu6wk2O5xCH95kzqsA=="}
pid is 6414
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170816-\347\272\277\344\270\212\344\271\261\347\240\201\344\274\230\345\214\226' -e qishanqing@dafy.com -E '' -b $'20170816-\347\272\277\344\270\212\344\271\261\347\240\201\344\274\230\345\214\226' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170816-线上乱码优化'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170816-线上乱码优化'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170816-线上乱码优化'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170816-线上乱码优化'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170816-\347\272\277\344\270\212\344\271\261\347\240\201\344\274\230\345\214\226' -e qishanqing@dafy.com -E '' -b $'20170816-\347\272\277\344\270\212\344\271\261\347\240\201\344\274\230\345\214\226' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170816-\347\272\277\344\270\212\344\271\261\347\240\201\344\274\230\345\214\226'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170816-\347\272\277\344\270\212\344\271\261\347\240\201\344\274\230\345\214\226'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170816-\347\272\277\344\270\212\344\271\261\347\240\201\344\274\230\345\214\226'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170816-线上乱码优化: command not found
++ for y in '$trunk'
++ echo $'20170816-\347\272\277\344\270\212\344\271\261\347\240\201\344\274\230\345\214\226'
+ trunks=$'20170816-\347\272\277\344\270\212\344\271\261\347\240\201\344\274\230\345\214\226'
+ test del = add
+ delbranch
+ '[' -z $'20170816-\347\272\277\344\270\212\344\271\261\347\240\201\344\274\230\345\214\226' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170817
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708170958
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170816-\347\272\277\344\270\212\344\271\261\347\240\201\344\274\230\345\214\226'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170817-20170816-\347\272\277\344\270\212\344\271\261\347\240\201\344\274\230\345\214\226/Develop/20170816-\347\272\277\344\270\212\344\271\261\347\240\201\344\274\230\345\214\226'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170816-\347\272\277\344\270\212\344\271\261\347\240\201\344\274\230\345\214\226'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708170958-20170816-\347\272\277\344\270\212\344\271\261\347\240\201\344\274\230\345\214\226'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170817-20170816-\347\272\277\344\270\212\344\271\261\347\240\201\344\274\230\345\214\226/Develop/20170816-\347\272\277\344\270\212\344\271\261\347\240\201\344\274\230\345\214\226'
++ awk -F / '{print $7}'
+ br=$'20170817-20170816-\347\272\277\344\270\212\344\271\261\347\240\201\344\274\230\345\214\226'
+ access=$'20170817-20170816-\347\272\277\344\270\212\344\271\261\347\240\201\344\274\230\345\214\226'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170816-\347\272\277\344\270\212\344\271\261\347\240\201\344\274\230\345\214\226' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708170958-20170816-\347\272\277\344\270\212\344\271\261\347\240\201\344\274\230\345\214\226' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.6414
+ echo $'https://192.168.0.220/svn/tech/Branch/20170816-\347\272\277\344\270\212\344\271\261\347\240\201\344\274\230\345\214\226'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170816-线上乱码优化%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170816-线上乱码优化%'\'';'
+ cat /tmp/cmdb.db.6414
+ rm -f /tmp/cmdb.db.6414
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.0ms)
  Rendered builder/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 6060ms (Views: 42.3ms)


Completed 200 OK in 6060ms (Views: 42.3ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-17 09:59:46 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-17 09:59:46 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (15.6ms)
  Rendered merge/index.html.erb within layouts/application (15.6ms)
Completed 200 OK in 257ms (Views: 254.5ms)


Completed 200 OK in 257ms (Views: 254.5ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-17 09:59:57 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-17 09:59:57 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1", "task"=>"http://192.168.0.221/zentao/task-view-44255.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"UG596qvMm2p7gxUmLHiHQr+V9PeamAlQ5Y7ZbxC4QoVRu9R/UeCnTstJvI4iVLlImNnTbI1Z89KksOUZ0PEmqg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1", "task"=>"http://192.168.0.221/zentao/task-view-44255.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"UG596qvMm2p7gxUmLHiHQr+V9PeamAlQ5Y7ZbxC4QoVRu9R/UeCnTstJvI4iVLlImNnTbI1Z89KksOUZ0PEmqg=="}
pid is 6485
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-44255.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-44255.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-44255.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-44255.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-44255.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite
https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ rm -f /home/qishanqing/tmp/merged/output.6485
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ awk -F '|' '{print$1}'
+ revision='r137755 '
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ head='r137945 '
+ '[' '!' -z r137755 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r137755' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r137755' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44255.html
Merged revision(s) r137755 -r137945   from Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ rm -f /home/qishanqing/tmp/merged/output.6485
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r137757 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r137959 '
+ '[' '!' -z r137757 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1@r137757' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1@r137757' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44255.html
Merged revision(s) r137757 -r137959   from Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (2.0ms)
  Rendered merge/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 123665ms (Views: 53.4ms)


Completed 200 OK in 123665ms (Views: 53.4ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-17 10:06:45 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-17 10:06:45 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.3ms)
  Rendered merge/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 209ms (Views: 205.9ms)


Completed 200 OK in 209ms (Views: 205.9ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-17 10:07:14 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-17 10:07:14 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageModule/StageBossService", "task"=>"http://192.168.0.221/zentao/task-view-44086.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"9BQBkvsdp1R0tsNquWjBAnmGXdKRTrcr0BBJyawvre71wagHATGbcMR8asK3RP8IXsp6SYaPTamRLnW/bGbJwQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageModule/StageBossService", "task"=>"http://192.168.0.221/zentao/task-view-44086.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"9BQBkvsdp1R0tsNquWjBAnmGXdKRTrcr0BBJyawvre71wagHATGbcMR8asK3RP8IXsp6SYaPTamRLnW/bGbJwQ=="}
pid is 7268
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-44086.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageModule/StageBossService' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-44086.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageModule/StageBossService'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-44086.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageModule/StageBossService'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-44086.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageModule/StageBossService' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-44086.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageModule/StageBossService'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager' $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageManager: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageManager
https://192.168.0.220/svn/tech/Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageModule/StageBossService'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ rm -f /home/qishanqing/tmp/merged/output.7268
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ mails-cm -i 'code merged from Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r138039 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r130433 '
+ '[' '!' -z r130433 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager@r130433' $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：18'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\23218' ']'
+ die 'Svn merged conflicts the r130433 -r138039  from Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageManager'
+ echo 'Svn merged conflicts the r130433 -r138039  from Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageManager'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.7268
+ rm -f /home/qishanqing/tmp/merged/output.7268
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44086.html
Merged revision(s) r130433 -r138039   from Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageManager' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
+ rm -f /home/qishanqing/tmp/merged/output.7268
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageModule/StageBossService'
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ head -n 4
++ grep -C 3 $'Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
++ awk -F '|' '{print$1}'
+ revision='r137718 '
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
++ awk -F '|' '{print$1}'
+ head='r137732 '
+ '[' '!' -z r137718 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService@r137718' $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService@r137718' $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44086.html
Merged revision(s) r137718 -r137732   from Branch/20170724-达分期商户管理优化/Develop/事事分期/StageAll/StageModule/StageBossService' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.5ms)
  Rendered merge/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 39699ms (Views: 454.2ms)


Completed 200 OK in 39699ms (Views: 454.2ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-17 10:08:29 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-17 10:08:29 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.0ms)
  Rendered merge/index.html.erb within layouts/application (4.0ms)
Completed 200 OK in 65ms (Views: 62.7ms)


Completed 200 OK in 65ms (Views: 62.7ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-17 10:08:39 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-17 10:08:39 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42", "task"=>"http://192.168.0.221/zentao/task-view-44299.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"1qEoHLwccc9rHbU2Lqc6oWmGD6dmxIkyUuX4hdHiv5TXdIGJRjBN69vXHJ4giwSrTsooPHEFc7AT28TzEavbuw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42", "task"=>"http://192.168.0.221/zentao/task-view-44299.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"1qEoHLwccc9rHbU2Lqc6oWmGD6dmxIkyUuX4hdHiv5TXdIGJRjBN69vXHJ4giwSrTsooPHEFc7AT28TzEavbuw=="}
pid is 7383
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-44299.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-44299.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-44299.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-44299.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-44299.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ rm -f /home/qishanqing/tmp/merged/output.7383
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r135801 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r138056 '
+ '[' '!' -z r135801 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42@r135801' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42@r135801' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44299.html
Merged revision(s) r135801 -r138056   from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (63.5ms)
  Rendered merge/new.html.erb within layouts/application (63.5ms)
Completed 200 OK in 44311ms (Views: 168.2ms)


Completed 200 OK in 44311ms (Views: 168.2ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-17 13:30:46 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-17 13:30:46 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (114.8ms)
  Rendered merge/index.html.erb within layouts/application (114.8ms)
Completed 200 OK in 1478ms (Views: 1387.4ms)


Completed 200 OK in 1478ms (Views: 1387.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-17 13:31:10 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-17 13:31:10 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/CreditReceiveFactory https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/CreditFactory https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/UserBusiness https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/UserSite https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/UserCredit https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170717-BaseCenter优化/Develop/基础业务/用户中心/BaseCenter https://192.168.0.220/svn/tech/Branch/20170707-快速授信/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-44230.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"FHovephcFXXNMpo3WCPnhtSpDHkBhV9qtKLeEGmw7tsVr4bvYnApUX34M59WD9mM8+Ur4hZEpej1nOJmqfmK9A=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/CreditReceiveFactory https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/CreditFactory https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/UserBusiness https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/UserSite https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/UserCredit https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170717-BaseCenter优化/Develop/基础业务/用户中心/BaseCenter https://192.168.0.220/svn/tech/Branch/20170707-快速授信/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-44230.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"FHovephcFXXNMpo3WCPnhtSpDHkBhV9qtKLeEGmw7tsVr4bvYnApUX34M59WD9mM8+Ur4hZEpej1nOJmqfmK9A=="}
pid is 14962
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-44230.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/CreditReceiveFactory https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/CreditFactory https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/UserBusiness https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/UserSite https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/UserCredit https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170717-BaseCenter优化/Develop/基础业务/用户中心/BaseCenter https://192.168.0.220/svn/tech/Branch/20170707-快速授信/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-44230.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/CreditReceiveFactory https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/CreditFactory https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/UserBusiness https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/UserSite https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/UserCredit https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170717-BaseCenter优化/Develop/基础业务/用户中心/BaseCenter https://192.168.0.220/svn/tech/Branch/20170707-快速授信/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-44230.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/CreditReceiveFactory https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/CreditFactory https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/UserBusiness https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/UserSite https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/UserCredit https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170717-BaseCenter优化/Develop/基础业务/用户中心/BaseCenter https://192.168.0.220/svn/tech/Branch/20170707-快速授信/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-44230.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/CreditReceiveFactory https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/CreditFactory https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/UserBusiness https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/UserSite https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/UserCredit https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170717-BaseCenter优化/Develop/基础业务/用户中心/BaseCenter https://192.168.0.220/svn/tech/Branch/20170707-快速授信/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-44230.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/CreditReceiveFactory https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/CreditFactory https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/UserBusiness https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/UserSite https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/UserCredit https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170717-BaseCenter优化/Develop/基础业务/用户中心/BaseCenter https://192.168.0.220/svn/tech/Branch/20170707-快速授信/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/CreditReceiveFactory' $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/CreditFactory' $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite' $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserCredit' $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' $'https://192.168.0.220/svn/tech/Branch/20170717-BaseCenter\344\274\230\345\214\226/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/BaseCenter' $'https://192.168.0.220/svn/tech/Branch/20170707-\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/CreditReceiveFactory: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/CreditReceiveFactory'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/CreditFactory'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserCredit'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170717-BaseCenter\344\274\230\345\214\226/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/BaseCenter'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170707-\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/CreditReceiveFactory
https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/CreditFactory
https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/UserBusiness
https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/UserSite
https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/UserCredit
https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/老系统/新达飞贷/网站中心/BossSite
https://192.168.0.220/svn/tech/Branch/20170717-BaseCenter优化/Develop/基础业务/用户中心/BaseCenter
https://192.168.0.220/svn/tech/Branch/20170707-快速授信/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/CreditReceiveFactory'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/CreditReceiveFactory'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/CreditReceiveFactory'
+ rm -f /home/qishanqing/tmp/merged/output.14962
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/CreditReceiveFactory'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/CreditReceiveFactory'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/CreditReceiveFactory'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/CreditReceiveFactory'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/CreditReceiveFactory'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/CreditReceiveFactory'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r131344 '
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/CreditReceiveFactory'
+ head='r135996 '
+ '[' '!' -z r131344 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/CreditReceiveFactory@r131344' $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/CreditReceiveFactory' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/CreditReceiveFactory@r131344' $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/CreditReceiveFactory'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44230.html
Merged revision(s) r131344 -r135996   from Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/CreditReceiveFactory' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/CreditFactory'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/CreditFactory'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/CreditFactory'
+ rm -f /home/qishanqing/tmp/merged/output.14962
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/CreditFactory'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/CreditFactory'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/CreditFactory'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/CreditFactory'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/CreditFactory'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/CreditFactory'
++ head -n 4
++ awk -F '|' '{print$1}'
+ revision=
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/CreditFactory'
+ head='r138161 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/CreditFactory'
++ tail -n 4
+ revision='r126351 '
+ '[' '!' -z r126351 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/CreditFactory@r126351' $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/CreditFactory' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/CreditFactory@r126351' $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/CreditFactory'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44230.html
Merged revision(s) r126351 -r138161   from Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/CreditFactory' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.14962
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/UserBusiness'
+ svn cleanup .
+ xargs rm -rf
+ svn st
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ head -n 4
++ awk -F '|' '{print$1}'
+ revision='r128632 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r138065 '
+ '[' '!' -z r128632 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness@r128632' $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：1'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2321' ']'
+ die 'Svn merged conflicts the r128632 -r138065  from Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/UserBusiness'
+ echo 'Svn merged conflicts the r128632 -r138065  from Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/UserBusiness'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.14962
+ rm -f /home/qishanqing/tmp/merged/output.14962
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44230.html
Merged revision(s) r128632 -r138065   from Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/UserBusiness' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ rm -f /home/qishanqing/tmp/merged/output.14962
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ mails-cm -i 'code merged from Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/UserSite'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ head -n 4
++ grep -C 3 $'Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r136056 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
++ tail -n 4
+ revision='r126353 '
+ '[' '!' -z r126353 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite@r126353' $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite@r126353' $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44230.html
Merged revision(s) r126353 -r136056   from Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/UserSite' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserCredit'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserCredit'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserCredit'
+ rm -f /home/qishanqing/tmp/merged/output.14962
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserCredit'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserCredit'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserCredit'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserCredit'
+ mails-cm -i 'code merged from Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/UserCredit'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ awk -F '|' '{print$1}'
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserCredit'
+ revision=
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserCredit'
+ head='r137647 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserCredit'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r126354 '
+ '[' '!' -z r126354 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserCredit@r126354' $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserCredit' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserCredit@r126354' $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserCredit'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44230.html
Merged revision(s) r126354 -r137647   from Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/UserCredit' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ rm -f /home/qishanqing/tmp/merged/output.14962
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170707-理财线上快速授信/Develop/老系统/新达飞贷/网站中心/BossSite'
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ awk -F '|' '{print$1}'
+ revision='r131343 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r138154 '
+ '[' '!' -z r131343 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r131343' $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r131343' $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44230.html
Merged revision(s) r131343 -r138154   from Branch/20170707-理财线上快速授信/Develop/老系统/新达飞贷/网站中心/BossSite' --username qishanqing --password 372233
svn: E155015: 提交失败(细节如下): 
svn: E155015: 提交终止: “/home/qishanqing/workspace/code/Trunk/老系统/新达飞贷/网站中心/BossSite/WebRoot/customer/list.htm” 处于冲突状态
+ die 'Svn merged conflicts the reasons for failure are as follows'
+ echo 'Svn merged conflicts the reasons for failure are as follows'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.14962
+ echo
+ cat /home/qishanqing/tmp/merged/output.14962
+ rm -f /home/qishanqing/tmp/merged/output.14962
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170717-BaseCenter\344\274\230\345\214\226/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/BaseCenter'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/BaseCenter'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170717-BaseCenter\344\274\230\345\214\226/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/BaseCenter'
+ rm -f /home/qishanqing/tmp/merged/output.14962
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/BaseCenter'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170717-BaseCenter\344\274\230\345\214\226/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/BaseCenter'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/BaseCenter'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/BaseCenter'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170717-BaseCenter优化/Develop/基础业务/用户中心/BaseCenter'
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170717-BaseCenter\344\274\230\345\214\226/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/BaseCenter'
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170717-BaseCenter\344\274\230\345\214\226/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/BaseCenter'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r137638 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170717-BaseCenter\344\274\230\345\214\226/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/BaseCenter'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r128544 '
+ '[' '!' -z r128544 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170717-BaseCenter\344\274\230\345\214\226/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/BaseCenter@r128544' $'https://192.168.0.220/svn/tech/Branch/20170717-BaseCenter\344\274\230\345\214\226/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/BaseCenter' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170717-BaseCenter\344\274\230\345\214\226/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/BaseCenter@r128544' $'https://192.168.0.220/svn/tech/Branch/20170717-BaseCenter\344\274\230\345\214\226/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/BaseCenter'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44230.html
Merged revision(s) r128544 -r137638   from Branch/20170717-BaseCenter优化/Develop/基础业务/用户中心/BaseCenter' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170707-\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170707-\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ rm -f /home/qishanqing/tmp/merged/output.14962
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170707-\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170707-快速授信/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170707-\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
+ revision=
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170707-\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ head='r138113 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170707-\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r126347 '
+ '[' '!' -z r126347 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170707-\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r126347' $'https://192.168.0.220/svn/tech/Branch/20170707-\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' .
+ st='  树冲突：97'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\23297' ']'
+ die 'Svn merged conflicts the r126347 -r138113  from Branch/20170707-快速授信/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r126347 -r138113  from Branch/20170707-快速授信/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ test -e /home/qishanqing/tmp/merged/output.14962
+ rm -f /home/qishanqing/tmp/merged/output.14962
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44230.html
Merged revision(s) r126347 -r138113   from Branch/20170707-快速授信/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.9ms)
  Rendered merge/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 165916ms (Views: 161.6ms)


Completed 200 OK in 165916ms (Views: 161.6ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-17 14:02:06 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-17 14:02:06 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.6ms)
  Rendered builder/index.html.erb within layouts/application (3.6ms)
Completed 200 OK in 225ms (Views: 162.0ms)


Completed 200 OK in 225ms (Views: 162.0ms)


Started POST "/start" for 192.168.5.26 at 2017-08-17 14:02:49 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-17 14:02:49 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"分期商城/分期商城3.0/MallTaskBusiness 分期商城/分期商城3.0/MallBusiness 分期商城/分期商城3.0/MallBuyerBusiness", "branch"=>"商品分期服务费", "user"=>"", "extra_mails"=>"", "riqi"=>"20170815", "authenticity_token"=>"LVY1iY3YDsnXDeV4e2a9SxQEcAAHyeawlf05r9RNCOYsg5wcd/Qy7WfHTNB1SoNBM0hXmxAIHDLUwwXZFARsyQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"分期商城/分期商城3.0/MallTaskBusiness 分期商城/分期商城3.0/MallBusiness 分期商城/分期商城3.0/MallBuyerBusiness", "branch"=>"商品分期服务费", "user"=>"", "extra_mails"=>"", "riqi"=>"20170815", "authenticity_token"=>"LVY1iY3YDsnXDeV4e2a9SxQEcAAHyeawlf05r9RNCOYsg5wcd/Qy7WfHTNB1SoNBM0hXmxAIHDLUwwXZFARsyQ=="}
pid is 16090
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t '分期商城/分期商城3.0/MallTaskBusiness 分期商城/分期商城3.0/MallBusiness 分期商城/分期商城3.0/MallBuyerBusiness' -e qishanqing@dafy.com -E '' -b $'\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271' -T add -d 20170815
+ TEMP=' -u '\'''\'' -t '\''分期商城/分期商城3.0/MallTaskBusiness 分期商城/分期商城3.0/MallBusiness 分期商城/分期商城3.0/MallBuyerBusiness'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''商品分期服务费'\'' -T '\''add'\'' -d '\''20170815'\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''分期商城/分期商城3.0/MallTaskBusiness 分期商城/分期商城3.0/MallBusiness 分期商城/分期商城3.0/MallBuyerBusiness'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''商品分期服务费'\'' -T '\''add'\'' -d '\''20170815'\'' --'
++ set -- -u '' -t '分期商城/分期商城3.0/MallTaskBusiness 分期商城/分期商城3.0/MallBusiness 分期商城/分期商城3.0/MallBuyerBusiness' -e qishanqing@dafy.com -E '' -b $'\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271' -T add -d 20170815 --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk='分期商城/分期商城3.0/MallTaskBusiness 分期商城/分期商城3.0/MallBusiness 分期商城/分期商城3.0/MallBuyerBusiness'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=20170815
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness' $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness' $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 分期商城/分期商城3.0/MallTaskBusiness: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ for y in '$trunk'
++ echo $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
++ for y in '$trunk'
++ echo $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ trunks='分期商城/分期商城3.0/MallTaskBusiness
分期商城/分期商城3.0/MallBusiness
分期商城/分期商城3.0/MallBuyerBusiness'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness' ']'
+ '[' -z $'\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170817
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708171402
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170815-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708171402-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170815-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ awk -F / '{print $7}'
+ br=$'20170815-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271'
+ access=$'20170815-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness' $'https://192.168.0.220/svn/tech/Branch/20170815-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.16090
+ echo $'https://192.168.0.220/svn/tech/Branch/20170815-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallTaskBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170815-商品分期服务费/Develop/分期商城/分期商城3.0/MallTaskBusiness'\'',now(),'\''qishanqing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallTaskBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170815-商品分期服务费/Develop/分期商城/分期商城3.0/MallTaskBusiness'\'',now(),'\''qishanqing'\'');'
+ cat /tmp/cmdb.db.16090
+ rm -f /tmp/cmdb.db.16090
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170815-商品分期服务费] /svn/authz.conf'
+ read num
+ '[' 1 -eq 0 ']'
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness' ']'
+ '[' -z $'\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170817
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708171402
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170815-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708171402-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170815-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
++ awk -F / '{print $7}'
+ br=$'20170815-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271'
+ access=$'20170815-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness' $'https://192.168.0.220/svn/tech/Branch/20170815-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.16090
+ echo $'https://192.168.0.220/svn/tech/Branch/20170815-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170815-商品分期服务费/Develop/分期商城/分期商城3.0/MallBusiness'\'',now(),'\''qishanqing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170815-商品分期服务费/Develop/分期商城/分期商城3.0/MallBusiness'\'',now(),'\''qishanqing'\'');'
+ cat /tmp/cmdb.db.16090
+ rm -f /tmp/cmdb.db.16090
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170815-商品分期服务费] /svn/authz.conf'
+ read num
+ '[' 1 -eq 0 ']'
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness' ']'
+ '[' -z $'\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170817
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708171402
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170815-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708171402-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170815-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
++ awk -F / '{print $7}'
+ br=$'20170815-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271'
+ access=$'20170815-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness' $'https://192.168.0.220/svn/tech/Branch/20170815-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.16090
+ echo $'https://192.168.0.220/svn/tech/Branch/20170815-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallBuyerBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170815-商品分期服务费/Develop/分期商城/分期商城3.0/MallBuyerBusiness'\'',now(),'\''qishanqing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallBuyerBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170815-商品分期服务费/Develop/分期商城/分期商城3.0/MallBuyerBusiness'\'',now(),'\''qishanqing'\'');'
+ cat /tmp/cmdb.db.16090
+ rm -f /tmp/cmdb.db.16090
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170815-商品分期服务费] /svn/authz.conf'
+ read num
+ '[' 1 -eq 0 ']'
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 3743ms (Views: 82.4ms)


Completed 200 OK in 3743ms (Views: 82.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-17 14:07:43 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-17 14:07:43 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.6ms)
  Rendered builder/index.html.erb within layouts/application (4.6ms)
Completed 200 OK in 181ms (Views: 176.6ms)


Completed 200 OK in 181ms (Views: 176.6ms)


Started POST "/start" for 192.168.5.26 at 2017-08-17 14:08:40 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-17 14:08:40 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"wanghaitao@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "branch"=>"商城服务费", "user"=>"wangxia  wanghaitao yiwangcheng", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"Df2O7j7czm8mVh7ulgzSulDBdz5qPnDgX76EOuK+tvQMKCd7xPDyS5act0aYIOywd41QpX3/imIegLhMIvfS2w=="}
  Parameters: {"email"=>"wanghaitao@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "branch"=>"商城服务费", "user"=>"wangxia  wanghaitao yiwangcheng", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"Df2O7j7czm8mVh7ulgzSulDBdz5qPnDgX76EOuK+tvQMKCd7xPDyS5act0aYIOywd41QpX3/imIegLhMIvfS2w=="}
pid is 16605
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'wangxia  wanghaitao yiwangcheng' -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -e wanghaitao@dafy.com -E '' -b $'\345\225\206\345\237\216\346\234\215\345\212\241\350\264\271' -T add -d ''
+ TEMP=' -u '\''wangxia  wanghaitao yiwangcheng'\'' -t '\''前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -e '\''wanghaitao@dafy.com'\'' -E '\'''\'' -b '\''商城服务费'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''wangxia  wanghaitao yiwangcheng'\'' -t '\''前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -e '\''wanghaitao@dafy.com'\'' -E '\'''\'' -b '\''商城服务费'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'wangxia  wanghaitao yiwangcheng' -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -e wanghaitao@dafy.com -E '' -b $'\345\225\206\345\237\216\346\234\215\345\212\241\350\264\271' -T add -d '' --
+ true
+ case "$1" in
+ user='wangxia  wanghaitao yiwangcheng'
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ shift 2
+ true
+ case "$1" in
+ email=wanghaitao@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\345\225\206\345\237\216\346\234\215\345\212\241\350\264\271'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=wanghaitao@dafy.com '
+ SMARTCM_EXTRA_MAIL='wanghaitao@dafy.com '
++ wangxia wanghaitao yiwangcheng
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: wangxia: command not found
++ for x in '$user'
++ echo wangxia=rw
++ for x in '$user'
++ echo wanghaitao=rw
++ for x in '$user'
++ echo yiwangcheng=rw
+ users='wangxia=rw
wanghaitao=rw
yiwangcheng=rw'
++ $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ trunks=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' ']'
+ '[' -z $'\345\225\206\345\237\216\346\234\215\345\212\241\350\264\271' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170817
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708171408
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170817-\345\225\206\345\237\216\346\234\215\345\212\241\350\264\271/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\225\206\345\237\216\346\234\215\345\212\241\350\264\271'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708171408-\345\225\206\345\237\216\346\234\215\345\212\241\350\264\271'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170817-\345\225\206\345\237\216\346\234\215\345\212\241\350\264\271/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F / '{print $7}'
+ br=$'20170817-\345\225\206\345\237\216\346\234\215\345\212\241\350\264\271'
+ access=$'20170817-\345\225\206\345\237\216\346\234\215\345\212\241\350\264\271'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' $'https://192.168.0.220/svn/tech/Branch/20170817-\345\225\206\345\237\216\346\234\215\345\212\241\350\264\271/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.16605
+ echo $'https://192.168.0.220/svn/tech/Branch/20170817-\345\225\206\345\237\216\346\234\215\345\212\241\350\264\271/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'', '\''https://192.168.0.220/svn/tech/Branch/20170817-商城服务费/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'',now(),'\''wanghaitao'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'', '\''https://192.168.0.220/svn/tech/Branch/20170817-商城服务费/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'',now(),'\''wanghaitao'\'');'
+ cat /tmp/cmdb.db.16605
+ rm -f /tmp/cmdb.db.16605
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170817-商城服务费] /svn/authz.conf'
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z 'wangxia=rw
wanghaitao=rw
yiwangcheng=rw'
+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (49.7ms)
  Rendered builder/new.html.erb within layouts/application (49.7ms)
Completed 200 OK in 5153ms (Views: 106.0ms)


Completed 200 OK in 5153ms (Views: 106.0ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-17 17:59:39 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-17 17:59:39 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (621.0ms)
  Rendered builder/index.html.erb within layouts/application (621.0ms)
Started GET "/merge/index" for 192.168.5.26 at 2017-08-17 17:59:47 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-17 17:59:47 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (16.1ms)
  Rendered merge/index.html.erb within layouts/application (16.1ms)
Completed 200 OK in 691ms (Views: 457.3ms)


Completed 200 OK in 691ms (Views: 457.3ms)


Completed 200 OK in 8000ms (Views: 7518.1ms)


Completed 200 OK in 8000ms (Views: 7518.1ms)


Started POST "/start" for 192.168.5.26 at 2017-08-17 18:01:00 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-17 18:01:00 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"hexiangtao@dafy.com", "types"=>"add", "trunk"=>"分期商城/分期商城3.0/MallManageOrderBusiness 分期商城/分期商城3.0/MallTaskBusiness", "branch"=>"商城前台用户在线申请退款", "user"=>"@Tech-Front-Dev-chenhongan", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"ChZgYhohocyLQVO9c8pszrAWovuHrGoITxytA8PMEx0Lw8n34A2d6DuL+hV95lLEl1qFYJBtkIoOIpF1A4V3Mg=="}
  Parameters: {"email"=>"hexiangtao@dafy.com", "types"=>"add", "trunk"=>"分期商城/分期商城3.0/MallManageOrderBusiness 分期商城/分期商城3.0/MallTaskBusiness", "branch"=>"商城前台用户在线申请退款", "user"=>"@Tech-Front-Dev-chenhongan", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"ChZgYhohocyLQVO9c8pszrAWovuHrGoITxytA8PMEx0Lw8n34A2d6DuL+hV95lLEl1qFYJBtkIoOIpF1A4V3Mg=="}
pid is 31391
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u @Tech-Front-Dev-chenhongan -t '分期商城/分期商城3.0/MallManageOrderBusiness 分期商城/分期商城3.0/MallTaskBusiness' -e hexiangtao@dafy.com -E '' -b $'\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276' -T add -d ''
+ TEMP=' -u '\''@Tech-Front-Dev-chenhongan'\'' -t '\''分期商城/分期商城3.0/MallManageOrderBusiness 分期商城/分期商城3.0/MallTaskBusiness'\'' -e '\''hexiangtao@dafy.com'\'' -E '\'''\'' -b '\''商城前台用户在线申请退款'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''@Tech-Front-Dev-chenhongan'\'' -t '\''分期商城/分期商城3.0/MallManageOrderBusiness 分期商城/分期商城3.0/MallTaskBusiness'\'' -e '\''hexiangtao@dafy.com'\'' -E '\'''\'' -b '\''商城前台用户在线申请退款'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u @Tech-Front-Dev-chenhongan -t '分期商城/分期商城3.0/MallManageOrderBusiness 分期商城/分期商城3.0/MallTaskBusiness' -e hexiangtao@dafy.com -E '' -b $'\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276' -T add -d '' --
+ true
+ case "$1" in
+ user=@Tech-Front-Dev-chenhongan
+ shift 2
+ true
+ case "$1" in
+ trunk='分期商城/分期商城3.0/MallManageOrderBusiness 分期商城/分期商城3.0/MallTaskBusiness'
+ shift 2
+ true
+ case "$1" in
+ email=hexiangtao@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=hexiangtao@dafy.com '
+ SMARTCM_EXTRA_MAIL='hexiangtao@dafy.com '
++ @Tech-Front-Dev-chenhongan
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: @Tech-Front-Dev-chenhongan: command not found
++ for x in '$user'
++ echo @Tech-Front-Dev-chenhongan=rw
+ users=@Tech-Front-Dev-chenhongan=rw
++ $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness' $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 分期商城/分期商城3.0/MallManageOrderBusiness: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
++ for y in '$trunk'
++ echo $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ trunks='分期商城/分期商城3.0/MallManageOrderBusiness
分期商城/分期商城3.0/MallTaskBusiness'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness' ']'
+ '[' -z $'\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170817
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708171801
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708171801-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
++ awk -F / '{print $7}'
+ br=$'20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
+ access=$'20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness' $'https://192.168.0.220/svn/tech/Branch/20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.31391
+ echo $'https://192.168.0.220/svn/tech/Branch/20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallManageOrderBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170817-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallManageOrderBusiness'\'',now(),'\''hexiangtao'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallManageOrderBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170817-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallManageOrderBusiness'\'',now(),'\''hexiangtao'\'');'
+ cat /tmp/cmdb.db.31391
+ rm -f /tmp/cmdb.db.31391
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170817-商城前台用户在线申请退款] /svn/authz.conf'
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z @Tech-Front-Dev-chenhongan=rw
+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness' ']'
+ '[' -z $'\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170817
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708171801
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708171801-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ awk -F / '{print $7}'
+ br=$'20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
+ access=$'20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness' $'https://192.168.0.220/svn/tech/Branch/20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.31391
+ echo $'https://192.168.0.220/svn/tech/Branch/20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallTaskBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170817-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallTaskBusiness'\'',now(),'\''hexiangtao'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallTaskBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170817-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallTaskBusiness'\'',now(),'\''hexiangtao'\'');'
+ cat /tmp/cmdb.db.31391
+ rm -f /tmp/cmdb.db.31391
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170817-商城前台用户在线申请退款] /svn/authz.conf'
+ read num
+ '[' 1 -eq 0 ']'
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (0.9ms)
  Rendered builder/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 11428ms (Views: 33.2ms)


Completed 200 OK in 11428ms (Views: 33.2ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-17 20:30:00 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-17 20:30:00 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (9.0ms)
  Rendered builder/index.html.erb within layouts/application (9.0ms)
Completed 200 OK in 133ms (Views: 130.2ms)


Completed 200 OK in 133ms (Views: 130.2ms)


Started POST "/start" for 192.168.5.26 at 2017-08-17 20:30:47 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-17 20:30:47 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"niutieliang@dafy.com", "types"=>"add", "trunk"=>"外部业务/卓越资金方/DFPBorrowBusiness", "branch"=>"金融平台项目分支开发", "user"=>"niutieliang", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"Hpa5x02KQdg1P4z6zd+f2Qyvep2bLdYlpXaLyvgZf/wfQxBSt6Z9/IX1JVLD86HTK+NdBozsLKfkSLe8OFAb0w=="}
  Parameters: {"email"=>"niutieliang@dafy.com", "types"=>"add", "trunk"=>"外部业务/卓越资金方/DFPBorrowBusiness", "branch"=>"金融平台项目分支开发", "user"=>"niutieliang", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"Hpa5x02KQdg1P4z6zd+f2Qyvep2bLdYlpXaLyvgZf/wfQxBSt6Z9/IX1JVLD86HTK+NdBozsLKfkSLe8OFAb0w=="}
pid is 5566
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u niutieliang -t $'\345\244\226\351\203\250\344\270\232\345\212\241/\345\215\223\350\266\212\350\265\204\351\207\221\346\226\271/DFPBorrowBusiness' -e niutieliang@dafy.com -E '' -b $'\351\207\221\350\236\215\345\271\263\345\217\260\351\241\271\347\233\256\345\210\206\346\224\257\345\274\200\345\217\221' -T add -d ''
+ TEMP=' -u '\''niutieliang'\'' -t '\''外部业务/卓越资金方/DFPBorrowBusiness'\'' -e '\''niutieliang@dafy.com'\'' -E '\'''\'' -b '\''金融平台项目分支开发'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''niutieliang'\'' -t '\''外部业务/卓越资金方/DFPBorrowBusiness'\'' -e '\''niutieliang@dafy.com'\'' -E '\'''\'' -b '\''金融平台项目分支开发'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u niutieliang -t $'\345\244\226\351\203\250\344\270\232\345\212\241/\345\215\223\350\266\212\350\265\204\351\207\221\346\226\271/DFPBorrowBusiness' -e niutieliang@dafy.com -E '' -b $'\351\207\221\350\236\215\345\271\263\345\217\260\351\241\271\347\233\256\345\210\206\346\224\257\345\274\200\345\217\221' -T add -d '' --
+ true
+ case "$1" in
+ user=niutieliang
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\244\226\351\203\250\344\270\232\345\212\241/\345\215\223\350\266\212\350\265\204\351\207\221\346\226\271/DFPBorrowBusiness'
+ shift 2
+ true
+ case "$1" in
+ email=niutieliang@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\351\207\221\350\236\215\345\271\263\345\217\260\351\241\271\347\233\256\345\210\206\346\224\257\345\274\200\345\217\221'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=niutieliang@dafy.com '
+ SMARTCM_EXTRA_MAIL='niutieliang@dafy.com '
++ niutieliang
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: niutieliang: command not found
++ for x in '$user'
++ echo niutieliang=rw
+ users=niutieliang=rw
++ $'\345\244\226\351\203\250\344\270\232\345\212\241/\345\215\223\350\266\212\350\265\204\351\207\221\346\226\271/DFPBorrowBusiness'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 外部业务/卓越资金方/DFPBorrowBusiness: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/\345\215\223\350\266\212\350\265\204\351\207\221\346\226\271/DFPBorrowBusiness'
+ trunks=$'\345\244\226\351\203\250\344\270\232\345\212\241/\345\215\223\350\266\212\350\265\204\351\207\221\346\226\271/DFPBorrowBusiness'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/\345\215\223\350\266\212\350\265\204\351\207\221\346\226\271/DFPBorrowBusiness' ']'
+ '[' -z $'\351\207\221\350\236\215\345\271\263\345\217\260\351\241\271\347\233\256\345\210\206\346\224\257\345\274\200\345\217\221' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170817
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708172030
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/\345\215\223\350\266\212\350\265\204\351\207\221\346\226\271/DFPBorrowBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170817-\351\207\221\350\236\215\345\271\263\345\217\260\351\241\271\347\233\256\345\210\206\346\224\257\345\274\200\345\217\221/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/\345\215\223\350\266\212\350\265\204\351\207\221\346\226\271/DFPBorrowBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\351\207\221\350\236\215\345\271\263\345\217\260\351\241\271\347\233\256\345\210\206\346\224\257\345\274\200\345\217\221'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708172030-\351\207\221\350\236\215\345\271\263\345\217\260\351\241\271\347\233\256\345\210\206\346\224\257\345\274\200\345\217\221'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170817-\351\207\221\350\236\215\345\271\263\345\217\260\351\241\271\347\233\256\345\210\206\346\224\257\345\274\200\345\217\221/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/\345\215\223\350\266\212\350\265\204\351\207\221\346\226\271/DFPBorrowBusiness'
++ awk -F / '{print $7}'
+ br=$'20170817-\351\207\221\350\236\215\345\271\263\345\217\260\351\241\271\347\233\256\345\210\206\346\224\257\345\274\200\345\217\221'
+ access=$'20170817-\351\207\221\350\236\215\345\271\263\345\217\260\351\241\271\347\233\256\345\210\206\346\224\257\345\274\200\345\217\221'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/\345\215\223\350\266\212\350\265\204\351\207\221\346\226\271/DFPBorrowBusiness' $'https://192.168.0.220/svn/tech/Branch/20170817-\351\207\221\350\236\215\345\271\263\345\217\260\351\241\271\347\233\256\345\210\206\346\224\257\345\274\200\345\217\221/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/\345\215\223\350\266\212\350\265\204\351\207\221\346\226\271/DFPBorrowBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.5566
+ echo $'https://192.168.0.220/svn/tech/Branch/20170817-\351\207\221\350\236\215\345\271\263\345\217\260\351\241\271\347\233\256\345\210\206\346\224\257\345\274\200\345\217\221/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/\345\215\223\350\266\212\350\265\204\351\207\221\346\226\271/DFPBorrowBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/卓越资金方/DFPBorrowBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170817-金融平台项目分支开发/Develop/外部业务/卓越资金方/DFPBorrowBusiness'\'',now(),'\''niutieliang'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/卓越资金方/DFPBorrowBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170817-金融平台项目分支开发/Develop/外部业务/卓越资金方/DFPBorrowBusiness'\'',now(),'\''niutieliang'\'');'
+ cat /tmp/cmdb.db.5566
+ rm -f /tmp/cmdb.db.5566
+ check-acces
+ read num
+ ssh root@192.168.0.220 'grep -c 20170817-金融平台项目分支开发] /svn/authz.conf'
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z niutieliang=rw
+ cat
+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.1ms)
  Rendered builder/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 5932ms (Views: 47.4ms)


Completed 200 OK in 5932ms (Views: 47.4ms)


Started GET "/start" for 192.168.5.26 at 2017-08-18 09:16:45 +0800
Started GET "/start" for 192.168.5.26 at 2017-08-18 09:16:45 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  
  
ActionController::RoutingError (No route matches [GET] "/start"):
ActionController::RoutingError (No route matches [GET] "/start"):
  
  
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 192.168.5.26 at 2017-08-18 09:29:19 +0800
Started GET "/" for 192.168.5.26 at 2017-08-18 09:29:19 +0800
Started GET "/" for 192.168.5.26 at 2017-08-18 09:29:19 +0800
Started GET "/" for 192.168.5.26 at 2017-08-18 09:29:19 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (10.0ms)
  Rendered builder/index.html.erb within layouts/application (10.0ms)
  Rendered builder/index.html.erb within layouts/application (64.9ms)
  Rendered builder/index.html.erb within layouts/application (64.9ms)
Completed 200 OK in 761ms (Views: 743.0ms)


Completed 200 OK in 761ms (Views: 743.0ms)


Completed 200 OK in 786ms (Views: 736.4ms)


Completed 200 OK in 786ms (Views: 736.4ms)


Started POST "/start" for 192.168.5.26 at 2017-08-18 09:30:11 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-18 09:30:11 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"liuxuxing@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/BorrowBusiness2", "branch"=>"账单写入订单号", "user"=>"liuxuxing huqiangsheng", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"wQmvBE8XlAXFuQ2lb/kgSWppBEjC9Q8uz8TNGox9NChOR982ShQqJ9VL/WIDVCph4EXMI0yKP0Bre8eRKl8FgQ=="}
  Parameters: {"email"=>"liuxuxing@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/BorrowBusiness2", "branch"=>"账单写入订单号", "user"=>"liuxuxing huqiangsheng", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"wQmvBE8XlAXFuQ2lb/kgSWppBEjC9Q8uz8TNGox9NChOR982ShQqJ9VL/WIDVCph4EXMI0yKP0Bre8eRKl8FgQ=="}
Filter chain halted as #<Proc:0x00000004f12940@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Filter chain halted as #<Proc:0x00000004f12940@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Completed 401 Unauthorized in 24ms


Completed 401 Unauthorized in 24ms


Started POST "/start" for 192.168.5.26 at 2017-08-18 09:30:13 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-18 09:30:13 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"liuxuxing@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/BorrowBusiness2", "branch"=>"账单写入订单号", "user"=>"liuxuxing huqiangsheng", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"wQmvBE8XlAXFuQ2lb/kgSWppBEjC9Q8uz8TNGox9NChOR982ShQqJ9VL/WIDVCph4EXMI0yKP0Bre8eRKl8FgQ=="}
  Parameters: {"email"=>"liuxuxing@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/BorrowBusiness2", "branch"=>"账单写入订单号", "user"=>"liuxuxing huqiangsheng", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"wQmvBE8XlAXFuQ2lb/kgSWppBEjC9Q8uz8TNGox9NChOR982ShQqJ9VL/WIDVCph4EXMI0yKP0Bre8eRKl8FgQ=="}
pid is 30256
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'liuxuxing huqiangsheng' -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' -e liuxuxing@dafy.com -E '' -b $'\350\264\246\345\215\225\345\206\231\345\205\245\350\256\242\345\215\225\345\217\267' -T add -d ''
+ TEMP=' -u '\''liuxuxing huqiangsheng'\'' -t '\''外部业务/P2P/Business/BorrowBusiness2'\'' -e '\''liuxuxing@dafy.com'\'' -E '\'''\'' -b '\''账单写入订单号'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''liuxuxing huqiangsheng'\'' -t '\''外部业务/P2P/Business/BorrowBusiness2'\'' -e '\''liuxuxing@dafy.com'\'' -E '\'''\'' -b '\''账单写入订单号'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'liuxuxing huqiangsheng' -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' -e liuxuxing@dafy.com -E '' -b $'\350\264\246\345\215\225\345\206\231\345\205\245\350\256\242\345\215\225\345\217\267' -T add -d '' --
+ true
+ case "$1" in
+ user='liuxuxing huqiangsheng'
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ shift 2
+ true
+ case "$1" in
+ email=liuxuxing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\350\264\246\345\215\225\345\206\231\345\205\245\350\256\242\345\215\225\345\217\267'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=liuxuxing@dafy.com '
+ SMARTCM_EXTRA_MAIL='liuxuxing@dafy.com '
++ liuxuxing huqiangsheng
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: liuxuxing: command not found
++ for x in '$user'
++ echo liuxuxing=rw
++ for x in '$user'
++ echo huqiangsheng=rw
+ users='liuxuxing=rw
huqiangsheng=rw'
++ $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 外部业务/P2P/Business/BorrowBusiness2: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ trunks=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' ']'
+ '[' -z $'\350\264\246\345\215\225\345\206\231\345\205\245\350\256\242\345\215\225\345\217\267' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170818
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708180930
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170818-\350\264\246\345\215\225\345\206\231\345\205\245\350\256\242\345\215\225\345\217\267/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\350\264\246\345\215\225\345\206\231\345\205\245\350\256\242\345\215\225\345\217\267'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708180930-\350\264\246\345\215\225\345\206\231\345\205\245\350\256\242\345\215\225\345\217\267'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170818-\350\264\246\345\215\225\345\206\231\345\205\245\350\256\242\345\215\225\345\217\267/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ awk -F / '{print $7}'
+ br=$'20170818-\350\264\246\345\215\225\345\206\231\345\205\245\350\256\242\345\215\225\345\217\267'
+ access=$'20170818-\350\264\246\345\215\225\345\206\231\345\205\245\350\256\242\345\215\225\345\217\267'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' $'https://192.168.0.220/svn/tech/Branch/20170818-\350\264\246\345\215\225\345\206\231\345\205\245\350\256\242\345\215\225\345\217\267/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.30256
+ echo $'https://192.168.0.220/svn/tech/Branch/20170818-\350\264\246\345\215\225\345\206\231\345\205\245\350\256\242\345\215\225\345\217\267/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BorrowBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170818-账单写入订单号/Develop/外部业务/P2P/Business/BorrowBusiness2'\'',now(),'\''liuxuxing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BorrowBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170818-账单写入订单号/Develop/外部业务/P2P/Business/BorrowBusiness2'\'',now(),'\''liuxuxing'\'');'
+ cat /tmp/cmdb.db.30256
+ rm -f /tmp/cmdb.db.30256
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170818-账单写入订单号] /svn/authz.conf'
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z 'liuxuxing=rw
huqiangsheng=rw'
+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.1ms)
  Rendered builder/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 8023ms (Views: 48.1ms)


Completed 200 OK in 8023ms (Views: 48.1ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-18 09:33:23 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-18 09:33:23 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/ClientPocketHTML https://192.168.0.220/svn/tech/Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/PocketBusiness https://192.168.0.220/svn/tech/Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/PocketCenter https://192.168.0.220/svn/tech/Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/PocketWapCenter", "task"=>"http://192.168.0.221/zentao/task-view-44300.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"P81EforN5+GCfQ4xIelVZEPQX4Jdikvfb3zx3HZmsg0+GO3rcOHbxTK3p5kvxWtuZJx4GUpLsV0uQs2qti/WIg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/ClientPocketHTML https://192.168.0.220/svn/tech/Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/PocketBusiness https://192.168.0.220/svn/tech/Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/PocketCenter https://192.168.0.220/svn/tech/Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/PocketWapCenter", "task"=>"http://192.168.0.221/zentao/task-view-44300.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"P81EforN5+GCfQ4xIelVZEPQX4Jdikvfb3zx3HZmsg0+GO3rcOHbxTK3p5kvxWtuZJx4GUpLsV0uQs2qti/WIg=="}
Can't verify CSRF token authenticity.
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 43ms


Completed 422 Unprocessable Entity in 43ms


  
  
ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  
  
actionpack (5.1.1) lib/action_controller/metal/request_forgery_protection.rb:195:in `handle_unverified_request'
actionpack (5.1.1) lib/action_controller/metal/request_forgery_protection.rb:227:in `handle_unverified_request'
actionpack (5.1.1) lib/action_controller/metal/request_forgery_protection.rb:222:in `verify_authenticity_token'
activesupport (5.1.1) lib/active_support/callbacks.rb:413:in `block in make_lambda'
activesupport (5.1.1) lib/active_support/callbacks.rb:197:in `block (2 levels) in halting'
actionpack (5.1.1) lib/abstract_controller/callbacks.rb:12:in `block (2 levels) in <module:Callbacks>'
activesupport (5.1.1) lib/active_support/callbacks.rb:198:in `block in halting'
activesupport (5.1.1) lib/active_support/callbacks.rb:507:in `block in invoke_before'
activesupport (5.1.1) lib/active_support/callbacks.rb:507:in `each'
activesupport (5.1.1) lib/active_support/callbacks.rb:507:in `invoke_before'
activesupport (5.1.1) lib/active_support/callbacks.rb:130:in `run_callbacks'
actionpack (5.1.1) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.1.1) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.1.1) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.1.1) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.1) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.1) lib/active_support/notifications.rb:166:in `instrument'
actionpack (5.1.1) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.1.1) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
activerecord (5.1.1) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
actionpack (5.1.1) lib/abstract_controller/base.rb:124:in `process'
actionview (5.1.1) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.1) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.1) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.1) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.1) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.1) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.1) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.1) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.1) lib/action_dispatch/routing/route_set.rb:832:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.1) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.1) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.1) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
actionpack (5.1.1) lib/action_controller/metal/request_forgery_protection.rb:195:in `handle_unverified_request'
actionpack (5.1.1) lib/action_controller/metal/request_forgery_protection.rb:227:in `handle_unverified_request'
actionpack (5.1.1) lib/action_controller/metal/request_forgery_protection.rb:222:in `verify_authenticity_token'
activesupport (5.1.1) lib/active_support/callbacks.rb:413:in `block in make_lambda'
activesupport (5.1.1) lib/active_support/callbacks.rb:197:in `block (2 levels) in halting'
actionpack (5.1.1) lib/abstract_controller/callbacks.rb:12:in `block (2 levels) in <module:Callbacks>'
activesupport (5.1.1) lib/active_support/callbacks.rb:198:in `block in halting'
activesupport (5.1.1) lib/active_support/callbacks.rb:507:in `block in invoke_before'
activesupport (5.1.1) lib/active_support/callbacks.rb:507:in `each'
activesupport (5.1.1) lib/active_support/callbacks.rb:507:in `invoke_before'
activesupport (5.1.1) lib/active_support/callbacks.rb:130:in `run_callbacks'
actionpack (5.1.1) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.1.1) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.1.1) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.1.1) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.1) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.1) lib/active_support/notifications.rb:166:in `instrument'
actionpack (5.1.1) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.1.1) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
activerecord (5.1.1) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
actionpack (5.1.1) lib/abstract_controller/base.rb:124:in `process'
actionview (5.1.1) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.1) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.1) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.1) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.1) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.1) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.1) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.1) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.1) lib/action_dispatch/routing/route_set.rb:832:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.1) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.1) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.1) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/merge" for 192.168.5.26 at 2017-08-18 09:33:28 +0800
Started GET "/merge" for 192.168.5.26 at 2017-08-18 09:33:28 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (9.8ms)
  Rendered merge/index.html.erb within layouts/application (9.8ms)
Completed 200 OK in 107ms (Views: 72.4ms)


Completed 200 OK in 107ms (Views: 72.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-18 09:34:14 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-18 09:34:14 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/ClientPocketHTML https://192.168.0.220/svn/tech/Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/PocketBusiness https://192.168.0.220/svn/tech/Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/PocketCenter https://192.168.0.220/svn/tech/Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/PocketWapCenter", "task"=>"http://192.168.0.221/zentao/task-view-44300.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"cX6YKK7fEbw7VubPhKw8c79DNv2nzAU+Yf+sojoN8EH+MOgaq9yvniukFgjoATZbNW/+limzNVDFQKYpnC/B6A=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/ClientPocketHTML https://192.168.0.220/svn/tech/Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/PocketBusiness https://192.168.0.220/svn/tech/Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/PocketCenter https://192.168.0.220/svn/tech/Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/PocketWapCenter", "task"=>"http://192.168.0.221/zentao/task-view-44300.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"cX6YKK7fEbw7VubPhKw8c79DNv2nzAU+Yf+sojoN8EH+MOgaq9yvniukFgjoATZbNW/+limzNVDFQKYpnC/B6A=="}
pid is 30395
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-44300.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/ClientPocketHTML https://192.168.0.220/svn/tech/Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/PocketBusiness https://192.168.0.220/svn/tech/Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/PocketCenter https://192.168.0.220/svn/tech/Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/PocketWapCenter' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-44300.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/ClientPocketHTML https://192.168.0.220/svn/tech/Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/PocketBusiness https://192.168.0.220/svn/tech/Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/PocketCenter https://192.168.0.220/svn/tech/Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/PocketWapCenter'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-44300.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/ClientPocketHTML https://192.168.0.220/svn/tech/Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/PocketBusiness https://192.168.0.220/svn/tech/Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/PocketCenter https://192.168.0.220/svn/tech/Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/PocketWapCenter'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-44300.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/ClientPocketHTML https://192.168.0.220/svn/tech/Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/PocketBusiness https://192.168.0.220/svn/tech/Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/PocketCenter https://192.168.0.220/svn/tech/Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/PocketWapCenter' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-44300.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/ClientPocketHTML https://192.168.0.220/svn/tech/Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/PocketBusiness https://192.168.0.220/svn/tech/Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/PocketCenter https://192.168.0.220/svn/tech/Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/PocketWapCenter'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170505-\346\241\206\346\236\266\345\215\207\347\272\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/ClientPocketHTML' $'https://192.168.0.220/svn/tech/Branch/20170505-\346\241\206\346\236\266\345\215\207\347\272\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketBusiness' $'https://192.168.0.220/svn/tech/Branch/20170505-\346\241\206\346\236\266\345\215\207\347\272\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter' $'https://192.168.0.220/svn/tech/Branch/20170505-\346\241\206\346\236\266\345\215\207\347\272\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketWapCenter'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/ClientPocketHTML: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170505-\346\241\206\346\236\266\345\215\207\347\272\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/ClientPocketHTML'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170505-\346\241\206\346\236\266\345\215\207\347\272\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170505-\346\241\206\346\236\266\345\215\207\347\272\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170505-\346\241\206\346\236\266\345\215\207\347\272\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketWapCenter'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/ClientPocketHTML
https://192.168.0.220/svn/tech/Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/PocketBusiness
https://192.168.0.220/svn/tech/Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/PocketCenter
https://192.168.0.220/svn/tech/Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/PocketWapCenter'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170505-\346\241\206\346\236\266\345\215\207\347\272\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/ClientPocketHTML'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/ClientPocketHTML'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170505-\346\241\206\346\236\266\345\215\207\347\272\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/ClientPocketHTML'
+ rm -f /home/qishanqing/tmp/merged/output.30395
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/ClientPocketHTML'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170505-\346\241\206\346\236\266\345\215\207\347\272\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/ClientPocketHTML'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/ClientPocketHTML'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/ClientPocketHTML'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/ClientPocketHTML'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170505-\346\241\206\346\236\266\345\215\207\347\272\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/ClientPocketHTML'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r128116 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170505-\346\241\206\346\236\266\345\215\207\347\272\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/ClientPocketHTML'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r138114 '
+ '[' '!' -z r128116 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170505-\346\241\206\346\236\266\345\215\207\347\272\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/ClientPocketHTML@r128116' $'https://192.168.0.220/svn/tech/Branch/20170505-\346\241\206\346\236\266\345\215\207\347\272\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/ClientPocketHTML' .
+ st='  树冲突：26'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\23226' ']'
+ die 'Svn merged conflicts the r128116 -r138114  from Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/ClientPocketHTML'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r128116 -r138114  from Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/ClientPocketHTML'
+ test -e /home/qishanqing/tmp/merged/output.30395
+ rm -f /home/qishanqing/tmp/merged/output.30395
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44300.html
Merged revision(s) r128116 -r138114   from Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/ClientPocketHTML' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170505-\346\241\206\346\236\266\345\215\207\347\272\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170505-\346\241\206\346\236\266\345\215\207\347\272\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.30395
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170505-\346\241\206\346\236\266\345\215\207\347\272\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketBusiness'
+ mails-cm -i 'code merged from Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/PocketBusiness'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170505-\346\241\206\346\236\266\345\215\207\347\272\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketBusiness'
++ awk -F '|' '{print$1}'
+ revision='r128113 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170505-\346\241\206\346\236\266\345\215\207\347\272\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r137642 '
+ '[' '!' -z r128113 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170505-\346\241\206\346\236\266\345\215\207\347\272\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketBusiness@r128113' $'https://192.168.0.220/svn/tech/Branch/20170505-\346\241\206\346\236\266\345\215\207\347\272\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：4'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2324' ']'
+ die 'Svn merged conflicts the r128113 -r137642  from Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/PocketBusiness'
+ echo 'Svn merged conflicts the r128113 -r137642  from Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/PocketBusiness'
+ test -e /home/qishanqing/tmp/merged/output.30395
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.30395
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44300.html
Merged revision(s) r128113 -r137642   from Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/PocketBusiness' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170505-\346\241\206\346\236\266\345\215\207\347\272\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170505-\346\241\206\346\236\266\345\215\207\347\272\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter'
+ rm -f /home/qishanqing/tmp/merged/output.30395
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170505-\346\241\206\346\236\266\345\215\207\347\272\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/PocketCenter'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170505-\346\241\206\346\236\266\345\215\207\347\272\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170505-\346\241\206\346\236\266\345\215\207\347\272\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r135605 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170505-\346\241\206\346\236\266\345\215\207\347\272\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r112782 '
+ '[' '!' -z r112782 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170505-\346\241\206\346\236\266\345\215\207\347\272\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter@r112782' $'https://192.168.0.220/svn/tech/Branch/20170505-\346\241\206\346\236\266\345\215\207\347\272\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170505-\346\241\206\346\236\266\345\215\207\347\272\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter@r112782' $'https://192.168.0.220/svn/tech/Branch/20170505-\346\241\206\346\236\266\345\215\207\347\272\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44300.html
Merged revision(s) r112782 -r135605   from Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/PocketCenter' --username qishanqing --password 372233
svn: E155015: 提交失败(细节如下): 
svn: E155015: 提交终止: “/home/qishanqing/workspace/code/Trunk/前端业务/口袋助手3.0/PocketCenter/config/NodeList.xml” 处于冲突状态
+ die 'Svn merged conflicts the reasons for failure are as follows'
+ echo 'Svn merged conflicts the reasons for failure are as follows'
+ test -e /home/qishanqing/tmp/merged/output.30395
+ mails-cm -i 'svn merged faild'
+ echo
+ cat /home/qishanqing/tmp/merged/output.30395
+ rm -f /home/qishanqing/tmp/merged/output.30395
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170505-\346\241\206\346\236\266\345\215\207\347\272\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketWapCenter'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketWapCenter'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170505-\346\241\206\346\236\266\345\215\207\347\272\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketWapCenter'
+ rm -f /home/qishanqing/tmp/merged/output.30395
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketWapCenter'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170505-\346\241\206\346\236\266\345\215\207\347\272\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketWapCenter'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketWapCenter'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketWapCenter'
+ mails-cm -i 'code merged from Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/PocketWapCenter'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ head -n 4
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log
++ grep -C 3 $'Branch/20170505-\346\241\206\346\236\266\345\215\207\347\272\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketWapCenter'
+ revision='r128111 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170505-\346\241\206\346\236\266\345\215\207\347\272\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketWapCenter'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r138115 '
+ '[' '!' -z r128111 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170505-\346\241\206\346\236\266\345\215\207\347\272\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketWapCenter@r128111' $'https://192.168.0.220/svn/tech/Branch/20170505-\346\241\206\346\236\266\345\215\207\347\272\247/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketWapCenter' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：26'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\23226' ']'
+ die 'Svn merged conflicts the r128111 -r138115  from Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/PocketWapCenter'
+ echo 'Svn merged conflicts the r128111 -r138115  from Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/PocketWapCenter'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.30395
+ rm -f /home/qishanqing/tmp/merged/output.30395
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44300.html
Merged revision(s) r128111 -r138115   from Branch/20170505-框架升级/Develop/前端业务/口袋助手3.0/PocketWapCenter' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.3ms)
  Rendered merge/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 102612ms (Views: 175.5ms)


Completed 200 OK in 102612ms (Views: 175.5ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-18 09:45:44 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-18 09:45:44 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.7ms)
  Rendered merge/index.html.erb within layouts/application (3.7ms)
Completed 200 OK in 82ms (Views: 78.9ms)


Completed 200 OK in 82ms (Views: 78.9ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-18 09:45:53 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-18 09:45:53 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170717-小助手客户整改/Develop/基础业务/用户中心/UserBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42588.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"q0JekYyt1nVTdKh3qfzX7eGYpYWVAlsXkqkm3t2K60IkDC6jia5oV0OGWLDFUd3Fa7Rt7ht9a3k2FixVe6ja6w=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170717-小助手客户整改/Develop/基础业务/用户中心/UserBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42588.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"q0JekYyt1nVTdKh3qfzX7eGYpYWVAlsXkqkm3t2K60IkDC6jia5oV0OGWLDFUd3Fa7Rt7ht9a3k2FixVe6ja6w=="}
pid is 31002
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42588.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170717-\345\260\217\345\212\251\346\211\213\345\256\242\346\210\267\346\225\264\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42588.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170717-小助手客户整改/Develop/基础业务/用户中心/UserBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42588.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170717-小助手客户整改/Develop/基础业务/用户中心/UserBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42588.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170717-\345\260\217\345\212\251\346\211\213\345\256\242\346\210\267\346\225\264\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42588.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170717-\345\260\217\345\212\251\346\211\213\345\256\242\346\210\267\346\225\264\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170717-\345\260\217\345\212\251\346\211\213\345\256\242\346\210\267\346\225\264\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170717-小助手客户整改/Develop/基础业务/用户中心/UserBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170717-\345\260\217\345\212\251\346\211\213\345\256\242\346\210\267\346\225\264\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170717-\345\260\217\345\212\251\346\211\213\345\256\242\346\210\267\346\225\264\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170717-\345\260\217\345\212\251\346\211\213\345\256\242\346\210\267\346\225\264\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170717-\345\260\217\345\212\251\346\211\213\345\256\242\346\210\267\346\225\264\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.31002
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170717-\345\260\217\345\212\251\346\211\213\345\256\242\346\210\267\346\225\264\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170717-小助手客户整改/Develop/基础业务/用户中心/UserBusiness'
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170717-\345\260\217\345\212\251\346\211\213\345\256\242\346\210\267\346\225\264\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r130698 '
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170717-\345\260\217\345\212\251\346\211\213\345\256\242\346\210\267\346\225\264\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ head='r138434 '
+ '[' '!' -z r130698 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170717-\345\260\217\345\212\251\346\211\213\345\256\242\346\210\267\346\225\264\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness@r130698' $'https://192.168.0.220/svn/tech/Branch/20170717-\345\260\217\345\212\251\346\211\213\345\256\242\346\210\267\346\225\264\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170717-\345\260\217\345\212\251\346\211\213\345\256\242\346\210\267\346\225\264\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness@r130698' $'https://192.168.0.220/svn/tech/Branch/20170717-\345\260\217\345\212\251\346\211\213\345\256\242\346\210\267\346\225\264\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-42588.html
Merged revision(s) r130698 -r138434   from Branch/20170717-小助手客户整改/Develop/基础业务/用户中心/UserBusiness' --username qishanqing --password 372233
svn: E155015: 提交失败(细节如下): 
svn: E155015: 提交终止: “/home/qishanqing/workspace/code/Trunk/基础业务/用户中心/UserBusiness/src/com/dafy/ubiz/plugin/SalesmanTwoService.xml” 处于冲突状态
+ die 'Svn merged conflicts the reasons for failure are as follows'
+ echo 'Svn merged conflicts the reasons for failure are as follows'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.31002
+ echo
+ cat /home/qishanqing/tmp/merged/output.31002
+ rm -f /home/qishanqing/tmp/merged/output.31002
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.5ms)
  Rendered merge/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 43187ms (Views: 132.6ms)


Completed 200 OK in 43187ms (Views: 132.6ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-18 09:46:57 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-18 09:46:57 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (15.3ms)
  Rendered merge/index.html.erb within layouts/application (15.3ms)
Completed 200 OK in 178ms (Views: 176.2ms)


Completed 200 OK in 178ms (Views: 176.2ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-18 09:47:19 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-18 09:47:19 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170725-实时大屏数据/Develop/外部业务/P2P/Business/RealTimeAcquisition https://192.168.0.220/svn/tech/Branch/20170807-提供数据/Develop/外部业务/P2P/Business/DashboardStatics", "task"=>"http://192.168.0.221/zentao/task-view-44356.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"qKFY+GYGfUD6MLw5jFimlCZvsT3yQzGWXx6+QIHTMHgn7yjKYwXDYurCTP7g9ay8rEN5Vnw8Afj7obTLJ/EB0Q=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170725-实时大屏数据/Develop/外部业务/P2P/Business/RealTimeAcquisition https://192.168.0.220/svn/tech/Branch/20170807-提供数据/Develop/外部业务/P2P/Business/DashboardStatics", "task"=>"http://192.168.0.221/zentao/task-view-44356.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"qKFY+GYGfUD6MLw5jFimlCZvsT3yQzGWXx6+QIHTMHgn7yjKYwXDYurCTP7g9ay8rEN5Vnw8Afj7obTLJ/EB0Q=="}
pid is 31098
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-44356.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170725-实时大屏数据/Develop/外部业务/P2P/Business/RealTimeAcquisition https://192.168.0.220/svn/tech/Branch/20170807-提供数据/Develop/外部业务/P2P/Business/DashboardStatics' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-44356.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170725-实时大屏数据/Develop/外部业务/P2P/Business/RealTimeAcquisition https://192.168.0.220/svn/tech/Branch/20170807-提供数据/Develop/外部业务/P2P/Business/DashboardStatics'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-44356.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170725-实时大屏数据/Develop/外部业务/P2P/Business/RealTimeAcquisition https://192.168.0.220/svn/tech/Branch/20170807-提供数据/Develop/外部业务/P2P/Business/DashboardStatics'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-44356.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170725-实时大屏数据/Develop/外部业务/P2P/Business/RealTimeAcquisition https://192.168.0.220/svn/tech/Branch/20170807-提供数据/Develop/外部业务/P2P/Business/DashboardStatics' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-44356.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170725-实时大屏数据/Develop/外部业务/P2P/Business/RealTimeAcquisition https://192.168.0.220/svn/tech/Branch/20170807-提供数据/Develop/外部业务/P2P/Business/DashboardStatics'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170725-\345\256\236\346\227\266\345\244\247\345\261\217\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition' $'https://192.168.0.220/svn/tech/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170725-实时大屏数据/Develop/外部业务/P2P/Business/RealTimeAcquisition: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170725-\345\256\236\346\227\266\345\244\247\345\261\217\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170725-实时大屏数据/Develop/外部业务/P2P/Business/RealTimeAcquisition
https://192.168.0.220/svn/tech/Branch/20170807-提供数据/Develop/外部业务/P2P/Business/DashboardStatics'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170725-\345\256\236\346\227\266\345\244\247\345\261\217\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170725-\345\256\236\346\227\266\345\244\247\345\261\217\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition'
+ rm -f /home/qishanqing/tmp/merged/output.31098
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170725-\345\256\236\346\227\266\345\244\247\345\261\217\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170725-实时大屏数据/Develop/外部业务/P2P/Business/RealTimeAcquisition'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170725-\345\256\236\346\227\266\345\244\247\345\261\217\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition'
++ awk -F '|' '{print$1}'
+ revision='r137704 '
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170725-\345\256\236\346\227\266\345\244\247\345\261\217\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition'
+ head='r138293 '
+ '[' '!' -z r137704 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170725-\345\256\236\346\227\266\345\244\247\345\261\217\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition@r137704' $'https://192.168.0.220/svn/tech/Branch/20170725-\345\256\236\346\227\266\345\244\247\345\261\217\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170725-\345\256\236\346\227\266\345\244\247\345\261\217\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition@r137704' $'https://192.168.0.220/svn/tech/Branch/20170725-\345\256\236\346\227\266\345\244\247\345\261\217\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RealTimeAcquisition'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44356.html
Merged revision(s) r137704 -r138293   from Branch/20170725-实时大屏数据/Develop/外部业务/P2P/Business/RealTimeAcquisition' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
+ rm -f /home/qishanqing/tmp/merged/output.31098
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170807-提供数据/Develop/外部业务/P2P/Business/DashboardStatics'
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
++ awk -F '|' '{print$1}'
+ revision='r137705 '
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
+ head='r137999 '
+ '[' '!' -z r137705 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics@r137705' $'https://192.168.0.220/svn/tech/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics@r137705' $'https://192.168.0.220/svn/tech/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44356.html
Merged revision(s) r137705 -r137999   from Branch/20170807-提供数据/Develop/外部业务/P2P/Business/DashboardStatics' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.2ms)
  Rendered merge/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 28380ms (Views: 52.7ms)


Completed 200 OK in 28380ms (Views: 52.7ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-08-18 09:51:13 +0800
Started GET "/merge/new" for 192.168.5.26 at 2017-08-18 09:51:13 +0800
Started GET "/start" for 192.168.5.26 at 2017-08-18 09:51:13 +0800
Started GET "/start" for 192.168.5.26 at 2017-08-18 09:51:13 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
Filter chain halted as #<Proc:0x007f4ad8014008@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Filter chain halted as #<Proc:0x007f4ad8014008@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Completed 401 Unauthorized in 2ms


Completed 401 Unauthorized in 2ms


  
  
ActionController::RoutingError (No route matches [GET] "/start"):
ActionController::RoutingError (No route matches [GET] "/start"):
  
  
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/merge/new" for 192.168.5.26 at 2017-08-18 09:52:24 +0800
Started GET "/merge/new" for 192.168.5.26 at 2017-08-18 09:52:24 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (2.4ms)
  Rendered merge/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 35ms (Views: 33.8ms)


Completed 200 OK in 35ms (Views: 33.8ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-18 09:52:46 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-18 09:52:46 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/hairongyi_45 https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/hairongyi_gateway", "task"=>"http://192.168.0.221/zentao/task-view-44339.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"S5wUIsDK7Gv1Ep8EXgGIh7IIb4l/WCygT5lBo8NgDGxK2aRlO1ITdc++8160AM18BJLSh8Jf+v/ERCwUivJ5ig=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/hairongyi_45 https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/hairongyi_gateway", "task"=>"http://192.168.0.221/zentao/task-view-44339.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"S5wUIsDK7Gv1Ep8EXgGIh7IIb4l/WCygT5lBo8NgDGxK2aRlO1ITdc++8160AM18BJLSh8Jf+v/ERCwUivJ5ig=="}
pid is 31289
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-44339.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/hairongyi_45 https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/hairongyi_gateway' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-44339.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/hairongyi_45 https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/hairongyi_gateway'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-44339.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/hairongyi_45 https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/hairongyi_gateway'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-44339.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/hairongyi_45 https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/hairongyi_gateway' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-44339.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/hairongyi_45 https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/hairongyi_gateway'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hairongyi_45' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hairongyi_gateway'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/hairongyi_45: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hairongyi_45'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hairongyi_gateway'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/hairongyi_45
https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/hairongyi_gateway'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hairongyi_45'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hairongyi_45'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hairongyi_45'
+ rm -f /home/qishanqing/tmp/merged/output.31289
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hairongyi_45'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hairongyi_45'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hairongyi_45'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hairongyi_45'
+ mails-cm -i 'code merged from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/hairongyi_45'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hairongyi_45'
++ awk -F '|' '{print$1}'
+ revision='r135567 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hairongyi_45'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r137982 '
+ '[' '!' -z r135567 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hairongyi_45@r135567' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hairongyi_45' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hairongyi_45@r135567' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hairongyi_45'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44339.html
Merged revision(s) r135567 -r137982   from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/hairongyi_45' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hairongyi_gateway'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hairongyi_gateway'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hairongyi_gateway'
+ rm -f /home/qishanqing/tmp/merged/output.31289
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hairongyi_gateway'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hairongyi_gateway'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hairongyi_gateway'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hairongyi_gateway'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/hairongyi_gateway'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hairongyi_gateway'
++ awk -F '|' '{print$1}'
+ revision='r137761 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hairongyi_gateway'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r137716 '
+ '[' '!' -z r137761 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hairongyi_gateway@r137761' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hairongyi_gateway' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hairongyi_gateway@r137761' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hairongyi_gateway'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44339.html
Merged revision(s) r137761 -r137716   from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/hairongyi_gateway' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.3ms)
  Rendered merge/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 32601ms (Views: 57.0ms)


Completed 200 OK in 32601ms (Views: 57.0ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-18 09:57:06 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-18 09:57:06 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (36.8ms)
  Rendered merge/index.html.erb within layouts/application (36.8ms)
Completed 200 OK in 148ms (Views: 137.6ms)


Completed 200 OK in 148ms (Views: 137.6ms)


Started GET "/" for 192.168.5.26 at 2017-08-18 09:57:12 +0800
Started GET "/" for 192.168.5.26 at 2017-08-18 09:57:12 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (13.7ms)
  Rendered builder/index.html.erb within layouts/application (13.7ms)
Completed 200 OK in 118ms (Views: 111.5ms)


Completed 200 OK in 118ms (Views: 111.5ms)


Started POST "/start" for 192.168.5.26 at 2017-08-18 09:57:18 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-18 09:57:18 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170717-小助手客户整改", "branch"=>"20170717-小助手客户整改", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"Te4ZW7PcFLj4bEAqooM1aFM4EsrW490z6qVbXpFRXntMq6kcSETrpsLALHBIgnCT5aKvxGvkC2xheDbp2MMrnQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170717-小助手客户整改", "branch"=>"20170717-小助手客户整改", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"Te4ZW7PcFLj4bEAqooM1aFM4EsrW490z6qVbXpFRXntMq6kcSETrpsLALHBIgnCT5aKvxGvkC2xheDbp2MMrnQ=="}
Filter chain halted as #<Proc:0x00000004f12940@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Filter chain halted as #<Proc:0x00000004f12940@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Completed 401 Unauthorized in 4ms


Completed 401 Unauthorized in 4ms


Started POST "/start" for 192.168.5.26 at 2017-08-18 09:57:18 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-18 09:57:18 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170717-小助手客户整改", "branch"=>"20170717-小助手客户整改", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"Te4ZW7PcFLj4bEAqooM1aFM4EsrW490z6qVbXpFRXntMq6kcSETrpsLALHBIgnCT5aKvxGvkC2xheDbp2MMrnQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170717-小助手客户整改", "branch"=>"20170717-小助手客户整改", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"Te4ZW7PcFLj4bEAqooM1aFM4EsrW490z6qVbXpFRXntMq6kcSETrpsLALHBIgnCT5aKvxGvkC2xheDbp2MMrnQ=="}
pid is 31507
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170717-\345\260\217\345\212\251\346\211\213\345\256\242\346\210\267\346\225\264\346\224\271' -e qishanqing@dafy.com -E '' -b $'20170717-\345\260\217\345\212\251\346\211\213\345\256\242\346\210\267\346\225\264\346\224\271' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170717-小助手客户整改'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170717-小助手客户整改'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170717-小助手客户整改'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170717-小助手客户整改'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170717-\345\260\217\345\212\251\346\211\213\345\256\242\346\210\267\346\225\264\346\224\271' -e qishanqing@dafy.com -E '' -b $'20170717-\345\260\217\345\212\251\346\211\213\345\256\242\346\210\267\346\225\264\346\224\271' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170717-\345\260\217\345\212\251\346\211\213\345\256\242\346\210\267\346\225\264\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170717-\345\260\217\345\212\251\346\211\213\345\256\242\346\210\267\346\225\264\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170717-\345\260\217\345\212\251\346\211\213\345\256\242\346\210\267\346\225\264\346\224\271'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170717-小助手客户整改: command not found
++ for y in '$trunk'
++ echo $'20170717-\345\260\217\345\212\251\346\211\213\345\256\242\346\210\267\346\225\264\346\224\271'
+ trunks=$'20170717-\345\260\217\345\212\251\346\211\213\345\256\242\346\210\267\346\225\264\346\224\271'
+ test del = add
+ delbranch
+ '[' -z $'20170717-\345\260\217\345\212\251\346\211\213\345\256\242\346\210\267\346\225\264\346\224\271' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170818
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708180957
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170717-\345\260\217\345\212\251\346\211\213\345\256\242\346\210\267\346\225\264\346\224\271'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170818-20170717-\345\260\217\345\212\251\346\211\213\345\256\242\346\210\267\346\225\264\346\224\271/Develop/20170717-\345\260\217\345\212\251\346\211\213\345\256\242\346\210\267\346\225\264\346\224\271'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170717-\345\260\217\345\212\251\346\211\213\345\256\242\346\210\267\346\225\264\346\224\271'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708180957-20170717-\345\260\217\345\212\251\346\211\213\345\256\242\346\210\267\346\225\264\346\224\271'
++ awk -F / '{print $7}'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170818-20170717-\345\260\217\345\212\251\346\211\213\345\256\242\346\210\267\346\225\264\346\224\271/Develop/20170717-\345\260\217\345\212\251\346\211\213\345\256\242\346\210\267\346\225\264\346\224\271'
+ br=$'20170818-20170717-\345\260\217\345\212\251\346\211\213\345\256\242\346\210\267\346\225\264\346\224\271'
+ access=$'20170818-20170717-\345\260\217\345\212\251\346\211\213\345\256\242\346\210\267\346\225\264\346\224\271'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170717-\345\260\217\345\212\251\346\211\213\345\256\242\346\210\267\346\225\264\346\224\271' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708180957-20170717-\345\260\217\345\212\251\346\211\213\345\256\242\346\210\267\346\225\264\346\224\271' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.31507
+ echo $'https://192.168.0.220/svn/tech/Branch/20170717-\345\260\217\345\212\251\346\211\213\345\256\242\346\210\267\346\225\264\346\224\271'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170717-小助手客户整改%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170717-小助手客户整改%'\'';'
+ cat /tmp/cmdb.db.31507
+ rm -f /tmp/cmdb.db.31507
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (10.7ms)
  Rendered builder/new.html.erb within layouts/application (10.7ms)
Completed 200 OK in 1297ms (Views: 104.0ms)


Completed 200 OK in 1297ms (Views: 104.0ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-18 09:58:18 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-18 09:58:18 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42", "task"=>"http://192.168.0.221/zentao/task-view-44361.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"NMbnm5ztgkB9Nmz6t+k5TciFFdqqCMx9Xhpbbo9lcf01g1fcZ3V9XkeaAKBd6Hy2fh+o1BcPGiLVxzbZxvcEGw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42", "task"=>"http://192.168.0.221/zentao/task-view-44361.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"NMbnm5ztgkB9Nmz6t+k5TciFFdqqCMx9Xhpbbo9lcf01g1fcZ3V9XkeaAKBd6Hy2fh+o1BcPGiLVxzbZxvcEGw=="}
pid is 31558
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-44361.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-44361.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-44361.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-44361.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-44361.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ rm -f /home/qishanqing/tmp/merged/output.31558
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ mails-cm -i 'code merged from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ head -n 4
++ grep '^r'
++ svn log
++ grep -C 3 $'Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
++ awk -F '|' '{print$1}'
+ revision='r138132 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r138472 '
+ '[' '!' -z r138132 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42@r138132' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42@r138132' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44361.html
Merged revision(s) r138132 -r138472   from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (3.7ms)
  Rendered merge/new.html.erb within layouts/application (3.7ms)
Completed 200 OK in 31189ms (Views: 66.6ms)


Completed 200 OK in 31189ms (Views: 66.6ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-18 09:59:13 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-18 09:59:13 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (5.8ms)
  Rendered merge/index.html.erb within layouts/application (5.8ms)
Completed 200 OK in 106ms (Views: 103.4ms)


Completed 200 OK in 106ms (Views: 103.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-18 09:59:20 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-18 09:59:20 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/maimaiti_46", "task"=>"http://192.168.0.221/zentao/task-view-44362.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"LudfrqahrgdWdXxmkCp/9DB+w4wdk4UbJ9Ww0XiLrdMvou/pXTlRGWzZEDx6KzoPhuR+gqCUU0SsCN1mMRnYNQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/maimaiti_46", "task"=>"http://192.168.0.221/zentao/task-view-44362.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"LudfrqahrgdWdXxmkCp/9DB+w4wdk4UbJ9Ww0XiLrdMvou/pXTlRGWzZEDx6KzoPhuR+gqCUU0SsCN1mMRnYNQ=="}
pid is 31621
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-44362.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/maimaiti_46' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-44362.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/maimaiti_46'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-44362.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/maimaiti_46'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-44362.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/maimaiti_46' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-44362.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/maimaiti_46'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/maimaiti_46'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/maimaiti_46: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/maimaiti_46'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/maimaiti_46'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/maimaiti_46'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/maimaiti_46'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/maimaiti_46'
+ rm -f /home/qishanqing/tmp/merged/output.31621
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/maimaiti_46'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/maimaiti_46'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/maimaiti_46'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/maimaiti_46'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/maimaiti_46'
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/maimaiti_46'
++ awk -F '|' '{print$1}'
+ revision='r138120 '
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/maimaiti_46'
+ head='r138207 '
+ '[' '!' -z r138120 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/maimaiti_46@r138120' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/maimaiti_46' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/maimaiti_46@r138120' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/maimaiti_46'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44362.html
Merged revision(s) r138120 -r138207   from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/maimaiti_46' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.4ms)
  Rendered merge/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 25880ms (Views: 213.9ms)


Completed 200 OK in 25880ms (Views: 213.9ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-18 10:00:06 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-18 10:00:06 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.6ms)
  Rendered merge/index.html.erb within layouts/application (3.6ms)
Completed 200 OK in 133ms (Views: 130.7ms)


Completed 200 OK in 133ms (Views: 130.7ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-18 10:00:23 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-18 10:00:23 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170816-XCDDC提供Excel优化/Develop/催收/Task/ExportOverdueDataTell", "task"=>"http://192.168.0.221/zentao/task-view-44370.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"eP+D8eiwvNuMj5DKjdgRoXS8NZ4SbZqgWrS2lhSstAx5ujO2EyhDxbYj/JBn2VRawiaIkK9qTP/RadshXT7B6g=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170816-XCDDC提供Excel优化/Develop/催收/Task/ExportOverdueDataTell", "task"=>"http://192.168.0.221/zentao/task-view-44370.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"eP+D8eiwvNuMj5DKjdgRoXS8NZ4SbZqgWrS2lhSstAx5ujO2EyhDxbYj/JBn2VRawiaIkK9qTP/RadshXT7B6g=="}
pid is 31689
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-44370.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170816-XCDDC\346\217\220\344\276\233Excel\344\274\230\345\214\226/Develop/\345\202\254\346\224\266/Task/ExportOverdueDataTell' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-44370.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170816-XCDDC提供Excel优化/Develop/催收/Task/ExportOverdueDataTell'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-44370.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170816-XCDDC提供Excel优化/Develop/催收/Task/ExportOverdueDataTell'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-44370.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170816-XCDDC\346\217\220\344\276\233Excel\344\274\230\345\214\226/Develop/\345\202\254\346\224\266/Task/ExportOverdueDataTell' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-44370.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170816-XCDDC\346\217\220\344\276\233Excel\344\274\230\345\214\226/Develop/\345\202\254\346\224\266/Task/ExportOverdueDataTell'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170816-XCDDC\346\217\220\344\276\233Excel\344\274\230\345\214\226/Develop/\345\202\254\346\224\266/Task/ExportOverdueDataTell'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170816-XCDDC提供Excel优化/Develop/催收/Task/ExportOverdueDataTell: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170816-XCDDC\346\217\220\344\276\233Excel\344\274\230\345\214\226/Develop/\345\202\254\346\224\266/Task/ExportOverdueDataTell'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170816-XCDDC\346\217\220\344\276\233Excel\344\274\230\345\214\226/Develop/\345\202\254\346\224\266/Task/ExportOverdueDataTell'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170816-XCDDC\346\217\220\344\276\233Excel\344\274\230\345\214\226/Develop/\345\202\254\346\224\266/Task/ExportOverdueDataTell'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\202\254\346\224\266/Task/ExportOverdueDataTell'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170816-XCDDC\346\217\220\344\276\233Excel\344\274\230\345\214\226/Develop/\345\202\254\346\224\266/Task/ExportOverdueDataTell'
+ rm -f /home/qishanqing/tmp/merged/output.31689
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\202\254\346\224\266/Task/ExportOverdueDataTell'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170816-XCDDC\346\217\220\344\276\233Excel\344\274\230\345\214\226/Develop/\345\202\254\346\224\266/Task/ExportOverdueDataTell'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\202\254\346\224\266/Task/ExportOverdueDataTell'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\202\254\346\224\266/Task/ExportOverdueDataTell'
+ mails-cm -i 'code merged from Branch/20170816-XCDDC提供Excel优化/Develop/催收/Task/ExportOverdueDataTell'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170816-XCDDC\346\217\220\344\276\233Excel\344\274\230\345\214\226/Develop/\345\202\254\346\224\266/Task/ExportOverdueDataTell'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170816-XCDDC\346\217\220\344\276\233Excel\344\274\230\345\214\226/Develop/\345\202\254\346\224\266/Task/ExportOverdueDataTell'
+ head='r138295 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170816-XCDDC\346\217\220\344\276\233Excel\344\274\230\345\214\226/Develop/\345\202\254\346\224\266/Task/ExportOverdueDataTell'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r138278 '
+ '[' '!' -z r138278 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170816-XCDDC\346\217\220\344\276\233Excel\344\274\230\345\214\226/Develop/\345\202\254\346\224\266/Task/ExportOverdueDataTell@r138278' $'https://192.168.0.220/svn/tech/Branch/20170816-XCDDC\346\217\220\344\276\233Excel\344\274\230\345\214\226/Develop/\345\202\254\346\224\266/Task/ExportOverdueDataTell' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170816-XCDDC\346\217\220\344\276\233Excel\344\274\230\345\214\226/Develop/\345\202\254\346\224\266/Task/ExportOverdueDataTell@r138278' $'https://192.168.0.220/svn/tech/Branch/20170816-XCDDC\346\217\220\344\276\233Excel\344\274\230\345\214\226/Develop/\345\202\254\346\224\266/Task/ExportOverdueDataTell'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44370.html
Merged revision(s) r138278 -r138295   from Branch/20170816-XCDDC提供Excel优化/Develop/催收/Task/ExportOverdueDataTell' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.3ms)
  Rendered merge/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 14523ms (Views: 109.8ms)


Completed 200 OK in 14523ms (Views: 109.8ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-18 10:01:21 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-18 10:01:21 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (18.3ms)
  Rendered merge/index.html.erb within layouts/application (18.3ms)
Completed 200 OK in 79ms (Views: 76.5ms)


Completed 200 OK in 79ms (Views: 76.5ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-18 10:01:31 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-18 10:01:31 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170717-理财快速授信/Develop/事事分期/卓越线上理财/LendBusiness", "task"=>"http://192.168.0.221/zentao/task-view-44121.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"Dw9Y1WBxplQauLg+zvYEKmVh+9dfyCFL82cpD6JErF0OSuiSm+lZSiAU1GQk90HR0/tG2eLP9xR4ukS469bZuw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170717-理财快速授信/Develop/事事分期/卓越线上理财/LendBusiness", "task"=>"http://192.168.0.221/zentao/task-view-44121.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"Dw9Y1WBxplQauLg+zvYEKmVh+9dfyCFL82cpD6JErF0OSuiSm+lZSiAU1GQk90HR0/tG2eLP9xR4ukS469bZuw=="}
pid is 31769
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-44121.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170717-\347\220\206\350\264\242\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-44121.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170717-理财快速授信/Develop/事事分期/卓越线上理财/LendBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-44121.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170717-理财快速授信/Develop/事事分期/卓越线上理财/LendBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-44121.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170717-\347\220\206\350\264\242\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-44121.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170717-\347\220\206\350\264\242\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170717-\347\220\206\350\264\242\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170717-理财快速授信/Develop/事事分期/卓越线上理财/LendBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170717-\347\220\206\350\264\242\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170717-\347\220\206\350\264\242\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170717-\347\220\206\350\264\242\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170717-\347\220\206\350\264\242\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.31769
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170717-\347\220\206\350\264\242\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness'
+ mails-cm -i 'code merged from Branch/20170717-理财快速授信/Develop/事事分期/卓越线上理财/LendBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ awk -F '|' '{print$1}'
++ grep -C 3 $'Branch/20170717-\347\220\206\350\264\242\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170717-\347\220\206\350\264\242\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r130142 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170717-\347\220\206\350\264\242\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r128601 '
+ '[' '!' -z r128601 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170717-\347\220\206\350\264\242\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness@r128601' $'https://192.168.0.220/svn/tech/Branch/20170717-\347\220\206\350\264\242\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170717-\347\220\206\350\264\242\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness@r128601' $'https://192.168.0.220/svn/tech/Branch/20170717-\347\220\206\350\264\242\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44121.html
Merged revision(s) r128601 -r130142   from Branch/20170717-理财快速授信/Develop/事事分期/卓越线上理财/LendBusiness' --username qishanqing --password 372233
svn: E155015: 提交失败(细节如下): 
svn: E155015: 提交终止: “/home/qishanqing/workspace/code/Trunk/事事分期/卓越线上理财/LendBusiness/businessplugin/com/dafy/lendbusiness/business/plugin/lend/LendIntentAddService.xml” 处于冲突状态
+ die 'Svn merged conflicts the reasons for failure are as follows'
+ echo 'Svn merged conflicts the reasons for failure are as follows'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.31769
+ echo
+ cat /home/qishanqing/tmp/merged/output.31769
+ rm -f /home/qishanqing/tmp/merged/output.31769
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (26.3ms)
  Rendered merge/new.html.erb within layouts/application (26.3ms)
Completed 200 OK in 55226ms (Views: 97.0ms)


Completed 200 OK in 55226ms (Views: 97.0ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-18 10:08:11 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-18 10:08:11 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (17.3ms)
  Rendered builder/index.html.erb within layouts/application (17.3ms)
Completed 200 OK in 119ms (Views: 116.2ms)


Completed 200 OK in 119ms (Views: 116.2ms)


Started POST "/start" for 192.168.5.26 at 2017-08-18 10:08:14 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-18 10:08:14 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170717-理财快速授信", "branch"=>"20170717-理财快速授信", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"o77im6OablWBoj0OTdZZx1lgYmIDnFKfSkTrXfWMhdmi+1LcWAKRS7sOUVSn1xw87/rfbL6bhMDBmYbqvB7wPw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170717-理财快速授信", "branch"=>"20170717-理财快速授信", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"o77im6OablWBoj0OTdZZx1lgYmIDnFKfSkTrXfWMhdmi+1LcWAKRS7sOUVSn1xw87/rfbL6bhMDBmYbqvB7wPw=="}
pid is 32002
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170717-\347\220\206\350\264\242\345\277\253\351\200\237\346\216\210\344\277\241' -e qishanqing@dafy.com -E '' -b $'20170717-\347\220\206\350\264\242\345\277\253\351\200\237\346\216\210\344\277\241' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170717-理财快速授信'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170717-理财快速授信'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170717-理财快速授信'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170717-理财快速授信'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170717-\347\220\206\350\264\242\345\277\253\351\200\237\346\216\210\344\277\241' -e qishanqing@dafy.com -E '' -b $'20170717-\347\220\206\350\264\242\345\277\253\351\200\237\346\216\210\344\277\241' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170717-\347\220\206\350\264\242\345\277\253\351\200\237\346\216\210\344\277\241'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170717-\347\220\206\350\264\242\345\277\253\351\200\237\346\216\210\344\277\241'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170717-\347\220\206\350\264\242\345\277\253\351\200\237\346\216\210\344\277\241'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170717-理财快速授信: command not found
++ for y in '$trunk'
++ echo $'20170717-\347\220\206\350\264\242\345\277\253\351\200\237\346\216\210\344\277\241'
+ trunks=$'20170717-\347\220\206\350\264\242\345\277\253\351\200\237\346\216\210\344\277\241'
+ test del = add
+ delbranch
+ '[' -z $'20170717-\347\220\206\350\264\242\345\277\253\351\200\237\346\216\210\344\277\241' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170818
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708181008
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170717-\347\220\206\350\264\242\345\277\253\351\200\237\346\216\210\344\277\241'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170818-20170717-\347\220\206\350\264\242\345\277\253\351\200\237\346\216\210\344\277\241/Develop/20170717-\347\220\206\350\264\242\345\277\253\351\200\237\346\216\210\344\277\241'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170717-\347\220\206\350\264\242\345\277\253\351\200\237\346\216\210\344\277\241'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708181008-20170717-\347\220\206\350\264\242\345\277\253\351\200\237\346\216\210\344\277\241'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170818-20170717-\347\220\206\350\264\242\345\277\253\351\200\237\346\216\210\344\277\241/Develop/20170717-\347\220\206\350\264\242\345\277\253\351\200\237\346\216\210\344\277\241'
++ awk -F / '{print $7}'
+ br=$'20170818-20170717-\347\220\206\350\264\242\345\277\253\351\200\237\346\216\210\344\277\241'
+ access=$'20170818-20170717-\347\220\206\350\264\242\345\277\253\351\200\237\346\216\210\344\277\241'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170717-\347\220\206\350\264\242\345\277\253\351\200\237\346\216\210\344\277\241' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708181008-20170717-\347\220\206\350\264\242\345\277\253\351\200\237\346\216\210\344\277\241' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.32002
+ echo $'https://192.168.0.220/svn/tech/Branch/20170717-\347\220\206\350\264\242\345\277\253\351\200\237\346\216\210\344\277\241'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170717-理财快速授信%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170717-理财快速授信%'\'';'
+ cat /tmp/cmdb.db.32002
+ rm -f /tmp/cmdb.db.32002
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (13.9ms)
  Rendered builder/new.html.erb within layouts/application (13.9ms)
Completed 200 OK in 1216ms (Views: 67.3ms)


Completed 200 OK in 1216ms (Views: 67.3ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-18 10:08:53 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-18 10:08:53 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (5.9ms)
  Rendered merge/index.html.erb within layouts/application (5.9ms)
Completed 200 OK in 134ms (Views: 131.7ms)


Completed 200 OK in 134ms (Views: 131.7ms)


