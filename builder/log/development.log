
nohup: 忽略输入
=> Booting Puma
=> Rails 5.1.1 application starting in development on http://localhost:3000
=> Run `rails server -h` for more startup options
Puma starting in single mode...
* Version 3.8.2 (ruby 2.4.1-p111), codename: Sassy Salamander
* Min threads: 5, max threads: 5
* Environment: development
* Listening on tcp://0.0.0.0:3000
Use Ctrl-C to stop
Started GET "/" for 192.168.5.26 at 2017-07-28 14:04:06 +0800
Started GET "/" for 192.168.5.26 at 2017-07-28 14:04:06 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (13.8ms)
  Rendered builder/index.html.erb within layouts/application (13.8ms)
Completed 200 OK in 2154ms (Views: 1312.2ms)


Completed 200 OK in 2154ms (Views: 1312.2ms)


Started POST "/start" for 192.168.5.26 at 2017-07-28 14:04:52 +0800
Started POST "/start" for 192.168.5.26 at 2017-07-28 14:04:52 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"fefe", "branch"=>"fefe", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"gGl4Baviz7TWx59mvKqSO8N16s07glnHsLKWPuD7Z0qoHPgnvAdIz//4p9dsGOp7bez/4DM/EpGA46c7QCEzZQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"fefe", "branch"=>"fefe", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"gGl4Baviz7TWx59mvKqSO8N16s07glnHsLKWPuD7Z0qoHPgnvAdIz//4p9dsGOp7bez/4DM/EpGA46c7QCEzZQ=="}
pid is 13364
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t fefe -e qishanqing@dafy.com -E '' -b fefe -T add -d ''
+ TEMP=' -u '\'''\'' -t '\''fefe'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''fefe'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''fefe'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''fefe'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u '' -t fefe -e qishanqing@dafy.com -E '' -b fefe -T add -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=fefe
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=fefe
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ fefe
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: fefe: command not found
++ for y in '$trunk'
++ echo fefe
+ trunks=fefe
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z fefe ']'
+ '[' -z fefe ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170728
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707281404
+ move_dir=Closed/--close+
+ Trunk_name=https://192.168.0.220/svn/tech/Trunk/fefe
+ branch_name=https://192.168.0.220/svn/tech/Branch/20170728-fefe/Develop/fefe
+ source_name=https://192.168.0.220/svn/tech/Branch/fefe
+ dest_name=https://192.168.0.220/svn/tech/Branch/Closed/--close+201707281404-fefe
++ echo https://192.168.0.220/svn/tech/Branch/20170728-fefe/Develop/fefe
++ awk -F / '{print $7}'
+ br=20170728-fefe
+ access=20170728-fefe
+ svn copy https://192.168.0.220/svn/tech/Trunk/fefe https://192.168.0.220/svn/tech/Branch/20170728-fefe/Develop/fefe --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ die 'Svn branch create the reasons for failure are as follows'
+ echo 'Svn branch create the reasons for failure are as follows'
+ mails-cm -i 'svn branch create failed'
+ test -e /home/qishanqing/tmp/output.13364
+ echo
+ cat /home/qishanqing/tmp/output.13364
+ rm -rf /home/qishanqing/tmp/output.13364
+ kill 13364
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (0.9ms)
  Rendered builder/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 550ms (Views: 57.8ms)


Completed 200 OK in 550ms (Views: 57.8ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-28 14:05:13 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-28 14:05:13 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (1.8ms)
  Rendered builder/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 47ms (Views: 45.2ms)


Completed 200 OK in 47ms (Views: 45.2ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-28 14:05:26 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-07-28 14:05:26 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (2.9ms)
  Rendered merge/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 64ms (Views: 61.0ms)


Completed 200 OK in 64ms (Views: 61.0ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-28 14:21:45 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-28 14:21:45 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (5.7ms)
  Rendered builder/index.html.erb within layouts/application (5.7ms)
Completed 200 OK in 69ms (Views: 66.9ms)


Completed 200 OK in 69ms (Views: 66.9ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-28 14:23:04 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-28 14:23:04 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (1.8ms)
  Rendered builder/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 41ms (Views: 39.8ms)


Completed 200 OK in 41ms (Views: 39.8ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-28 14:23:05 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-28 14:23:05 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.1ms)
  Rendered builder/index.html.erb within layouts/application (3.1ms)
Completed 200 OK in 65ms (Views: 62.9ms)


Completed 200 OK in 65ms (Views: 62.9ms)


Started GET "/" for 192.168.5.26 at 2017-07-28 14:23:07 +0800
Started GET "/" for 192.168.5.26 at 2017-07-28 14:23:07 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.6ms)
  Rendered builder/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 92ms (Views: 89.6ms)


Completed 200 OK in 92ms (Views: 89.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-28 14:24:36 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-07-28 14:24:36 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170728-优惠券有效期BUG修复/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusine", "task"=>"http://192.168.0.221/zentao/task-view-42578.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"soJw9UnlPu2O1/1BysXrakZ3HYs8PkHrRtefo6nWmLKa9/DXXgC5lqfoxfAad5Mq6O4IpjSDCr12hq6mCQzMnQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170728-优惠券有效期BUG修复/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusine", "task"=>"http://192.168.0.221/zentao/task-view-42578.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"soJw9UnlPu2O1/1BysXrakZ3HYs8PkHrRtefo6nWmLKa9/DXXgC5lqfoxfAad5Mq6O4IpjSDCr12hq6mCQzMnQ=="}
pid is 13919
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42578.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusine' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42578.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170728-优惠券有效期BUG修复/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusine'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42578.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170728-优惠券有效期BUG修复/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusine'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42578.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusine' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42578.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusine'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusine'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170728-优惠券有效期BUG修复/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusine: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusine'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusine'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusine'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusine'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusine'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ test -e /home/qishanqing/tmp/merged/output.13919
+ echo
+ cat /home/qishanqing/tmp/merged/output.13919
+ rm -f /home/qishanqing/tmp/merged/output.13919
+ rm -f /home/qishanqing/tmp/merged/output.13919
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusine'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusine'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusine'
+ die '前端业务/营销活动/卡卷系统/CardVoucherBusine  project code no found'
+ echo '前端业务/营销活动/卡卷系统/CardVoucherBusine  project code no found'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.13919
+ rm -f /home/qishanqing/tmp/merged/output.13919
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.5ms)
  Rendered merge/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 350ms (Views: 72.6ms)


Completed 200 OK in 350ms (Views: 72.6ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-28 14:25:46 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-07-28 14:25:46 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.4ms)
  Rendered merge/index.html.erb within layouts/application (3.4ms)
Completed 200 OK in 67ms (Views: 64.2ms)


Completed 200 OK in 67ms (Views: 64.2ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-28 14:26:00 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-07-28 14:26:00 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170728-优惠券有效期BUG修复/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness\r\n", "task"=>"http://192.168.0.221/zentao/task-view-42578.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"fYFm8dfSQxuD1ShDLMR8ebYtH1S8BphmD+IRe/CmM1BV9ObTwDfEYKrqEPL8dgQ5GLQKebS70zA/syB+UHxnfw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170728-优惠券有效期BUG修复/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness\r\n", "task"=>"http://192.168.0.221/zentao/task-view-42578.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"fYFm8dfSQxuD1ShDLMR8ebYtH1S8BphmD+IRe/CmM1BV9ObTwDfEYKrqEPL8dgQ5GLQKebS70zA/syB+UHxnfw=="}
pid is 13955
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42578.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170728-优惠券有效期BUG修复/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness
' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42578.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170728-优惠券有效期BUG修复/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness
'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42578.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170728-优惠券有效期BUG修复/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness
'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42578.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170728-优惠券有效期BUG修复/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness
' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42578.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170728-优惠券有效期BUG修复/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness
'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness\r'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170728-优惠券有效期BUG修复/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness\r'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness\r'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness\r'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness\r'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.13955
+ echo
+ cat /home/qishanqing/tmp/merged/output.13955
+ rm -f /home/qishanqing/tmp/merged/output.13955
+ rm -f /home/qishanqing/tmp/merged/output.13955
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness\r'
+ die '前端业务/营销活动/卡卷系统/CardVoucherBusiness  project code no found'
+ mails-cm -i 'svn merged faild'
+ echo '前端业务/营销活动/卡卷系统/CardVoucherBusiness  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.13955
+ rm -f /home/qishanqing/tmp/merged/output.13955
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.3ms)
  Rendered merge/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 196ms (Views: 50.7ms)


Completed 200 OK in 196ms (Views: 50.7ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-28 14:26:16 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-07-28 14:26:16 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.5ms)
  Rendered merge/index.html.erb within layouts/application (4.5ms)
Completed 200 OK in 86ms (Views: 83.1ms)


Completed 200 OK in 86ms (Views: 83.1ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-28 14:27:18 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-07-28 14:27:18 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170728-优惠券有效期BUG修复/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42578.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"y7619M5riR42dnk/gYUH/LA5drH17hlQyxBraU6cTGjjyzXW2Y4OZR9JQY5RN3+8HqBjnP1TUgb7QVps7kYYRw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170728-优惠券有效期BUG修复/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42578.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"y7619M5riR42dnk/gYUH/LA5drH17hlQyxBraU6cTGjjyzXW2Y4OZR9JQY5RN3+8HqBjnP1TUgb7QVps7kYYRw=="}
pid is 13997
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42578.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42578.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170728-优惠券有效期BUG修复/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42578.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170728-优惠券有效期BUG修复/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42578.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42578.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170728-优惠券有效期BUG修复/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.13997
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ mails-cm -i 'code merged from Branch/20170728-优惠券有效期BUG修复/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep -C 3 $'Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r131941 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r131809 '
+ '[' '!' -z r131809 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness@r131809' $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness@r131809' $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42578.html
Merged revision(s) r131809 -r131941   from Branch/20170728-优惠券有效期BUG修复/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.2ms)
  Rendered merge/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 24630ms (Views: 59.7ms)


Completed 200 OK in 24630ms (Views: 59.7ms)


Started POST "/start" for 192.168.5.26 at 2017-07-28 14:29:00 +0800
Started POST "/start" for 192.168.5.26 at 2017-07-28 14:29:00 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"lubing@dafy.com", "types"=>"add", "trunk"=>"分期商城/分期商城3.0/MallManager 分期商城/分期商城3.0/MallManageGoodsBusiness", "branch"=>"类目功能优化", "user"=>"lubing", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"6ShOicwc96r5otIlCZmBzjkKM3rEXfy1sr/bUTQ6/DXBXc6r2/lw0dCd6pTZK/mOl5MmV8zgt+OC7upUlOCoGg=="}
  Parameters: {"email"=>"lubing@dafy.com", "types"=>"add", "trunk"=>"分期商城/分期商城3.0/MallManager 分期商城/分期商城3.0/MallManageGoodsBusiness", "branch"=>"类目功能优化", "user"=>"lubing", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"6ShOicwc96r5otIlCZmBzjkKM3rEXfy1sr/bUTQ6/DXBXc6r2/lw0dCd6pTZK/mOl5MmV8zgt+OC7upUlOCoGg=="}
pid is 14061
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u lubing -t '分期商城/分期商城3.0/MallManager 分期商城/分期商城3.0/MallManageGoodsBusiness' -e lubing@dafy.com -E '' -b $'\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226' -T add -d ''
+ TEMP=' -u '\''lubing'\'' -t '\''分期商城/分期商城3.0/MallManager 分期商城/分期商城3.0/MallManageGoodsBusiness'\'' -e '\''lubing@dafy.com'\'' -E '\'''\'' -b '\''类目功能优化'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''lubing'\'' -t '\''分期商城/分期商城3.0/MallManager 分期商城/分期商城3.0/MallManageGoodsBusiness'\'' -e '\''lubing@dafy.com'\'' -E '\'''\'' -b '\''类目功能优化'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u lubing -t '分期商城/分期商城3.0/MallManager 分期商城/分期商城3.0/MallManageGoodsBusiness' -e lubing@dafy.com -E '' -b $'\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226' -T add -d '' --
+ true
+ case "$1" in
+ user=lubing
+ shift 2
+ true
+ case "$1" in
+ trunk='分期商城/分期商城3.0/MallManager 分期商城/分期商城3.0/MallManageGoodsBusiness'
+ shift 2
+ true
+ case "$1" in
+ email=lubing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=lubing@dafy.com '
+ SMARTCM_EXTRA_MAIL='lubing@dafy.com '
++ lubing
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: lubing: command not found
++ for x in '$user'
++ echo lubing=rw
+ users=lubing=rw
++ $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 分期商城/分期商城3.0/MallManager: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ for y in '$trunk'
++ echo $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ trunks='分期商城/分期商城3.0/MallManager
分期商城/分期商城3.0/MallManageGoodsBusiness'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' ']'
+ '[' -z $'\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170728
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707281429
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707281429-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F / '{print $7}'
+ br=$'20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226'
+ access=$'20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.14061
+ echo $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallManager'\'', '\''https://192.168.0.220/svn/tech/Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManager'\'',now(),'\''lubing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallManager'\'', '\''https://192.168.0.220/svn/tech/Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManager'\'',now(),'\''lubing'\'');'
+ cat /tmp/cmdb.db.14061
+ rm -f /tmp/cmdb.db.14061
+ check-acces
+ grep -c '20170728-类目功能优化]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z lubing=rw
+ cat
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness' ']'
+ '[' -z $'\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170728
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707281429
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707281429-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
++ awk -F / '{print $7}'
+ br=$'20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226'
+ access=$'20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness' $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.14061
+ echo $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallManageGoodsBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness'\'',now(),'\''lubing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallManageGoodsBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness'\'',now(),'\''lubing'\'');'
+ cat /tmp/cmdb.db.14061
+ rm -f /tmp/cmdb.db.14061
+ check-acces
+ grep -c '20170728-类目功能优化]' /mnt/svn/authz.conf
+ read num
+ '[' 1 -eq 0 ']'
++ sed '/20170728-类目功能优化]/,/^[ \t]*$/!d;/20170728-类目功能优化]/d;/^[ \t]*$/d' /mnt/svn/authz.conf
+ [[ lubing=rw
@admin=rw
*= =~ lubing=rw ]]
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 11418ms (Views: 62.3ms)


Completed 200 OK in 11418ms (Views: 62.3ms)


Started GET "/start" for 192.168.5.26 at 2017-07-28 14:29:29 +0800
Started GET "/start" for 192.168.5.26 at 2017-07-28 14:29:29 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  
  
ActionController::RoutingError (No route matches [GET] "/start"):
ActionController::RoutingError (No route matches [GET] "/start"):
  
  
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 192.168.5.26 at 2017-07-28 14:29:34 +0800
Started GET "/" for 192.168.5.26 at 2017-07-28 14:29:34 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (5.4ms)
  Rendered builder/index.html.erb within layouts/application (5.4ms)
Completed 200 OK in 71ms (Views: 68.1ms)


Completed 200 OK in 71ms (Views: 68.1ms)


Started POST "/start" for 192.168.5.26 at 2017-07-28 14:30:18 +0800
Started POST "/start" for 192.168.5.26 at 2017-07-28 14:30:18 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"wdw", "branch"=>"20170728-优惠券有效期BUG修复", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"yGtgS9Vi8uFY5ZVIzOmRNPjPnyALrFLskjnBcWAUHYHgHuBpwod1mnHarfkcW+l0VlaKDQMRGbqiaPB0wM5Jrg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"wdw", "branch"=>"20170728-优惠券有效期BUG修复", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"yGtgS9Vi8uFY5ZVIzOmRNPjPnyALrFLskjnBcWAUHYHgHuBpwod1mnHarfkcW+l0VlaKDQMRGbqiaPB0wM5Jrg=="}
pid is 14153
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t wdw -e qishanqing@dafy.com -E '' -b $'20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''wdw'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170728-优惠券有效期BUG修复'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''wdw'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170728-优惠券有效期BUG修复'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t wdw -e qishanqing@dafy.com -E '' -b $'20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=wdw
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ wdw
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: wdw: command not found
++ for y in '$trunk'
++ echo wdw
+ trunks=wdw
+ test del = add
+ delbranch
+ '[' -z $'20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170728
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707281430
+ move_dir=Closed/--close+
+ Trunk_name=https://192.168.0.220/svn/tech/Trunk/wdw
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170728-20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/wdw'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707281430-20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170728-20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215/Develop/wdw'
++ awk -F / '{print $7}'
+ br=$'20170728-20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215'
+ access=$'20170728-20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707281430-20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.14153
+ echo $'https://192.168.0.220/svn/tech/Branch/20170728-\344\274\230\346\203\240\345\210\270\346\234\211\346\225\210\346\234\237BUG\344\277\256\345\244\215'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170728-优惠券有效期BUG修复%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170728-优惠券有效期BUG修复%'\'';'
+ cat /tmp/cmdb.db.14153
+ rm -f /tmp/cmdb.db.14153
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.1ms)
  Rendered builder/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 8110ms (Views: 50.4ms)


Completed 200 OK in 8110ms (Views: 50.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-28 16:07:41 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-28 16:07:41 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (7.4ms)
  Rendered builder/index.html.erb within layouts/application (7.4ms)
Completed 200 OK in 362ms (Views: 357.9ms)


Completed 200 OK in 362ms (Views: 357.9ms)


Started POST "/start" for 192.168.5.26 at 2017-07-28 16:07:48 +0800
Started POST "/start" for 192.168.5.26 at 2017-07-28 16:07:48 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"dwd", "branch"=>"20170712-增加用户额度提示", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"+AMe67qhkH4oRbmeExZL4ajXvozdotkfJohpq/B4t8XQdp7JrUQXBQF6gS/DpDOhBk6rodUfkkkW2ViuUKLj6g=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"dwd", "branch"=>"20170712-增加用户额度提示", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"+AMe67qhkH4oRbmeExZL4ajXvozdotkfJohpq/B4t8XQdp7JrUQXBQF6gS/DpDOhBk6rodUfkkkW2ViuUKLj6g=="}
pid is 15934
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t dwd -e qishanqing@dafy.com -E '' -b $'20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''dwd'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170712-增加用户额度提示'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''dwd'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170712-增加用户额度提示'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t dwd -e qishanqing@dafy.com -E '' -b $'20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=dwd
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ dwd
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: dwd: command not found
++ for y in '$trunk'
++ echo dwd
+ trunks=dwd
+ test del = add
+ delbranch
+ '[' -z $'20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170728
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707281607
+ move_dir=Closed/--close+
+ Trunk_name=https://192.168.0.220/svn/tech/Trunk/dwd
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170728-20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272/Develop/dwd'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707281607-20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272'
++ awk -F / '{print $7}'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170728-20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272/Develop/dwd'
+ br=$'20170728-20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272'
+ access=$'20170728-20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707281607-20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.15934
+ echo $'https://192.168.0.220/svn/tech/Branch/20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170712-增加用户额度提示%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170712-增加用户额度提示%'\'';'
+ cat /tmp/cmdb.db.15934
+ rm -f /tmp/cmdb.db.15934
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.8ms)
  Rendered builder/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 2191ms (Views: 94.7ms)


Completed 200 OK in 2191ms (Views: 94.7ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-31 09:44:23 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-31 09:44:23 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (54.3ms)
  Rendered builder/index.html.erb within layouts/application (54.3ms)
Completed 200 OK in 939ms (Views: 836.2ms)


Completed 200 OK in 939ms (Views: 836.2ms)


Started POST "/start" for 192.168.5.26 at 2017-07-31 09:45:16 +0800
Started POST "/start" for 192.168.5.26 at 2017-07-31 09:45:16 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"songxinyu@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/CollectionOverdueBatchBusiness", "branch"=>"催收跑批调度", "user"=>"songxinyu", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"0/rmQaSYVhyezdUrHAPToMx4YLQckm0lNGZzMq9y6Qz7j2Zjs33RZ7fy7ZrMsavgYuF1mRQvJnMEN0I3D6i9Iw=="}
  Parameters: {"email"=>"songxinyu@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/CollectionOverdueBatchBusiness", "branch"=>"催收跑批调度", "user"=>"songxinyu", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"0/rmQaSYVhyezdUrHAPToMx4YLQckm0lNGZzMq9y6Qz7j2Zjs33RZ7fy7ZrMsavgYuF1mRQvJnMEN0I3D6i9Iw=="}
pid is 24359
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u songxinyu -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' -e songxinyu@dafy.com -E '' -b $'\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246' -T add -d ''
+ TEMP=' -u '\''songxinyu'\'' -t '\''外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'' -e '\''songxinyu@dafy.com'\'' -E '\'''\'' -b '\''催收跑批调度'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''songxinyu'\'' -t '\''外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'' -e '\''songxinyu@dafy.com'\'' -E '\'''\'' -b '\''催收跑批调度'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u songxinyu -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' -e songxinyu@dafy.com -E '' -b $'\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246' -T add -d '' --
+ true
+ case "$1" in
+ user=songxinyu
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ shift 2
+ true
+ case "$1" in
+ email=songxinyu@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=songxinyu@dafy.com '
+ SMARTCM_EXTRA_MAIL='songxinyu@dafy.com '
++ songxinyu
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: songxinyu: command not found
++ for x in '$user'
++ echo songxinyu=rw
+ users=songxinyu=rw
++ $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 外部业务/P2P/Business/CollectionOverdueBatchBusiness: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ trunks=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' ']'
+ '[' -z $'\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170731
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707310945
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707310945-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
++ awk -F / '{print $7}'
+ br=$'20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246'
+ access=$'20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.24359
+ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170731-催收跑批调度/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'',now(),'\''songxinyu'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170731-催收跑批调度/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'',now(),'\''songxinyu'\'');'
+ cat /tmp/cmdb.db.24359
+ rm -f /tmp/cmdb.db.24359
+ check-acces
+ grep -c '20170731-催收跑批调度]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z songxinyu=rw
+ cat
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.1ms)
  Rendered builder/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 13553ms (Views: 102.6ms)


Completed 200 OK in 13553ms (Views: 102.6ms)


smtp-server: 554 MI:STC You have exceeded the daily message limit. For more information, please visit https://feedback.qiye.163.com/bounce/ZxQ4XjUgD1ceJjxaKEt7HiEkR28bOBxodEtHXiN1
. . . message not sent.
Started GET "/builder" for 192.168.5.26 at 2017-07-31 09:48:38 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-31 09:48:38 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.4ms)
  Rendered builder/index.html.erb within layouts/application (3.4ms)
Completed 200 OK in 49ms (Views: 46.6ms)


Completed 200 OK in 49ms (Views: 46.6ms)


Started POST "/start" for 192.168.5.26 at 2017-07-31 09:48:42 +0800
Started POST "/start" for 192.168.5.26 at 2017-07-31 09:48:42 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"fef", "branch"=>"fefe", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"RnKfAKd446NZJ3EYbhgLgTTcXOHSx/kDQRYdo03HUcluBx8isJ1k2HAYSam+qnPBmkVJzNp6slVxRyym7R0F5g=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"fef", "branch"=>"fefe", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"RnKfAKd446NZJ3EYbhgLgTTcXOHSx/kDQRYdo03HUcluBx8isJ1k2HAYSam+qnPBmkVJzNp6slVxRyym7R0F5g=="}
pid is 24705
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t fef -e qishanqing@dafy.com -E '' -b fefe -T add -d ''
+ TEMP=' -u '\'''\'' -t '\''fef'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''fefe'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''fef'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''fefe'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u '' -t fef -e qishanqing@dafy.com -E '' -b fefe -T add -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=fef
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=fefe
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ fef
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: fef: command not found
++ for y in '$trunk'
++ echo fef
+ trunks=fef
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z fef ']'
+ '[' -z fefe ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170731
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707310948
+ move_dir=Closed/--close+
+ Trunk_name=https://192.168.0.220/svn/tech/Trunk/fef
+ branch_name=https://192.168.0.220/svn/tech/Branch/20170731-fefe/Develop/fef
+ source_name=https://192.168.0.220/svn/tech/Branch/fefe
+ dest_name=https://192.168.0.220/svn/tech/Branch/Closed/--close+201707310948-fefe
++ echo https://192.168.0.220/svn/tech/Branch/20170731-fefe/Develop/fef
++ awk -F / '{print $7}'
+ br=20170731-fefe
+ access=20170731-fefe
+ svn copy https://192.168.0.220/svn/tech/Trunk/fef https://192.168.0.220/svn/tech/Branch/20170731-fefe/Develop/fef --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ die 'Svn branch create the reasons for failure are as follows'
+ echo 'Svn branch create the reasons for failure are as follows'
+ test -e /home/qishanqing/tmp/output.24705
+ mails-cm -i 'svn branch create failed'
+ echo
+ cat /home/qishanqing/tmp/output.24705
+ rm -rf /home/qishanqing/tmp/output.24705
+ kill 24705
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (0.8ms)
  Rendered builder/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 602ms (Views: 32.8ms)


Completed 200 OK in 602ms (Views: 32.8ms)


smtp-server: 554 MI:STC You have exceeded the daily message limit. For more information, please visit https://feedback.qiye.163.com/bounce/YhQ4XjUgDywjHQ9bKzB7HlgiJwAdDhxodElDXSN1
. . . message not sent.
Started GET "/merge/index" for 192.168.5.26 at 2017-07-31 10:34:04 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-07-31 10:34:04 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.6ms)
  Rendered merge/index.html.erb within layouts/application (4.6ms)
Completed 200 OK in 792ms (Views: 457.9ms)


Completed 200 OK in 792ms (Views: 457.9ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 10:34:35 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 10:34:35 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170705-商城对接/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170613-资金方接入/Develop/外部业务/P2P/Business/CommonBorrowBusiness https://192.168.0.220/svn/tech/Branch/20170705-分期商城退款/Develop/外部业务/P2P/Business/CommonRepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170710-商城资金方/Develop/外部业务/P2P/Task/BorrowAgreementTask", "task"=>"http://192.168.0.221/zentao/task-view-42603.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"anoQRgNa7spEjUHZqeASEIq6iIx1yiyWRaBYelQRKcVCD5BkFL9psW2yeWh5UmpQJCOdoX13Z8B18Wl/9Mt96g=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170705-商城对接/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170613-资金方接入/Develop/外部业务/P2P/Business/CommonBorrowBusiness https://192.168.0.220/svn/tech/Branch/20170705-分期商城退款/Develop/外部业务/P2P/Business/CommonRepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170710-商城资金方/Develop/外部业务/P2P/Task/BorrowAgreementTask", "task"=>"http://192.168.0.221/zentao/task-view-42603.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"anoQRgNa7spEjUHZqeASEIq6iIx1yiyWRaBYelQRKcVCD5BkFL9psW2yeWh5UmpQJCOdoX13Z8B18Wl/9Mt96g=="}
pid is 26394
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42603.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170705-商城对接/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170613-资金方接入/Develop/外部业务/P2P/Business/CommonBorrowBusiness https://192.168.0.220/svn/tech/Branch/20170705-分期商城退款/Develop/外部业务/P2P/Business/CommonRepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170710-商城资金方/Develop/外部业务/P2P/Task/BorrowAgreementTask' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42603.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170705-商城对接/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170613-资金方接入/Develop/外部业务/P2P/Business/CommonBorrowBusiness https://192.168.0.220/svn/tech/Branch/20170705-分期商城退款/Develop/外部业务/P2P/Business/CommonRepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170710-商城资金方/Develop/外部业务/P2P/Task/BorrowAgreementTask'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42603.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170705-商城对接/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170613-资金方接入/Develop/外部业务/P2P/Business/CommonBorrowBusiness https://192.168.0.220/svn/tech/Branch/20170705-分期商城退款/Develop/外部业务/P2P/Business/CommonRepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170710-商城资金方/Develop/外部业务/P2P/Task/BorrowAgreementTask'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42603.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170705-商城对接/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170613-资金方接入/Develop/外部业务/P2P/Business/CommonBorrowBusiness https://192.168.0.220/svn/tech/Branch/20170705-分期商城退款/Develop/外部业务/P2P/Business/CommonRepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170710-商城资金方/Develop/外部业务/P2P/Task/BorrowAgreementTask' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42603.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170705-商城对接/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170613-资金方接入/Develop/外部业务/P2P/Business/CommonBorrowBusiness https://192.168.0.220/svn/tech/Branch/20170705-分期商城退款/Develop/外部业务/P2P/Business/CommonRepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170710-商城资金方/Develop/外部业务/P2P/Task/BorrowAgreementTask'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness' $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' $'https://192.168.0.220/svn/tech/Branch/20170705-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' $'https://192.168.0.220/svn/tech/Branch/20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonBorrowBusiness' $'https://192.168.0.220/svn/tech/Branch/20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness' $'https://192.168.0.220/svn/tech/Branch/20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170705-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonBorrowBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness
https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness2
https://192.168.0.220/svn/tech/Branch/20170705-商城对接/Develop/外部业务/P2P/Business/RepaymentBusiness2
https://192.168.0.220/svn/tech/Branch/20170613-资金方接入/Develop/外部业务/P2P/Business/CommonBorrowBusiness
https://192.168.0.220/svn/tech/Branch/20170705-分期商城退款/Develop/外部业务/P2P/Business/CommonRepaymentBusiness
https://192.168.0.220/svn/tech/Branch/20170710-商城资金方/Develop/外部业务/P2P/Task/BorrowAgreementTask'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.26394
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ mails-cm -i 'code merged from Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r132282 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
++ tail -n 4
+ revision='r126401 '
+ '[' '!' -z r126401 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness@r126401' $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：2'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2322' ']'
+ die 'Svn merged conflicts the r126401 -r132282  from Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness'
+ echo 'Svn merged conflicts the r126401 -r132282  from Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness'
+ test -e /home/qishanqing/tmp/merged/output.26394
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.26394
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42603.html
Merged revision(s) r126401 -r132282   from Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ rm -f /home/qishanqing/tmp/merged/output.26394
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness2'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r131976 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ tail -n 4
+ revision='r126878 '
+ '[' '!' -z r126878 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2@r126878' $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2@r126878' $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42603.html
Merged revision(s) r126878 -r131976   from Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BorrowBusiness2' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170705-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170705-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ rm -f /home/qishanqing/tmp/merged/output.26394
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170705-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170705-商城对接/Develop/外部业务/P2P/Business/RepaymentBusiness2'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170705-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170705-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132286 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170705-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ grep '^r'
++ tail -n 4
++ awk -F '|' '{print$1}'
+ revision='r125469 '
+ '[' '!' -z r125469 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170705-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2@r125469' $'https://192.168.0.220/svn/tech/Branch/20170705-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' .
+ st='  树冲突：1'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2321' ']'
+ die 'Svn merged conflicts the r125469 -r132286  from Branch/20170705-商城对接/Develop/外部业务/P2P/Business/RepaymentBusiness2'
+ echo 'Svn merged conflicts the r125469 -r132286  from Branch/20170705-商城对接/Develop/外部业务/P2P/Business/RepaymentBusiness2'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.26394
+ rm -f /home/qishanqing/tmp/merged/output.26394
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42603.html
Merged revision(s) r125469 -r132286   from Branch/20170705-商城对接/Develop/外部业务/P2P/Business/RepaymentBusiness2' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonBorrowBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonBorrowBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonBorrowBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.26394
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonBorrowBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonBorrowBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonBorrowBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170613-资金方接入/Develop/外部业务/P2P/Business/CommonBorrowBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonBorrowBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonBorrowBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r119852 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonBorrowBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r129310 '
+ '[' '!' -z r119852 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonBorrowBusiness@r119852' $'https://192.168.0.220/svn/tech/Branch/20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonBorrowBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonBorrowBusiness@r119852' $'https://192.168.0.220/svn/tech/Branch/20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonBorrowBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42603.html
Merged revision(s) r119852 -r129310   from Branch/20170613-资金方接入/Develop/外部业务/P2P/Business/CommonBorrowBusiness' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.26394
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness'
+ mails-cm -i 'code merged from Branch/20170705-分期商城退款/Develop/外部业务/P2P/Business/CommonRepaymentBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r132165 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r125622 '
+ '[' '!' -z r125622 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness@r125622' $'https://192.168.0.220/svn/tech/Branch/20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness@r125622' $'https://192.168.0.220/svn/tech/Branch/20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CommonRepaymentBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42603.html
Merged revision(s) r125622 -r132165   from Branch/20170705-分期商城退款/Develop/外部业务/P2P/Business/CommonRepaymentBusiness' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask'
+ rm -f /home/qishanqing/tmp/merged/output.26394
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask'
+ mails-cm -i 'code merged from Branch/20170710-商城资金方/Develop/外部业务/P2P/Task/BorrowAgreementTask'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ awk -F '|' '{print$1}'
++ head -n 4
++ grep -C 3 $'Branch/20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask'
++ grep '^r'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r132160 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r126646 '
+ '[' '!' -z r126646 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask@r126646' $'https://192.168.0.220/svn/tech/Branch/20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask@r126646' $'https://192.168.0.220/svn/tech/Branch/20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Task/BorrowAgreementTask'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42603.html
Merged revision(s) r126646 -r132160   from Branch/20170710-商城资金方/Develop/外部业务/P2P/Task/BorrowAgreementTask' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (4.6ms)
  Rendered merge/new.html.erb within layouts/application (4.6ms)
Completed 200 OK in 561853ms (Views: 413.9ms)


Completed 200 OK in 561853ms (Views: 413.9ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-31 10:46:22 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-07-31 10:46:22 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.8ms)
  Rendered merge/index.html.erb within layouts/application (4.8ms)
Completed 200 OK in 81ms (Views: 78.7ms)


Completed 200 OK in 81ms (Views: 78.7ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 10:46:30 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 10:46:30 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/IncomeBusiness\r\nhttps://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BossBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42684.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"at4+u5o2lmuSL6u3IK7DtPfcu2aEBT50vO62/VAHalFCq76ZjdMRELsQkwbwHLv0WUWuS4y4dSKMv4f48N0+fg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/IncomeBusiness\r\nhttps://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BossBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42684.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"at4+u5o2lmuSL6u3IK7DtPfcu2aEBT50vO62/VAHalFCq76ZjdMRELsQkwbwHLv0WUWuS4y4dSKMv4f48N0+fg=="}
pid is 26805
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42684.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/IncomeBusiness
https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BossBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42684.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/IncomeBusiness
https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BossBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42684.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/IncomeBusiness
https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BossBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42684.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/IncomeBusiness
https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BossBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42684.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/IncomeBusiness
https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BossBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness\r' $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/IncomeBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness\r'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/IncomeBusiness
https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BossBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness\r'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness\r'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ test -e /home/qishanqing/tmp/merged/output.26805
+ echo
+ cat /home/qishanqing/tmp/merged/output.26805
+ rm -f /home/qishanqing/tmp/merged/output.26805
+ rm -f /home/qishanqing/tmp/merged/output.26805
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness\r'
+ die '外部业务/P2P/Business/IncomeBusiness  project code no found'
+ echo '外部业务/P2P/Business/IncomeBusiness  project code no found'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.26805
+ rm -f /home/qishanqing/tmp/merged/output.26805
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.26805
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BossBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ clean_workspace
+ svn cleanup .
smtp-server: 554 DT:SPM 163 smtp1,C9GowAA3nCkHmn5Znp0yCA--.63071S2 1501469191,please see http://mail.163.com/help/help_spam_16.htm?ip=106.120.15.178&hostid=smtp1&time=1501469191
. . . message not sent.
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ head='r132281 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r132273 '
+ '[' '!' -z r132273 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness@r132273' $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness@r132273' $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42684.html
Merged revision(s) r132273 -r132281   from Branch/20170707-商城对接/Develop/外部业务/P2P/Business/BossBusiness' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (0.7ms)
  Rendered merge/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 39724ms (Views: 56.6ms)


Completed 200 OK in 39724ms (Views: 56.6ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-31 10:50:46 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-07-31 10:50:46 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (5.6ms)
  Rendered merge/index.html.erb within layouts/application (5.6ms)
Completed 200 OK in 76ms (Views: 73.9ms)


Completed 200 OK in 76ms (Views: 73.9ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 10:50:52 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 10:50:52 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/IncomeBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42684.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"ALPJS1GoluzwnjTZRaNBrblYeKjYQFNBUVStTSLPtbsoxklpRk0Rl9mhDGiVETntF8FthdD9GBdhBZxIghXhlA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/IncomeBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42684.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"ALPJS1GoluzwnjTZRaNBrblYeKjYQFNBUVStTSLPtbsoxklpRk0Rl9mhDGiVETntF8FthdD9GBdhBZxIghXhlA=="}
pid is 26921
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42684.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42684.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/IncomeBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42684.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/IncomeBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42684.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42684.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170707-商城对接/Develop/外部业务/P2P/Business/IncomeBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.26921
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170707-商城对接/Develop/外部业务/P2P/Business/IncomeBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r132276 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r132275 '
+ '[' '!' -z r132275 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness@r132275' $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness@r132275' $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42684.html
Merged revision(s) r132275 -r132276   from Branch/20170707-商城对接/Develop/外部业务/P2P/Business/IncomeBusiness' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.8ms)
  Rendered merge/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 29984ms (Views: 75.7ms)


Completed 200 OK in 29984ms (Views: 75.7ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-31 10:58:42 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-07-31 10:58:42 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.8ms)
  Rendered merge/index.html.erb within layouts/application (4.8ms)
Completed 200 OK in 68ms (Views: 65.5ms)


Completed 200 OK in 68ms (Views: 65.5ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 10:59:04 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 10:59:04 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170712-增加用户额度提示/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-42680.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"eeEzPuxdmIZrAogcBGa3s2t4JQQwwvxdpjxCYP0ZKixRlLMc+7gf/UI9sK3U1M/zxeEwKTh/twuWbXNlXcN+Aw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170712-增加用户额度提示/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-42680.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"eeEzPuxdmIZrAogcBGa3s2t4JQQwwvxdpjxCYP0ZKixRlLMc+7gf/UI9sK3U1M/zxeEwKTh/twuWbXNlXcN+Aw=="}
pid is 27030
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42680.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42680.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170712-增加用户额度提示/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42680.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170712-增加用户额度提示/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42680.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42680.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170712-增加用户额度提示/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.27030
+ echo
+ cat /home/qishanqing/tmp/merged/output.27030
+ rm -f /home/qishanqing/tmp/merged/output.27030
+ rm -f /home/qishanqing/tmp/merged/output.27030
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170712-增加用户额度提示/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r131863 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ grep '^r'
++ awk -F '|' '{print$1}'
svn: E160013: 找不到路径 “/svn/tech/!svn/rvr/132342/Branch/20170712-%E5%A2%9E%E5%8A%A0%E7%94%A8%E6%88%B7%E9%A2%9D%E5%BA%A6%E6%8F%90%E7%A4%BA/Develop/%E5%89%8D%E7%AB%AF%E4%B8%9A%E5%8A%A1/%E8%BE%BE%E9%A3%9E%E4%BA%91%E8%B4%B7/%E5%AE%A2%E6%88%B7%E7%AB%AF/Mobile/CloudLoanH5Client”
+ head=
+ '[' '!' -z r131863 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r131863' $'https://192.168.0.220/svn/tech/Branch/20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' .
++ grep -Ei 'conflicts|树冲突'
svn: E160013: 找不到路径 “/svn/tech/!svn/rvr/132342/Branch/20170712-%E5%A2%9E%E5%8A%A0%E7%94%A8%E6%88%B7%E9%A2%9D%E5%BA%A6%E6%8F%90%E7%A4%BA/Develop/%E5%89%8D%E7%AB%AF%E4%B8%9A%E5%8A%A1/%E8%BE%BE%E9%A3%9E%E4%BA%91%E8%B4%B7/%E5%AE%A2%E6%88%B7%E7%AB%AF/Mobile/CloudLoanH5Client”
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r131863' $'https://192.168.0.220/svn/tech/Branch/20170712-\345\242\236\345\212\240\347\224\250\346\210\267\351\242\235\345\272\246\346\217\220\347\244\272/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
svn: E160013: 找不到路径 “/svn/tech/!svn/rvr/132342/Branch/20170712-%E5%A2%9E%E5%8A%A0%E7%94%A8%E6%88%B7%E9%A2%9D%E5%BA%A6%E6%8F%90%E7%A4%BA/Develop/%E5%89%8D%E7%AB%AF%E4%B8%9A%E5%8A%A1/%E8%BE%BE%E9%A3%9E%E4%BA%91%E8%B4%B7/%E5%AE%A2%E6%88%B7%E7%AB%AF/Mobile/CloudLoanH5Client”
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42680.html
Merged revision(s) r131863 -  from Branch/20170712-增加用户额度提示/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.1ms)
  Rendered merge/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 54705ms (Views: 50.0ms)


Completed 200 OK in 54705ms (Views: 50.0ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-31 11:03:39 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-07-31 11:03:39 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.8ms)
  Rendered merge/index.html.erb within layouts/application (3.8ms)
Completed 200 OK in 115ms (Views: 112.8ms)


Completed 200 OK in 115ms (Views: 112.8ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 11:03:47 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 11:03:47 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170710-催收修改/Develop/分期商城/分期商城2.0/MallMain", "task"=>"http://192.168.0.221/zentao/task-view-42626.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"yMCBAzh09mgLYlNqhTrl5k3PQAuWhEJOdfCmbutg4wTgtQEhL5FxEyJda9tViJ2m41ZVJp45CRhFoZdrS7q3Kw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170710-催收修改/Develop/分期商城/分期商城2.0/MallMain", "task"=>"http://192.168.0.221/zentao/task-view-42626.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"yMCBAzh09mgLYlNqhTrl5k3PQAuWhEJOdfCmbutg4wTgtQEhL5FxEyJda9tViJ2m41ZVJp45CRhFoZdrS7q3Kw=="}
pid is 27133
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42626.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170710-\345\202\254\346\224\266\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2162.0/MallMain' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42626.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170710-催收修改/Develop/分期商城/分期商城2.0/MallMain'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42626.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170710-催收修改/Develop/分期商城/分期商城2.0/MallMain'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42626.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170710-\345\202\254\346\224\266\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2162.0/MallMain' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42626.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170710-\345\202\254\346\224\266\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2162.0/MallMain'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170710-\345\202\254\346\224\266\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2162.0/MallMain'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170710-催收修改/Develop/分期商城/分期商城2.0/MallMain: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\345\202\254\346\224\266\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2162.0/MallMain'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170710-\345\202\254\346\224\266\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2162.0/MallMain'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\345\202\254\346\224\266\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2162.0/MallMain'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2162.0/MallMain'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\345\202\254\346\224\266\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2162.0/MallMain'
+ rm -f /home/qishanqing/tmp/merged/output.27133
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2162.0/MallMain'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170710-\345\202\254\346\224\266\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2162.0/MallMain'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2162.0/MallMain'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2162.0/MallMain'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170710-催收修改/Develop/分期商城/分期商城2.0/MallMain'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170710-\345\202\254\346\224\266\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2162.0/MallMain'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\345\202\254\346\224\266\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2162.0/MallMain'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132156 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170710-\345\202\254\346\224\266\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2162.0/MallMain'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r126554 '
+ '[' '!' -z r126554 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170710-\345\202\254\346\224\266\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2162.0/MallMain@r126554' $'https://192.168.0.220/svn/tech/Branch/20170710-\345\202\254\346\224\266\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2162.0/MallMain' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170710-\345\202\254\346\224\266\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2162.0/MallMain@r126554' $'https://192.168.0.220/svn/tech/Branch/20170710-\345\202\254\346\224\266\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2162.0/MallMain'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42626.html
Merged revision(s) r126554 -r132156   from Branch/20170710-催收修改/Develop/分期商城/分期商城2.0/MallMain' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.6ms)
  Rendered merge/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 20520ms (Views: 51.4ms)


Completed 200 OK in 20520ms (Views: 51.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-31 11:07:01 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-31 11:07:01 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.2ms)
  Rendered builder/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 55ms (Views: 52.7ms)


Completed 200 OK in 55ms (Views: 52.7ms)


Started POST "/start" for 192.168.5.26 at 2017-07-31 11:07:05 +0800
Started POST "/start" for 192.168.5.26 at 2017-07-31 11:07:05 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"dwd", "branch"=>"20170710-催收修改", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"ROqmAcPMQaRvW2VXae4mvBbR1PHhU4202TldbvEdympsnyYj1CnG30ZkXea5XF78uEjB3OnuxuLpaGxrUceeRQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"dwd", "branch"=>"20170710-催收修改", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"ROqmAcPMQaRvW2VXae4mvBbR1PHhU4202TldbvEdympsnyYj1CnG30ZkXea5XF78uEjB3OnuxuLpaGxrUceeRQ=="}
pid is 27209
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t dwd -e qishanqing@dafy.com -E '' -b $'20170710-\345\202\254\346\224\266\344\277\256\346\224\271' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''dwd'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170710-催收修改'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''dwd'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170710-催收修改'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t dwd -e qishanqing@dafy.com -E '' -b $'20170710-\345\202\254\346\224\266\344\277\256\346\224\271' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=dwd
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170710-\345\202\254\346\224\266\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ dwd
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: dwd: command not found
++ for y in '$trunk'
++ echo dwd
+ trunks=dwd
+ test del = add
+ delbranch
+ '[' -z $'20170710-\345\202\254\346\224\266\344\277\256\346\224\271' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170731
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707311107
+ move_dir=Closed/--close+
+ Trunk_name=https://192.168.0.220/svn/tech/Trunk/dwd
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170731-20170710-\345\202\254\346\224\266\344\277\256\346\224\271/Develop/dwd'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170710-\345\202\254\346\224\266\344\277\256\346\224\271'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311107-20170710-\345\202\254\346\224\266\344\277\256\346\224\271'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-20170710-\345\202\254\346\224\266\344\277\256\346\224\271/Develop/dwd'
++ awk -F / '{print $7}'
+ br=$'20170731-20170710-\345\202\254\346\224\266\344\277\256\346\224\271'
+ access=$'20170731-20170710-\345\202\254\346\224\266\344\277\256\346\224\271'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170710-\345\202\254\346\224\266\344\277\256\346\224\271' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311107-20170710-\345\202\254\346\224\266\344\277\256\346\224\271' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.27209
+ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\345\202\254\346\224\266\344\277\256\346\224\271'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170710-催收修改%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170710-催收修改%'\'';'
+ cat /tmp/cmdb.db.27209
+ rm -f /tmp/cmdb.db.27209
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 2156ms (Views: 57.4ms)


Completed 200 OK in 2156ms (Views: 57.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-31 11:09:08 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-31 11:09:08 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.0ms)
  Rendered builder/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 57ms (Views: 54.5ms)


Completed 200 OK in 57ms (Views: 54.5ms)


Started POST "/start" for 192.168.5.26 at 2017-07-31 11:09:12 +0800
Started POST "/start" for 192.168.5.26 at 2017-07-31 11:09:12 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170707-商城对接", "branch"=>"20170707-商城对接", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"dcywba6B9pWHzXS0OUPXl1fK/4dc8c8emjJxqhXUMLJduTBPuWRx7q7yTAXp8a/X+VPqqlRMhEiqY0CvtQ5knQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170707-商城对接", "branch"=>"20170707-商城对接", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"dcywba6B9pWHzXS0OUPXl1fK/4dc8c8emjJxqhXUMLJduTBPuWRx7q7yTAXp8a/X+VPqqlRMhEiqY0CvtQ5knQ=="}
pid is 27261
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170707-\345\225\206\345\237\216\345\257\271\346\216\245' -e qishanqing@dafy.com -E '' -b $'20170707-\345\225\206\345\237\216\345\257\271\346\216\245' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170707-商城对接'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170707-商城对接'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170707-商城对接'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170707-商城对接'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170707-\345\225\206\345\237\216\345\257\271\346\216\245' -e qishanqing@dafy.com -E '' -b $'20170707-\345\225\206\345\237\216\345\257\271\346\216\245' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170707-\345\225\206\345\237\216\345\257\271\346\216\245'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170707-\345\225\206\345\237\216\345\257\271\346\216\245'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170707-\345\225\206\345\237\216\345\257\271\346\216\245'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170707-商城对接: command not found
++ for y in '$trunk'
++ echo $'20170707-\345\225\206\345\237\216\345\257\271\346\216\245'
+ trunks=$'20170707-\345\225\206\345\237\216\345\257\271\346\216\245'
+ test del = add
+ delbranch
+ '[' -z $'20170707-\345\225\206\345\237\216\345\257\271\346\216\245' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170731
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707311109
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170707-\345\225\206\345\237\216\345\257\271\346\216\245'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170731-20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/20170707-\345\225\206\345\237\216\345\257\271\346\216\245'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311109-20170707-\345\225\206\345\237\216\345\257\271\346\216\245'
++ awk -F / '{print $7}'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-20170707-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/20170707-\345\225\206\345\237\216\345\257\271\346\216\245'
+ br=$'20170731-20170707-\345\225\206\345\237\216\345\257\271\346\216\245'
+ access=$'20170731-20170707-\345\225\206\345\237\216\345\257\271\346\216\245'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311109-20170707-\345\225\206\345\237\216\345\257\271\346\216\245' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.27261
+ echo $'https://192.168.0.220/svn/tech/Branch/20170707-\345\225\206\345\237\216\345\257\271\346\216\245'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170707-商城对接%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170707-商城对接%'\'';'
+ cat /tmp/cmdb.db.27261
+ rm -f /tmp/cmdb.db.27261
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.1ms)
  Rendered builder/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 847ms (Views: 75.0ms)


Completed 200 OK in 847ms (Views: 75.0ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-31 11:09:25 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-31 11:09:25 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.4ms)
  Rendered builder/index.html.erb within layouts/application (4.4ms)
Completed 200 OK in 100ms (Views: 97.0ms)


Completed 200 OK in 100ms (Views: 97.0ms)


Started POST "/start" for 192.168.5.26 at 2017-07-31 11:09:30 +0800
Started POST "/start" for 192.168.5.26 at 2017-07-31 11:09:30 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"dwqdw", "branch"=>"20170705-商城对接", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"CM96eE7gUKGXOvY/qXIRqMdVZUo1sVOW67ffYZpG8pkguvpaWQXX2r4Fzo55wGnoacxwZz0MGMDb5u5kOpymtg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"dwqdw", "branch"=>"20170705-商城对接", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"CM96eE7gUKGXOvY/qXIRqMdVZUo1sVOW67ffYZpG8pkguvpaWQXX2r4Fzo55wGnoacxwZz0MGMDb5u5kOpymtg=="}
pid is 27297
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t dwqdw -e qishanqing@dafy.com -E '' -b $'20170705-\345\225\206\345\237\216\345\257\271\346\216\245' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''dwqdw'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170705-商城对接'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''dwqdw'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170705-商城对接'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t dwqdw -e qishanqing@dafy.com -E '' -b $'20170705-\345\225\206\345\237\216\345\257\271\346\216\245' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=dwqdw
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170705-\345\225\206\345\237\216\345\257\271\346\216\245'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ dwqdw
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: dwqdw: command not found
++ for y in '$trunk'
++ echo dwqdw
+ trunks=dwqdw
+ test del = add
+ delbranch
+ '[' -z $'20170705-\345\225\206\345\237\216\345\257\271\346\216\245' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170731
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707311109
+ move_dir=Closed/--close+
+ Trunk_name=https://192.168.0.220/svn/tech/Trunk/dwqdw
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170731-20170705-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/dwqdw'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170705-\345\225\206\345\237\216\345\257\271\346\216\245'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311109-20170705-\345\225\206\345\237\216\345\257\271\346\216\245'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-20170705-\345\225\206\345\237\216\345\257\271\346\216\245/Develop/dwqdw'
++ awk -F / '{print $7}'
+ br=$'20170731-20170705-\345\225\206\345\237\216\345\257\271\346\216\245'
+ access=$'20170731-20170705-\345\225\206\345\237\216\345\257\271\346\216\245'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170705-\345\225\206\345\237\216\345\257\271\346\216\245' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311109-20170705-\345\225\206\345\237\216\345\257\271\346\216\245' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.27297
+ echo $'https://192.168.0.220/svn/tech/Branch/20170705-\345\225\206\345\237\216\345\257\271\346\216\245'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170705-商城对接%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170705-商城对接%'\'';'
+ cat /tmp/cmdb.db.27297
+ rm -f /tmp/cmdb.db.27297
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.3ms)
  Rendered builder/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 4593ms (Views: 60.3ms)


Completed 200 OK in 4593ms (Views: 60.3ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-31 11:10:01 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-31 11:10:01 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.7ms)
  Rendered builder/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 54ms (Views: 51.3ms)


Completed 200 OK in 54ms (Views: 51.3ms)


Started POST "/start" for 192.168.5.26 at 2017-07-31 11:10:06 +0800
Started POST "/start" for 192.168.5.26 at 2017-07-31 11:10:06 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"fwf", "branch"=>"20170613-资金方接入", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"Tl7GjKgOaTLMrSvUnbm0bKZGJBDKQBVvB8QGp9w4Y0VmK0auv+vuSeWSE2VNC8wsCN8xPcL9Xjk3lTeifOI3ag=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"fwf", "branch"=>"20170613-资金方接入", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"Tl7GjKgOaTLMrSvUnbm0bKZGJBDKQBVvB8QGp9w4Y0VmK0auv+vuSeWSE2VNC8wsCN8xPcL9Xjk3lTeifOI3ag=="}
pid is 27330
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t fwf -e qishanqing@dafy.com -E '' -b $'20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''fwf'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170613-资金方接入'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''fwf'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170613-资金方接入'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t fwf -e qishanqing@dafy.com -E '' -b $'20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=fwf
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ fwf
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: fwf: command not found
++ for y in '$trunk'
++ echo fwf
+ trunks=fwf
+ test del = add
+ delbranch
+ '[' -z $'20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170731
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707311110
+ move_dir=Closed/--close+
+ Trunk_name=https://192.168.0.220/svn/tech/Trunk/fwf
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170731-20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/fwf'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311110-20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/fwf'
++ awk -F / '{print $7}'
+ br=$'20170731-20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245'
+ access=$'20170731-20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311110-20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.27330
+ echo $'https://192.168.0.220/svn/tech/Branch/20170613-\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170613-资金方接入%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170613-资金方接入%'\'';'
+ cat /tmp/cmdb.db.27330
+ rm -f /tmp/cmdb.db.27330
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (0.9ms)
  Rendered builder/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 653ms (Views: 45.3ms)


Completed 200 OK in 653ms (Views: 45.3ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-31 11:10:24 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-31 11:10:24 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.9ms)
  Rendered builder/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 60ms (Views: 57.2ms)


Completed 200 OK in 60ms (Views: 57.2ms)


Started POST "/start" for 192.168.5.26 at 2017-07-31 11:10:29 +0800
Started POST "/start" for 192.168.5.26 at 2017-07-31 11:10:29 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"fwf", "branch"=>"20170705-分期商城退款", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"3BC45Xjt5TP0rs/uyYLTQIXxcT5PimwnXu076Sbu4nP0ZTjHbwhiSN2R918ZMKsAK2hkE0c3J3FuvArshjS2XA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"fwf", "branch"=>"20170705-分期商城退款", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"3BC45Xjt5TP0rs/uyYLTQIXxcT5PimwnXu076Sbu4nP0ZTjHbwhiSN2R918ZMKsAK2hkE0c3J3FuvArshjS2XA=="}
pid is 27370
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t fwf -e qishanqing@dafy.com -E '' -b $'20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''fwf'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170705-分期商城退款'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''fwf'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170705-分期商城退款'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t fwf -e qishanqing@dafy.com -E '' -b $'20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=fwf
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ fwf
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: fwf: command not found
++ for y in '$trunk'
++ echo fwf
+ trunks=fwf
+ test del = add
+ delbranch
+ '[' -z $'20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170731
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707311110
+ move_dir=Closed/--close+
+ Trunk_name=https://192.168.0.220/svn/tech/Trunk/fwf
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170731-20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276/Develop/fwf'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311110-20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276/Develop/fwf'
++ awk -F / '{print $7}'
+ br=$'20170731-20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276'
+ access=$'20170731-20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311110-20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.27370
+ echo $'https://192.168.0.220/svn/tech/Branch/20170705-\345\210\206\346\234\237\345\225\206\345\237\216\351\200\200\346\254\276'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170705-分期商城退款%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170705-分期商城退款%'\'';'
+ cat /tmp/cmdb.db.27370
+ rm -f /tmp/cmdb.db.27370
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 2557ms (Views: 66.5ms)


Completed 200 OK in 2557ms (Views: 66.5ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-31 11:10:43 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-31 11:10:43 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.0ms)
  Rendered builder/index.html.erb within layouts/application (4.0ms)
Completed 200 OK in 74ms (Views: 70.4ms)


Completed 200 OK in 74ms (Views: 70.4ms)


Started POST "/start" for 192.168.5.26 at 2017-07-31 11:10:48 +0800
Started POST "/start" for 192.168.5.26 at 2017-07-31 11:10:48 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170710-商城资金方", "branch"=>"20170710-商城资金方", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"UnLammZEn/L/MVccXAS6OMyH8/VTehxoKqR3z77p3T56B1q4caEYidYOb62MtsJ4Yh7m2FvHVz4a9UbKHjOJEQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170710-商城资金方", "branch"=>"20170710-商城资金方", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"UnLammZEn/L/MVccXAS6OMyH8/VTehxoKqR3z77p3T56B1q4caEYidYOb62MtsJ4Yh7m2FvHVz4a9UbKHjOJEQ=="}
pid is 27401
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271' -e qishanqing@dafy.com -E '' -b $'20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170710-商城资金方'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170710-商城资金方'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170710-商城资金方'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170710-商城资金方'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271' -e qishanqing@dafy.com -E '' -b $'20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170710-商城资金方: command not found
++ for y in '$trunk'
++ echo $'20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271'
+ trunks=$'20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271'
+ test del = add
+ delbranch
+ '[' -z $'20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170731
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707311110
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170731-20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271/Develop/20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311110-20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271/Develop/20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271'
++ awk -F / '{print $7}'
+ br=$'20170731-20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271'
+ access=$'20170731-20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311110-20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.27401
+ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\345\225\206\345\237\216\350\265\204\351\207\221\346\226\271'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170710-商城资金方%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170710-商城资金方%'\'';'
+ cat /tmp/cmdb.db.27401
+ rm -f /tmp/cmdb.db.27401
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 702ms (Views: 47.3ms)


Completed 200 OK in 702ms (Views: 47.3ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-31 11:15:16 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-07-31 11:15:16 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (5.1ms)
  Rendered merge/index.html.erb within layouts/application (5.1ms)
Completed 200 OK in 85ms (Views: 82.3ms)


Completed 200 OK in 85ms (Views: 82.3ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 11:15:23 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 11:15:23 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"dt", "trunk"=>"https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/RepaymentBusiness2", "branch"=>"", "task"=>"", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"g2Njijv2iqhbwnoozIdlKc2e88ztZ6VK0zpIcex1pemrFuOoLBMN03L9QpkcNR1pYwfm4eXa7hzja3l0TK/xxg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"dt", "trunk"=>"https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/RepaymentBusiness2", "branch"=>"", "task"=>"", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"g2Njijv2iqhbwnoozIdlKc2e88ztZ6VK0zpIcex1pemrFuOoLBMN03L9QpkcNR1pYwfm4eXa7hzja3l0TK/xxg=="}
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (6.8ms)
  Rendered merge/index.html.erb within layouts/application (6.8ms)
Completed 200 OK in 91ms (Views: 86.5ms)


Completed 200 OK in 91ms (Views: 86.5ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 11:15:44 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 11:15:44 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"dt", "trunk"=>"https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/RepaymentBusiness2", "branch"=>"fefe", "task"=>"", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"EFN6kQF14NDeCxfS7a4ftYAIXhdzI7jlFFnhL7ovbnc4JvqzFpBnq/c0L2M9HGf1LpFLOnue87MkCNAqGvU6WA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"dt", "trunk"=>"https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/RepaymentBusiness2", "branch"=>"fefe", "task"=>"", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"EFN6kQF14NDeCxfS7a4ftYAIXhdzI7jlFFnhL7ovbnc4JvqzFpBnq/c0L2M9HGf1LpFLOnue87MkCNAqGvU6WA=="}
pid is 27493
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k '' -R '' -t $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' -e qishanqing@dafy.com -E '' -b fefe -T dt
+ TEMP=' -k '\'''\'' -R '\'''\'' -t '\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/RepaymentBusiness2'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''fefe'\'' -T '\''dt'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\'''\'' -R '\'''\'' -t '\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/RepaymentBusiness2'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''fefe'\'' -T '\''dt'\'' --'
++ set -- -k '' -R '' -t $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' -e qishanqing@dafy.com -E '' -b fefe -T dt --
+ true
+ case "$1" in
+ task=
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=fefe
+ shift 2
+ true
+ case "$1" in
+ types=dt
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ fefe
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: fefe: command not found
++ for y in '$branch'
++ echo fefe
+ branchs=fefe
+ test dt = add
+ test dt = del
+ test dt = dt
+ Basecode
+ test -z $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ svn log -l 1 fefe
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.27493
+ echo
+ cat /home/qishanqing/tmp/merged/output.27493
+ rm -f /home/qishanqing/tmp/merged/output.27493
+ rm -f /home/qishanqing/tmp/merged/output.27493
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=/home/qishanqing/workspace/code/Branch/fefe
+ svn_dt_merged
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
正在升级 '.':
A    target
A    target/generated-sources
A    target/generated-sources/annotations
A    target/BorrowBusiness
A    target/BorrowBusiness/META-INF
A    target/BorrowBusiness/WEB-INF
A    target/BorrowBusiness/WEB-INF/classes
A    target/BorrowBusiness/WEB-INF/classes/com
A    target/BorrowBusiness/WEB-INF/classes/com/dafy
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/mall
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/mall/business
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/mall/util
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/mall/model
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/mode
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/mode/impl
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/service
A    target/BorrowBusiness/META-INF/MANIFEST.MF
A    target/BorrowBusiness/WEB-INF/web.xml
A    target/BorrowBusiness/WEB-INF/classes/holiday_hints.properties
A    target/BorrowBusiness/WEB-INF/classes/servicebus.xml
A    target/BorrowBusiness/WEB-INF/classes/config4cdo.properties
A    target/BorrowBusiness/WEB-INF/classes/log4j.properties
A    target/BorrowBusiness/WEB-INF/classes/AntiFraud.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/mall/business/ThirdBillMongoService.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/mall/business/ThirdBillService.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/mall/business/ThirdBorrowModeService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/mall/business/ThirdBillMongoService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/mall/business/ThirdBillService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/mall/util/BorrowerBillUtil.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/mall/model/BorrowerBillModel.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/mall/model/Constants.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/service/BorrowIntentInfoService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/PrefixCacheService.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/FundProviderService$sortByPriority.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowDataDisplayService.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/enums
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/utils
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/web
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/mode/impl/PPMoneyBorrowModeService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowerMoreBillService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowProductStrateService.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/mode/impl/CommonBorrowModeService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/mode/impl/HaierBorrowModeService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/mode/impl/MinDaiMoneyBorrowModeService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/mode/impl/GHBBorrowModeService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/mode/impl/StagingMallBorrowModeService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowIntentService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowIntentMongoService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/EasyLoanOverdueService.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/mode/impl/CommonBorrowModeService.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/EasyLoanOverdueService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowMoreIntentService.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/SftpService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowAuditService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/enums/BorrowModeCodeEnum.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/plugin.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/PostfixCacheService.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BillService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/BusinessSocketServer.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/utils/PropertyUtil.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/utils
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/fundprovider
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/fundprovider/router
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/fundprovider/impl
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowMoreIntentService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/TriggerService.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/utils/FileZipUtil.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/web/BusinessServlet.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/mode/impl/DafyBorrowModeService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/mode/BorrowMode.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/web/ApplicationListener.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/utils/FundProvider.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/utils/UserBusinessHelper.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/utils/FundProviderHold.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/fundprovider/router/FundRouter.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/fundprovider/impl/HaierFundProvider.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/utils/FtpUtil.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/utils/StringUtils.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/utils/Des3.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/utils/MinDaiUtils.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/fundprovider/impl/HongLingFundProvider.class
A    target/BorrowBusiness/WEB-INF/classes/dev
A    target/BorrowBusiness/WEB-INF/classes/dev/dafy
A    target/BorrowBusiness/WEB-INF/classes/dev/dafy/borrowbusiness
A    target/BorrowBusiness/WEB-INF/classes/dev/dafy/borrowbusiness/business
A    target/BorrowBusiness/WEB-INF/classes/dev/dafy/borrowbusiness/business/plugin
A    target/BorrowBusiness/WEB-INF/classes/dev/dafy/borrowbusiness/business/plugin/borrow
A    target/BorrowBusiness/WEB-INF/classes/dev/dafy/borrowbusiness/test
A    target/BorrowBusiness/WEB-INF/classes/META-INF
A    target/BorrowBusiness/WEB-INF/lib
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowerBillMongoService.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/fundprovider/impl/HBCFFundProvider.class
A    target/BorrowBusiness/WEB-INF/classes/dev/dafy/borrowbusiness/business/plugin/borrow/SaleManBorrowServiceTest.class
A    target/BorrowBusiness/WEB-INF/classes/dev/dafy/borrowbusiness/business/plugin/borrow/BorrowMoreIntentServiceTest.class
A    target/BorrowBusiness/WEB-INF/classes/dev/dafy/borrowbusiness/test/TestApp.class
A    target/BorrowBusiness/WEB-INF/classes/config.properties
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/fundprovider/impl/MinDaiFundProvider.class
A    target/BorrowBusiness/WEB-INF/classes/dev/dafy/borrowbusiness/business/plugin/borrow/BorrowDataDisplayServiceTest.class
A    target/BorrowBusiness/WEB-INF/classes/dev/dafy/borrowbusiness/business/plugin/borrow/SampleTestCase.class
A    target/BorrowBusiness/WEB-INF/classes/dev/dafy/borrowbusiness/business/plugin/borrow/FundProviderServiceTest.class
A    target/BorrowBusiness/WEB-INF/classes/NodeList.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowerBillService.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/fundprovider/impl/PPFundProvider.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/fundprovider/IFundProvider.class
A    target/BorrowBusiness/WEB-INF/classes/dev/dafy/borrowbusiness/business/plugin/borrow/BorrowIntentServiceTest.class
A    target/BorrowBusiness/WEB-INF/classes/dev/dafy/borrowbusiness/business/plugin/borrow/BorrowerMoreBillServiceTest.class
A    target/BorrowBusiness/WEB-INF/classes/META-INF/MANIFEST.MF
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowDataService.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/EasyLoanBorrowService.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowAuditMongoService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/FundProviderService.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowDataService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowerBillService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowerBillMongoService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowRealTimeSync.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/EasyLoanBorrowService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/SaleManBorrowService.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/FundProviderService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/SaleManBorrowService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/CompensatoryService.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowerMoreBillService.xml
A    target/BorrowBusiness/WEB-INF/lib/P2PCommon-20170418.jar
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowIntentService.xml
A    target/BorrowBusiness/WEB-INF/lib/dom4j-1.6.1.jar
A    target/BorrowBusiness/WEB-INF/lib/ant-launcher-1.8.2.jar
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowIntentMongoService.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowDataDisplayService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowAuditService.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowProductStrateService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/DataPostfix.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/enums/RepayWayEnum.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowProductService.xml
A    target/BorrowBusiness/WEB-INF/lib/commons-lang3-3.4.jar
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowProductService.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BillService.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowAuditMongoService.xml
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/utils/Sftp.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/business/DataEngine.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/utils/ArithUtil.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/utils/MDCDOUtils.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/utils/FtpUtil$1.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/utils/EncDecUtil.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/fundprovider/impl/BackupFundProvider.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/fundprovider/impl/KaisaFundProvider.class
A    target/BorrowBusiness/WEB-INF/classes/com/dafy/borrowbusiness/fundprovider/impl/DafyFundProvider.class
A    target/BorrowBusiness/WEB-INF/classes/dev/dafy/borrowbusiness/business/plugin/borrow/BorrowIntentMongoServiceTest.class
A    target/BorrowBusiness/WEB-INF/classes/dev/dafy/borrowbusiness/business/plugin/borrow/BillServiceTest.class
A    target/BorrowBusiness/WEB-INF/classes/dev/dafy/borrowbusiness/test/BaseTestCase.class
A    target/BorrowBusiness/WEB-INF/classes/FundRouterList.xml
A    target/maven-archiver
A    target/maven-status
A    target/maven-status/maven-compiler-plugin
A    target/maven-status/maven-compiler-plugin/compile
A    target/maven-status/maven-compiler-plugin/compile/default-compile
A    target/classes
A    target/classes/com
A    target/classes/com/dafy
A    target/classes/com/dafy/mall
A    target/classes/com/dafy/mall/model
A    target/classes/com/dafy/mall/business
A    target/classes/com/dafy/mall/util
A    target/BorrowBusiness/WEB-INF/lib/commons-pool-1.5.4.jar
A    target/BorrowBusiness/WEB-INF/lib/commons-dbcp-1.4.jar
A    target/BorrowBusiness/WEB-INF/lib/commons-collections-3.2.2.jar
A    target/BorrowBusiness/WEB-INF/lib/httpmime-4.5.jar
A    target/BorrowBusiness/WEB-INF/lib/core-2.3.0.jar
A    target/BorrowBusiness/WEB-INF/lib/commons-net-3.4.jar
A    target/BorrowBusiness/WEB-INF/lib/spymemcached-2.7.jar
A    target/BorrowBusiness/WEB-INF/lib/mockito-all-1.9.5.jar
A    target/BorrowBusiness/WEB-INF/lib/mongo-java-driver-3.2.2.jar
A    target/BorrowBusiness/WEB-INF/lib/hamcrest-core-1.3.jar
A    target/BorrowBusiness/WEB-INF/lib/jedis-2.7.2.jar
A    target/BorrowBusiness/WEB-INF/lib/xml-apis-1.3.03.jar
A    target/BorrowBusiness/WEB-INF/lib/xerces-j-1.4.0.jar
A    target/BorrowBusiness/WEB-INF/lib/commons-codec-1.2.jar
A    target/BorrowBusiness/WEB-INF/lib/slf4j-log4j12-1.7.21.jar
A    target/BorrowBusiness/WEB-INF/lib/commons-lang-2.4.jar
A    target/BorrowBusiness/WEB-INF/lib/commons-beanutils-1.9.1.jar
A    target/BorrowBusiness/WEB-INF/lib/gson-2.2.4.jar
A    target/classes/com/dafy/borrowbusiness
A    target/classes/com/dafy/borrowbusiness/fundprovider
A    target/classes/com/dafy/borrowbusiness/fundprovider/router
A    target/classes/com/dafy/borrowbusiness/fundprovider/impl
A    target/classes/com/dafy/borrowbusiness/business
A    target/classes/com/dafy/borrowbusiness/business/plugin
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow
A    target/BorrowBusiness/WEB-INF/lib/objenesis-1.0.jar
A    target/classes/com/dafy/mall/model/BorrowerBillModel.class
A    target/classes/com/dafy/mall/business/ThirdBorrowModeService.class
A    target/BorrowBusiness/WEB-INF/lib/cdoframework-7.2.4.jar
A    target/classes/com/dafy/borrowbusiness/fundprovider/router/FundRouter.class
A    target/classes/com/dafy/borrowbusiness/fundprovider/impl/KaisaFundProvider.class
A    target/classes/com/dafy/borrowbusiness/fundprovider/impl/DafyFundProvider.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowRealTimeSync.xml
A    target/BorrowBusiness/WEB-INF/lib/activation-1.1.jar
A    target/BorrowBusiness/WEB-INF/lib/ant-1.8.2.jar
A    target/BorrowBusiness/WEB-INF/lib/xercesImpl-2.8.1.jar
A    target/BorrowBusiness/WEB-INF/lib/ezmorph-1.0.6.jar
A    target/BorrowBusiness/WEB-INF/lib/log4j-1.2.17.jar
A    target/BorrowBusiness/WEB-INF/lib/httpcore-4.4.1.jar
A    target/BorrowBusiness/WEB-INF/lib/oro-2.0.6.jar
A    target/BorrowBusiness/WEB-INF/lib/commons-io-2.0.1.jar
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/service
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/FundProviderService.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/CompensatoryService.xml
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowerMoreBillService.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowDataDisplayService.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowProductStrateService.class
A    target/BorrowBusiness/WEB-INF/lib/javax.mail-1.5.0.jar
A    target/BorrowBusiness/WEB-INF/lib/commons-logging-1.0.3.jar
A    target/BorrowBusiness/WEB-INF/lib/mysql-connector-java-5.1.18.jar
A    target/BorrowBusiness/WEB-INF/lib/httpclient-4.5.jar
A    target/BorrowBusiness/WEB-INF/lib/dflib-1.0.4.jar
A    target/BorrowBusiness/WEB-INF/lib/commons-httpclient-3.0.1.jar
A    target/BorrowBusiness/WEB-INF/lib/fastjson-1.2.7.jar
A    target/BorrowBusiness/WEB-INF/lib/castor-xml-1.0.1-xml.jar
A    target/BorrowBusiness/WEB-INF/lib/bouncyCastle-1.0.0.jar
A    target/BorrowBusiness/WEB-INF/lib/javaee-api-7.0.jar
A    target/BorrowBusiness/WEB-INF/lib/json-lib-2.4-jdk15.jar
A    target/BorrowBusiness/WEB-INF/lib/junit-4.11.jar
A    target/maven-archiver/pom.properties
A    target/classes/com/dafy/mall/model/Constants.class
A    target/classes/com/dafy/mall/business/ThirdBillMongoService.class
A    target/classes/com/dafy/borrowbusiness/fundprovider/impl/BackupFundProvider.class
A    target/classes/com/dafy/borrowbusiness/fundprovider/impl/PPFundProvider.class
A    target/classes/com/dafy/borrowbusiness/fundprovider/IFundProvider.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowDataService.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/SaleManBorrowService.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/FundProviderService$sortByPriority.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/enums
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/mode
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/mode/impl
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowIntentMongoService.xml
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowIntentService.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/EasyLoanOverdueService.xml
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/enums/BorrowModeCodeEnum.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/enums/RepayWayEnum.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowMoreIntentService.xml
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BillService.xml
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/TriggerService.xml
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/mode/BorrowMode.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/plugin.xml
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/SftpService.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowAuditMongoService.xml
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowDataService.xml
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/mode/impl/CommonBorrowModeService.xml
A    target/BorrowBusiness/WEB-INF/lib/bcprov-jdk16-1.46.jar
A    target/classes/com/dafy/borrowbusiness/business/utils
A    target/classes/com/dafy/borrowbusiness/web
A    target/classes/com/dafy/borrowbusiness/utils
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/mode/impl/HaierBorrowModeService.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/mode/impl/DafyBorrowModeService.class
A    target/BorrowBusiness/WEB-INF/lib/mockito-core-1.9.5.jar
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/mode/impl/MinDaiMoneyBorrowModeService.class
A    target/classes/com/dafy/borrowbusiness/business/BusinessSocketServer.class
A    target/classes/com/dafy/borrowbusiness/business/DataEngine.class
A    target/classes/com/dafy/borrowbusiness/utils/FtpUtil.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/FundProviderService.xml
A    target/classes/com/dafy/borrowbusiness/business/utils/Sftp.class
A    target/classes/com/dafy/borrowbusiness/utils/ArithUtil.class
A    target/BorrowBusiness/WEB-INF/lib/commons-pool2-2.3.jar
A    target/BorrowBusiness/WEB-INF/lib/P2PCommon-20170511-SNAPSHOT.jar
A    target/BorrowBusiness/WEB-INF/lib/slf4j-api-1.7.21.jar
A    target/maven-status/maven-compiler-plugin/compile/default-compile/inputFiles.lst
A    target/classes/com/dafy/mall/business/ThirdBillMongoService.xml
A    target/classes/com/dafy/mall/business/ThirdBillService.class
A    target/classes/com/dafy/borrowbusiness/fundprovider/impl/HongLingFundProvider.class
A    target/classes/com/dafy/borrowbusiness/fundprovider/impl/MinDaiFundProvider.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowerBillService.class
A    target/classes/META-INF
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/EasyLoanBorrowService.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/service/BorrowIntentInfoService.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowerMoreBillService.xml
A    target/classes/com/dafy/borrowbusiness/utils/StringUtils.class
A    target/classes/com/dafy/borrowbusiness/utils/FundProviderHold.class
A    target/classes/NodeList.xml
A    target/classes/servicebus.xml
A    target/classes/com/dafy/borrowbusiness/utils/UserBusinessHelper.class
A    target/classes/com/dafy/borrowbusiness/utils/EncDecUtil.class
A    target/classes/config.properties
A    target/classes/config4cdo.properties
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowIntentService.xml
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowIntentMongoService.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/DataPostfix.xml
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/EasyLoanOverdueService.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/PostfixCacheService.xml
A    target/BorrowBusiness/WEB-INF/lib/jsch-0.1.48.jar
A    target/maven-status/maven-compiler-plugin/compile/default-compile/createdFiles.lst
A    target/classes/com/dafy/mall/business/ThirdBillService.xml
A    target/classes/com/dafy/mall/util/BorrowerBillUtil.class
A    target/classes/com/dafy/borrowbusiness/fundprovider/impl/HaierFundProvider.class
A    target/classes/com/dafy/borrowbusiness/fundprovider/impl/HBCFFundProvider.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowerBillMongoService.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/SaleManBorrowService.xml
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/PrefixCacheService.xml
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowDataDisplayService.xml
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowProductStrateService.xml
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowMoreIntentService.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowAuditService.xml
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowerBillService.xml
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/mode/impl/GHBBorrowModeService.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowAuditService.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/mode/impl/PPMoneyBorrowModeService.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/EasyLoanBorrowService.xml
A    target/classes/com/dafy/borrowbusiness/business/utils/FileZipUtil.class
A    target/classes/com/dafy/borrowbusiness/web/BusinessServlet.class
A    target/classes/com/dafy/borrowbusiness/utils/FundProvider.class
A    target/classes/com/dafy/borrowbusiness/utils/FtpUtil$1.class
A    target/classes/com/dafy/borrowbusiness/utils/MinDaiUtils.class
A    target/classes/FundRouterList.xml
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowProductService.xml
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowProductService.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BillService.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowerBillMongoService.xml
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/mode/impl/StagingMallBorrowModeService.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/mode/impl/CommonBorrowModeService.class
A    target/classes/com/dafy/borrowbusiness/business/plugin/borrow/BorrowAuditMongoService.class
A    target/classes/com/dafy/borrowbusiness/business/utils/PropertyUtil.class
A    target/classes/com/dafy/borrowbusiness/web/ApplicationListener.class
A    target/classes/com/dafy/borrowbusiness/utils/MDCDOUtils.class
A    target/classes/com/dafy/borrowbusiness/utils/Des3.class
A    target/classes/META-INF/MANIFEST.MF
A    target/classes/holiday_hints.properties
A    target/classes/AntiFraud.xml
A    target/classes/log4j.properties
A    target/BorrowBusiness.war
更新到版本 132358。
++ svn log -l 2
++ awk -F '|' '{print$1}'
++ grep '^r'
++ tail -n 1
+ revision='r131607 '
+ '[' -z ']'
+ svn merge -r HEAD:r131607 .
+ mails-cm -i $'\345\267\262\345\233\236\351\200\200\347\211\210\346\234\254'
+ svn ci -m '版本回退至: r131607 '
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.3ms)
  Rendered merge/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 32702ms (Views: 128.2ms)


Completed 200 OK in 32702ms (Views: 128.2ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-31 11:19:27 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-07-31 11:19:27 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (7.7ms)
  Rendered merge/index.html.erb within layouts/application (7.7ms)
Completed 200 OK in 130ms (Views: 125.8ms)


Completed 200 OK in 130ms (Views: 125.8ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 11:20:20 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 11:20:20 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/ClientPocketHTML https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketBusiness https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketCenter https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketWapCenter", "task"=>"http://192.168.0.221/zentao/task-view-42607.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"A12LFd8BKBD2NCPOJHOu1w96n9aIUdoUlT5bGqrCGnYrKAs3yOSva98LG3/0wdaXoeOK+4DskUKlb2ofChhOWQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/ClientPocketHTML https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketBusiness https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketCenter https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketWapCenter", "task"=>"http://192.168.0.221/zentao/task-view-42607.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"A12LFd8BKBD2NCPOJHOu1w96n9aIUdoUlT5bGqrCGnYrKAs3yOSva98LG3/0wdaXoeOK+4DskUKlb2ofChhOWQ=="}
pid is 27564
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42607.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/ClientPocketHTML https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketBusiness https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketCenter https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketWapCenter' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42607.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/ClientPocketHTML https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketBusiness https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketCenter https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketWapCenter'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42607.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/ClientPocketHTML https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketBusiness https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketCenter https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketWapCenter'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42607.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/ClientPocketHTML https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketBusiness https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketCenter https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketWapCenter' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42607.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/ClientPocketHTML https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketBusiness https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketCenter https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketWapCenter'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/ClientPocketHTML' $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketBusiness' $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter' $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketWapCenter'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/ClientPocketHTML: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/ClientPocketHTML'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketWapCenter'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/ClientPocketHTML
https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketBusiness
https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketCenter
https://192.168.0.220/svn/tech/Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketWapCenter'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/ClientPocketHTML'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/ClientPocketHTML'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/ClientPocketHTML'
+ rm -f /home/qishanqing/tmp/merged/output.27564
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/ClientPocketHTML'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/ClientPocketHTML'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/ClientPocketHTML'
+ svn_from_tb_merged
+ mails-cm -i 'code merged from Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/ClientPocketHTML'
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/ClientPocketHTML'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/ClientPocketHTML'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r131908 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/ClientPocketHTML'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132298 '
+ '[' '!' -z r131908 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/ClientPocketHTML@r131908' $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/ClientPocketHTML' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/ClientPocketHTML@r131908' $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/ClientPocketHTML'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42607.html
Merged revision(s) r131908 -r132298   from Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/ClientPocketHTML' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.27564
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r131907 '
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketBusiness'
+ head='r131775 '
+ '[' '!' -z r131907 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketBusiness@r131907' $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketBusiness@r131907' $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42607.html
Merged revision(s) r131907 -r131775   from Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketBusiness' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter'
+ rm -f /home/qishanqing/tmp/merged/output.27564
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter'
+ mails-cm -i 'code merged from Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketCenter'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter'
++ head -n 4
++ awk -F '|' '{print$1}'
+ revision='r131899 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r131718 '
+ '[' '!' -z r131899 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter@r131899' $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter@r131899' $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketCenter'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42607.html
Merged revision(s) r131899 -r131718   from Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketCenter' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketWapCenter'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketWapCenter'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketWapCenter'
+ rm -f /home/qishanqing/tmp/merged/output.27564
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketWapCenter'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketWapCenter'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketWapCenter'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketWapCenter'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketWapCenter'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketWapCenter'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r131906 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketWapCenter'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r132102 '
+ '[' '!' -z r131906 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketWapCenter@r131906' $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketWapCenter' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketWapCenter@r131906' $'https://192.168.0.220/svn/tech/Branch/20170527-\346\237\245\347\234\213\345\256\242\346\210\267\350\265\204\346\226\231/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/PocketWapCenter'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42607.html
Merged revision(s) r131906 -r132102   from Branch/20170527-查看客户资料/Develop/前端业务/口袋助手3.0/PocketWapCenter' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.5ms)
  Rendered merge/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 56568ms (Views: 56.7ms)


Completed 200 OK in 56568ms (Views: 56.7ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-31 11:25:57 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-07-31 11:25:57 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (7.6ms)
  Rendered merge/index.html.erb within layouts/application (7.6ms)
Completed 200 OK in 73ms (Views: 67.9ms)


Completed 200 OK in 73ms (Views: 67.9ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 11:26:10 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 11:26:10 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170724-可动态配置化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness\r\n", "task"=>"http://192.168.0.221/zentao/task-view-42444.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"3ZuvnPJ1z770T3nri8wKniK+J/kbH/QS9Y0dt6Y1DXb17i++5ZBIxd1wQVpbfnLejCcy1BOiv0TF3CyyBu9ZWQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170724-可动态配置化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness\r\n", "task"=>"http://192.168.0.221/zentao/task-view-42444.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"3ZuvnPJ1z770T3nri8wKniK+J/kbH/QS9Y0dt6Y1DXb17i++5ZBIxd1wQVpbfnLejCcy1BOiv0TF3CyyBu9ZWQ=="}
pid is 27781
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42444.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170724-可动态配置化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness
' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42444.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170724-可动态配置化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness
'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42444.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170724-可动态配置化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness
'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42444.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170724-可动态配置化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness
' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42444.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170724-可动态配置化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness
'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness\r'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170724-可动态配置化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness\r'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness\r'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness\r'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness\r'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.27781
+ echo
+ cat /home/qishanqing/tmp/merged/output.27781
+ rm -f /home/qishanqing/tmp/merged/output.27781
+ rm -f /home/qishanqing/tmp/merged/output.27781
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness\r'
+ die '外部业务/P2P/Business/CollectionOverdueBatchBusiness  project code no found'
+ echo '外部业务/P2P/Business/CollectionOverdueBatchBusiness  project code no found'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.27781
+ rm -f /home/qishanqing/tmp/merged/output.27781
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.1ms)
  Rendered merge/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 193ms (Views: 61.0ms)


Completed 200 OK in 193ms (Views: 61.0ms)


smtp-server: 554 DT:SPM 163 smtp2,DNGowADnoRBUo35ZYYdtAg--.41675S2 1501471572,please see http://mail.163.com/help/help_spam_16.htm?ip=106.120.15.178&hostid=smtp2&time=1501471572
. . . message not sent.
Started GET "/merge/index" for 192.168.5.26 at 2017-07-31 11:26:28 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-07-31 11:26:28 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.4ms)
  Rendered merge/index.html.erb within layouts/application (4.4ms)
Completed 200 OK in 52ms (Views: 49.1ms)


Completed 200 OK in 52ms (Views: 49.1ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 11:26:43 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 11:26:43 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170724-可动态配置化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42444.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"ry7USTuKAz+Z1I4ELIjMMz4GyJeBrw4e6acf6HHC91WHW1RrLG+ERLDrtrX8OrRzkJ/duokSRUjZ9i7t0Rijeg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170724-可动态配置化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42444.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"ry7USTuKAz+Z1I4ELIjMMz4GyJeBrw4e6acf6HHC91WHW1RrLG+ERLDrtrX8OrRzkJ/duokSRUjZ9i7t0Rijeg=="}
pid is 27815
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42444.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42444.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170724-可动态配置化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42444.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170724-可动态配置化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42444.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42444.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170724-可动态配置化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.27815
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170724-可动态配置化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness'
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ awk -F '|' '{print$1}'
++ grep -C 3 $'Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r130534 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r130390 '
+ '[' '!' -z r130390 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness@r130390' $'https://192.168.0.220/svn/tech/Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：1'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2321' ']'
+ die 'Svn merged conflicts the r130390 -r130534  from Branch/20170724-可动态配置化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness'
+ echo 'Svn merged conflicts the r130390 -r130534  from Branch/20170724-可动态配置化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.27815
+ rm -f /home/qishanqing/tmp/merged/output.27815
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42444.html
Merged revision(s) r130390 -r130534   from Branch/20170724-可动态配置化/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.8ms)
  Rendered merge/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 12936ms (Views: 67.7ms)


Completed 200 OK in 12936ms (Views: 67.7ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-31 11:37:42 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-31 11:37:42 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.4ms)
  Rendered builder/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 65ms (Views: 63.7ms)


Completed 200 OK in 65ms (Views: 63.7ms)


Started POST "/start" for 192.168.5.26 at 2017-07-31 11:37:48 +0800
Started POST "/start" for 192.168.5.26 at 2017-07-31 11:37:48 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"dwdw", "branch"=>"20170731-催收跑批调度", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"QXdgZFx2RZ+51Ozxftv6F7ugHg9TpK9dqgGqd4OGIzVpAuBGS5PC5JDr1ECuaYJXFTkLIlsZ5AuaUJtyI1x3Gg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"dwdw", "branch"=>"20170731-催收跑批调度", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"QXdgZFx2RZ+51Ozxftv6F7ugHg9TpK9dqgGqd4OGIzVpAuBGS5PC5JDr1ECuaYJXFTkLIlsZ5AuaUJtyI1x3Gg=="}
pid is 27985
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t dwdw -e qishanqing@dafy.com -E '' -b $'20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''dwdw'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170731-催收跑批调度'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''dwdw'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170731-催收跑批调度'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t dwdw -e qishanqing@dafy.com -E '' -b $'20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=dwdw
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ dwdw
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: dwdw: command not found
++ for y in '$trunk'
++ echo dwdw
+ trunks=dwdw
+ test del = add
+ delbranch
+ '[' -z $'20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170731
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707311137
+ move_dir=Closed/--close+
+ Trunk_name=https://192.168.0.220/svn/tech/Trunk/dwdw
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170731-20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246/Develop/dwdw'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311137-20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246/Develop/dwdw'
++ awk -F / '{print $7}'
+ br=$'20170731-20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246'
+ access=$'20170731-20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311137-20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.27985
+ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170731-催收跑批调度%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170731-催收跑批调度%'\'';'
+ cat /tmp/cmdb.db.27985
+ rm -f /tmp/cmdb.db.27985
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.4ms)
  Rendered builder/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 3344ms (Views: 47.0ms)


Completed 200 OK in 3344ms (Views: 47.0ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-31 11:38:41 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-31 11:38:41 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.6ms)
  Rendered builder/index.html.erb within layouts/application (3.6ms)
Completed 200 OK in 79ms (Views: 76.7ms)


Completed 200 OK in 79ms (Views: 76.7ms)


Started POST "/start" for 192.168.5.26 at 2017-07-31 11:39:41 +0800
Started POST "/start" for 192.168.5.26 at 2017-07-31 11:39:41 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/CollectionOverdueBatchBusiness", "branch"=>"催收跑批调度任务", "user"=>"songxinyu", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"JauAQtxe1qianULxbFoUzkeyx8upGluMNNDLeRFMZDsN3gBgy7tR07OiekC86GyO6SvS5qGnENoEgfp8sZYwFA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/CollectionOverdueBatchBusiness", "branch"=>"催收跑批调度任务", "user"=>"songxinyu", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"JauAQtxe1qianULxbFoUzkeyx8upGluMNNDLeRFMZDsN3gBgy7tR07OiekC86GyO6SvS5qGnENoEgfp8sZYwFA=="}
pid is 28030
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u songxinyu -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' -e qishanqing@dafy.com -E '' -b $'\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241' -T add -d ''
+ TEMP=' -u '\''songxinyu'\'' -t '\''外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''催收跑批调度任务'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''songxinyu'\'' -t '\''外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''催收跑批调度任务'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u songxinyu -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' -e qishanqing@dafy.com -E '' -b $'\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241' -T add -d '' --
+ true
+ case "$1" in
+ user=songxinyu
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
++ songxinyu
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: songxinyu: command not found
++ for x in '$user'
++ echo songxinyu=rw
+ users=songxinyu=rw
++ $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 外部业务/P2P/Business/CollectionOverdueBatchBusiness: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ trunks=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' ']'
+ '[' -z $'\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170731
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707311139
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311139-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
++ awk -F / '{print $7}'
+ br=$'20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241'
+ access=$'20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.28030
+ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170731-催收跑批调度任务/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'',now(),'\''qishanqing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170731-催收跑批调度任务/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'',now(),'\''qishanqing'\'');'
+ cat /tmp/cmdb.db.28030
+ rm -f /tmp/cmdb.db.28030
+ check-acces
+ grep -c '20170731-催收跑批调度任务]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z songxinyu=rw
+ cat
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.3ms)
  Rendered builder/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 5085ms (Views: 102.4ms)


Completed 200 OK in 5085ms (Views: 102.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-31 11:41:48 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-31 11:41:48 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.2ms)
  Rendered builder/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 61ms (Views: 58.9ms)


Completed 200 OK in 61ms (Views: 58.9ms)


Started POST "/start" for 192.168.5.26 at 2017-07-31 11:41:53 +0800
Started POST "/start" for 192.168.5.26 at 2017-07-31 11:41:53 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170724-可动态配置化", "branch"=>"20170724-可动态配置化", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"JtyTF3xAX9j2jVuMN+u0/yazQzbf335FvQzTvQI2hxMOqRM1a6XYo9+yYz3nWcy/iCpWG9diNRONXeK4ouzTPA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170724-可动态配置化", "branch"=>"20170724-可动态配置化", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"JtyTF3xAX9j2jVuMN+u0/yazQzbf335FvQzTvQI2hxMOqRM1a6XYo9+yYz3nWcy/iCpWG9diNRONXeK4ouzTPA=="}
pid is 28089
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226' -e qishanqing@dafy.com -E '' -b $'20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170724-可动态配置化'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170724-可动态配置化'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170724-可动态配置化'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170724-可动态配置化'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226' -e qishanqing@dafy.com -E '' -b $'20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170724-可动态配置化: command not found
++ for y in '$trunk'
++ echo $'20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226'
+ trunks=$'20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226'
+ test del = add
+ delbranch
+ '[' -z $'20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170731
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707311141
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170731-20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226/Develop/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311141-20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226/Develop/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226'
++ awk -F / '{print $7}'
+ br=$'20170731-20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226'
+ access=$'20170731-20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311141-20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.28089
+ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\345\217\257\345\212\250\346\200\201\351\205\215\347\275\256\345\214\226'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170724-可动态配置化%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170724-可动态配置化%'\'';'
+ cat /tmp/cmdb.db.28089
+ rm -f /tmp/cmdb.db.28089
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (0.9ms)
  Rendered builder/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 1683ms (Views: 35.9ms)


Completed 200 OK in 1683ms (Views: 35.9ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-31 13:55:17 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-31 13:55:17 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.8ms)
  Rendered builder/index.html.erb within layouts/application (4.8ms)
Completed 200 OK in 112ms (Views: 107.0ms)


Completed 200 OK in 112ms (Views: 107.0ms)


Started POST "/start" for 192.168.5.26 at 2017-07-31 13:56:15 +0800
Started POST "/start" for 192.168.5.26 at 2017-07-31 13:56:15 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"liuxueqin@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/BorrowBusiness2", "branch"=>"商城相关bug", "user"=>"liuxueqin huqiangsheng", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"5TEufLSQ5GUXCMB3Oany9k+/OoWu/+6IdH1BPHyj/0jNRK5eo3VjHj43+MbpG4q24SYvqKZCpd5ELHA53HmrZw=="}
  Parameters: {"email"=>"liuxueqin@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/BorrowBusiness2", "branch"=>"商城相关bug", "user"=>"liuxueqin huqiangsheng", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"5TEufLSQ5GUXCMB3Oany9k+/OoWu/+6IdH1BPHyj/0jNRK5eo3VjHj43+MbpG4q24SYvqKZCpd5ELHA53HmrZw=="}
pid is 30314
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'liuxueqin huqiangsheng' -t '外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/BorrowBusiness2' -e liuxueqin@dafy.com -E '' -b $'\345\225\206\345\237\216\347\233\270\345\205\263bug' -T add -d ''
+ TEMP=' -u '\''liuxueqin huqiangsheng'\'' -t '\''外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/BorrowBusiness2'\'' -e '\''liuxueqin@dafy.com'\'' -E '\'''\'' -b '\''商城相关bug'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''liuxueqin huqiangsheng'\'' -t '\''外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/BorrowBusiness2'\'' -e '\''liuxueqin@dafy.com'\'' -E '\'''\'' -b '\''商城相关bug'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'liuxueqin huqiangsheng' -t '外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/BorrowBusiness2' -e liuxueqin@dafy.com -E '' -b $'\345\225\206\345\237\216\347\233\270\345\205\263bug' -T add -d '' --
+ true
+ case "$1" in
+ user='liuxueqin huqiangsheng'
+ shift 2
+ true
+ case "$1" in
+ trunk='外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/BorrowBusiness2'
+ shift 2
+ true
+ case "$1" in
+ email=liuxueqin@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=liuxueqin@dafy.com '
+ SMARTCM_EXTRA_MAIL='liuxueqin@dafy.com '
++ liuxueqin huqiangsheng
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: liuxueqin: command not found
++ for x in '$user'
++ echo liuxueqin=rw
++ for x in '$user'
++ echo huqiangsheng=rw
+ users='liuxueqin=rw
huqiangsheng=rw'
++ $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 外部业务/P2P/Business/BorrowBusiness2: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ trunks='外部业务/P2P/Business/BorrowBusiness2
外部业务/P2P/Business/BorrowBusiness2'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' ']'
+ '[' -z $'\345\225\206\345\237\216\347\233\270\345\205\263bug' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170731
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707311356
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311356-\345\225\206\345\237\216\347\233\270\345\205\263bug'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ awk -F / '{print $7}'
+ br=$'20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ access=$'20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.30314
+ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BorrowBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BorrowBusiness2'\'',now(),'\''liuxueqin'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BorrowBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BorrowBusiness2'\'',now(),'\''liuxueqin'\'');'
+ cat /tmp/cmdb.db.30314
+ rm -f /tmp/cmdb.db.30314
+ check-acces
+ grep -c '20170731-商城相关bug]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z 'liuxueqin=rw
+ cat
huqiangsheng=rw'
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' ']'
+ '[' -z $'\345\225\206\345\237\216\347\233\270\345\205\263bug' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170731
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707311356
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311356-\345\225\206\345\237\216\347\233\270\345\205\263bug'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ awk -F / '{print $7}'
+ br=$'20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ access=$'20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.30314
+ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BorrowBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BorrowBusiness2'\'',now(),'\''liuxueqin'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BorrowBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BorrowBusiness2'\'',now(),'\''liuxueqin'\'');'
+ cat /tmp/cmdb.db.30314
+ rm -f /tmp/cmdb.db.30314
+ check-acces
+ grep -c '20170731-商城相关bug]' /mnt/svn/authz.conf
+ read num
+ '[' 1 -eq 0 ']'
++ sed '/20170731-商城相关bug]/,/^[ \t]*$/!d;/20170731-商城相关bug]/d;/^[ \t]*$/d' /mnt/svn/authz.conf
+ [[ liuxueqin=rw
huqiangsheng=rw
@admin=rw
*= =~ liuxueqin=rw
huqiangsheng=rw ]]
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.5ms)
  Rendered builder/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 7055ms (Views: 75.8ms)


Completed 200 OK in 7055ms (Views: 75.8ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-31 14:49:04 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-31 14:49:04 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (7.2ms)
  Rendered builder/index.html.erb within layouts/application (7.2ms)
Completed 200 OK in 68ms (Views: 63.2ms)


Completed 200 OK in 68ms (Views: 63.2ms)


Started POST "/start" for 192.168.5.26 at 2017-07-31 14:51:06 +0800
Started POST "/start" for 192.168.5.26 at 2017-07-31 14:51:06 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"fef", "branch"=>"20170731-商城相关bug", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"gY3JwYeKiVbihfKlWdmA2/ws1KtALy7ZFdBwV9dyyiCp+EnjkG8OLcu6yhSJa/ibUrXBhkiSZY8lgUFSd6ieDw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"fef", "branch"=>"20170731-商城相关bug", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"gY3JwYeKiVbihfKlWdmA2/ws1KtALy7ZFdBwV9dyyiCp+EnjkG8OLcu6yhSJa/ibUrXBhkiSZY8lgUFSd6ieDw=="}
pid is 31320
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t fef -e qishanqing@dafy.com -E '' -b $'20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''fef'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170731-商城相关bug'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''fef'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170731-商城相关bug'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t fef -e qishanqing@dafy.com -E '' -b $'20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=fef
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ fef
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: fef: command not found
++ for y in '$trunk'
++ echo fef
+ trunks=fef
+ test del = add
+ delbranch
+ '[' -z $'20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170731
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707311451
+ move_dir=Closed/--close+
+ Trunk_name=https://192.168.0.220/svn/tech/Trunk/fef
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170731-20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/fef'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311451-20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/fef'
++ awk -F / '{print $7}'
+ br=$'20170731-20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ access=$'20170731-20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311451-20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.31320
+ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170731-商城相关bug%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170731-商城相关bug%'\'';'
+ cat /tmp/cmdb.db.31320
+ rm -f /tmp/cmdb.db.31320
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.9ms)
  Rendered builder/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 895ms (Views: 68.5ms)


Completed 200 OK in 895ms (Views: 68.5ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-31 14:51:08 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-31 14:51:08 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (9.5ms)
  Rendered builder/index.html.erb within layouts/application (9.5ms)
Completed 200 OK in 123ms (Views: 120.3ms)


Completed 200 OK in 123ms (Views: 120.3ms)


Started POST "/start" for 192.168.5.26 at 2017-07-31 14:51:41 +0800
Started POST "/start" for 192.168.5.26 at 2017-07-31 14:51:41 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/BossBusiness", "branch"=>"商城相关bug", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"G3vnvEaheA5Z9eyi1agHWZtASUz1PD+msvMc4G8G+RgzDmeeUUT/dXDK1BMFGn8ZNdlcYf2BdPCCoi3lz9ytNw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/BossBusiness", "branch"=>"商城相关bug", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"G3vnvEaheA5Z9eyi1agHWZtASUz1PD+msvMc4G8G+RgzDmeeUUT/dXDK1BMFGn8ZNdlcYf2BdPCCoi3lz9ytNw=="}
pid is 31356
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t '外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/BossBusiness' -e qishanqing@dafy.com -E '' -b $'\345\225\206\345\237\216\347\233\270\345\205\263bug' -T add -d ''
+ TEMP=' -u '\'''\'' -t '\''外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/BossBusiness'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''商城相关bug'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/BossBusiness'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''商城相关bug'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u '' -t '外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/BossBusiness' -e qishanqing@dafy.com -E '' -b $'\345\225\206\345\237\216\347\233\270\345\205\263bug' -T add -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk='外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/BossBusiness'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 外部业务/P2P/Business/BorrowBusiness2: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ trunks='外部业务/P2P/Business/BorrowBusiness2
外部业务/P2P/Business/BossBusiness'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' ']'
+ '[' -z $'\345\225\206\345\237\216\347\233\270\345\205\263bug' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170731
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707311451
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311451-\345\225\206\345\237\216\347\233\270\345\205\263bug'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ awk -F / '{print $7}'
+ br=$'20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ access=$'20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.31356
+ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BorrowBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BorrowBusiness2'\'',now(),'\''qishanqing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BorrowBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BorrowBusiness2'\'',now(),'\''qishanqing'\'');'
+ cat /tmp/cmdb.db.31356
+ rm -f /tmp/cmdb.db.31356
+ check-acces
+ grep -c '20170731-商城相关bug]' /mnt/svn/authz.conf
+ read num
+ '[' 1 -eq 0 ']'
++ sed '/20170731-商城相关bug]/,/^[ \t]*$/!d;/20170731-商城相关bug]/d;/^[ \t]*$/d' /mnt/svn/authz.conf
+ [[ huqiangsheng=rw
@admin=rw
*=
liuxuxing=rw =~ '' ]]
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness' ']'
+ '[' -z $'\345\225\206\345\237\216\347\233\270\345\205\263bug' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170731
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707311451
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311451-\345\225\206\345\237\216\347\233\270\345\205\263bug'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
++ awk -F / '{print $7}'
+ br=$'20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ access=$'20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness' $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.31356
+ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BossBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BossBusiness'\'',now(),'\''qishanqing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BossBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BossBusiness'\'',now(),'\''qishanqing'\'');'
+ cat /tmp/cmdb.db.31356
+ rm -f /tmp/cmdb.db.31356
+ check-acces
+ grep -c '20170731-商城相关bug]' /mnt/svn/authz.conf
+ read num
+ '[' 1 -eq 0 ']'
++ sed '/20170731-商城相关bug]/,/^[ \t]*$/!d;/20170731-商城相关bug]/d;/^[ \t]*$/d' /mnt/svn/authz.conf
+ [[ huqiangsheng=rw
@admin=rw
*=
liuxuxing=rw =~ '' ]]
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.3ms)
  Rendered builder/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 1616ms (Views: 64.7ms)


Completed 200 OK in 1616ms (Views: 64.7ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-31 14:51:46 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-31 14:51:46 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.0ms)
  Rendered builder/index.html.erb within layouts/application (4.0ms)
Completed 200 OK in 116ms (Views: 112.2ms)


Completed 200 OK in 116ms (Views: 112.2ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-31 15:03:24 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-07-31 15:03:24 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (9.3ms)
  Rendered merge/index.html.erb within layouts/application (9.3ms)
Completed 200 OK in 108ms (Views: 104.6ms)


Completed 200 OK in 108ms (Views: 104.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 15:03:39 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 15:03:39 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170731-催收跑批调度/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42709.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"y3htuIdFYX2hyXnS9jFZO1x1TOJlameRLROWTN0nvCbjDe2akKDmBoj2QWMmgyF78uxZz23XLMcdQqdJff3oCQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170731-催收跑批调度/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42709.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"y3htuIdFYX2hyXnS9jFZO1x1TOJlameRLROWTN0nvCbjDe2akKDmBoj2QWMmgyF78uxZz23XLMcdQqdJff3oCQ=="}
pid is 31786
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42709.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42709.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170731-催收跑批调度/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42709.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170731-催收跑批调度/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42709.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42709.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170731-催收跑批调度/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ test -e /home/qishanqing/tmp/merged/output.31786
+ mails-cm -i 'svn merged faild'
+ echo
+ cat /home/qishanqing/tmp/merged/output.31786
+ rm -f /home/qishanqing/tmp/merged/output.31786
+ rm -f /home/qishanqing/tmp/merged/output.31786
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170731-催收跑批调度/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
svn: E160013: 找不到路径 “/svn/tech/!svn/rvr/132495/Branch/20170731-%E5%82%AC%E6%94%B6%E8%B7%91%E6%89%B9%E8%B0%83%E5%BA%A6/Develop/%E5%A4%96%E9%83%A8%E4%B8%9A%E5%8A%A1/P2P/Business/CollectionOverdueBatchBusiness”
+ head=
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
++ tail -n 4
svn: E160013: 找不到路径 “/svn/tech/!svn/rvr/132495/Branch/20170731-%E5%82%AC%E6%94%B6%E8%B7%91%E6%89%B9%E8%B0%83%E5%BA%A6/Develop/%E5%A4%96%E9%83%A8%E4%B8%9A%E5%8A%A1/P2P/Business/CollectionOverdueBatchBusiness”
+ revision=
+ '[' '!' -z ']'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42709.html
Merged revision(s) -  from Branch/20170731-催收跑批调度/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.3ms)
  Rendered merge/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 17768ms (Views: 621.1ms)


Completed 200 OK in 17768ms (Views: 621.1ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-07-31 15:07:56 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-07-31 15:07:56 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (2.4ms)
  Rendered merge/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 39ms (Views: 36.9ms)


Completed 200 OK in 39ms (Views: 36.9ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 15:08:04 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-07-31 15:08:04 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170731-催收跑批调度任务/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42709.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"yvRdFR8fQ68wcSZVgtmegGrRDPVGup7ahRS21hpgUKvigd03CPrE1BlOHuRSa+bAxEgZ2E4H1Yy1RYfTuroEhA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170731-催收跑批调度任务/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42709.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"yvRdFR8fQ68wcSZVgtmegGrRDPVGup7ahRS21hpgUKvigd03CPrE1BlOHuRSa+bAxEgZ2E4H1Yy1RYfTuroEhA=="}
pid is 32064
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42709.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42709.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170731-催收跑批调度任务/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42709.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170731-催收跑批调度任务/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42709.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42709.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170731-催收跑批调度任务/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.32064
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170731-催收跑批调度任务/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness'
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ head='r132408 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r132380 '
+ '[' '!' -z r132380 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness@r132380' $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness@r132380' $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42709.html
Merged revision(s) r132380 -r132408   from Branch/20170731-催收跑批调度任务/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.6ms)
  Rendered merge/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 9117ms (Views: 57.7ms)


Completed 200 OK in 9117ms (Views: 57.7ms)


Started POST "/start" for 192.168.5.26 at 2017-07-31 15:10:46 +0800
Started POST "/start" for 192.168.5.26 at 2017-07-31 15:10:46 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"zhangruiqiang@dafy.com", "types"=>"add", "trunk"=>"分期商城/分期商城3.0/MallManager", "branch"=>"账单导出状态修改", "user"=>"zhangruiqiang hexiangtao", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"bWHfAxt5kH8ZfGWl1d8yNr8Qs0TDQusatY/8zjkn/dVFFF8hDJwXBDBDXRQFbUp2EYmmacv/oEyF3s3Lmf2p+g=="}
  Parameters: {"email"=>"zhangruiqiang@dafy.com", "types"=>"add", "trunk"=>"分期商城/分期商城3.0/MallManager", "branch"=>"账单导出状态修改", "user"=>"zhangruiqiang hexiangtao", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"bWHfAxt5kH8ZfGWl1d8yNr8Qs0TDQusatY/8zjkn/dVFFF8hDJwXBDBDXRQFbUp2EYmmacv/oEyF3s3Lmf2p+g=="}
pid is 32172
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'zhangruiqiang hexiangtao' -t $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' -e zhangruiqiang@dafy.com -E '' -b $'\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271' -T add -d ''
+ TEMP=' -u '\''zhangruiqiang hexiangtao'\'' -t '\''分期商城/分期商城3.0/MallManager'\'' -e '\''zhangruiqiang@dafy.com'\'' -E '\'''\'' -b '\''账单导出状态修改'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''zhangruiqiang hexiangtao'\'' -t '\''分期商城/分期商城3.0/MallManager'\'' -e '\''zhangruiqiang@dafy.com'\'' -E '\'''\'' -b '\''账单导出状态修改'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'zhangruiqiang hexiangtao' -t $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' -e zhangruiqiang@dafy.com -E '' -b $'\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271' -T add -d '' --
+ true
+ case "$1" in
+ user='zhangruiqiang hexiangtao'
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ shift 2
+ true
+ case "$1" in
+ email=zhangruiqiang@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=zhangruiqiang@dafy.com '
+ SMARTCM_EXTRA_MAIL='zhangruiqiang@dafy.com '
++ zhangruiqiang hexiangtao
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: zhangruiqiang: command not found
++ for x in '$user'
++ echo zhangruiqiang=rw
++ for x in '$user'
++ echo hexiangtao=rw
+ users='zhangruiqiang=rw
hexiangtao=rw'
++ $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 分期商城/分期商城3.0/MallManager: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ trunks=$'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' ']'
+ '[' -z $'\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170731
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707311510
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311510-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F / '{print $7}'
+ br=$'20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271'
+ access=$'20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' $'https://192.168.0.220/svn/tech/Branch/20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.32172
+ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallManager'\'', '\''https://192.168.0.220/svn/tech/Branch/20170731-账单导出状态修改/Develop/分期商城/分期商城3.0/MallManager'\'',now(),'\''zhangruiqiang'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallManager'\'', '\''https://192.168.0.220/svn/tech/Branch/20170731-账单导出状态修改/Develop/分期商城/分期商城3.0/MallManager'\'',now(),'\''zhangruiqiang'\'');'
+ cat /tmp/cmdb.db.32172
+ rm -f /tmp/cmdb.db.32172
+ check-acces
+ grep -c '20170731-账单导出状态修改]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z 'zhangruiqiang=rw
+ cat
hexiangtao=rw'
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (3.3ms)
  Rendered builder/new.html.erb within layouts/application (3.3ms)
Completed 200 OK in 5114ms (Views: 157.5ms)


Completed 200 OK in 5114ms (Views: 157.5ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-31 15:11:26 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-31 15:11:26 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.5ms)
  Rendered builder/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 58ms (Views: 56.7ms)


Completed 200 OK in 58ms (Views: 56.7ms)


Started POST "/start" for 192.168.5.26 at 2017-07-31 15:11:29 +0800
Started POST "/start" for 192.168.5.26 at 2017-07-31 15:11:29 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170731-催收跑批调度任务", "branch"=>"20170731-催收跑批调度任务", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"rHx8iJBqRnU2eV81uDm5x0377ogw2fgYjOGcskccHgOECfyqh4/BDh9GZ4Roi8GH42L7pThks068sK2358ZKLA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170731-催收跑批调度任务", "branch"=>"20170731-催收跑批调度任务", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"rHx8iJBqRnU2eV81uDm5x0377ogw2fgYjOGcskccHgOECfyqh4/BDh9GZ4Roi8GH42L7pThks068sK2358ZKLA=="}
pid is 32220
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241' -e qishanqing@dafy.com -E '' -b $'20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170731-催收跑批调度任务'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170731-催收跑批调度任务'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170731-催收跑批调度任务'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170731-催收跑批调度任务'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241' -e qishanqing@dafy.com -E '' -b $'20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170731-催收跑批调度任务: command not found
++ for y in '$trunk'
++ echo $'20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241'
+ trunks=$'20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241'
+ test del = add
+ delbranch
+ '[' -z $'20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170731
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707311511
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170731-20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241/Develop/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311511-20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241/Develop/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241'
++ awk -F / '{print $7}'
+ br=$'20170731-20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241'
+ access=$'20170731-20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311511-20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.32220
+ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\202\254\346\224\266\350\267\221\346\211\271\350\260\203\345\272\246\344\273\273\345\212\241'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170731-催收跑批调度任务%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170731-催收跑批调度任务%'\'';'
+ cat /tmp/cmdb.db.32220
+ rm -f /tmp/cmdb.db.32220
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 1591ms (Views: 50.4ms)


Completed 200 OK in 1591ms (Views: 50.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-31 15:28:28 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-31 15:28:28 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.3ms)
  Rendered builder/index.html.erb within layouts/application (4.3ms)
Completed 200 OK in 63ms (Views: 59.1ms)


Completed 200 OK in 63ms (Views: 59.1ms)


Started POST "/start" for 192.168.5.26 at 2017-07-31 15:28:48 +0800
Started POST "/start" for 192.168.5.26 at 2017-07-31 15:28:48 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"zhangruiqiang@dafy.com", "types"=>"add", "trunk"=>"分期商城/分期商城3.0/MallRefundBusiness", "branch"=>"退款定时任务修改", "user"=>"zhangruiqiang", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"mgJDOwfdA5iMIs5YZShrdM2uDDhCILi97T3w69csrXmyd8MZEDiE46Ud9um1mhM0YzcZFUqd8+vdbMHud/b5Vg=="}
  Parameters: {"email"=>"zhangruiqiang@dafy.com", "types"=>"add", "trunk"=>"分期商城/分期商城3.0/MallRefundBusiness", "branch"=>"退款定时任务修改", "user"=>"zhangruiqiang", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"mgJDOwfdA5iMIs5YZShrdM2uDDhCILi97T3w69csrXmyd8MZEDiE46Ud9um1mhM0YzcZFUqd8+vdbMHud/b5Vg=="}
pid is 32477
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u zhangruiqiang -t $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness' -e zhangruiqiang@dafy.com -E '' -b $'\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271' -T add -d ''
+ TEMP=' -u '\''zhangruiqiang'\'' -t '\''分期商城/分期商城3.0/MallRefundBusiness'\'' -e '\''zhangruiqiang@dafy.com'\'' -E '\'''\'' -b '\''退款定时任务修改'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''zhangruiqiang'\'' -t '\''分期商城/分期商城3.0/MallRefundBusiness'\'' -e '\''zhangruiqiang@dafy.com'\'' -E '\'''\'' -b '\''退款定时任务修改'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u zhangruiqiang -t $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness' -e zhangruiqiang@dafy.com -E '' -b $'\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271' -T add -d '' --
+ true
+ case "$1" in
+ user=zhangruiqiang
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ shift 2
+ true
+ case "$1" in
+ email=zhangruiqiang@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=zhangruiqiang@dafy.com '
+ SMARTCM_EXTRA_MAIL='zhangruiqiang@dafy.com '
++ zhangruiqiang
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: zhangruiqiang: command not found
++ for x in '$user'
++ echo zhangruiqiang=rw
+ users=zhangruiqiang=rw
++ $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 分期商城/分期商城3.0/MallRefundBusiness: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ trunks=$'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness' ']'
+ '[' -z $'\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170731
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707311528
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311528-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
++ awk -F / '{print $7}'
+ br=$'20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271'
+ access=$'20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness' $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.32477
+ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallRefundBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170731-退款定时任务修改/Develop/分期商城/分期商城3.0/MallRefundBusiness'\'',now(),'\''zhangruiqiang'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallRefundBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170731-退款定时任务修改/Develop/分期商城/分期商城3.0/MallRefundBusiness'\'',now(),'\''zhangruiqiang'\'');'
+ cat /tmp/cmdb.db.32477
+ rm -f /tmp/cmdb.db.32477
+ check-acces
+ grep -c '20170731-退款定时任务修改]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z zhangruiqiang=rw
+ cat
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.3ms)
  Rendered builder/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 6286ms (Views: 52.6ms)


Completed 200 OK in 6286ms (Views: 52.6ms)


Started GET "/builder" for 192.168.5.26 at 2017-07-31 17:50:57 +0800
Started GET "/builder" for 192.168.5.26 at 2017-07-31 17:50:57 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.9ms)
  Rendered builder/index.html.erb within layouts/application (4.9ms)
Completed 200 OK in 72ms (Views: 67.9ms)


Completed 200 OK in 72ms (Views: 67.9ms)


Started POST "/start" for 192.168.5.26 at 2017-07-31 17:51:07 +0800
Started POST "/start" for 192.168.5.26 at 2017-07-31 17:51:07 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"test", "branch"=>"test", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"orSi2CpAqQq3b93hRHleIyU1kBGTJvaUOozf57oAB9iKwSL6PaUucZ5Q5VCUyyZji6yFPJubvcIK3e7iGtpT9w=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"test", "branch"=>"test", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"orSi2CpAqQq3b93hRHleIyU1kBGTJvaUOozf57oAB9iKwSL6PaUucZ5Q5VCUyyZji6yFPJubvcIK3e7iGtpT9w=="}
pid is 1556
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t test -e qishanqing@dafy.com -E '' -b test -T add -d ''
+ TEMP=' -u '\'''\'' -t '\''test'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''test'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''test'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''test'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u '' -t test -e qishanqing@dafy.com -E '' -b test -T add -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=test
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=test
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ test
++ for y in '$trunk'
++ echo test
+ trunks=test
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z test ']'
+ '[' -z test ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170731
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201707
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201707311751
+ move_dir=Closed/--close+
+ Trunk_name=https://192.168.0.220/svn/tech/Trunk/test
+ branch_name=https://192.168.0.220/svn/tech/Branch/20170731-test/Develop/test
+ source_name=https://192.168.0.220/svn/tech/Branch/test
+ dest_name=https://192.168.0.220/svn/tech/Branch/Closed/--close+201707311751-test
++ echo https://192.168.0.220/svn/tech/Branch/20170731-test/Develop/test
++ awk -F / '{print $7}'
+ br=20170731-test
+ access=20170731-test
+ svn copy https://192.168.0.220/svn/tech/Trunk/test https://192.168.0.220/svn/tech/Branch/20170731-test/Develop/test --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ die 'Svn branch create the reasons for failure are as follows'
+ echo 'Svn branch create the reasons for failure are as follows'
+ test -e /home/qishanqing/tmp/output.1556
+ echo
+ cat /home/qishanqing/tmp/output.1556
+ mails-cm -i 'svn branch create failed'
+ rm -rf /home/qishanqing/tmp/output.1556
+ kill 1556
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.7ms)
  Rendered builder/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 236ms (Views: 58.6ms)


Completed 200 OK in 236ms (Views: 58.6ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-01 10:29:45 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-01 10:29:45 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (70.3ms)
  Rendered merge/index.html.erb within layouts/application (70.3ms)
Completed 200 OK in 815ms (Views: 737.7ms)


Completed 200 OK in 815ms (Views: 737.7ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-01 10:33:04 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-01 10:33:04 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20160111-短信项目/Develop/平台架构/短信/MessageManager https://192.168.0.220/svn/tech/Branch/20160629-消息推送/Develop/平台架构/通知/NoticeManager https://192.168.0.220/svn/tech/Branch/20170525-工具/Develop/前端业务/工具/网站中心/ToolSite https://192.168.0.220/svn/tech/Branch/20170622-WebSite公共广告/Develop/前端业务/网站/网站中心/WebSiteManager https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/StaticCenter https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/DFLib1 https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/DFLib2 https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/UserSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/UserBusiness https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/营销活动/MarketingManager https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/MallCenterSite https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/营销活动/卡卷系统/CardVoucherManager https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/DFLib https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/DFLib https://192.168.0.220/svn/tech/Branch/20170713-CDQSSite/Develop/数据报表/数据中心/CDQSSite https://192.168.0.220/svn/tech/Branch/20170717-监控大屏/Develop/数据报表/大屏/DataDisplayManager https://192.168.0.220/svn/tech/Branch/20170627-减去减免金额/Develop/数据报表/NC/NCCenter https://192.168.0.220/svn/tech/Branch/20170714-boss协议修改/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170718-https协议/Develop/生活营销/卡包/CardBagManage https://192.168.0.220/svn/tech/Branch/20170718-https协议/Develop/辅助业务/生活服务/LifeCenterManage https://192.168.0.220/svn/tech/Branch/20170721-boss协议修改/Develop/公共/DFLib https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/公共/TaskScheduler/TaskSchedulerManager https://192.168.0.220/svn/tech/Branch/20170512-转化成maven项目/Develop/基础业务/账户中心/AccountManager https://192.168.0.220/svn/tech/Branch/20170726-页面访问修改/Develop/外部业务/P2P/P2PSite/GHBUserAuditSite https://192.168.0.220/svn/tech/Branch/20160801-业务总线/Develop/平台架构/业务总线/BusinessBusManager\r\n", "task"=>"http://192.168.0.221/zentao/task-view-42738.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"XKTwZnsyWjrnLis1ROftJd/ivTjVX9YlqQIKMmCkayp00XBEbNfdQc4RE4SUVZVlcXuoFd3inXOZUzs3wH4/BQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20160111-短信项目/Develop/平台架构/短信/MessageManager https://192.168.0.220/svn/tech/Branch/20160629-消息推送/Develop/平台架构/通知/NoticeManager https://192.168.0.220/svn/tech/Branch/20170525-工具/Develop/前端业务/工具/网站中心/ToolSite https://192.168.0.220/svn/tech/Branch/20170622-WebSite公共广告/Develop/前端业务/网站/网站中心/WebSiteManager https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/StaticCenter https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/DFLib1 https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/DFLib2 https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/UserSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/UserBusiness https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/营销活动/MarketingManager https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/MallCenterSite https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/营销活动/卡卷系统/CardVoucherManager https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/DFLib https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/DFLib https://192.168.0.220/svn/tech/Branch/20170713-CDQSSite/Develop/数据报表/数据中心/CDQSSite https://192.168.0.220/svn/tech/Branch/20170717-监控大屏/Develop/数据报表/大屏/DataDisplayManager https://192.168.0.220/svn/tech/Branch/20170627-减去减免金额/Develop/数据报表/NC/NCCenter https://192.168.0.220/svn/tech/Branch/20170714-boss协议修改/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170718-https协议/Develop/生活营销/卡包/CardBagManage https://192.168.0.220/svn/tech/Branch/20170718-https协议/Develop/辅助业务/生活服务/LifeCenterManage https://192.168.0.220/svn/tech/Branch/20170721-boss协议修改/Develop/公共/DFLib https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/公共/TaskScheduler/TaskSchedulerManager https://192.168.0.220/svn/tech/Branch/20170512-转化成maven项目/Develop/基础业务/账户中心/AccountManager https://192.168.0.220/svn/tech/Branch/20170726-页面访问修改/Develop/外部业务/P2P/P2PSite/GHBUserAuditSite https://192.168.0.220/svn/tech/Branch/20160801-业务总线/Develop/平台架构/业务总线/BusinessBusManager\r\n", "task"=>"http://192.168.0.221/zentao/task-view-42738.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"XKTwZnsyWjrnLis1ROftJd/ivTjVX9YlqQIKMmCkayp00XBEbNfdQc4RE4SUVZVlcXuoFd3inXOZUzs3wH4/BQ=="}
pid is 16392
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42738.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20160111-短信项目/Develop/平台架构/短信/MessageManager https://192.168.0.220/svn/tech/Branch/20160629-消息推送/Develop/平台架构/通知/NoticeManager https://192.168.0.220/svn/tech/Branch/20170525-工具/Develop/前端业务/工具/网站中心/ToolSite https://192.168.0.220/svn/tech/Branch/20170622-WebSite公共广告/Develop/前端业务/网站/网站中心/WebSiteManager https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/StaticCenter https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/DFLib1 https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/DFLib2 https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/UserSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/UserBusiness https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/营销活动/MarketingManager https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/MallCenterSite https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/营销活动/卡卷系统/CardVoucherManager https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/DFLib https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/DFLib https://192.168.0.220/svn/tech/Branch/20170713-CDQSSite/Develop/数据报表/数据中心/CDQSSite https://192.168.0.220/svn/tech/Branch/20170717-监控大屏/Develop/数据报表/大屏/DataDisplayManager https://192.168.0.220/svn/tech/Branch/20170627-减去减免金额/Develop/数据报表/NC/NCCenter https://192.168.0.220/svn/tech/Branch/20170714-boss协议修改/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170718-https协议/Develop/生活营销/卡包/CardBagManage https://192.168.0.220/svn/tech/Branch/20170718-https协议/Develop/辅助业务/生活服务/LifeCenterManage https://192.168.0.220/svn/tech/Branch/20170721-boss协议修改/Develop/公共/DFLib https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/公共/TaskScheduler/TaskSchedulerManager https://192.168.0.220/svn/tech/Branch/20170512-转化成maven项目/Develop/基础业务/账户中心/AccountManager https://192.168.0.220/svn/tech/Branch/20170726-页面访问修改/Develop/外部业务/P2P/P2PSite/GHBUserAuditSite https://192.168.0.220/svn/tech/Branch/20160801-业务总线/Develop/平台架构/业务总线/BusinessBusManager
' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42738.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20160111-短信项目/Develop/平台架构/短信/MessageManager https://192.168.0.220/svn/tech/Branch/20160629-消息推送/Develop/平台架构/通知/NoticeManager https://192.168.0.220/svn/tech/Branch/20170525-工具/Develop/前端业务/工具/网站中心/ToolSite https://192.168.0.220/svn/tech/Branch/20170622-WebSite公共广告/Develop/前端业务/网站/网站中心/WebSiteManager https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/StaticCenter https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/DFLib1 https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/DFLib2 https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/UserSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/UserBusiness https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/营销活动/MarketingManager https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/MallCenterSite https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/营销活动/卡卷系统/CardVoucherManager https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/DFLib https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/DFLib https://192.168.0.220/svn/tech/Branch/20170713-CDQSSite/Develop/数据报表/数据中心/CDQSSite https://192.168.0.220/svn/tech/Branch/20170717-监控大屏/Develop/数据报表/大屏/DataDisplayManager https://192.168.0.220/svn/tech/Branch/20170627-减去减免金额/Develop/数据报表/NC/NCCenter https://192.168.0.220/svn/tech/Branch/20170714-boss协议修改/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170718-https协议/Develop/生活营销/卡包/CardBagManage https://192.168.0.220/svn/tech/Branch/20170718-https协议/Develop/辅助业务/生活服务/LifeCenterManage https://192.168.0.220/svn/tech/Branch/20170721-boss协议修改/Develop/公共/DFLib https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/公共/TaskScheduler/TaskSchedulerManager https://192.168.0.220/svn/tech/Branch/20170512-转化成maven项目/Develop/基础业务/账户中心/AccountManager https://192.168.0.220/svn/tech/Branch/20170726-页面访问修改/Develop/外部业务/P2P/P2PSite/GHBUserAuditSite https://192.168.0.220/svn/tech/Branch/20160801-业务总线/Develop/平台架构/业务总线/BusinessBusManager
'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42738.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20160111-短信项目/Develop/平台架构/短信/MessageManager https://192.168.0.220/svn/tech/Branch/20160629-消息推送/Develop/平台架构/通知/NoticeManager https://192.168.0.220/svn/tech/Branch/20170525-工具/Develop/前端业务/工具/网站中心/ToolSite https://192.168.0.220/svn/tech/Branch/20170622-WebSite公共广告/Develop/前端业务/网站/网站中心/WebSiteManager https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/StaticCenter https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/DFLib1 https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/DFLib2 https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/UserSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/UserBusiness https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/营销活动/MarketingManager https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/MallCenterSite https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/营销活动/卡卷系统/CardVoucherManager https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/DFLib https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/DFLib https://192.168.0.220/svn/tech/Branch/20170713-CDQSSite/Develop/数据报表/数据中心/CDQSSite https://192.168.0.220/svn/tech/Branch/20170717-监控大屏/Develop/数据报表/大屏/DataDisplayManager https://192.168.0.220/svn/tech/Branch/20170627-减去减免金额/Develop/数据报表/NC/NCCenter https://192.168.0.220/svn/tech/Branch/20170714-boss协议修改/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170718-https协议/Develop/生活营销/卡包/CardBagManage https://192.168.0.220/svn/tech/Branch/20170718-https协议/Develop/辅助业务/生活服务/LifeCenterManage https://192.168.0.220/svn/tech/Branch/20170721-boss协议修改/Develop/公共/DFLib https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/公共/TaskScheduler/TaskSchedulerManager https://192.168.0.220/svn/tech/Branch/20170512-转化成maven项目/Develop/基础业务/账户中心/AccountManager https://192.168.0.220/svn/tech/Branch/20170726-页面访问修改/Develop/外部业务/P2P/P2PSite/GHBUserAuditSite https://192.168.0.220/svn/tech/Branch/20160801-业务总线/Develop/平台架构/业务总线/BusinessBusManager
'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42738.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20160111-短信项目/Develop/平台架构/短信/MessageManager https://192.168.0.220/svn/tech/Branch/20160629-消息推送/Develop/平台架构/通知/NoticeManager https://192.168.0.220/svn/tech/Branch/20170525-工具/Develop/前端业务/工具/网站中心/ToolSite https://192.168.0.220/svn/tech/Branch/20170622-WebSite公共广告/Develop/前端业务/网站/网站中心/WebSiteManager https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/StaticCenter https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/DFLib1 https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/DFLib2 https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/UserSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/UserBusiness https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/营销活动/MarketingManager https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/MallCenterSite https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/营销活动/卡卷系统/CardVoucherManager https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/DFLib https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/DFLib https://192.168.0.220/svn/tech/Branch/20170713-CDQSSite/Develop/数据报表/数据中心/CDQSSite https://192.168.0.220/svn/tech/Branch/20170717-监控大屏/Develop/数据报表/大屏/DataDisplayManager https://192.168.0.220/svn/tech/Branch/20170627-减去减免金额/Develop/数据报表/NC/NCCenter https://192.168.0.220/svn/tech/Branch/20170714-boss协议修改/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170718-https协议/Develop/生活营销/卡包/CardBagManage https://192.168.0.220/svn/tech/Branch/20170718-https协议/Develop/辅助业务/生活服务/LifeCenterManage https://192.168.0.220/svn/tech/Branch/20170721-boss协议修改/Develop/公共/DFLib https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/公共/TaskScheduler/TaskSchedulerManager https://192.168.0.220/svn/tech/Branch/20170512-转化成maven项目/Develop/基础业务/账户中心/AccountManager https://192.168.0.220/svn/tech/Branch/20170726-页面访问修改/Develop/外部业务/P2P/P2PSite/GHBUserAuditSite https://192.168.0.220/svn/tech/Branch/20160801-业务总线/Develop/平台架构/业务总线/BusinessBusManager
' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42738.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20160111-短信项目/Develop/平台架构/短信/MessageManager https://192.168.0.220/svn/tech/Branch/20160629-消息推送/Develop/平台架构/通知/NoticeManager https://192.168.0.220/svn/tech/Branch/20170525-工具/Develop/前端业务/工具/网站中心/ToolSite https://192.168.0.220/svn/tech/Branch/20170622-WebSite公共广告/Develop/前端业务/网站/网站中心/WebSiteManager https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/StaticCenter https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/DFLib1 https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/DFLib2 https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/UserSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/UserBusiness https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/营销活动/MarketingManager https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/MallCenterSite https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/营销活动/卡卷系统/CardVoucherManager https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/DFLib https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/DFLib https://192.168.0.220/svn/tech/Branch/20170713-CDQSSite/Develop/数据报表/数据中心/CDQSSite https://192.168.0.220/svn/tech/Branch/20170717-监控大屏/Develop/数据报表/大屏/DataDisplayManager https://192.168.0.220/svn/tech/Branch/20170627-减去减免金额/Develop/数据报表/NC/NCCenter https://192.168.0.220/svn/tech/Branch/20170714-boss协议修改/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170718-https协议/Develop/生活营销/卡包/CardBagManage https://192.168.0.220/svn/tech/Branch/20170718-https协议/Develop/辅助业务/生活服务/LifeCenterManage https://192.168.0.220/svn/tech/Branch/20170721-boss协议修改/Develop/公共/DFLib https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/公共/TaskScheduler/TaskSchedulerManager https://192.168.0.220/svn/tech/Branch/20170512-转化成maven项目/Develop/基础业务/账户中心/AccountManager https://192.168.0.220/svn/tech/Branch/20170726-页面访问修改/Develop/外部业务/P2P/P2PSite/GHBUserAuditSite https://192.168.0.220/svn/tech/Branch/20160801-业务总线/Develop/平台架构/业务总线/BusinessBusManager
'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20160111-\347\237\255\344\277\241\351\241\271\347\233\256/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager' $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager' $'https://192.168.0.220/svn/tech/Branch/20170525-\345\267\245\345\205\267/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolSite' $'https://192.168.0.220/svn/tech/Branch/20170622-WebSite\345\205\254\345\205\261\345\271\277\345\221\212/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager' $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/StaticCenter' $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1' $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib2' $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite' $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/MarketingManager' $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallCenterSite' $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManager' $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/DFLib' $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/DFLib' $'https://192.168.0.220/svn/tech/Branch/20170713-CDQSSite/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\346\225\260\346\215\256\344\270\255\345\277\203/CDQSSite' $'https://192.168.0.220/svn/tech/Branch/20170717-\347\233\221\346\216\247\345\244\247\345\261\217/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\244\247\345\261\217/DataDisplayManager' $'https://192.168.0.220/svn/tech/Branch/20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/NC/NCCenter' $'https://192.168.0.220/svn/tech/Branch/20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager' $'https://192.168.0.220/svn/tech/Branch/20170718-https\345\215\217\350\256\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage' $'https://192.168.0.220/svn/tech/Branch/20170718-https\345\215\217\350\256\256/Develop/\350\276\205\345\212\251\344\270\232\345\212\241/\347\224\237\346\264\273\346\234\215\345\212\241/LifeCenterManage' $'https://192.168.0.220/svn/tech/Branch/20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\205\254\345\205\261/DFLib' $'https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager' $'https://192.168.0.220/svn/tech/Branch/20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PSite/GHBUserAuditSite' $'https://192.168.0.220/svn/tech/Branch/20160801-\344\270\232\345\212\241\346\200\273\347\272\277/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\344\270\232\345\212\241\346\200\273\347\272\277/BusinessBusManager\r'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20160111-短信项目/Develop/平台架构/短信/MessageManager: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20160111-\347\237\255\344\277\241\351\241\271\347\233\256/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170525-\345\267\245\345\205\267/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolSite'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170622-WebSite\345\205\254\345\205\261\345\271\277\345\221\212/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/StaticCenter'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib2'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/MarketingManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallCenterSite'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/DFLib'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/DFLib'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170713-CDQSSite/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\346\225\260\346\215\256\344\270\255\345\277\203/CDQSSite'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170717-\347\233\221\346\216\247\345\244\247\345\261\217/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\244\247\345\261\217/DataDisplayManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/NC/NCCenter'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170718-https\345\215\217\350\256\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170718-https\345\215\217\350\256\256/Develop/\350\276\205\345\212\251\344\270\232\345\212\241/\347\224\237\346\264\273\346\234\215\345\212\241/LifeCenterManage'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\205\254\345\205\261/DFLib'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PSite/GHBUserAuditSite'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20160801-\344\270\232\345\212\241\346\200\273\347\272\277/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\344\270\232\345\212\241\346\200\273\347\272\277/BusinessBusManager\r'
+ branchs='https://192.168.0.220/svn/tech/Branch/20160111-短信项目/Develop/平台架构/短信/MessageManager
https://192.168.0.220/svn/tech/Branch/20160629-消息推送/Develop/平台架构/通知/NoticeManager
https://192.168.0.220/svn/tech/Branch/20170525-工具/Develop/前端业务/工具/网站中心/ToolSite
https://192.168.0.220/svn/tech/Branch/20170622-WebSite公共广告/Develop/前端业务/网站/网站中心/WebSiteManager
https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite
https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/StaticCenter
https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/DFLib1
https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/DFLib2
https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/基础业务/用户中心/UserSite
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/UserBusiness
https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/营销活动/MarketingManager
https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/MallManager
https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/MallCenterSite
https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/营销活动/卡卷系统/CardVoucherManager
https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/前端业务/DFLib
https://192.168.0.220/svn/tech/Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/DFLib
https://192.168.0.220/svn/tech/Branch/20170713-CDQSSite/Develop/数据报表/数据中心/CDQSSite
https://192.168.0.220/svn/tech/Branch/20170717-监控大屏/Develop/数据报表/大屏/DataDisplayManager
https://192.168.0.220/svn/tech/Branch/20170627-减去减免金额/Develop/数据报表/NC/NCCenter
https://192.168.0.220/svn/tech/Branch/20170714-boss协议修改/Develop/外部业务/P2P/P2PManager
https://192.168.0.220/svn/tech/Branch/20170718-https协议/Develop/生活营销/卡包/CardBagManage
https://192.168.0.220/svn/tech/Branch/20170718-https协议/Develop/辅助业务/生活服务/LifeCenterManage
https://192.168.0.220/svn/tech/Branch/20170721-boss协议修改/Develop/公共/DFLib
https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/公共/TaskScheduler/TaskSchedulerManager
https://192.168.0.220/svn/tech/Branch/20170512-转化成maven项目/Develop/基础业务/账户中心/AccountManager
https://192.168.0.220/svn/tech/Branch/20170726-页面访问修改/Develop/外部业务/P2P/P2PSite/GHBUserAuditSite
https://192.168.0.220/svn/tech/Branch/20160801-业务总线/Develop/平台架构/业务总线/BusinessBusManager'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20160111-\347\237\255\344\277\241\351\241\271\347\233\256/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20160111-\347\237\255\344\277\241\351\241\271\347\233\256/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager'
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20160111-\347\237\255\344\277\241\351\241\271\347\233\256/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20160111-短信项目/Develop/平台架构/短信/MessageManager'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20160111-\347\237\255\344\277\241\351\241\271\347\233\256/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r114330 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20160111-\347\237\255\344\277\241\351\241\271\347\233\256/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132737 '
+ '[' '!' -z r114330 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20160111-\347\237\255\344\277\241\351\241\271\347\233\256/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager@r114330' $'https://192.168.0.220/svn/tech/Branch/20160111-\347\237\255\344\277\241\351\241\271\347\233\256/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20160111-\347\237\255\344\277\241\351\241\271\347\233\256/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager@r114330' $'https://192.168.0.220/svn/tech/Branch/20160111-\347\237\255\344\277\241\351\241\271\347\233\256/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\347\237\255\344\277\241/MessageManager'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r114330 -r132737   from Branch/20160111-短信项目/Develop/平台架构/短信/MessageManager' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager'
smtp-server: 535 Error: authentication failed
. . . message not sent.
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20160629-消息推送/Develop/平台架构/通知/NoticeManager'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r126435 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r132728 '
+ '[' '!' -z r126435 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager@r126435' $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager@r126435' $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeManager'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r126435 -r132728   from Branch/20160629-消息推送/Develop/平台架构/通知/NoticeManager' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170525-\345\267\245\345\205\267/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolSite'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolSite'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170525-\345\267\245\345\205\267/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolSite'
smtp-server: 535 Error: authentication failed
. . . message not sent.
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolSite'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170525-\345\267\245\345\205\267/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolSite'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolSite'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170525-工具/Develop/前端业务/工具/网站中心/ToolSite'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolSite'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170525-\345\267\245\345\205\267/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolSite'
++ awk -F '|' '{print$1}'
++ head -n 4
Started GET "/merge/index" for 192.168.5.26 at 2017-08-01 10:35:07 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-01 10:35:07 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.1ms)
  Rendered merge/index.html.erb within layouts/application (3.1ms)
Completed 200 OK in 268ms (Views: 265.0ms)


Completed 200 OK in 268ms (Views: 265.0ms)


+ revision='r126440 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170525-\345\267\245\345\205\267/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolSite'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132730 '
+ '[' '!' -z r126440 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170525-\345\267\245\345\205\267/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolSite@r126440' $'https://192.168.0.220/svn/tech/Branch/20170525-\345\267\245\345\205\267/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolSite' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170525-\345\267\245\345\205\267/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolSite@r126440' $'https://192.168.0.220/svn/tech/Branch/20170525-\345\267\245\345\205\267/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolSite'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r126440 -r132730   from Branch/20170525-工具/Develop/前端业务/工具/网站中心/ToolSite' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170622-WebSite\345\205\254\345\205\261\345\271\277\345\221\212/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170622-WebSite\345\205\254\345\205\261\345\271\277\345\221\212/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
smtp-server: 535 Error: authentication failed
. . . message not sent.
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170622-WebSite\345\205\254\345\205\261\345\271\277\345\221\212/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
+ mails-cm -i 'code merged from Branch/20170622-WebSite公共广告/Develop/前端业务/网站/网站中心/WebSiteManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170622-WebSite\345\205\254\345\205\261\345\271\277\345\221\212/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r127758 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170622-WebSite\345\205\254\345\205\261\345\271\277\345\221\212/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r132729 '
+ '[' '!' -z r127758 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170622-WebSite\345\205\254\345\205\261\345\271\277\345\221\212/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager@r127758' $'https://192.168.0.220/svn/tech/Branch/20170622-WebSite\345\205\254\345\205\261\345\271\277\345\221\212/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170622-WebSite\345\205\254\345\205\261\345\271\277\345\221\212/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager@r127758' $'https://192.168.0.220/svn/tech/Branch/20170622-WebSite\345\205\254\345\205\261\345\271\277\345\221\212/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r127758 -r132729   from Branch/20170622-WebSite公共广告/Develop/前端业务/网站/网站中心/WebSiteManager' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
smtp-server: 535 Error: authentication failed
. . . message not sent.
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite'
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ head='r132695 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r127770 '
+ '[' '!' -z r127770 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r127770' $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：19'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\23219' ']'
+ die 'Svn merged conflicts the r127770 -r132695  from Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r127770 -r132695  from Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite'
+ test -e /home/qishanqing/tmp/merged/output.16392
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r127770 -r132695   from Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/StaticCenter'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/StaticCenter'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/StaticCenter'
smtp-server: 535 Error: authentication failed
. . . message not sent.
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/StaticCenter'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/StaticCenter'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/StaticCenter'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/StaticCenter'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/StaticCenter'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ head -n 4
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/StaticCenter'
++ awk -F '|' '{print$1}'
+ revision=
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/StaticCenter'
++ grep '^r'
+ head='r132732 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/StaticCenter'
++ grep '^r'
++ tail -n 4
++ awk -F '|' '{print$1}'
+ revision='r127771 '
+ '[' '!' -z r127771 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/StaticCenter@r127771' $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/StaticCenter' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/StaticCenter@r127771' $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/StaticCenter'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r127771 -r132732   from Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/StaticCenter' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170713-https/Develop/基础业务/用户中心/DFLib1'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep -C 3 $'Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132699 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r130212 '
+ '[' '!' -z r130212 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1@r130212' $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1@r130212' $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r130212 -r132699   from Branch/20170713-https/Develop/基础业务/用户中心/DFLib1' --username qishanqing --password q372232
svn: E155015: 提交失败(细节如下): 
svn: E155015: 提交终止: “/home/qishanqing/workspace/code/Trunk/基础业务/用户中心/DFLib1/src/Navigator.xml” 处于冲突状态
+ die 'Svn merged conflicts the reasons for failure are as follows'
+ echo 'Svn merged conflicts the reasons for failure are as follows'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.16392
+ echo
+ cat /home/qishanqing/tmp/merged/output.16392
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib2'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib2'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib2'
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib2'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib2'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib2'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170713-https/Develop/基础业务/用户中心/DFLib2'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib2'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib2'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib2'
+ head='r132702 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib2'
++ grep '^r'
++ tail -n 4
++ awk -F '|' '{print$1}'
+ revision='r130211 '
+ '[' '!' -z r130211 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib2@r130211' $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib2' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib2@r130211' $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib2'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r130211 -r132702   from Branch/20170713-https/Develop/基础业务/用户中心/DFLib2' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170713-https/Develop/基础业务/用户中心/UserSite'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r129954 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r128550 '
+ '[' '!' -z r128550 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite@r128550' $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite@r128550' $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ echo tc
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r128550 -r129954   from Branch/20170713-https/Develop/基础业务/用户中心/UserSite' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ mails-cm -i 'code merged from Branch/20170609-资金方协议/Develop/基础业务/用户中心/UserBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r130977 '
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ head='r132731 '
+ '[' '!' -z r130977 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness@r130977' $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness@r130977' $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r130977 -r132731   from Branch/20170609-资金方协议/Develop/基础业务/用户中心/UserBusiness' --username qishanqing --password q372232
svn: E155015: 提交失败(细节如下): 
svn: E155015: 提交终止: “/home/qishanqing/workspace/code/Trunk/基础业务/用户中心/UserBusiness/config/NodeList.xml” 处于冲突状态
+ die 'Svn merged conflicts the reasons for failure are as follows'
+ echo 'Svn merged conflicts the reasons for failure are as follows'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.16392
+ echo
+ cat /home/qishanqing/tmp/merged/output.16392
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/MarketingManager'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/MarketingManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/MarketingManager'
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/MarketingManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/MarketingManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/MarketingManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/MarketingManager'
+ mails-cm -i 'code merged from Branch/20170712-boss后台https改造/Develop/前端业务/营销活动/MarketingManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep -C 3 $'Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/MarketingManager'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/MarketingManager'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132733 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/MarketingManager'
+ revision='r127442 '
+ '[' '!' -z r127442 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/MarketingManager@r127442' $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/MarketingManager' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/MarketingManager@r127442' $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/MarketingManager'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r127442 -r132733   from Branch/20170712-boss后台https改造/Develop/前端业务/营销活动/MarketingManager' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ mails-cm -i 'code merged from Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/MallManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r132734 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r127427 '
+ '[' '!' -z r127427 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager@r127427' $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' .
+ st='  树冲突：4'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2324' ']'
+ die 'Svn merged conflicts the r127427 -r132734  from Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/MallManager'
+ echo 'Svn merged conflicts the r127427 -r132734  from Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/MallManager'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.16392
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r127427 -r132734   from Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/MallManager' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallCenterSite'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallCenterSite'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallCenterSite'
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallCenterSite'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallCenterSite'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallCenterSite'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallCenterSite'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/MallCenterSite'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ awk -F '|' '{print$1}'
++ grep '^r'
++ grep -C 3 $'Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallCenterSite'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallCenterSite'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r127893 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallCenterSite'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r127427 '
+ '[' '!' -z r127427 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallCenterSite@r127427' $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallCenterSite' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallCenterSite@r127427' $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallCenterSite'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r127427 -r127893   from Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/MallCenterSite' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManager'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManager'
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManager'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170712-boss后台https改造/Develop/前端业务/营销活动/卡卷系统/CardVoucherManager'
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManager'
++ head -n 4
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManager'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132735 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManager'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r127442 '
+ '[' '!' -z r127442 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManager@r127442' $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManager' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：2'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2322' ']'
+ die 'Svn merged conflicts the r127442 -r132735  from Branch/20170712-boss后台https改造/Develop/前端业务/营销活动/卡卷系统/CardVoucherManager'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r127442 -r132735  from Branch/20170712-boss后台https改造/Develop/前端业务/营销活动/卡卷系统/CardVoucherManager'
+ test -e /home/qishanqing/tmp/merged/output.16392
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r127442 -r132735   from Branch/20170712-boss后台https改造/Develop/前端业务/营销活动/卡卷系统/CardVoucherManager' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/DFLib'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/DFLib'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/DFLib'
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/DFLib'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/DFLib'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/DFLib'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/DFLib'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170712-boss后台https改造/Develop/前端业务/DFLib'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep -C 3 $'Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/DFLib'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ revision=
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/DFLib'
++ awk -F '|' '{print$1}'
+ head='r130125 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/DFLib'
++ tail -n 4
+ revision='r130119 '
+ '[' '!' -z r130119 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/DFLib@r130119' $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/DFLib' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/DFLib@r130119' $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/DFLib'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r130119 -r130125   from Branch/20170712-boss后台https改造/Develop/前端业务/DFLib' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/DFLib'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/DFLib'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/DFLib'
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/DFLib'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/DFLib'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/DFLib'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/DFLib'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/DFLib'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/DFLib'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/DFLib'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r130128 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/DFLib'
++ tail -n 4
+ revision='r127427 '
+ '[' '!' -z r127427 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/DFLib@r127427' $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/DFLib' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/DFLib@r127427' $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/DFLib'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r127427 -r130128   from Branch/20170712-boss后台https改造/Develop/分期商城/分期商城3.0/DFLib' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170713-CDQSSite/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\346\225\260\346\215\256\344\270\255\345\277\203/CDQSSite'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\346\225\260\346\215\256\344\270\255\345\277\203/CDQSSite'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170713-CDQSSite/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\346\225\260\346\215\256\344\270\255\345\277\203/CDQSSite'
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\346\225\260\346\215\256\344\270\255\345\277\203/CDQSSite'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170713-CDQSSite/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\346\225\260\346\215\256\344\270\255\345\277\203/CDQSSite'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\346\225\260\346\215\256\344\270\255\345\277\203/CDQSSite'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\346\225\260\346\215\256\344\270\255\345\277\203/CDQSSite'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170713-CDQSSite/Develop/数据报表/数据中心/CDQSSite'
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ awk -F '|' '{print$1}'
++ grep '^r'
++ grep -C 3 $'Branch/20170713-CDQSSite/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\346\225\260\346\215\256\344\270\255\345\277\203/CDQSSite'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170713-CDQSSite/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\346\225\260\346\215\256\344\270\255\345\277\203/CDQSSite'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r128309 '
+ '[' '!' -z ']'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170713-CDQSSite/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\346\225\260\346\215\256\344\270\255\345\277\203/CDQSSite'
++ tail -n 4
++ grep '^r'
+ revision='r127680 '
+ '[' '!' -z r127680 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170713-CDQSSite/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\346\225\260\346\215\256\344\270\255\345\277\203/CDQSSite@r127680' $'https://192.168.0.220/svn/tech/Branch/20170713-CDQSSite/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\346\225\260\346\215\256\344\270\255\345\277\203/CDQSSite' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170713-CDQSSite/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\346\225\260\346\215\256\344\270\255\345\277\203/CDQSSite@r127680' $'https://192.168.0.220/svn/tech/Branch/20170713-CDQSSite/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\346\225\260\346\215\256\344\270\255\345\277\203/CDQSSite'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r127680 -r128309   from Branch/20170713-CDQSSite/Develop/数据报表/数据中心/CDQSSite' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170717-\347\233\221\346\216\247\345\244\247\345\261\217/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\244\247\345\261\217/DataDisplayManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\345\244\247\345\261\217/DataDisplayManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170717-\347\233\221\346\216\247\345\244\247\345\261\217/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\244\247\345\261\217/DataDisplayManager'
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\345\244\247\345\261\217/DataDisplayManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170717-\347\233\221\346\216\247\345\244\247\345\261\217/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\244\247\345\261\217/DataDisplayManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\345\244\247\345\261\217/DataDisplayManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\345\244\247\345\261\217/DataDisplayManager'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170717-监控大屏/Develop/数据报表/大屏/DataDisplayManager'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170717-\347\233\221\346\216\247\345\244\247\345\261\217/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\244\247\345\261\217/DataDisplayManager'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170717-\347\233\221\346\216\247\345\244\247\345\261\217/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\244\247\345\261\217/DataDisplayManager'
+ head='r132313 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170717-\347\233\221\346\216\247\345\244\247\345\261\217/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\244\247\345\261\217/DataDisplayManager'
++ grep '^r'
++ tail -n 4
++ awk -F '|' '{print$1}'
+ revision='r128496 '
+ '[' '!' -z r128496 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170717-\347\233\221\346\216\247\345\244\247\345\261\217/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\244\247\345\261\217/DataDisplayManager@r128496' $'https://192.168.0.220/svn/tech/Branch/20170717-\347\233\221\346\216\247\345\244\247\345\261\217/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\244\247\345\261\217/DataDisplayManager' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170717-\347\233\221\346\216\247\345\244\247\345\261\217/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\244\247\345\261\217/DataDisplayManager@r128496' $'https://192.168.0.220/svn/tech/Branch/20170717-\347\233\221\346\216\247\345\244\247\345\261\217/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\244\247\345\261\217/DataDisplayManager'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r128496 -r132313   from Branch/20170717-监控大屏/Develop/数据报表/大屏/DataDisplayManager' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/NC/NCCenter'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/NC/NCCenter'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/NC/NCCenter'
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/NC/NCCenter'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/NC/NCCenter'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/NC/NCCenter'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/NC/NCCenter'
+ mails-cm -i 'code merged from Branch/20170627-减去减免金额/Develop/数据报表/NC/NCCenter'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/NC/NCCenter'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/NC/NCCenter'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r122539 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/NC/NCCenter'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r122539 '
+ '[' '!' -z r122539 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/NC/NCCenter@r122539' $'https://192.168.0.220/svn/tech/Branch/20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/NC/NCCenter' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/NC/NCCenter@r122539' $'https://192.168.0.220/svn/tech/Branch/20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/NC/NCCenter'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r122539 -r122539   from Branch/20170627-减去减免金额/Develop/数据报表/NC/NCCenter' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ mails-cm -i 'code merged from Branch/20170714-boss协议修改/Develop/外部业务/P2P/P2PManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132693 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ grep '^r'
++ tail -n 4
++ awk -F '|' '{print$1}'
+ revision='r128201 '
+ '[' '!' -z r128201 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager@r128201' $'https://192.168.0.220/svn/tech/Branch/20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager' .
+ st='  树冲突：5'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2325' ']'
+ die 'Svn merged conflicts the r128201 -r132693  from Branch/20170714-boss协议修改/Develop/外部业务/P2P/P2PManager'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r128201 -r132693  from Branch/20170714-boss协议修改/Develop/外部业务/P2P/P2PManager'
+ test -e /home/qishanqing/tmp/merged/output.16392
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r128201 -r132693   from Branch/20170714-boss协议修改/Develop/外部业务/P2P/P2PManager' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170718-https\345\215\217\350\256\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170718-https\345\215\217\350\256\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage'
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170718-https\345\215\217\350\256\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170718-https协议/Develop/生活营销/卡包/CardBagManage'
+ cd $'/home/qishanqing/workspace/code/Trunk/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage'
+ clean_workspace
+ svn cleanup .
+ grep '^?'
+ xargs rm -rf
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ awk -F '|' '{print$1}'
++ grep '^r'
++ grep -C 3 $'Branch/20170718-https\345\215\217\350\256\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170718-https\345\215\217\350\256\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132721 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170718-https\345\215\217\350\256\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage'
++ grep '^r'
++ tail -n 4
++ awk -F '|' '{print$1}'
+ revision='r129109 '
+ '[' '!' -z r129109 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170718-https\345\215\217\350\256\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage@r129109' $'https://192.168.0.220/svn/tech/Branch/20170718-https\345\215\217\350\256\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170718-https\345\215\217\350\256\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage@r129109' $'https://192.168.0.220/svn/tech/Branch/20170718-https\345\215\217\350\256\256/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\215\241\345\214\205/CardBagManage'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r129109 -r132721   from Branch/20170718-https协议/Develop/生活营销/卡包/CardBagManage' --username qishanqing --password q372232
svn: E155015: 提交失败(细节如下): 
svn: E155015: 提交终止: “/home/qishanqing/workspace/code/Trunk/生活营销/卡包/CardBagManage/WebRoot/cardBagOrder/autoinsurance.js” 处于冲突状态
+ die 'Svn merged conflicts the reasons for failure are as follows'
+ echo 'Svn merged conflicts the reasons for failure are as follows'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.16392
+ echo
+ cat /home/qishanqing/tmp/merged/output.16392
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170718-https\345\215\217\350\256\256/Develop/\350\276\205\345\212\251\344\270\232\345\212\241/\347\224\237\346\264\273\346\234\215\345\212\241/LifeCenterManage'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\276\205\345\212\251\344\270\232\345\212\241/\347\224\237\346\264\273\346\234\215\345\212\241/LifeCenterManage'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170718-https\345\215\217\350\256\256/Develop/\350\276\205\345\212\251\344\270\232\345\212\241/\347\224\237\346\264\273\346\234\215\345\212\241/LifeCenterManage'
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\276\205\345\212\251\344\270\232\345\212\241/\347\224\237\346\264\273\346\234\215\345\212\241/LifeCenterManage'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170718-https\345\215\217\350\256\256/Develop/\350\276\205\345\212\251\344\270\232\345\212\241/\347\224\237\346\264\273\346\234\215\345\212\241/LifeCenterManage'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\276\205\345\212\251\344\270\232\345\212\241/\347\224\237\346\264\273\346\234\215\345\212\241/LifeCenterManage'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\276\205\345\212\251\344\270\232\345\212\241/\347\224\237\346\264\273\346\234\215\345\212\241/LifeCenterManage'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170718-https协议/Develop/辅助业务/生活服务/LifeCenterManage'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ awk -F '|' '{print$1}'
++ grep '^r'
++ grep -C 3 $'Branch/20170718-https\345\215\217\350\256\256/Develop/\350\276\205\345\212\251\344\270\232\345\212\241/\347\224\237\346\264\273\346\234\215\345\212\241/LifeCenterManage'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170718-https\345\215\217\350\256\256/Develop/\350\276\205\345\212\251\344\270\232\345\212\241/\347\224\237\346\264\273\346\234\215\345\212\241/LifeCenterManage'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r130127 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170718-https\345\215\217\350\256\256/Develop/\350\276\205\345\212\251\344\270\232\345\212\241/\347\224\237\346\264\273\346\234\215\345\212\241/LifeCenterManage'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r129110 '
+ '[' '!' -z r129110 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170718-https\345\215\217\350\256\256/Develop/\350\276\205\345\212\251\344\270\232\345\212\241/\347\224\237\346\264\273\346\234\215\345\212\241/LifeCenterManage@r129110' $'https://192.168.0.220/svn/tech/Branch/20170718-https\345\215\217\350\256\256/Develop/\350\276\205\345\212\251\344\270\232\345\212\241/\347\224\237\346\264\273\346\234\215\345\212\241/LifeCenterManage' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170718-https\345\215\217\350\256\256/Develop/\350\276\205\345\212\251\344\270\232\345\212\241/\347\224\237\346\264\273\346\234\215\345\212\241/LifeCenterManage@r129110' $'https://192.168.0.220/svn/tech/Branch/20170718-https\345\215\217\350\256\256/Develop/\350\276\205\345\212\251\344\270\232\345\212\241/\347\224\237\346\264\273\346\234\215\345\212\241/LifeCenterManage'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r129110 -r130127   from Branch/20170718-https协议/Develop/辅助业务/生活服务/LifeCenterManage' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\205\254\345\205\261/DFLib'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\205\254\345\205\261/DFLib'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\205\254\345\205\261/DFLib'
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\205\254\345\205\261/DFLib'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\205\254\345\205\261/DFLib'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\205\254\345\205\261/DFLib'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\205\254\345\205\261/DFLib'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170721-boss协议修改/Develop/公共/DFLib'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\205\254\345\205\261/DFLib'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\205\254\345\205\261/DFLib'
+ head='r130419 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\205\254\345\205\261/DFLib'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r130182 '
+ '[' '!' -z r130182 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\205\254\345\205\261/DFLib@r130182' $'https://192.168.0.220/svn/tech/Branch/20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\205\254\345\205\261/DFLib' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\205\254\345\205\261/DFLib@r130182' $'https://192.168.0.220/svn/tech/Branch/20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\205\254\345\205\261/DFLib'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r130182 -r130419   from Branch/20170721-boss协议修改/Develop/公共/DFLib' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20161011-TaskScheduler/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20161011-TaskScheduler/Develop/公共/TaskScheduler/TaskSchedulerManager'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ awk -F '|' '{print$1}'
++ grep '^r'
++ grep -C 3 $'Branch/20161011-TaskScheduler/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
+ revision='r130722 '
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
+ head='r130566 '
+ '[' '!' -z r130722 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager@r130722' $'https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager@r130722' $'https://192.168.0.220/svn/tech/Branch/20161011-TaskScheduler/Develop/\345\205\254\345\205\261/TaskScheduler/TaskSchedulerManager'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r130722 -r130566   from Branch/20161011-TaskScheduler/Develop/公共/TaskScheduler/TaskSchedulerManager' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170512-转化成maven项目/Develop/基础业务/账户中心/AccountManager'
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
++ awk -F '|' '{print$1}'
+ revision='r130723 '
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
++ grep '^r'
+ head='r130569 '
+ '[' '!' -z r130723 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager@r130723' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager@r130723' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r130723 -r130569   from Branch/20170512-转化成maven项目/Develop/基础业务/账户中心/AccountManager' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PSite/GHBUserAuditSite'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PSite/GHBUserAuditSite'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PSite/GHBUserAuditSite'
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PSite/GHBUserAuditSite'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PSite/GHBUserAuditSite'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PSite/GHBUserAuditSite'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170726-页面访问修改/Develop/外部业务/P2P/P2PSite/GHBUserAuditSite'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PSite/GHBUserAuditSite'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ svn st
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ grep '^r'
++ svn log
++ grep -C 3 $'Branch/20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PSite/GHBUserAuditSite'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PSite/GHBUserAuditSite'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r131015 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PSite/GHBUserAuditSite'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r131015 '
+ '[' '!' -z r131015 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PSite/GHBUserAuditSite@r131015' $'https://192.168.0.220/svn/tech/Branch/20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PSite/GHBUserAuditSite' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PSite/GHBUserAuditSite@r131015' $'https://192.168.0.220/svn/tech/Branch/20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PSite/GHBUserAuditSite'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42738.html
Merged revision(s) r131015 -r131015   from Branch/20170726-页面访问修改/Develop/外部业务/P2P/P2PSite/GHBUserAuditSite' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20160801-\344\270\232\345\212\241\346\200\273\347\272\277/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\344\270\232\345\212\241\346\200\273\347\272\277/BusinessBusManager\r'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\344\270\232\345\212\241\346\200\273\347\272\277/BusinessBusManager\r'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20160801-\344\270\232\345\212\241\346\200\273\347\272\277/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\344\270\232\345\212\241\346\200\273\347\272\277/BusinessBusManager\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ test -e /home/qishanqing/tmp/merged/output.16392
+ echo
+ cat /home/qishanqing/tmp/merged/output.16392
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\344\270\232\345\212\241\346\200\273\347\272\277/BusinessBusManager\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20160801-\344\270\232\345\212\241\346\200\273\347\272\277/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\344\270\232\345\212\241\346\200\273\347\272\277/BusinessBusManager\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\344\270\232\345\212\241\346\200\273\347\272\277/BusinessBusManager\r'
+ die '平台架构/业务总线/BusinessBusManager  project code no found'
+ echo '平台架构/业务总线/BusinessBusManager  project code no found'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.16392
+ rm -f /home/qishanqing/tmp/merged/output.16392
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (2.1ms)
  Rendered merge/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 1157160ms (Views: 68.9ms)


Completed 200 OK in 1157160ms (Views: 68.9ms)


smtp-server: 554 DT:SPM 163 smtp2,DNGowABHpyPm7H9ZcRHUAg--.3268S2 1501555942,please see http://mail.163.com/help/help_spam_16.htm?ip=106.120.15.178&hostid=smtp2&time=1501555942
. . . message not sent.
Started POST "/merge/new" for 192.168.5.26 at 2017-08-01 11:21:04 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-01 11:21:04 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20160801-业务总线/Develop/平台架构/业务总线/BusinessBusManager https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageCenter https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/Task/OrderTimeoutCancelTask https://192.168.0.220/svn/tech/Branch/20170724-额度转分期/Develop/事事分期/StageAll/StageOrderService https://192.168.0.220/svn/tech/Branch/20170724-额度转分期/Develop/事事分期/StageAll/StageModule/StageMobile https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/LoanInstalmentBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170616-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170627-达芬奇首页/Develop/自如/后台服务管理/MobileWalletCenter https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol", "task"=>"http://192.168.0.221/zentao/task-view-42772.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"5FmVyF+A2ioGooTbuGKl4Od2573VEtXjAjexjVdqamvMLBXqSGVdUS+dvGpo0N2gSe/ykN2vnrUyZoCI97A+RA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20160801-业务总线/Develop/平台架构/业务总线/BusinessBusManager https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageCenter https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/Task/OrderTimeoutCancelTask https://192.168.0.220/svn/tech/Branch/20170724-额度转分期/Develop/事事分期/StageAll/StageOrderService https://192.168.0.220/svn/tech/Branch/20170724-额度转分期/Develop/事事分期/StageAll/StageModule/StageMobile https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/LoanInstalmentBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170616-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170627-达芬奇首页/Develop/自如/后台服务管理/MobileWalletCenter https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol", "task"=>"http://192.168.0.221/zentao/task-view-42772.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"5FmVyF+A2ioGooTbuGKl4Od2573VEtXjAjexjVdqamvMLBXqSGVdUS+dvGpo0N2gSe/ykN2vnrUyZoCI97A+RA=="}
pid is 18986
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42772.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20160801-业务总线/Develop/平台架构/业务总线/BusinessBusManager https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageCenter https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/Task/OrderTimeoutCancelTask https://192.168.0.220/svn/tech/Branch/20170724-额度转分期/Develop/事事分期/StageAll/StageOrderService https://192.168.0.220/svn/tech/Branch/20170724-额度转分期/Develop/事事分期/StageAll/StageModule/StageMobile https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/LoanInstalmentBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170616-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170627-达芬奇首页/Develop/自如/后台服务管理/MobileWalletCenter https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42772.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20160801-业务总线/Develop/平台架构/业务总线/BusinessBusManager https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageCenter https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/Task/OrderTimeoutCancelTask https://192.168.0.220/svn/tech/Branch/20170724-额度转分期/Develop/事事分期/StageAll/StageOrderService https://192.168.0.220/svn/tech/Branch/20170724-额度转分期/Develop/事事分期/StageAll/StageModule/StageMobile https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/LoanInstalmentBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170616-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170627-达芬奇首页/Develop/自如/后台服务管理/MobileWalletCenter https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42772.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20160801-业务总线/Develop/平台架构/业务总线/BusinessBusManager https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageCenter https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/Task/OrderTimeoutCancelTask https://192.168.0.220/svn/tech/Branch/20170724-额度转分期/Develop/事事分期/StageAll/StageOrderService https://192.168.0.220/svn/tech/Branch/20170724-额度转分期/Develop/事事分期/StageAll/StageModule/StageMobile https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/LoanInstalmentBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170616-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170627-达芬奇首页/Develop/自如/后台服务管理/MobileWalletCenter https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42772.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20160801-业务总线/Develop/平台架构/业务总线/BusinessBusManager https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageCenter https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/Task/OrderTimeoutCancelTask https://192.168.0.220/svn/tech/Branch/20170724-额度转分期/Develop/事事分期/StageAll/StageOrderService https://192.168.0.220/svn/tech/Branch/20170724-额度转分期/Develop/事事分期/StageAll/StageModule/StageMobile https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/LoanInstalmentBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170616-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170627-达芬奇首页/Develop/自如/后台服务管理/MobileWalletCenter https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42772.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20160801-业务总线/Develop/平台架构/业务总线/BusinessBusManager https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageCenter https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/Task/OrderTimeoutCancelTask https://192.168.0.220/svn/tech/Branch/20170724-额度转分期/Develop/事事分期/StageAll/StageOrderService https://192.168.0.220/svn/tech/Branch/20170724-额度转分期/Develop/事事分期/StageAll/StageModule/StageMobile https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/LoanInstalmentBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170616-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170627-达芬奇首页/Develop/自如/后台服务管理/MobileWalletCenter https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20160801-\344\270\232\345\212\241\346\200\273\347\272\277/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\344\270\232\345\212\241\346\200\273\347\272\277/BusinessBusManager' $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter' $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager' $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask' $'https://192.168.0.220/svn/tech/Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService' $'https://192.168.0.220/svn/tech/Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile' $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness' $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness' $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/LoanInstalmentBusiness' $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' $'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness' $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager' $'https://192.168.0.220/svn/tech/Branch/20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter' $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20160801-业务总线/Develop/平台架构/业务总线/BusinessBusManager: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20160801-\344\270\232\345\212\241\346\200\273\347\272\277/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\344\270\232\345\212\241\346\200\273\347\272\277/BusinessBusManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/LoanInstalmentBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ branchs='https://192.168.0.220/svn/tech/Branch/20160801-业务总线/Develop/平台架构/业务总线/BusinessBusManager
https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageCenter
https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageManager
https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client
https://192.168.0.220/svn/tech/Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/Task/OrderTimeoutCancelTask
https://192.168.0.220/svn/tech/Branch/20170724-额度转分期/Develop/事事分期/StageAll/StageOrderService
https://192.168.0.220/svn/tech/Branch/20170724-额度转分期/Develop/事事分期/StageAll/StageModule/StageMobile
https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness
https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness2
https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BossBusiness
https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/LoanInstalmentBusiness
https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness2
https://192.168.0.220/svn/tech/Branch/20170616-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness
https://192.168.0.220/svn/tech/Branch/20170607-达分期转分期/Develop/外部业务/P2P/P2PManager
https://192.168.0.220/svn/tech/Branch/20170627-达芬奇首页/Develop/自如/后台服务管理/MobileWalletCenter
https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20160801-\344\270\232\345\212\241\346\200\273\347\272\277/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\344\270\232\345\212\241\346\200\273\347\272\277/BusinessBusManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\344\270\232\345\212\241\346\200\273\347\272\277/BusinessBusManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20160801-\344\270\232\345\212\241\346\200\273\347\272\277/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\344\270\232\345\212\241\346\200\273\347\272\277/BusinessBusManager'
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\344\270\232\345\212\241\346\200\273\347\272\277/BusinessBusManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20160801-\344\270\232\345\212\241\346\200\273\347\272\277/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\344\270\232\345\212\241\346\200\273\347\272\277/BusinessBusManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\344\270\232\345\212\241\346\200\273\347\272\277/BusinessBusManager'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20160801-业务总线/Develop/平台架构/业务总线/BusinessBusManager'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\344\270\232\345\212\241\346\200\273\347\272\277/BusinessBusManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20160801-\344\270\232\345\212\241\346\200\273\347\272\277/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\344\270\232\345\212\241\346\200\273\347\272\277/BusinessBusManager'
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20160801-\344\270\232\345\212\241\346\200\273\347\272\277/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\344\270\232\345\212\241\346\200\273\347\272\277/BusinessBusManager'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r131441 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20160801-\344\270\232\345\212\241\346\200\273\347\272\277/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\344\270\232\345\212\241\346\200\273\347\272\277/BusinessBusManager'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r69674 '
+ '[' '!' -z r69674 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20160801-\344\270\232\345\212\241\346\200\273\347\272\277/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\344\270\232\345\212\241\346\200\273\347\272\277/BusinessBusManager@r69674' $'https://192.168.0.220/svn/tech/Branch/20160801-\344\270\232\345\212\241\346\200\273\347\272\277/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\344\270\232\345\212\241\346\200\273\347\272\277/BusinessBusManager' .
+ st='  树冲突：6'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2326' ']'
+ die 'Svn merged conflicts the r69674 -r131441  from Branch/20160801-业务总线/Develop/平台架构/业务总线/BusinessBusManager'
+ echo 'Svn merged conflicts the r69674 -r131441  from Branch/20160801-业务总线/Develop/平台架构/业务总线/BusinessBusManager'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.18986
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42772.html
Merged revision(s) r69674 -r131441   from Branch/20160801-业务总线/Develop/平台架构/业务总线/BusinessBusManager' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageCenter'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r132713 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r118829 '
+ '[' '!' -z r118829 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter@r118829' $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter' .
+ st='  树冲突：11'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\23211' ']'
+ die 'Svn merged conflicts the r118829 -r132713  from Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageCenter'
+ echo 'Svn merged conflicts the r118829 -r132713  from Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageCenter'
+ test -e /home/qishanqing/tmp/merged/output.18986
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42772.html
Merged revision(s) r118829 -r132713   from Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageCenter' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageManager'
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132627 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
++ tail -n 4
+ revision='r118831 '
+ '[' '!' -z r118831 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager@r118831' $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：11'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\23211' ']'
+ die 'Svn merged conflicts the r118831 -r132627  from Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageManager'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r118831 -r132627  from Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageManager'
+ test -e /home/qishanqing/tmp/merged/output.18986
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42772.html
Merged revision(s) r118831 -r132627   from Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/StageManager' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ mails-cm -i 'code merged from Branch/20170609-额度支付转分期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ head='r132687 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ grep '^r'
++ tail -n 4
++ awk -F '|' '{print$1}'
+ revision='r118832 '
+ '[' '!' -z r118832 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r118832' $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：87'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\23287' ']'
+ die 'Svn merged conflicts the r118832 -r132687  from Branch/20170609-额度支付转分期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r118832 -r132687  from Branch/20170609-额度支付转分期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ test -e /home/qishanqing/tmp/merged/output.18986
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42772.html
Merged revision(s) r118832 -r132687   from Branch/20170609-额度支付转分期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask'
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/Task/OrderTimeoutCancelTask'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep -C 3 $'Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ revision=
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask'
+ head='r130588 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r121152 '
+ '[' '!' -z r121152 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask@r121152' $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask@r121152' $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42772.html
Merged revision(s) r121152 -r130588   from Branch/20170609-额度支付转分期/Develop/事事分期/StageAll/Task/OrderTimeoutCancelTask' --username qishanqing --password q372232
svn: E155015: 提交失败(细节如下): 
svn: E155015: 提交终止: “/home/qishanqing/workspace/code/Trunk/事事分期/StageAll/Task/OrderTimeoutCancelTask/config/NodeList.xml” 处于冲突状态
+ die 'Svn merged conflicts the reasons for failure are as follows'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the reasons for failure are as follows'
+ test -e /home/qishanqing/tmp/merged/output.18986
+ echo
+ cat /home/qishanqing/tmp/merged/output.18986
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
+ mails-cm -i 'code merged from Branch/20170724-额度转分期/Develop/事事分期/StageAll/StageOrderService'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r131659 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r130546 '
+ '[' '!' -z r130546 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService@r130546' $'https://192.168.0.220/svn/tech/Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService@r130546' $'https://192.168.0.220/svn/tech/Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42772.html
Merged revision(s) r130546 -r131659   from Branch/20170724-额度转分期/Develop/事事分期/StageAll/StageOrderService' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ svn_from_tb_merged
+ mails-cm -i 'code merged from Branch/20170724-额度转分期/Develop/事事分期/StageAll/StageModule/StageMobile'
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r130818 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r130810 '
+ '[' '!' -z r130810 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile@r130810' $'https://192.168.0.220/svn/tech/Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile@r130810' $'https://192.168.0.220/svn/tech/Branch/20170724-\351\242\235\345\272\246\350\275\254\345\210\206\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42772.html
Merged revision(s) r130810 -r130818   from Branch/20170724-额度转分期/Develop/事事分期/StageAll/StageModule/StageMobile' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ svn_from_tb_merged
+ mails-cm -i 'code merged from Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness'
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132727 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ tail -n 4
+ revision='r119846 '
+ '[' '!' -z r119846 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness@r119846' $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：3'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2323' ']'
+ die 'Svn merged conflicts the r119846 -r132727  from Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness'
+ echo 'Svn merged conflicts the r119846 -r132727  from Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness'
+ test -e /home/qishanqing/tmp/merged/output.18986
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42772.html
Merged revision(s) r119846 -r132727   from Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ mails-cm -i 'code merged from Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness2'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r132714 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r118061 '
+ '[' '!' -z r118061 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2@r118061' $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：4'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2324' ']'
+ die 'Svn merged conflicts the r118061 -r132714  from Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness2'
+ echo 'Svn merged conflicts the r118061 -r132714  from Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness2'
+ test -e /home/qishanqing/tmp/merged/output.18986
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42772.html
Merged revision(s) r118061 -r132714   from Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BorrowBusiness2' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BossBusiness'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r132710 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
++ grep '^r'
++ tail -n 4
++ awk -F '|' '{print$1}'
+ revision='r119530 '
+ '[' '!' -z r119530 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness@r119530' $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness@r119530' $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42772.html
Merged revision(s) r119530 -r132710   from Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/BossBusiness' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/LoanInstalmentBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/LoanInstalmentBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/LoanInstalmentBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/LoanInstalmentBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/LoanInstalmentBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/LoanInstalmentBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/LoanInstalmentBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/LoanInstalmentBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ head -n 4
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/LoanInstalmentBusiness'
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/LoanInstalmentBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132714 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/LoanInstalmentBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r118058 '
+ '[' '!' -z r118058 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/LoanInstalmentBusiness@r118058' $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/LoanInstalmentBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/LoanInstalmentBusiness@r118058' $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/LoanInstalmentBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42772.html
Merged revision(s) r118058 -r132714   from Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/LoanInstalmentBusiness' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness2'
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep -C 3 $'Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r132390 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r119857 '
+ '[' '!' -z r119857 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2@r119857' $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：10'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\23210' ']'
+ die 'Svn merged conflicts the r119857 -r132390  from Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness2'
+ echo 'Svn merged conflicts the r119857 -r132390  from Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness2'
+ test -e /home/qishanqing/tmp/merged/output.18986
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42772.html
Merged revision(s) r119857 -r132390   from Branch/20170607-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness2' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170616-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ awk -F '|' '{print$1}'
++ grep -C 3 $'Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
++ grep '^r'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r129920 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r119862 '
+ '[' '!' -z r119862 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness@r119862' $'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：1'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2321' ']'
+ die 'Svn merged conflicts the r119862 -r129920  from Branch/20170616-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r119862 -r129920  from Branch/20170616-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness'
+ test -e /home/qishanqing/tmp/merged/output.18986
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42772.html
Merged revision(s) r119862 -r129920   from Branch/20170616-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.18986
+ echo
+ cat /home/qishanqing/tmp/merged/output.18986
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170607-达分期转分期/Develop/外部业务/P2P/P2PManager'
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ head -n 4
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ awk -F '|' '{print$1}'
+ revision=
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ awk -F '|' '{print$1}'
svn: E160013: 找不到路径 “/svn/tech/!svn/rvr/132845/Branch/20170607-%E8%BE%BE%E5%88%86%E6%9C%9F%E8%BD%AC%E5%88%86%E6%9C%9F/Develop/%E5%A4%96%E9%83%A8%E4%B8%9A%E5%8A%A1/P2P/P2PManager”
+ head=
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
svn: E160013: 找不到路径 “/svn/tech/!svn/rvr/132845/Branch/20170607-%E8%BE%BE%E5%88%86%E6%9C%9F%E8%BD%AC%E5%88%86%E6%9C%9F/Develop/%E5%A4%96%E9%83%A8%E4%B8%9A%E5%8A%A1/P2P/P2PManager”
+ revision=
+ '[' '!' -z ']'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42772.html
Merged revision(s) -  from Branch/20170607-达分期转分期/Develop/外部业务/P2P/P2PManager' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170627-达芬奇首页/Develop/自如/后台服务管理/MobileWalletCenter'
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r131009 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132797 '
+ '[' '!' -z r131009 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter@r131009' $'https://192.168.0.220/svn/tech/Branch/20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter@r131009' $'https://192.168.0.220/svn/tech/Branch/20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42772.html
Merged revision(s) r131009 -r132797   from Branch/20170627-达芬奇首页/Develop/自如/后台服务管理/MobileWalletCenter' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ rm -f /home/qishanqing/tmp/merged/output.18986
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ mails-cm -i 'code merged from Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ awk -F '|' '{print$1}'
++ grep -C 3 $'Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
++ head -n 4
+ revision='r131694 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r132660 '
+ '[' '!' -z r131694 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol@r131694' $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol@r131694' $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42772.html
Merged revision(s) r131694 -r132660   from Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (4.6ms)
  Rendered merge/new.html.erb within layouts/application (4.6ms)
Completed 200 OK in 1989577ms (Views: 4302.2ms)


Completed 200 OK in 1989577ms (Views: 4302.2ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-01 12:09:19 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-01 12:09:19 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (5.0ms)
  Rendered merge/index.html.erb within layouts/application (5.0ms)
Completed 200 OK in 82ms (Views: 77.4ms)


Completed 200 OK in 82ms (Views: 77.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-01 12:11:48 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-01 12:11:48 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170621-包银BOSS后台/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/baoyin_26 https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170727-360还款统计/Develop/催收/服务/SupCCBusinessV1 https://192.168.0.220/svn/tech/Branch/20170731-账单导出状态修改/Develop/分期商城/分期商城3.0/MallManager\r\n\r\n", "task"=>"", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"0T8RLlF/0AuPauUZx6gs/OmLs0f+JQWmmVgDAYA0Qgz5SpEMRppXcKZV3agXGlS8RxKmavaYTvCpCTIEIO4WIw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170621-包银BOSS后台/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/baoyin_26 https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170727-360还款统计/Develop/催收/服务/SupCCBusinessV1 https://192.168.0.220/svn/tech/Branch/20170731-账单导出状态修改/Develop/分期商城/分期商城3.0/MallManager\r\n\r\n", "task"=>"", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"0T8RLlF/0AuPauUZx6gs/OmLs0f+JQWmmVgDAYA0Qgz5SpEMRppXcKZV3agXGlS8RxKmavaYTvCpCTIEIO4WIw=="}
pid is 20386
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k '' -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170621-包银BOSS后台/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/baoyin_26 https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170727-360还款统计/Develop/催收/服务/SupCCBusinessV1 https://192.168.0.220/svn/tech/Branch/20170731-账单导出状态修改/Develop/分期商城/分期商城3.0/MallManager

' -T add
+ TEMP=' -k '\'''\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170621-包银BOSS后台/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/baoyin_26 https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170727-360还款统计/Develop/催收/服务/SupCCBusinessV1 https://192.168.0.220/svn/tech/Branch/20170731-账单导出状态修改/Develop/分期商城/分期商城3.0/MallManager

'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\'''\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170621-包银BOSS后台/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/baoyin_26 https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170727-360还款统计/Develop/催收/服务/SupCCBusinessV1 https://192.168.0.220/svn/tech/Branch/20170731-账单导出状态修改/Develop/分期商城/分期商城3.0/MallManager

'\'' -T '\''add'\'' --'
++ set -- -k '' -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170621-包银BOSS后台/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/baoyin_26 https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170727-360还款统计/Develop/催收/服务/SupCCBusinessV1 https://192.168.0.220/svn/tech/Branch/20170731-账单导出状态修改/Develop/分期商城/分期商城3.0/MallManager

' -T add --
+ true
+ case "$1" in
+ task=
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170621-包银BOSS后台/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/baoyin_26 https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170727-360还款统计/Develop/催收/服务/SupCCBusinessV1 https://192.168.0.220/svn/tech/Branch/20170731-账单导出状态修改/Develop/分期商城/分期商城3.0/MallManager

'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness' $'https://192.168.0.220/svn/tech/Branch/20170621-\345\214\205\351\223\266BOSS\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26' $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness' $'https://192.168.0.220/svn/tech/Branch/20170727-360\350\277\230\346\254\276\347\273\237\350\256\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1' $'https://192.168.0.220/svn/tech/Branch/20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager\r' $'\r'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170621-\345\214\205\351\223\266BOSS\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170727-360\350\277\230\346\254\276\347\273\237\350\256\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager\r'
++ for y in '$branch'
++ echo $'\r'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness
https://192.168.0.220/svn/tech/Branch/20170621-包银BOSS后台/Develop/外部业务/P2P/P2PManager
https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/baoyin_26
https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BorrowBusiness2
https://192.168.0.220/svn/tech/Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BossBusiness
https://192.168.0.220/svn/tech/Branch/20170727-360还款统计/Develop/催收/服务/SupCCBusinessV1
https://192.168.0.220/svn/tech/Branch/20170731-账单导出状态修改/Develop/分期商城/分期商城3.0/MallManager
'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.20386
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ head='r132838 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r132536 '
+ '[' '!' -z r132536 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness@r132536' $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness@r132536' $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ svn ci --username builder --password ant@ -m '
Merged revision(s) r132536 -r132838   from Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170621-\345\214\205\351\223\266BOSS\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170621-\345\214\205\351\223\266BOSS\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ rm -f /home/qishanqing/tmp/merged/output.20386
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170621-\345\214\205\351\223\266BOSS\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170621-包银BOSS后台/Develop/外部业务/P2P/P2PManager'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170621-\345\214\205\351\223\266BOSS\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170621-\345\214\205\351\223\266BOSS\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r132622 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170621-\345\214\205\351\223\266BOSS\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ grep '^r'
++ tail -n 4
++ awk -F '|' '{print$1}'
+ revision='r121277 '
+ '[' '!' -z r121277 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170621-\345\214\205\351\223\266BOSS\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager@r121277' $'https://192.168.0.220/svn/tech/Branch/20170621-\345\214\205\351\223\266BOSS\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：21'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\23221' ']'
+ die 'Svn merged conflicts the r121277 -r132622  from Branch/20170621-包银BOSS后台/Develop/外部业务/P2P/P2PManager'
+ echo 'Svn merged conflicts the r121277 -r132622  from Branch/20170621-包银BOSS后台/Develop/外部业务/P2P/P2PManager'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.20386
+ rm -f /home/qishanqing/tmp/merged/output.20386
+ svn ci --username builder --password ant@ -m '
Merged revision(s) r121277 -r132622   from Branch/20170621-包银BOSS后台/Develop/外部业务/P2P/P2PManager' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
+ rm -f /home/qishanqing/tmp/merged/output.20386
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
+ svn_from_tb_merged
+ mails-cm -i 'code merged from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/baoyin_26'
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r130538 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132498 '
+ '[' '!' -z r130538 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26@r130538' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26@r130538' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/baoyin_26'
+ svn ci --username builder --password ant@ -m '
Merged revision(s) r130538 -r132498   from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/baoyin_26' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ rm -f /home/qishanqing/tmp/merged/output.20386
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BorrowBusiness2'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132565 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r132484 '
+ '[' '!' -z r132484 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2@r132484' $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2@r132484' $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ svn ci --username builder --password ant@ -m '
Merged revision(s) r132484 -r132565   from Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BorrowBusiness2' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.20386
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BossBusiness'
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r132590 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r132485 '
+ '[' '!' -z r132485 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness@r132485' $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness@r132485' $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ svn ci --username builder --password ant@ -m '
Merged revision(s) r132485 -r132590   from Branch/20170731-商城相关bug/Develop/外部业务/P2P/Business/BossBusiness' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170727-360\350\277\230\346\254\276\347\273\237\350\256\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170727-360\350\277\230\346\254\276\347\273\237\350\256\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
+ rm -f /home/qishanqing/tmp/merged/output.20386
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170727-360\350\277\230\346\254\276\347\273\237\350\256\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
+ svn_from_tb_merged
+ mails-cm -i 'code merged from Branch/20170727-360还款统计/Develop/催收/服务/SupCCBusinessV1'
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170727-360\350\277\230\346\254\276\347\273\237\350\256\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170727-360\350\277\230\346\254\276\347\273\237\350\256\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r131569 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170727-360\350\277\230\346\254\276\347\273\237\350\256\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r131564 '
+ '[' '!' -z r131564 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170727-360\350\277\230\346\254\276\347\273\237\350\256\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1@r131564' $'https://192.168.0.220/svn/tech/Branch/20170727-360\350\277\230\346\254\276\347\273\237\350\256\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170727-360\350\277\230\346\254\276\347\273\237\350\256\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1@r131564' $'https://192.168.0.220/svn/tech/Branch/20170727-360\350\277\230\346\254\276\347\273\237\350\256\241/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/SupCCBusinessV1'
+ svn ci --username builder --password ant@ -m '
Merged revision(s) r131564 -r131569   from Branch/20170727-360还款统计/Develop/催收/服务/SupCCBusinessV1' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager\r'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager\r'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ test -e /home/qishanqing/tmp/merged/output.20386
+ echo
+ cat /home/qishanqing/tmp/merged/output.20386
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.20386
+ rm -f /home/qishanqing/tmp/merged/output.20386
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager\r'
+ die '分期商城/分期商城3.0/MallManager  project code no found'
+ echo '分期商城/分期商城3.0/MallManager  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.20386
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.20386
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'\r'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'\r'
+ svn log -l 1 $'\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.20386
+ echo
+ cat /home/qishanqing/tmp/merged/output.20386
+ rm -f /home/qishanqing/tmp/merged/output.20386
+ rm -f /home/qishanqing/tmp/merged/output.20386
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\r'
+ die '  project code no found'
+ mails-cm -i 'svn merged faild'
+ echo '  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.20386
+ rm -f /home/qishanqing/tmp/merged/output.20386
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (2.2ms)
  Rendered merge/new.html.erb within layouts/application (2.2ms)
smtp-server: 554 DT:SPM 163 smtp4,DtGowADn_Dg5AIBZGNyVCA--.1072S2 1501560889,please see http://mail.163.com/help/help_spam_16.htm?ip=106.120.15.178&hostid=smtp4&time=1501560889
. . . message not sent.
Completed 200 OK in 180772ms (Views: 146.7ms)


Completed 200 OK in 180772ms (Views: 146.7ms)


smtp-server: 554 DT:SPM 163 smtp2,DNGowAAnHCg5AIBZ4nTaAg--.6587S2 1501560889,please see http://mail.163.com/help/help_spam_16.htm?ip=106.120.15.178&hostid=smtp2&time=1501560889
. . . message not sent.
smtp-server: 554 DT:SPM 163 smtp1,C9GowAA3Fgo5AIBZpYKbCA--.65237S2 1501560889,please see http://mail.163.com/help/help_spam_16.htm?ip=106.120.15.178&hostid=smtp1&time=1501560889
. . . message not sent.
Started GET "/merge/index" for 192.168.5.26 at 2017-08-01 12:15:12 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-01 12:15:12 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (30.6ms)
  Rendered merge/index.html.erb within layouts/application (30.6ms)
Completed 200 OK in 92ms (Views: 88.4ms)


Completed 200 OK in 92ms (Views: 88.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-01 12:15:55 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-01 12:15:55 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/fundgateway https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness\r\n", "task"=>"", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"WieDe35XS6lfHuRygd/n71sNXTsGTIvr5Fymmy9Ul5RyUgNZabLM0nYh3MNRbZ+v9ZRIFg7xwL3UDZeej47Duw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/fundgateway https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness\r\n", "task"=>"", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"WieDe35XS6lfHuRygd/n71sNXTsGTIvr5Fymmy9Ul5RyUgNZabLM0nYh3MNRbZ+v9ZRIFg7xwL3UDZeej47Duw=="}
pid is 20698
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k '' -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/fundgateway https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness
' -T add
+ TEMP=' -k '\'''\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/fundgateway https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness
'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\'''\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/fundgateway https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness
'\'' -T '\''add'\'' --'
++ set -- -k '' -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/fundgateway https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness
' -T add --
+ true
+ case "$1" in
+ task=
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/fundgateway https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness
'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/fundgateway' $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness\r'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/fundgateway: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/fundgateway'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness\r'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/fundgateway
https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/fundgateway'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/fundgateway'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/fundgateway'
+ rm -f /home/qishanqing/tmp/merged/output.20698
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/fundgateway'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/fundgateway'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/fundgateway'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/fundgateway'
+ mails-cm -i 'code merged from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/fundgateway'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/fundgateway'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r132798 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/fundgateway'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132145 '
+ '[' '!' -z r132798 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/fundgateway@r132798' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/fundgateway' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/fundgateway@r132798' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/fundgateway'
+ svn ci --username builder --password ant@ -m '
Merged revision(s) r132798 -r132145   from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/fundgateway' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness\r'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness\r'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.20698
+ echo
+ cat /home/qishanqing/tmp/merged/output.20698
+ rm -f /home/qishanqing/tmp/merged/output.20698
+ rm -f /home/qishanqing/tmp/merged/output.20698
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness\r'
+ die '分期商城/分期商城3.0/MallTaskBusiness  project code no found'
+ echo '分期商城/分期商城3.0/MallTaskBusiness  project code no found'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.20698
+ rm -f /home/qishanqing/tmp/merged/output.20698
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.6ms)
  Rendered merge/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 49468ms (Views: 70.0ms)


Completed 200 OK in 49468ms (Views: 70.0ms)


smtp-server: 554 DT:SPM 163 smtp1,C9GowAAHjw+tAIBZR6mbCA--.1537S2 1501561005,please see http://mail.163.com/help/help_spam_16.htm?ip=106.120.15.178&hostid=smtp1&time=1501561005
. . . message not sent.
Started GET "/merge/index" for 192.168.5.26 at 2017-08-01 12:19:20 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-01 12:19:20 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (6.4ms)
  Rendered merge/index.html.erb within layouts/application (6.4ms)
Completed 200 OK in 84ms (Views: 80.8ms)


Completed 200 OK in 84ms (Views: 80.8ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-01 14:28:47 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-01 14:28:47 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42753.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"sEcVYxo1JB4Ej+4BHSNcFOmzz4KHi5jl24i9DS7pjtOYMpVBDdCjZS2w1rDNkSRURyrar48207Pr2YwIjjPa/A=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42753.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"sEcVYxo1JB4Ej+4BHSNcFOmzz4KHi5jl24i9DS7pjtOYMpVBDdCjZS2w1rDNkSRURyrar48207Pr2YwIjjPa/A=="}
pid is 22672
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42753.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42753.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42753.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42753.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42753.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.22672
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ awk -F '|' '{print$1}'
++ head -n 4
++ grep -C 3 $'Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ grep '^r'
+ revision='r132857 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132838 '
+ '[' '!' -z r132857 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness@r132857' $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness@r132857' $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42753.html
Merged revision(s) r132857 -r132838   from Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.0ms)
  Rendered merge/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 27010ms (Views: 39.6ms)


Completed 200 OK in 27010ms (Views: 39.6ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-01 14:34:22 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-01 14:34:22 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.3ms)
  Rendered merge/index.html.erb within layouts/application (4.3ms)
Completed 200 OK in 81ms (Views: 77.6ms)


Completed 200 OK in 81ms (Views: 77.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-01 14:34:34 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-01 14:34:34 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170731-账单导出状态修改/Develop/分期商城/分期商城3.0/MallManager", "task"=>"http://192.168.0.221/zentao/task-view-42748.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"WhPFD/tYJ5qx9c3pj8rF3lbtO5ARsZEiNvslpRfFq/RyZkUt7L2g4ZjK9VhfeL2e+HQuvRkM2nQGqhSgtx//2w=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170731-账单导出状态修改/Develop/分期商城/分期商城3.0/MallManager", "task"=>"http://192.168.0.221/zentao/task-view-42748.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"WhPFD/tYJ5qx9c3pj8rF3lbtO5ARsZEiNvslpRfFq/RyZkUt7L2g4ZjK9VhfeL2e+HQuvRkM2nQGqhSgtx//2w=="}
pid is 22766
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42748.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42748.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170731-账单导出状态修改/Develop/分期商城/分期商城3.0/MallManager'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42748.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170731-账单导出状态修改/Develop/分期商城/分期商城3.0/MallManager'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42748.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42748.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170731-账单导出状态修改/Develop/分期商城/分期商城3.0/MallManager: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ test -e /home/qishanqing/tmp/merged/output.22766
+ mails-cm -i 'svn merged faild'
+ echo
+ cat /home/qishanqing/tmp/merged/output.22766
+ rm -f /home/qishanqing/tmp/merged/output.22766
+ rm -f /home/qishanqing/tmp/merged/output.22766
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170731-账单导出状态修改/Develop/分期商城/分期商城3.0/MallManager'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ grep '^r'
++ awk -F '|' '{print$1}'
svn: E160013: 找不到路径 “/svn/tech/!svn/rvr/132902/Branch/20170731-%E8%B4%A6%E5%8D%95%E5%AF%BC%E5%87%BA%E7%8A%B6%E6%80%81%E4%BF%AE%E6%94%B9/Develop/%E5%88%86%E6%9C%9F%E5%95%86%E5%9F%8E/%E5%88%86%E6%9C%9F%E5%95%86%E5%9F%8E3.0/MallManager”
+ head=
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170731-\350\264\246\345\215\225\345\257\274\345\207\272\347\212\266\346\200\201\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ grep '^r'
++ tail -n 4
++ awk -F '|' '{print$1}'
svn: E160013: 找不到路径 “/svn/tech/!svn/rvr/132902/Branch/20170731-%E8%B4%A6%E5%8D%95%E5%AF%BC%E5%87%BA%E7%8A%B6%E6%80%81%E4%BF%AE%E6%94%B9/Develop/%E5%88%86%E6%9C%9F%E5%95%86%E5%9F%8E/%E5%88%86%E6%9C%9F%E5%95%86%E5%9F%8E3.0/MallManager”
+ revision=
+ '[' '!' -z ']'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42748.html
Merged revision(s) -  from Branch/20170731-账单导出状态修改/Develop/分期商城/分期商城3.0/MallManager' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.3ms)
  Rendered merge/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 29380ms (Views: 63.8ms)


Completed 200 OK in 29380ms (Views: 63.8ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-01 14:39:12 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-01 14:39:12 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.5ms)
  Rendered builder/index.html.erb within layouts/application (4.5ms)
Completed 200 OK in 115ms (Views: 71.4ms)


Completed 200 OK in 115ms (Views: 71.4ms)


Started POST "/start" for 192.168.5.26 at 2017-08-01 14:39:16 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-01 14:39:17 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170731-商城相关bug", "branch"=>"20170731-商城相关bug", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"RGYFkXoj8hl2W7QejGiyJSGZORyojUUf9hQeNKriyxZsE4WzbcZ1Yl9kjK9c2spljwAsMaAwDknGRS8xCjifOQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170731-商城相关bug", "branch"=>"20170731-商城相关bug", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"RGYFkXoj8hl2W7QejGiyJSGZORyojUUf9hQeNKriyxZsE4WzbcZ1Yl9kjK9c2spljwAsMaAwDknGRS8xCjifOQ=="}
pid is 23023
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug' -e qishanqing@dafy.com -E '' -b $'20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170731-商城相关bug'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170731-商城相关bug'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170731-商城相关bug'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170731-商城相关bug'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug' -e qishanqing@dafy.com -E '' -b $'20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170731-商城相关bug: command not found
++ for y in '$trunk'
++ echo $'20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ trunks=$'20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ test del = add
+ delbranch
+ '[' -z $'20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170801
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708011439
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170801-20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011439-20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug/Develop/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
++ awk -F / '{print $7}'
+ br=$'20170801-20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ access=$'20170801-20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011439-20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.23023
+ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\345\225\206\345\237\216\347\233\270\345\205\263bug'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170731-商城相关bug%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170731-商城相关bug%'\'';'
+ cat /tmp/cmdb.db.23023
+ rm -f /tmp/cmdb.db.23023
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.0ms)
  Rendered builder/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 4939ms (Views: 57.4ms)


Completed 200 OK in 4939ms (Views: 57.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:29:57 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:29:57 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.3ms)
  Rendered builder/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 41ms (Views: 38.8ms)


Completed 200 OK in 41ms (Views: 38.8ms)


Started POST "/start" for 192.168.5.26 at 2017-08-01 16:30:02 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-01 16:30:02 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170712-boss后台https改造", "branch"=>"20170712-boss后台https改造", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"yO1dWkL0WxedwFzoaHurNOqN3+vQXSmyGa/02M+dJtzgmN14VRHcbLT/ZFm4ydN0RBTKxtjgYuQp/sXdb0dy8w=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170712-boss后台https改造", "branch"=>"20170712-boss后台https改造", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"yO1dWkL0WxedwFzoaHurNOqN3+vQXSmyGa/02M+dJtzgmN14VRHcbLT/ZFm4ydN0RBTKxtjgYuQp/sXdb0dy8w=="}
pid is 25072
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240' -e qishanqing@dafy.com -E '' -b $'20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170712-boss后台https改造'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170712-boss后台https改造'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170712-boss后台https改造'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170712-boss后台https改造'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240' -e qishanqing@dafy.com -E '' -b $'20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170712-boss后台https改造: command not found
++ for y in '$trunk'
++ echo $'20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240'
+ trunks=$'20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240'
+ test del = add
+ delbranch
+ '[' -z $'20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170801
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708011630
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170801-20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011630-20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240/Develop/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240'
++ awk -F / '{print $7}'
+ br=$'20170801-20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240'
+ access=$'20170801-20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011630-20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.25072
+ echo $'https://192.168.0.220/svn/tech/Branch/20170712-boss\345\220\216\345\217\260https\346\224\271\351\200\240'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170712-boss后台https改造%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170712-boss后台https改造%'\'';'
+ cat /tmp/cmdb.db.25072
+ rm -f /tmp/cmdb.db.25072
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.1ms)
  Rendered builder/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 1570ms (Views: 88.4ms)


Completed 200 OK in 1570ms (Views: 88.4ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-01 16:37:47 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-01 16:37:47 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.3ms)
  Rendered merge/index.html.erb within layouts/application (4.3ms)
Completed 200 OK in 77ms (Views: 74.6ms)


Completed 200 OK in 77ms (Views: 74.6ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:37:47 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:37:47 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.6ms)
  Rendered builder/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 62ms (Views: 60.5ms)


Completed 200 OK in 62ms (Views: 60.5ms)


Started POST "/start" for 192.168.5.26 at 2017-08-01 16:37:51 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-01 16:37:51 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170607-达分期转分期", "branch"=>"20170607-达分期转分期", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"B4LSYi26XdkduBlPnBgIHxdz81ZSnihgTJmdtK9OUH0v91JAOl/aojSHIf5MqnBfuerme1ojYzZ8yKyxD5QEUg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170607-达分期转分期", "branch"=>"20170607-达分期转分期", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"B4LSYi26XdkduBlPnBgIHxdz81ZSnihgTJmdtK9OUH0v91JAOl/aojSHIf5MqnBfuerme1ojYzZ8yKyxD5QEUg=="}
pid is 25182
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237' -e qishanqing@dafy.com -E '' -b $'20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170607-达分期转分期'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170607-达分期转分期'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170607-达分期转分期'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170607-达分期转分期'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237' -e qishanqing@dafy.com -E '' -b $'20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170607-达分期转分期: command not found
++ for y in '$trunk'
++ echo $'20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ trunks=$'20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ test del = add
+ delbranch
+ '[' -z $'20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170801
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708011637
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170801-20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011637-20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
++ awk -F / '{print $7}'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ br=$'20170801-20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ access=$'20170801-20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011637-20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.25182
+ echo $'https://192.168.0.220/svn/tech/Branch/20170607-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170607-达分期转分期%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170607-达分期转分期%'\'';'
+ cat /tmp/cmdb.db.25182
+ rm -f /tmp/cmdb.db.25182
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.5ms)
  Rendered builder/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 1318ms (Views: 87.9ms)


Completed 200 OK in 1318ms (Views: 87.9ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:38:14 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:38:14 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.7ms)
  Rendered builder/index.html.erb within layouts/application (3.7ms)
Completed 200 OK in 124ms (Views: 121.7ms)


Completed 200 OK in 124ms (Views: 121.7ms)


Started POST "/start" for 192.168.5.26 at 2017-08-01 16:38:19 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-01 16:38:19 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170609-额度支付转分期", "branch"=>"20170609-额度支付转分期", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"piUMJ2Q7/LsxPZKT+BhzA7XvALkGNR9dQmg4D+DbcNaOUIwFc957wBgCqiIoqgtDG3YVlA6IVAtyOQkKQAEk+Q=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170609-额度支付转分期", "branch"=>"20170609-额度支付转分期", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"piUMJ2Q7/LsxPZKT+BhzA7XvALkGNR9dQmg4D+DbcNaOUIwFc957wBgCqiIoqgtDG3YVlA6IVAtyOQkKQAEk+Q=="}
pid is 25213
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237' -e qishanqing@dafy.com -E '' -b $'20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170609-额度支付转分期'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170609-额度支付转分期'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170609-额度支付转分期'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170609-额度支付转分期'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237' -e qishanqing@dafy.com -E '' -b $'20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170609-额度支付转分期: command not found
++ for y in '$trunk'
++ echo $'20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237'
+ trunks=$'20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237'
+ test del = add
+ delbranch
+ '[' -z $'20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170801
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708011638
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170801-20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011638-20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237/Develop/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237'
++ awk -F / '{print $7}'
+ br=$'20170801-20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237'
+ access=$'20170801-20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011638-20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.25213
+ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\351\242\235\345\272\246\346\224\257\344\273\230\350\275\254\345\210\206\346\234\237'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170609-额度支付转分期%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170609-额度支付转分期%'\'';'
+ cat /tmp/cmdb.db.25213
+ rm -f /tmp/cmdb.db.25213
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.0ms)
  Rendered builder/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 642ms (Views: 101.6ms)


Completed 200 OK in 642ms (Views: 101.6ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:39:35 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:39:35 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.8ms)
  Rendered builder/index.html.erb within layouts/application (3.8ms)
Completed 200 OK in 85ms (Views: 79.8ms)


Completed 200 OK in 85ms (Views: 79.8ms)


Started POST "/start" for 192.168.5.26 at 2017-08-01 16:39:38 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-01 16:39:38 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170627-达芬奇首页", "branch"=>"20170627-达芬奇首页", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"zEDYoBvEvz16Gvf3YJd2rZaip3PY5KZYKJEvc6sZpNTkNViCDCE4RlMlz0awJQ7tODuyXtBZ7Q4YwB52C8Pw+w=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170627-达芬奇首页", "branch"=>"20170627-达芬奇首页", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"zEDYoBvEvz16Gvf3YJd2rZaip3PY5KZYKJEvc6sZpNTkNViCDCE4RlMlz0awJQ7tODuyXtBZ7Q4YwB52C8Pw+w=="}
pid is 25253
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265' -e qishanqing@dafy.com -E '' -b $'20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170627-达芬奇首页'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170627-达芬奇首页'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170627-达芬奇首页'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170627-达芬奇首页'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265' -e qishanqing@dafy.com -E '' -b $'20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170627-达芬奇首页: command not found
++ for y in '$trunk'
++ echo $'20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265'
+ trunks=$'20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265'
+ test del = add
+ delbranch
+ '[' -z $'20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170801
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708011639
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170801-20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265/Develop/20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011639-20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265/Develop/20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265'
++ awk -F / '{print $7}'
+ br=$'20170801-20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265'
+ access=$'20170801-20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011639-20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.25253
+ echo $'https://192.168.0.220/svn/tech/Branch/20170627-\350\276\276\350\212\254\345\245\207\351\246\226\351\241\265'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170627-达芬奇首页%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170627-达芬奇首页%'\'';'
+ cat /tmp/cmdb.db.25253
+ rm -f /tmp/cmdb.db.25253
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.5ms)
  Rendered builder/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 865ms (Views: 89.9ms)


Completed 200 OK in 865ms (Views: 89.9ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:43:06 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:43:06 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.6ms)
  Rendered builder/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 190ms (Views: 187.8ms)


Completed 200 OK in 190ms (Views: 187.8ms)


Started POST "/start" for 192.168.5.26 at 2017-08-01 16:43:10 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-01 16:43:10 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170713-CDQSSit", "branch"=>"20170713-CDQSSit", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"yUd0AecSPoukKEbwN1Y+X7dnrsX0PlMbfV0biakSd4rhMvQj8Pe58I0XfkHn5EYfGf676PyDGE1NDCqMCcgjpQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170713-CDQSSit", "branch"=>"20170713-CDQSSit", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"yUd0AecSPoukKEbwN1Y+X7dnrsX0PlMbfV0biakSd4rhMvQj8Pe58I0XfkHn5EYfGf676PyDGE1NDCqMCcgjpQ=="}
pid is 25335
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t 20170713-CDQSSit -e qishanqing@dafy.com -E '' -b 20170713-CDQSSit -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170713-CDQSSit'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170713-CDQSSit'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170713-CDQSSit'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170713-CDQSSit'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t 20170713-CDQSSit -e qishanqing@dafy.com -E '' -b 20170713-CDQSSit -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=20170713-CDQSSit
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=20170713-CDQSSit
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ 20170713-CDQSSit
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170713-CDQSSit: command not found
++ for y in '$trunk'
++ echo 20170713-CDQSSit
+ trunks=20170713-CDQSSit
+ test del = add
+ delbranch
+ '[' -z 20170713-CDQSSit ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170801
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708011643
+ move_dir=Closed/--close+
+ Trunk_name=https://192.168.0.220/svn/tech/Trunk/20170713-CDQSSit
+ branch_name=https://192.168.0.220/svn/tech/Branch/20170801-20170713-CDQSSit/Develop/20170713-CDQSSit
+ source_name=https://192.168.0.220/svn/tech/Branch/20170713-CDQSSit
+ dest_name=https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011643-20170713-CDQSSit
++ echo https://192.168.0.220/svn/tech/Branch/20170801-20170713-CDQSSit/Develop/20170713-CDQSSit
++ awk -F / '{print $7}'
+ br=20170801-20170713-CDQSSit
+ access=20170801-20170713-CDQSSit
+ svn move https://192.168.0.220/svn/tech/Branch/20170713-CDQSSit https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011643-20170713-CDQSSit --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ die 'Svn branch delete the reasons for failure are as follows'
+ echo 'Svn branch delete the reasons for failure are as follows'
+ mails-cm -i 'svn branch create failed'
+ test -e /home/qishanqing/tmp/output.25335
+ echo
+ cat /home/qishanqing/tmp/output.25335
+ rm -rf /home/qishanqing/tmp/output.25335
+ kill 25335
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.9ms)
  Rendered builder/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 307ms (Views: 125.1ms)


Completed 200 OK in 307ms (Views: 125.1ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:43:21 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:43:21 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (5.6ms)
  Rendered builder/index.html.erb within layouts/application (5.6ms)
Completed 200 OK in 165ms (Views: 161.4ms)


Completed 200 OK in 165ms (Views: 161.4ms)


Started POST "/start" for 192.168.5.26 at 2017-08-01 16:44:20 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-01 16:44:20 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"liuxuxing@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/AntiFraudBusiness", "branch"=>"借款申请管理", "user"=>"liuxuxing huqiangsheng", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"nymcNhnDDrKyVfPsODYcZAyG0++knKrBPUUyemMZASi3XBwUDiaJyZtqy13ohGQkoh/Gwqwh4ZcNFAN/w8NVBw=="}
  Parameters: {"email"=>"liuxuxing@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/AntiFraudBusiness", "branch"=>"借款申请管理", "user"=>"liuxuxing huqiangsheng", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"nymcNhnDDrKyVfPsODYcZAyG0++knKrBPUUyemMZASi3XBwUDiaJyZtqy13ohGQkoh/Gwqwh4ZcNFAN/w8NVBw=="}
pid is 25366
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'liuxuxing huqiangsheng' -t '外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/AntiFraudBusiness' -e liuxuxing@dafy.com -E '' -b $'\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206' -T add -d ''
+ TEMP=' -u '\''liuxuxing huqiangsheng'\'' -t '\''外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/AntiFraudBusiness'\'' -e '\''liuxuxing@dafy.com'\'' -E '\'''\'' -b '\''借款申请管理'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''liuxuxing huqiangsheng'\'' -t '\''外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/AntiFraudBusiness'\'' -e '\''liuxuxing@dafy.com'\'' -E '\'''\'' -b '\''借款申请管理'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'liuxuxing huqiangsheng' -t '外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/AntiFraudBusiness' -e liuxuxing@dafy.com -E '' -b $'\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206' -T add -d '' --
+ true
+ case "$1" in
+ user='liuxuxing huqiangsheng'
+ shift 2
+ true
+ case "$1" in
+ trunk='外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/AntiFraudBusiness'
+ shift 2
+ true
+ case "$1" in
+ email=liuxuxing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=liuxuxing@dafy.com '
+ SMARTCM_EXTRA_MAIL='liuxuxing@dafy.com '
++ liuxuxing huqiangsheng
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: liuxuxing: command not found
++ for x in '$user'
++ echo liuxuxing=rw
++ for x in '$user'
++ echo huqiangsheng=rw
+ users='liuxuxing=rw
huqiangsheng=rw'
++ $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/AntiFraudBusiness'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 外部业务/P2P/Business/BorrowBusiness2: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/AntiFraudBusiness'
+ trunks='外部业务/P2P/Business/BorrowBusiness2
外部业务/P2P/Business/AntiFraudBusiness'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' ']'
+ '[' -z $'\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170801
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708011644
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011644-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ awk -F / '{print $7}'
+ br=$'20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206'
+ access=$'20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.25366
+ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BorrowBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170801-借款申请管理/Develop/外部业务/P2P/Business/BorrowBusiness2'\'',now(),'\''liuxuxing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BorrowBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170801-借款申请管理/Develop/外部业务/P2P/Business/BorrowBusiness2'\'',now(),'\''liuxuxing'\'');'
+ cat /tmp/cmdb.db.25366
+ rm -f /tmp/cmdb.db.25366
+ check-acces
+ grep -c '20170801-借款申请管理]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z 'liuxuxing=rw
+ cat
huqiangsheng=rw'
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/AntiFraudBusiness' ']'
+ '[' -z $'\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170801
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708011644
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/AntiFraudBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/AntiFraudBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011644-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/AntiFraudBusiness'
++ awk -F / '{print $7}'
+ br=$'20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206'
+ access=$'20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/AntiFraudBusiness' $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/AntiFraudBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.25366
+ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\345\200\237\346\254\276\347\224\263\350\257\267\347\256\241\347\220\206/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/AntiFraudBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/AntiFraudBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170801-借款申请管理/Develop/外部业务/P2P/Business/AntiFraudBusiness'\'',now(),'\''liuxuxing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/AntiFraudBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170801-借款申请管理/Develop/外部业务/P2P/Business/AntiFraudBusiness'\'',now(),'\''liuxuxing'\'');'
+ cat /tmp/cmdb.db.25366
+ rm -f /tmp/cmdb.db.25366
+ check-acces
+ grep -c '20170801-借款申请管理]' /mnt/svn/authz.conf
+ read num
+ '[' 1 -eq 0 ']'
++ sed '/20170801-借款申请管理]/,/^[ \t]*$/!d;/20170801-借款申请管理]/d;/^[ \t]*$/d' /mnt/svn/authz.conf
+ [[ liuxuxing=rw
huqiangsheng=rw
@admin=rw
*= =~ liuxuxing=rw
huqiangsheng=rw ]]
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.4ms)
  Rendered builder/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 5657ms (Views: 59.4ms)


Completed 200 OK in 5657ms (Views: 59.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:44:37 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:44:37 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.4ms)
  Rendered builder/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 63ms (Views: 59.6ms)


Completed 200 OK in 63ms (Views: 59.6ms)


Started POST "/start" for 192.168.5.26 at 2017-08-01 16:44:40 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-01 16:44:40 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170717-监控大屏", "branch"=>"20170717-监控大屏", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"0NfFOSAOCUpnHzoec+nlTVmSIUGBge6JeHYyxWj2B/74okUbN+uOMU4gAq+jW50N9ws0bIk8pd9IJwPAyCxT0Q=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170717-监控大屏", "branch"=>"20170717-监控大屏", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"0NfFOSAOCUpnHzoec+nlTVmSIUGBge6JeHYyxWj2B/74okUbN+uOMU4gAq+jW50N9ws0bIk8pd9IJwPAyCxT0Q=="}
pid is 25430
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170717-\347\233\221\346\216\247\345\244\247\345\261\217' -e qishanqing@dafy.com -E '' -b $'20170717-\347\233\221\346\216\247\345\244\247\345\261\217' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170717-监控大屏'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170717-监控大屏'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170717-监控大屏'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170717-监控大屏'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170717-\347\233\221\346\216\247\345\244\247\345\261\217' -e qishanqing@dafy.com -E '' -b $'20170717-\347\233\221\346\216\247\345\244\247\345\261\217' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170717-\347\233\221\346\216\247\345\244\247\345\261\217'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170717-\347\233\221\346\216\247\345\244\247\345\261\217'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170717-\347\233\221\346\216\247\345\244\247\345\261\217'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170717-监控大屏: command not found
++ for y in '$trunk'
++ echo $'20170717-\347\233\221\346\216\247\345\244\247\345\261\217'
+ trunks=$'20170717-\347\233\221\346\216\247\345\244\247\345\261\217'
+ test del = add
+ delbranch
+ '[' -z $'20170717-\347\233\221\346\216\247\345\244\247\345\261\217' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170801
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708011644
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170717-\347\233\221\346\216\247\345\244\247\345\261\217'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170801-20170717-\347\233\221\346\216\247\345\244\247\345\261\217/Develop/20170717-\347\233\221\346\216\247\345\244\247\345\261\217'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170717-\347\233\221\346\216\247\345\244\247\345\261\217'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011644-20170717-\347\233\221\346\216\247\345\244\247\345\261\217'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-20170717-\347\233\221\346\216\247\345\244\247\345\261\217/Develop/20170717-\347\233\221\346\216\247\345\244\247\345\261\217'
++ awk -F / '{print $7}'
+ br=$'20170801-20170717-\347\233\221\346\216\247\345\244\247\345\261\217'
+ access=$'20170801-20170717-\347\233\221\346\216\247\345\244\247\345\261\217'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170717-\347\233\221\346\216\247\345\244\247\345\261\217' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011644-20170717-\347\233\221\346\216\247\345\244\247\345\261\217' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.25430
+ echo $'https://192.168.0.220/svn/tech/Branch/20170717-\347\233\221\346\216\247\345\244\247\345\261\217'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170717-监控大屏%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170717-监控大屏%'\'';'
+ cat /tmp/cmdb.db.25430
+ rm -f /tmp/cmdb.db.25430
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.1ms)
  Rendered builder/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 1088ms (Views: 88.1ms)


Completed 200 OK in 1088ms (Views: 88.1ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:44:47 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:44:47 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.4ms)
  Rendered builder/index.html.erb within layouts/application (3.4ms)
Completed 200 OK in 73ms (Views: 69.7ms)


Completed 200 OK in 73ms (Views: 69.7ms)


Started POST "/start" for 192.168.5.26 at 2017-08-01 16:44:51 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-01 16:44:51 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170627-减去减免金额", "branch"=>"20170627-减去减免金额", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"VgAU36kWvv7bZ/y5y4GVIZs2/quxqpOe7hsPbHRAT3d+dZT9vvM5hfJYxAgbM+1hNa/rhrkX2MjeSj5p1JobWA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170627-减去减免金额", "branch"=>"20170627-减去减免金额", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"VgAU36kWvv7bZ/y5y4GVIZs2/quxqpOe7hsPbHRAT3d+dZT9vvM5hfJYxAgbM+1hNa/rhrkX2MjeSj5p1JobWA=="}
pid is 25466
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235' -e qishanqing@dafy.com -E '' -b $'20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170627-减去减免金额'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170627-减去减免金额'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170627-减去减免金额'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170627-减去减免金额'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235' -e qishanqing@dafy.com -E '' -b $'20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170627-减去减免金额: command not found
++ for y in '$trunk'
++ echo $'20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235'
+ trunks=$'20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235'
+ test del = add
+ delbranch
+ '[' -z $'20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170801
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708011644
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170801-20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235/Develop/20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011644-20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235/Develop/20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235'
++ awk -F / '{print $7}'
+ br=$'20170801-20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235'
+ access=$'20170801-20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011644-20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.25466
+ echo $'https://192.168.0.220/svn/tech/Branch/20170627-\345\207\217\345\216\273\345\207\217\345\205\215\351\207\221\351\242\235'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170627-减去减免金额%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170627-减去减免金额%'\'';'
+ cat /tmp/cmdb.db.25466
+ rm -f /tmp/cmdb.db.25466
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.4ms)
  Rendered builder/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 450ms (Views: 82.5ms)


Completed 200 OK in 450ms (Views: 82.5ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:45:18 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:45:18 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (18.0ms)
  Rendered builder/index.html.erb within layouts/application (18.0ms)
Completed 200 OK in 230ms (Views: 228.0ms)


Completed 200 OK in 230ms (Views: 228.0ms)


Started POST "/start" for 192.168.5.26 at 2017-08-01 16:45:21 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-01 16:45:21 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170714-boss协议修改", "branch"=>"20170714-boss协议修改", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"bDiVkZRbb9RZHYKDkSkOCRZhtxtvcd5vSYiaWAkb8dlETRWzg77or3AiujJBm3ZJuPiiNmfMlTl52atdqcGl9g=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170714-boss协议修改", "branch"=>"20170714-boss协议修改", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"bDiVkZRbb9RZHYKDkSkOCRZhtxtvcd5vSYiaWAkb8dlETRWzg77or3AiujJBm3ZJuPiiNmfMlTl52atdqcGl9g=="}
pid is 25566
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271' -e qishanqing@dafy.com -E '' -b $'20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170714-boss协议修改'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170714-boss协议修改'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170714-boss协议修改'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170714-boss协议修改'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271' -e qishanqing@dafy.com -E '' -b $'20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170714-boss协议修改: command not found
++ for y in '$trunk'
++ echo $'20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271'
+ trunks=$'20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271'
+ test del = add
+ delbranch
+ '[' -z $'20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170801
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708011645
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170801-20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011645-20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271'
++ awk -F / '{print $7}'
+ br=$'20170801-20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271'
+ access=$'20170801-20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011645-20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.25566
+ echo $'https://192.168.0.220/svn/tech/Branch/20170714-boss\345\215\217\350\256\256\344\277\256\346\224\271'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170714-boss协议修改%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170714-boss协议修改%'\'';'
+ cat /tmp/cmdb.db.25566
+ rm -f /tmp/cmdb.db.25566
+ mails-cm -i 'svnbranch-del from svn branch create web'
+ cat
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.0ms)
  Rendered builder/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3228ms (Views: 157.4ms)


Completed 200 OK in 3228ms (Views: 157.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:45:42 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:45:42 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.5ms)
  Rendered builder/index.html.erb within layouts/application (3.5ms)
Completed 200 OK in 57ms (Views: 55.3ms)


Completed 200 OK in 57ms (Views: 55.3ms)


Started POST "/start" for 192.168.5.26 at 2017-08-01 16:45:45 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-01 16:45:45 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170721-boss协议修改", "branch"=>"20170721-boss协议修改", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"vm3Ci2/NARpZBky8jfzuWwjL4xbr5EQY80wWUvG+LdSWGEKpeCiGYXA5dA1dTpYbplL2O+NZD07DHSdXUWR5+w=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170721-boss协议修改", "branch"=>"20170721-boss协议修改", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"vm3Ci2/NARpZBky8jfzuWwjL4xbr5EQY80wWUvG+LdSWGEKpeCiGYXA5dA1dTpYbplL2O+NZD07DHSdXUWR5+w=="}
pid is 25803
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271' -e qishanqing@dafy.com -E '' -b $'20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170721-boss协议修改'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170721-boss协议修改'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170721-boss协议修改'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170721-boss协议修改'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271' -e qishanqing@dafy.com -E '' -b $'20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170721-boss协议修改: command not found
++ for y in '$trunk'
++ echo $'20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271'
+ trunks=$'20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271'
+ test del = add
+ delbranch
+ '[' -z $'20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170801
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708011645
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170801-20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011645-20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271/Develop/20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271'
++ awk -F / '{print $7}'
+ br=$'20170801-20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271'
+ access=$'20170801-20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011645-20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.25803
+ echo $'https://192.168.0.220/svn/tech/Branch/20170721-boss\345\215\217\350\256\256\344\277\256\346\224\271'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170721-boss协议修改%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170721-boss协议修改%'\'';'
+ cat /tmp/cmdb.db.25803
+ rm -f /tmp/cmdb.db.25803
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 1343ms (Views: 139.4ms)


Completed 200 OK in 1343ms (Views: 139.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:46:58 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:46:58 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.0ms)
  Rendered builder/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 47ms (Views: 44.0ms)


Completed 200 OK in 47ms (Views: 44.0ms)


Started POST "/start" for 192.168.5.26 at 2017-08-01 16:47:02 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-01 16:47:02 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170726-页面访问修改", "branch"=>"20170726-页面访问修改", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"yEr4pOoPhgcVCSWBZtwo6/EFFqRLm/U4oPUYk+388hbgP3iG/eoBfDw2HTC2blCrX5wDiUMmvm6QpCmWTSamOQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170726-页面访问修改", "branch"=>"20170726-页面访问修改", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"yEr4pOoPhgcVCSWBZtwo6/EFFqRLm/U4oPUYk+388hbgP3iG/eoBfDw2HTC2blCrX5wDiUMmvm6QpCmWTSamOQ=="}
pid is 25869
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271' -e qishanqing@dafy.com -E '' -b $'20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170726-页面访问修改'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170726-页面访问修改'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170726-页面访问修改'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170726-页面访问修改'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271' -e qishanqing@dafy.com -E '' -b $'20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170726-页面访问修改: command not found
++ for y in '$trunk'
++ echo $'20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271'
+ trunks=$'20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271'
+ test del = add
+ delbranch
+ '[' -z $'20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170801
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708011647
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170801-20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271/Develop/20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011647-20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271/Develop/20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271'
++ awk -F / '{print $7}'
+ br=$'20170801-20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271'
+ access=$'20170801-20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011647-20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.25869
+ echo $'https://192.168.0.220/svn/tech/Branch/20170726-\351\241\265\351\235\242\350\256\277\351\227\256\344\277\256\346\224\271'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170726-页面访问修改%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170726-页面访问修改%'\'';'
+ cat /tmp/cmdb.db.25869
+ rm -f /tmp/cmdb.db.25869
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (0.8ms)
  Rendered builder/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 744ms (Views: 48.0ms)


Completed 200 OK in 744ms (Views: 48.0ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:47:15 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:47:15 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.8ms)
  Rendered builder/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 54ms (Views: 52.2ms)


Completed 200 OK in 54ms (Views: 52.2ms)


Started POST "/start" for 192.168.5.26 at 2017-08-01 16:47:19 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-01 16:47:19 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20160801-业务总线", "branch"=>"20160801-业务总线", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"ZJzqTviNnV3u/TKDv72NqAx66jrtR/BI1pZ+Hf8g8AdM6Wps72gaJsfCCjJvD/XoouP/F+X6ux7mx08YX/qkKA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20160801-业务总线", "branch"=>"20160801-业务总线", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"ZJzqTviNnV3u/TKDv72NqAx66jrtR/BI1pZ+Hf8g8AdM6Wps72gaJsfCCjJvD/XoouP/F+X6ux7mx08YX/qkKA=="}
pid is 25900
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20160801-\344\270\232\345\212\241\346\200\273\347\272\277' -e qishanqing@dafy.com -E '' -b $'20160801-\344\270\232\345\212\241\346\200\273\347\272\277' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20160801-业务总线'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20160801-业务总线'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20160801-业务总线'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20160801-业务总线'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20160801-\344\270\232\345\212\241\346\200\273\347\272\277' -e qishanqing@dafy.com -E '' -b $'20160801-\344\270\232\345\212\241\346\200\273\347\272\277' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20160801-\344\270\232\345\212\241\346\200\273\347\272\277'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20160801-\344\270\232\345\212\241\346\200\273\347\272\277'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20160801-\344\270\232\345\212\241\346\200\273\347\272\277'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20160801-业务总线: command not found
++ for y in '$trunk'
++ echo $'20160801-\344\270\232\345\212\241\346\200\273\347\272\277'
+ trunks=$'20160801-\344\270\232\345\212\241\346\200\273\347\272\277'
+ test del = add
+ delbranch
+ '[' -z $'20160801-\344\270\232\345\212\241\346\200\273\347\272\277' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170801
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708011647
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20160801-\344\270\232\345\212\241\346\200\273\347\272\277'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170801-20160801-\344\270\232\345\212\241\346\200\273\347\272\277/Develop/20160801-\344\270\232\345\212\241\346\200\273\347\272\277'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20160801-\344\270\232\345\212\241\346\200\273\347\272\277'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011647-20160801-\344\270\232\345\212\241\346\200\273\347\272\277'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-20160801-\344\270\232\345\212\241\346\200\273\347\272\277/Develop/20160801-\344\270\232\345\212\241\346\200\273\347\272\277'
++ awk -F / '{print $7}'
+ br=$'20170801-20160801-\344\270\232\345\212\241\346\200\273\347\272\277'
+ access=$'20170801-20160801-\344\270\232\345\212\241\346\200\273\347\272\277'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20160801-\344\270\232\345\212\241\346\200\273\347\272\277' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011647-20160801-\344\270\232\345\212\241\346\200\273\347\272\277' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.25900
+ echo $'https://192.168.0.220/svn/tech/Branch/20160801-\344\270\232\345\212\241\346\200\273\347\272\277'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20160801-业务总线%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20160801-业务总线%'\'';'
+ cat /tmp/cmdb.db.25900
+ rm -f /tmp/cmdb.db.25900
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.1ms)
  Rendered builder/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 3276ms (Views: 55.8ms)


Completed 200 OK in 3276ms (Views: 55.8ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:47:45 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-01 16:47:45 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.4ms)
  Rendered builder/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 42ms (Views: 40.5ms)


Completed 200 OK in 42ms (Views: 40.5ms)


Started POST "/start" for 192.168.5.26 at 2017-08-01 16:47:49 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-01 16:47:49 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170713-https", "branch"=>"20170713-https", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"5s1JZpNLizT4AJjktN4zjn4756qWmn2xEbdKeuer9W3OuMlEhK4MT9E/oFVkbEvO0KLyh54nNuch5nt/R3GhQg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170713-https", "branch"=>"20170713-https", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"5s1JZpNLizT4AJjktN4zjn4756qWmn2xEbdKeuer9W3OuMlEhK4MT9E/oFVkbEvO0KLyh54nNuch5nt/R3GhQg=="}
pid is 25995
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t 20170713-https -e qishanqing@dafy.com -E '' -b 20170713-https -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170713-https'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170713-https'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170713-https'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170713-https'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t 20170713-https -e qishanqing@dafy.com -E '' -b 20170713-https -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=20170713-https
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=20170713-https
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ 20170713-https
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170713-https: command not found
++ for y in '$trunk'
++ echo 20170713-https
+ trunks=20170713-https
+ test del = add
+ delbranch
+ '[' -z 20170713-https ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170801
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708011647
+ move_dir=Closed/--close+
+ Trunk_name=https://192.168.0.220/svn/tech/Trunk/20170713-https
+ branch_name=https://192.168.0.220/svn/tech/Branch/20170801-20170713-https/Develop/20170713-https
+ source_name=https://192.168.0.220/svn/tech/Branch/20170713-https
+ dest_name=https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011647-20170713-https
++ echo https://192.168.0.220/svn/tech/Branch/20170801-20170713-https/Develop/20170713-https
++ awk -F / '{print $7}'
+ br=20170801-20170713-https
+ access=20170801-20170713-https
+ svn move https://192.168.0.220/svn/tech/Branch/20170713-https https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011647-20170713-https --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.25995
+ echo https://192.168.0.220/svn/tech/Branch/20170713-https
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170713-https%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170713-https%'\'';'
+ cat /tmp/cmdb.db.25995
+ rm -f /tmp/cmdb.db.25995
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.5ms)
  Rendered builder/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 450ms (Views: 58.2ms)


Completed 200 OK in 450ms (Views: 58.2ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-01 17:12:40 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-01 17:12:40 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (10.9ms)
  Rendered builder/index.html.erb within layouts/application (10.9ms)
Completed 200 OK in 330ms (Views: 324.2ms)


Completed 200 OK in 330ms (Views: 324.2ms)


Started POST "/start" for 192.168.5.26 at 2017-08-01 17:13:42 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-01 17:13:42 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"renshibo@dafy.com", "types"=>"add", "trunk"=>"自如/后台服务管理/MobileWalletCenter", "branch"=>"配置文件新增服务", "user"=>"renshibo xupengyue", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"fFkzNfG/QA4e/Uqaum1/bV+6I5dcnVqGjrca6kNhzPRULLMX5lrHdTfCcitq3wct8SM2ulQgEdC+5ivv47uY2w=="}
  Parameters: {"email"=>"renshibo@dafy.com", "types"=>"add", "trunk"=>"自如/后台服务管理/MobileWalletCenter", "branch"=>"配置文件新增服务", "user"=>"renshibo xupengyue", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"fFkzNfG/QA4e/Uqaum1/bV+6I5dcnVqGjrca6kNhzPRULLMX5lrHdTfCcitq3wct8SM2ulQgEdC+5ivv47uY2w=="}
pid is 27262
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'renshibo xupengyue' -t $'\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter' -e renshibo@dafy.com -E '' -b $'\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241' -T add -d ''
+ TEMP=' -u '\''renshibo xupengyue'\'' -t '\''自如/后台服务管理/MobileWalletCenter'\'' -e '\''renshibo@dafy.com'\'' -E '\'''\'' -b '\''配置文件新增服务'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''renshibo xupengyue'\'' -t '\''自如/后台服务管理/MobileWalletCenter'\'' -e '\''renshibo@dafy.com'\'' -E '\'''\'' -b '\''配置文件新增服务'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'renshibo xupengyue' -t $'\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter' -e renshibo@dafy.com -E '' -b $'\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241' -T add -d '' --
+ true
+ case "$1" in
+ user='renshibo xupengyue'
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ shift 2
+ true
+ case "$1" in
+ email=renshibo@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=renshibo@dafy.com '
+ SMARTCM_EXTRA_MAIL='renshibo@dafy.com '
++ renshibo xupengyue
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: renshibo: command not found
++ for x in '$user'
++ echo renshibo=rw
++ for x in '$user'
++ echo xupengyue=rw
+ users='renshibo=rw
xupengyue=rw'
++ $'\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 自如/后台服务管理/MobileWalletCenter: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ trunks=$'\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter' ']'
+ '[' -z $'\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170801
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708011713
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011713-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
++ awk -F / '{print $7}'
+ br=$'20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241'
+ access=$'20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter' $'https://192.168.0.220/svn/tech/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.27262
+ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/自如/后台服务管理/MobileWalletCenter'\'', '\''https://192.168.0.220/svn/tech/Branch/20170801-配置文件新增服务/Develop/自如/后台服务管理/MobileWalletCenter'\'',now(),'\''renshibo'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/自如/后台服务管理/MobileWalletCenter'\'', '\''https://192.168.0.220/svn/tech/Branch/20170801-配置文件新增服务/Develop/自如/后台服务管理/MobileWalletCenter'\'',now(),'\''renshibo'\'');'
+ cat /tmp/cmdb.db.27262
+ rm -f /tmp/cmdb.db.27262
+ check-acces
+ grep -c '20170801-配置文件新增服务]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z 'renshibo=rw
+ cat
xupengyue=rw'
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (2.8ms)
  Rendered builder/new.html.erb within layouts/application (2.8ms)
Completed 200 OK in 5191ms (Views: 50.4ms)


Completed 200 OK in 5191ms (Views: 50.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-01 17:29:52 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-01 17:29:52 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.8ms)
  Rendered builder/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 51ms (Views: 45.3ms)


Completed 200 OK in 51ms (Views: 45.3ms)


Started POST "/start" for 192.168.5.26 at 2017-08-01 17:30:11 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-01 17:30:11 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"anliguo@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage", "branch"=>"达分期帐单不能还款", "user"=>"anliguo", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"AuH+Ayzqj6DvI1K+ONwIHb5sj3c7CujpwM0q1n8bkLUqlH4hOw8I28Ycag/obnBdEPWaWjO3o7/wnBvT38HEmg=="}
  Parameters: {"email"=>"anliguo@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage", "branch"=>"达分期帐单不能还款", "user"=>"anliguo", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"AuH+Ayzqj6DvI1K+ONwIHb5sj3c7CujpwM0q1n8bkLUqlH4hOw8I28Ycag/obnBdEPWaWjO3o7/wnBvT38HEmg=="}
pid is 27518
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u anliguo -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage' -e anliguo@dafy.com -E '' -b $'\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276' -T add -d ''
+ TEMP=' -u '\''anliguo'\'' -t '\''前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'' -e '\''anliguo@dafy.com'\'' -E '\'''\'' -b '\''达分期帐单不能还款'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''anliguo'\'' -t '\''前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'' -e '\''anliguo@dafy.com'\'' -E '\'''\'' -b '\''达分期帐单不能还款'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u anliguo -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage' -e anliguo@dafy.com -E '' -b $'\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276' -T add -d '' --
+ true
+ case "$1" in
+ user=anliguo
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ shift 2
+ true
+ case "$1" in
+ email=anliguo@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=anliguo@dafy.com '
+ SMARTCM_EXTRA_MAIL='anliguo@dafy.com '
++ anliguo
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: anliguo: command not found
++ for x in '$user'
++ echo anliguo=rw
+ users=anliguo=rw
++ $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ trunks=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage' ']'
+ '[' -z $'\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170801
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708011730
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170801-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708011730-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
++ awk -F / '{print $7}'
+ br=$'20170801-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276'
+ access=$'20170801-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage' $'https://192.168.0.220/svn/tech/Branch/20170801-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.27518
+ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'', '\''https://192.168.0.220/svn/tech/Branch/20170801-达分期帐单不能还款/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'',now(),'\''anliguo'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'', '\''https://192.168.0.220/svn/tech/Branch/20170801-达分期帐单不能还款/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'',now(),'\''anliguo'\'');'
+ cat /tmp/cmdb.db.27518
+ rm -f /tmp/cmdb.db.27518
+ check-acces
+ grep -c '20170801-达分期帐单不能还款]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z anliguo=rw
+ cat
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 18185ms (Views: 41.3ms)


Completed 200 OK in 18185ms (Views: 41.3ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-02 09:38:35 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-02 09:38:35 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (86.8ms)
  Rendered builder/index.html.erb within layouts/application (86.8ms)
Completed 200 OK in 933ms (Views: 870.4ms)


Completed 200 OK in 933ms (Views: 870.4ms)


Started POST "/start" for 192.168.5.26 at 2017-08-02 09:40:16 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-02 09:40:16 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"分期商城/分期商城3.0/MallBuyerBusiness 分期商城/分期商城3.0/MallManager 分期商城/分期商城3.0/MallManageOrderBusiness", "branch"=>"订单取消", "user"=>"chenhongan houdi hexiangtao zhangruiqiang", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"UkyOeLuz/hk6YrH8th6RHleHdlfP25aQ0aR260/Pb4N6OQ5arFZ5YhNdiU1mrOle+R5jesdm3cbh9Ufu7xU7rA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"分期商城/分期商城3.0/MallBuyerBusiness 分期商城/分期商城3.0/MallManager 分期商城/分期商城3.0/MallManageOrderBusiness", "branch"=>"订单取消", "user"=>"chenhongan houdi hexiangtao zhangruiqiang", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"UkyOeLuz/hk6YrH8th6RHleHdlfP25aQ0aR260/Pb4N6OQ5arFZ5YhNdiU1mrOle+R5jesdm3cbh9Ufu7xU7rA=="}
pid is 9336
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'chenhongan houdi hexiangtao zhangruiqiang' -t '分期商城/分期商城3.0/MallBuyerBusiness 分期商城/分期商城3.0/MallManager 分期商城/分期商城3.0/MallManageOrderBusiness' -e qishanqing@dafy.com -E '' -b $'\350\256\242\345\215\225\345\217\226\346\266\210' -T add -d ''
+ TEMP=' -u '\''chenhongan houdi hexiangtao zhangruiqiang'\'' -t '\''分期商城/分期商城3.0/MallBuyerBusiness 分期商城/分期商城3.0/MallManager 分期商城/分期商城3.0/MallManageOrderBusiness'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''订单取消'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''chenhongan houdi hexiangtao zhangruiqiang'\'' -t '\''分期商城/分期商城3.0/MallBuyerBusiness 分期商城/分期商城3.0/MallManager 分期商城/分期商城3.0/MallManageOrderBusiness'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''订单取消'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'chenhongan houdi hexiangtao zhangruiqiang' -t '分期商城/分期商城3.0/MallBuyerBusiness 分期商城/分期商城3.0/MallManager 分期商城/分期商城3.0/MallManageOrderBusiness' -e qishanqing@dafy.com -E '' -b $'\350\256\242\345\215\225\345\217\226\346\266\210' -T add -d '' --
+ true
+ case "$1" in
+ user='chenhongan houdi hexiangtao zhangruiqiang'
+ shift 2
+ true
+ case "$1" in
+ trunk='分期商城/分期商城3.0/MallBuyerBusiness 分期商城/分期商城3.0/MallManager 分期商城/分期商城3.0/MallManageOrderBusiness'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\350\256\242\345\215\225\345\217\226\346\266\210'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
++ chenhongan houdi hexiangtao zhangruiqiang
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: chenhongan: command not found
++ for x in '$user'
++ echo chenhongan=rw
++ for x in '$user'
++ echo houdi=rw
++ for x in '$user'
++ echo hexiangtao=rw
++ for x in '$user'
++ echo zhangruiqiang=rw
+ users='chenhongan=rw
houdi=rw
hexiangtao=rw
zhangruiqiang=rw'
++ $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness' $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 分期商城/分期商城3.0/MallBuyerBusiness: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
++ for y in '$trunk'
++ echo $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ for y in '$trunk'
++ echo $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ trunks='分期商城/分期商城3.0/MallBuyerBusiness
分期商城/分期商城3.0/MallManager
分期商城/分期商城3.0/MallManageOrderBusiness'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness' ']'
+ '[' -z $'\350\256\242\345\215\225\345\217\226\346\266\210' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170802
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708020940
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\350\256\242\345\215\225\345\217\226\346\266\210'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708020940-\350\256\242\345\215\225\345\217\226\346\266\210'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
++ awk -F / '{print $7}'
+ br=$'20170802-\350\256\242\345\215\225\345\217\226\346\266\210'
+ access=$'20170802-\350\256\242\345\215\225\345\217\226\346\266\210'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.9336
+ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallBuyerBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallBuyerBusiness'\'',now(),'\''qishanqing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallBuyerBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallBuyerBusiness'\'',now(),'\''qishanqing'\'');'
+ cat /tmp/cmdb.db.9336
+ rm -f /tmp/cmdb.db.9336
+ check-acces
+ grep -c '20170802-订单取消]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z 'chenhongan=rw
houdi=rw
hexiangtao=rw
zhangruiqiang=rw'
+ cat
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' ']'
+ '[' -z $'\350\256\242\345\215\225\345\217\226\346\266\210' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170802
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708020940
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\350\256\242\345\215\225\345\217\226\346\266\210'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708020940-\350\256\242\345\215\225\345\217\226\346\266\210'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F / '{print $7}'
+ br=$'20170802-\350\256\242\345\215\225\345\217\226\346\266\210'
+ access=$'20170802-\350\256\242\345\215\225\345\217\226\346\266\210'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.9336
+ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallManager'\'', '\''https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManager'\'',now(),'\''qishanqing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallManager'\'', '\''https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManager'\'',now(),'\''qishanqing'\'');'
+ cat /tmp/cmdb.db.9336
+ rm -f /tmp/cmdb.db.9336
+ check-acces
+ grep -c '20170802-订单取消]' /mnt/svn/authz.conf
+ read num
+ '[' 1 -eq 0 ']'
++ sed '/20170802-订单取消]/,/^[ \t]*$/!d;/20170802-订单取消]/d;/^[ \t]*$/d' /mnt/svn/authz.conf
+ [[ chenhongan=rw
houdi=rw
hexiangtao=rw
zhangruiqiang=rw
@admin=rw
*= =~ chenhongan=rw
houdi=rw
hexiangtao=rw
zhangruiqiang=rw ]]
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness' ']'
+ '[' -z $'\350\256\242\345\215\225\345\217\226\346\266\210' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170802
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708020940
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\350\256\242\345\215\225\345\217\226\346\266\210'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708020940-\350\256\242\345\215\225\345\217\226\346\266\210'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
++ awk -F / '{print $7}'
+ br=$'20170802-\350\256\242\345\215\225\345\217\226\346\266\210'
+ access=$'20170802-\350\256\242\345\215\225\345\217\226\346\266\210'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.9336
+ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallManageOrderBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManageOrderBusiness'\'',now(),'\''qishanqing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallManageOrderBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManageOrderBusiness'\'',now(),'\''qishanqing'\'');'
+ cat /tmp/cmdb.db.9336
+ rm -f /tmp/cmdb.db.9336
+ check-acces
+ grep -c '20170802-订单取消]' /mnt/svn/authz.conf
+ read num
+ '[' 1 -eq 0 ']'
++ sed '/20170802-订单取消]/,/^[ \t]*$/!d;/20170802-订单取消]/d;/^[ \t]*$/d' /mnt/svn/authz.conf
+ [[ chenhongan=rw
houdi=rw
hexiangtao=rw
zhangruiqiang=rw
@admin=rw
*= =~ chenhongan=rw
houdi=rw
hexiangtao=rw
zhangruiqiang=rw ]]
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.0ms)
  Rendered builder/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 18355ms (Views: 34.8ms)


Completed 200 OK in 18355ms (Views: 34.8ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-02 09:56:54 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-02 09:56:54 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.9ms)
  Rendered builder/index.html.erb within layouts/application (3.9ms)
Completed 200 OK in 77ms (Views: 73.5ms)


Completed 200 OK in 77ms (Views: 73.5ms)


Started POST "/start" for 192.168.5.26 at 2017-08-02 09:57:45 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-02 09:57:45 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"anliguo@dafy.com", "types"=>"add", "trunk"=>"事事分期/StageAll", "branch"=>"达分期团购2期 ", "user"=>"@Tech-anliguo", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"tQUHCiDigI9PMs9kHASHOrWbwHhAX/BjFRGQnw3nECqdcIcoNwcH9GYN99XMtv96GwLVVUjiuzUlQKGarT1EBQ=="}
  Parameters: {"email"=>"anliguo@dafy.com", "types"=>"add", "trunk"=>"事事分期/StageAll", "branch"=>"达分期团购2期 ", "user"=>"@Tech-anliguo", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"tQUHCiDigI9PMs9kHASHOrWbwHhAX/BjFRGQnw3nECqdcIcoNwcH9GYN99XMtv96GwLVVUjiuzUlQKGarT1EBQ=="}
pid is 9623
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u @Tech-anliguo -t $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll' -e anliguo@dafy.com -E '' -b '达分期团购2期 ' -T add -d ''
+ TEMP=' -u '\''@Tech-anliguo'\'' -t '\''事事分期/StageAll'\'' -e '\''anliguo@dafy.com'\'' -E '\'''\'' -b '\''达分期团购2期 '\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''@Tech-anliguo'\'' -t '\''事事分期/StageAll'\'' -e '\''anliguo@dafy.com'\'' -E '\'''\'' -b '\''达分期团购2期 '\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u @Tech-anliguo -t $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll' -e anliguo@dafy.com -E '' -b '达分期团购2期 ' -T add -d '' --
+ true
+ case "$1" in
+ user=@Tech-anliguo
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
+ shift 2
+ true
+ case "$1" in
+ email=anliguo@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='达分期团购2期 '
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=anliguo@dafy.com '
+ SMARTCM_EXTRA_MAIL='anliguo@dafy.com '
++ @Tech-anliguo
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: @Tech-anliguo: command not found
++ for x in '$user'
++ echo @Tech-anliguo=rw
+ users=@Tech-anliguo=rw
++ $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 事事分期/StageAll: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
+ trunks=$'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll' ']'
+ '[' -z $'\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170802
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708020957
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
+ branch_name='https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期 /Develop/事事分期/StageAll'
+ source_name='https://192.168.0.220/svn/tech/Branch/达分期团购2期 '
+ dest_name='https://192.168.0.220/svn/tech/Branch/Closed/--close+201708020957-达分期团购2期 '
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237' $'/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
++ awk -F / '{print $7}'
+ br='20170802-达分期团购2期 '
+ access='20170802-达分期团购2期 '
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237' $'/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ die 'Svn branch create the reasons for failure are as follows'
+ echo 'Svn branch create the reasons for failure are as follows'
+ mails-cm -i 'svn branch create failed'
+ test -e /home/qishanqing/tmp/output.9623
+ echo
+ cat /home/qishanqing/tmp/output.9623
+ rm -rf /home/qishanqing/tmp/output.9623
+ kill 9623
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.4ms)
  Rendered builder/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 270ms (Views: 83.0ms)


Completed 200 OK in 270ms (Views: 83.0ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-02 09:58:29 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-02 09:58:29 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.2ms)
  Rendered builder/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 75ms (Views: 72.6ms)


Completed 200 OK in 75ms (Views: 72.6ms)


Started POST "/start" for 192.168.5.26 at 2017-08-02 09:58:57 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-02 09:58:57 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"事事分期/StageAll", "branch"=>"达分期团购2期 ", "user"=>"@Tech-anliguo", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"S0qgQbCDBRpBq2ZXNIE5BgJO0r4Zeg3OECA+bd3r0fFjPyBjp2aCYWiUXubkM0FGrNfHkxHHRpggcQ9ofTGF3g=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"事事分期/StageAll", "branch"=>"达分期团购2期 ", "user"=>"@Tech-anliguo", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"S0qgQbCDBRpBq2ZXNIE5BgJO0r4Zeg3OECA+bd3r0fFjPyBjp2aCYWiUXubkM0FGrNfHkxHHRpggcQ9ofTGF3g=="}
pid is 9686
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u @Tech-anliguo -t $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll' -e qishanqing@dafy.com -E '' -b '达分期团购2期 ' -T add -d ''
+ TEMP=' -u '\''@Tech-anliguo'\'' -t '\''事事分期/StageAll'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''达分期团购2期 '\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''@Tech-anliguo'\'' -t '\''事事分期/StageAll'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''达分期团购2期 '\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u @Tech-anliguo -t $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll' -e qishanqing@dafy.com -E '' -b '达分期团购2期 ' -T add -d '' --
+ true
+ case "$1" in
+ user=@Tech-anliguo
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='达分期团购2期 '
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
++ @Tech-anliguo
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: @Tech-anliguo: command not found
++ for x in '$user'
++ echo @Tech-anliguo=rw
+ users=@Tech-anliguo=rw
++ $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 事事分期/StageAll: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
+ trunks=$'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll' ']'
+ '[' -z $'\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170802
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708020958
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
+ branch_name='https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期 /Develop/事事分期/StageAll'
+ source_name='https://192.168.0.220/svn/tech/Branch/达分期团购2期 '
+ dest_name='https://192.168.0.220/svn/tech/Branch/Closed/--close+201708020958-达分期团购2期 '
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237' $'/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
++ awk -F / '{print $7}'
+ br='20170802-达分期团购2期 '
+ access='20170802-达分期团购2期 '
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237' $'/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ die 'Svn branch create the reasons for failure are as follows'
+ echo 'Svn branch create the reasons for failure are as follows'
+ mails-cm -i 'svn branch create failed'
+ test -e /home/qishanqing/tmp/output.9686
+ echo
+ cat /home/qishanqing/tmp/output.9686
+ rm -rf /home/qishanqing/tmp/output.9686
+ kill 9686
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.0ms)
  Rendered builder/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 125ms (Views: 88.4ms)


Completed 200 OK in 125ms (Views: 88.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-02 10:01:26 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-02 10:01:26 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.3ms)
  Rendered builder/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 50ms (Views: 48.3ms)


Completed 200 OK in 50ms (Views: 48.3ms)


Started POST "/start" for 192.168.5.26 at 2017-08-02 10:01:51 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-02 10:01:51 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"事事分期/StageAll", "branch"=>"达分期团购2期", "user"=>"@Tech-anliguo", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"Lbd+FrQzkNdHyIJxFFR/m3sXT74UAknNZioFcY1caVsFwv40o9YXrG73usDE5gfb1Y5akxy/AptWezR0LYY9dA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"事事分期/StageAll", "branch"=>"达分期团购2期", "user"=>"@Tech-anliguo", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"Lbd+FrQzkNdHyIJxFFR/m3sXT74UAknNZioFcY1caVsFwv40o9YXrG73usDE5gfb1Y5akxy/AptWezR0LYY9dA=="}
pid is 9905
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u @Tech-anliguo -t $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll' -e qishanqing@dafy.com -E '' -b $'\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237' -T add -d ''
+ TEMP=' -u '\''@Tech-anliguo'\'' -t '\''事事分期/StageAll'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''达分期团购2期'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''@Tech-anliguo'\'' -t '\''事事分期/StageAll'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''达分期团购2期'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u @Tech-anliguo -t $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll' -e qishanqing@dafy.com -E '' -b $'\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237' -T add -d '' --
+ true
+ case "$1" in
+ user=@Tech-anliguo
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
++ @Tech-anliguo
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: @Tech-anliguo: command not found
++ for x in '$user'
++ echo @Tech-anliguo=rw
+ users=@Tech-anliguo=rw
++ $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 事事分期/StageAll: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
+ trunks=$'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll' ']'
+ '[' -z $'\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170802
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708021001
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708021001-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
++ awk -F / '{print $7}'
+ br=$'20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237'
+ access=$'20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.9905
+ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/事事分期/StageAll'\'', '\''https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll'\'',now(),'\''qishanqing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/事事分期/StageAll'\'', '\''https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll'\'',now(),'\''qishanqing'\'');'
+ cat /tmp/cmdb.db.9905
+ rm -f /tmp/cmdb.db.9905
+ check-acces
+ grep -c '20170802-达分期团购2期]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z @Tech-anliguo=rw
+ cat
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.4ms)
  Rendered builder/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 4608ms (Views: 55.7ms)


Completed 200 OK in 4608ms (Views: 55.7ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-02 10:17:26 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-02 10:17:26 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170616-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42772.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"Y3fzb6AZJo4KAYpjfmI/agZRx2ZgwT9p69bcIxN7KK5LAnNNt/yh9SM+stKu0EcqqMjSS2h8dD/bh+0ms6F8gQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170616-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42772.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"Y3fzb6AZJo4KAYpjfmI/agZRx2ZgwT9p69bcIxN7KK5LAnNNt/yh9SM+stKu0EcqqMjSS2h8dD/bh+0ms6F8gQ=="}
pid is 10096
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42772.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42772.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170616-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42772.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170616-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42772.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42772.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170616-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.10096
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ mails-cm -i 'code merged from Branch/20170616-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r132929 '
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ head='r133126 '
+ '[' '!' -z r132929 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness@r132929' $'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness@r132929' $'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42772.html
Merged revision(s) r132929 -r133126   from Branch/20170616-达分期转分期/Develop/外部业务/P2P/Business/RepaymentBusiness' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (2.1ms)
  Rendered merge/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 166764ms (Views: 100.1ms)


Completed 200 OK in 166764ms (Views: 100.1ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-02 10:21:25 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-02 10:21:25 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (11.9ms)
  Rendered builder/index.html.erb within layouts/application (11.9ms)
Completed 200 OK in 127ms (Views: 122.1ms)


Completed 200 OK in 127ms (Views: 122.1ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-02 10:21:28 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-02 10:21:28 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.1ms)
  Rendered merge/index.html.erb within layouts/application (3.1ms)
Completed 200 OK in 106ms (Views: 86.4ms)


Completed 200 OK in 106ms (Views: 86.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-02 10:21:39 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-02 10:21:39 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170801-达分期帐单不能还款/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage", "task"=>"http://192.168.0.221/zentao/task-view-42874.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"9mO9pA115H29etVo9PPkiYa4MugSNSE5r8CXfZsAOu7eFj2GGpBjBpRF7dkkQZzJKCEnxRqIam+fkaZ4O9puwQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170801-达分期帐单不能还款/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage", "task"=>"http://192.168.0.221/zentao/task-view-42874.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"9mO9pA115H29etVo9PPkiYa4MugSNSE5r8CXfZsAOu7eFj2GGpBjBpRF7dkkQZzJKCEnxRqIam+fkaZ4O9puwQ=="}
pid is 10171
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42874.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170801-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42874.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170801-达分期帐单不能还款/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42874.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170801-达分期帐单不能还款/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42874.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170801-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42874.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170801-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170801-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170801-达分期帐单不能还款/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170801-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170801-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ rm -f /home/qishanqing/tmp/merged/output.10171
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170801-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ mails-cm -i 'code merged from Branch/20170801-达分期帐单不能还款/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep -C 3 $'Branch/20170801-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170801-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r133042 '
+ '[' '!' -z ']'
++ tail -n 4
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170801-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ revision='r133006 '
+ '[' '!' -z r133006 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170801-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage@r133006' $'https://192.168.0.220/svn/tech/Branch/20170801-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170801-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage@r133006' $'https://192.168.0.220/svn/tech/Branch/20170801-\350\276\276\345\210\206\346\234\237\345\270\220\345\215\225\344\270\215\350\203\275\350\277\230\346\254\276/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42874.html
Merged revision(s) r133006 -r133042   from Branch/20170801-达分期帐单不能还款/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage' --username qishanqing --password q372232
Started POST "/start" for 192.168.5.26 at 2017-08-02 10:22:31 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-02 10:22:31 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170616-达分期转分期", "branch"=>"20170616-达分期转分期", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"0lhxGUKIYlRWASFof5CXJ7JN/JMifBuKXaAJTPAKjBz6LfE7VW3lL38+GdmvIu9nHNTpvirBUNxt8ThJUNDYMw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170616-达分期转分期", "branch"=>"20170616-达分期转分期", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"0lhxGUKIYlRWASFof5CXJ7JN/JMifBuKXaAJTPAKjBz6LfE7VW3lL38+GdmvIu9nHNTpvirBUNxt8ThJUNDYMw=="}
pid is 10230
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237' -e qishanqing@dafy.com -E '' -b $'20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170616-达分期转分期'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170616-达分期转分期'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170616-达分期转分期'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170616-达分期转分期'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237' -e qishanqing@dafy.com -E '' -b $'20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170616-达分期转分期: command not found
++ for y in '$trunk'
++ echo $'20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ trunks=$'20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ test del = add
+ delbranch
+ '[' -z $'20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170802
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708021022
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170802-20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708021022-20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237/Develop/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
++ awk -F / '{print $7}'
+ br=$'20170802-20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ access=$'20170802-20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708021022-20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.8ms)
  Rendered merge/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 68862ms (Views: 51.2ms)


Completed 200 OK in 68862ms (Views: 51.2ms)


+ rm -f /home/qishanqing/tmp/output.10230
+ echo $'https://192.168.0.220/svn/tech/Branch/20170616-\350\276\276\345\210\206\346\234\237\350\275\254\345\210\206\346\234\237'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170616-达分期转分期%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170616-达分期转分期%'\'';'
+ cat /tmp/cmdb.db.10230
+ rm -f /tmp/cmdb.db.10230
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.4ms)
  Rendered builder/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 23163ms (Views: 48.5ms)


Completed 200 OK in 23163ms (Views: 48.5ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-02 10:24:31 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-02 10:24:31 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (2.9ms)
  Rendered merge/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 58ms (Views: 56.6ms)


Completed 200 OK in 58ms (Views: 56.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-02 10:24:38 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-02 10:24:38 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37", "task"=>"http://192.168.0.221/zentao/task-view-42855.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"G1jbXclT7pNIlhaDXkW0nvbET52yFznarjBc4nFZcRIzLVt/3rZp6GGpLjKO98zeWF1asLqqcoyeYW3n0YMlPQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37", "task"=>"http://192.168.0.221/zentao/task-view-42855.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"G1jbXclT7pNIlhaDXkW0nvbET52yFznarjBc4nFZcRIzLVt/3rZp6GGpLjKO98zeWF1asLqqcoyeYW3n0YMlPQ=="}
pid is 10276
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42855.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42855.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42855.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42855.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42855.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ rm -f /home/qishanqing/tmp/merged/output.10276
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
++ awk -F '|' '{print$1}'
+ revision=
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
++ awk -F '|' '{print$1}'
+ head='r132632 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r119113 '
+ '[' '!' -z r119113 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37@r119113' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37' .
+ st='  树冲突：9'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2329' ']'
+ die 'Svn merged conflicts the r119113 -r132632  from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r119113 -r132632  from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37'
+ test -e /home/qishanqing/tmp/merged/output.10276
+ rm -f /home/qishanqing/tmp/merged/output.10276
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42855.html
Merged revision(s) r119113 -r132632   from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.9ms)
  Rendered merge/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 274505ms (Views: 45.4ms)


Completed 200 OK in 274505ms (Views: 45.4ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-02 10:32:03 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-02 10:32:03 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (5.3ms)
  Rendered merge/index.html.erb within layouts/application (5.3ms)
Completed 200 OK in 108ms (Views: 102.6ms)


Completed 200 OK in 108ms (Views: 102.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-02 10:32:13 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-02 10:32:13 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170801-返回登陆bug/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-42868.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"/hDNG3n6T6tl9dRXd72teNFuI7WXFEG1kpyOadQXKyjWZU05bh/I0EzK7OanD9U4f/c2mJ+pCuOizb9sdM1/Bw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170801-返回登陆bug/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-42868.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"/hDNG3n6T6tl9dRXd72teNFuI7WXFEG1kpyOadQXKyjWZU05bh/I0EzK7OanD9U4f/c2mJ+pCuOizb9sdM1/Bw=="}
pid is 10403
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42868.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42868.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170801-返回登陆bug/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42868.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170801-返回登陆bug/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42868.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42868.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170801-返回登陆bug/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ rm -f /home/qishanqing/tmp/merged/output.10403
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170801-返回登陆bug/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r133122 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r132810 '
+ '[' '!' -z r132810 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r132810' $'https://192.168.0.220/svn/tech/Branch/20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' .
+ st='  树冲突：43'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\23243' ']'
+ die 'Svn merged conflicts the r132810 -r133122  from Branch/20170801-返回登陆bug/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r132810 -r133122  from Branch/20170801-返回登陆bug/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ test -e /home/qishanqing/tmp/merged/output.10403
+ rm -f /home/qishanqing/tmp/merged/output.10403
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42868.html
Merged revision(s) r132810 -r133122   from Branch/20170801-返回登陆bug/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.3ms)
  Rendered merge/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 605925ms (Views: 53.4ms)


Completed 200 OK in 605925ms (Views: 53.4ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-02 10:50:22 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-02 10:50:22 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (17.3ms)
  Rendered merge/index.html.erb within layouts/application (17.3ms)
Completed 200 OK in 167ms (Views: 163.1ms)


Completed 200 OK in 167ms (Views: 163.1ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-02 10:50:24 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-02 10:50:24 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.4ms)
  Rendered builder/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 50ms (Views: 48.1ms)


Completed 200 OK in 50ms (Views: 48.1ms)


Started POST "/start" for 192.168.5.26 at 2017-08-02 10:50:28 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-02 10:50:28 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170801-返回登陆bug", "branch"=>"20170801-返回登陆bug", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"YP0hMxPwDG6MaMMhfV27+HWWJ+BVHbhJlFuqKsxB/exIiKERBBWLFaVX+5Ct78O42w8yzV2g8x+kCpsvbJupww=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170801-返回登陆bug", "branch"=>"20170801-返回登陆bug", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"YP0hMxPwDG6MaMMhfV27+HWWJ+BVHbhJlFuqKsxB/exIiKERBBWLFaVX+5Ct78O42w8yzV2g8x+kCpsvbJupww=="}
pid is 10702
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug' -e qishanqing@dafy.com -E '' -b $'20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170801-返回登陆bug'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170801-返回登陆bug'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170801-返回登陆bug'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170801-返回登陆bug'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug' -e qishanqing@dafy.com -E '' -b $'20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170801-返回登陆bug: command not found
++ for y in '$trunk'
++ echo $'20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug'
+ trunks=$'20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug'
+ test del = add
+ delbranch
+ '[' -z $'20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170802
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708021050
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170802-20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug/Develop/20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708021050-20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug/Develop/20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug'
++ awk -F / '{print $7}'
+ br=$'20170802-20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug'
+ access=$'20170802-20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708021050-20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.10702
+ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\350\277\224\345\233\236\347\231\273\351\231\206bug'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170801-返回登陆bug%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170801-返回登陆bug%'\'';'
+ cat /tmp/cmdb.db.10702
+ rm -f /tmp/cmdb.db.10702
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 17762ms (Views: 72.2ms)


Completed 200 OK in 17762ms (Views: 72.2ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-02 11:11:55 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-02 11:11:55 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.9ms)
  Rendered builder/index.html.erb within layouts/application (4.9ms)
Completed 200 OK in 61ms (Views: 58.1ms)


Completed 200 OK in 61ms (Views: 58.1ms)


Started POST "/start" for 192.168.5.26 at 2017-08-02 11:12:44 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-02 11:12:44 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"wanghaitao@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "branch"=>"商城订单功能改造", "user"=>"wangxia  wanghaitao yiwangcheng", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"YpZGQ0FtUyHvvMgiUjFXvfH6zBhHmdpjJFImE4ADNC5K48ZhVojUWsaD8JOCgy/9X2PZNU8kkTUUAxcWINlgAQ=="}
  Parameters: {"email"=>"wanghaitao@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "branch"=>"商城订单功能改造", "user"=>"wangxia  wanghaitao yiwangcheng", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"YpZGQ0FtUyHvvMgiUjFXvfH6zBhHmdpjJFImE4ADNC5K48ZhVojUWsaD8JOCgy/9X2PZNU8kkTUUAxcWINlgAQ=="}
pid is 11526
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'wangxia  wanghaitao yiwangcheng' -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -e wanghaitao@dafy.com -E '' -b $'\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240' -T add -d ''
+ TEMP=' -u '\''wangxia  wanghaitao yiwangcheng'\'' -t '\''前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -e '\''wanghaitao@dafy.com'\'' -E '\'''\'' -b '\''商城订单功能改造'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''wangxia  wanghaitao yiwangcheng'\'' -t '\''前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -e '\''wanghaitao@dafy.com'\'' -E '\'''\'' -b '\''商城订单功能改造'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'wangxia  wanghaitao yiwangcheng' -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -e wanghaitao@dafy.com -E '' -b $'\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240' -T add -d '' --
+ true
+ case "$1" in
+ user='wangxia  wanghaitao yiwangcheng'
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ shift 2
+ true
+ case "$1" in
+ email=wanghaitao@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=wanghaitao@dafy.com '
+ SMARTCM_EXTRA_MAIL='wanghaitao@dafy.com '
++ wangxia wanghaitao yiwangcheng
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: wangxia: command not found
++ for x in '$user'
++ echo wangxia=rw
++ for x in '$user'
++ echo wanghaitao=rw
++ for x in '$user'
++ echo yiwangcheng=rw
+ users='wangxia=rw
wanghaitao=rw
yiwangcheng=rw'
++ $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ trunks=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' ']'
+ '[' -z $'\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170802
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708021112
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708021112-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F / '{print $7}'
+ br=$'20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240'
+ access=$'20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.11526
+ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\345\225\206\345\237\216\350\256\242\345\215\225\345\212\237\350\203\275\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'', '\''https://192.168.0.220/svn/tech/Branch/20170802-商城订单功能改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'',now(),'\''wanghaitao'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'', '\''https://192.168.0.220/svn/tech/Branch/20170802-商城订单功能改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'',now(),'\''wanghaitao'\'');'
+ cat /tmp/cmdb.db.11526
+ rm -f /tmp/cmdb.db.11526
+ check-acces
+ grep -c '20170802-商城订单功能改造]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z 'wangxia=rw
wanghaitao=rw
yiwangcheng=rw'
+ cat
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.4ms)
  Rendered builder/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 5623ms (Views: 76.5ms)


Completed 200 OK in 5623ms (Views: 76.5ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-02 13:38:42 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-02 13:38:42 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.2ms)
  Rendered builder/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 935ms (Views: 820.4ms)


Completed 200 OK in 935ms (Views: 820.4ms)


Started POST "/start" for 192.168.5.26 at 2017-08-02 13:39:19 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-02 13:39:19 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"wule@dafy.com", "types"=>"add", "trunk"=>"分期商城/分期商城3.0/MallRefundBusiness", "branch"=>"采购管理SKU管理优化", "user"=>"", "extra_mails"=>"", "riqi"=>"20170727", "authenticity_token"=>"KU0zJe18H+e9TK9eZRNt3668IyAB3k4we87P5SkhXhoBOLMH+pmYnJRzl++1oRWfACU2DQljBWZLn/7gifsKNQ=="}
  Parameters: {"email"=>"wule@dafy.com", "types"=>"add", "trunk"=>"分期商城/分期商城3.0/MallRefundBusiness", "branch"=>"采购管理SKU管理优化", "user"=>"", "extra_mails"=>"", "riqi"=>"20170727", "authenticity_token"=>"KU0zJe18H+e9TK9eZRNt3668IyAB3k4we87P5SkhXhoBOLMH+pmYnJRzl++1oRWfACU2DQljBWZLn/7gifsKNQ=="}
pid is 14521
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness' -e wule@dafy.com -E '' -b $'\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226' -T add -d 20170727
+ TEMP=' -u '\'''\'' -t '\''分期商城/分期商城3.0/MallRefundBusiness'\'' -e '\''wule@dafy.com'\'' -E '\'''\'' -b '\''采购管理SKU管理优化'\'' -T '\''add'\'' -d '\''20170727'\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''分期商城/分期商城3.0/MallRefundBusiness'\'' -e '\''wule@dafy.com'\'' -E '\'''\'' -b '\''采购管理SKU管理优化'\'' -T '\''add'\'' -d '\''20170727'\'' --'
++ set -- -u '' -t $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness' -e wule@dafy.com -E '' -b $'\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226' -T add -d 20170727 --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ shift 2
+ true
+ case "$1" in
+ email=wule@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=20170727
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=wule@dafy.com '
+ SMARTCM_EXTRA_MAIL='wule@dafy.com '
+ users=
++ $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 分期商城/分期商城3.0/MallRefundBusiness: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ trunks=$'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness' ']'
+ '[' -z $'\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170802
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708021339
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708021339-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
++ awk -F / '{print $7}'
+ br=$'20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226'
+ access=$'20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness' $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.14521
+ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallRefundBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallRefundBusiness'\'',now(),'\''wule'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallRefundBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallRefundBusiness'\'',now(),'\''wule'\'');'
+ cat /tmp/cmdb.db.14521
+ rm -f /tmp/cmdb.db.14521
+ check-acces
+ grep -c '20170727-采购管理SKU管理优化]' /mnt/svn/authz.conf
+ read num
+ '[' 1 -eq 0 ']'
++ sed '/20170727-采购管理SKU管理优化]/,/^[ \t]*$/!d;/20170727-采购管理SKU管理优化]/d;/^[ \t]*$/d' /mnt/svn/authz.conf
+ [[ sunyuanjian=rw
wule=rw
@admin=rw
*= =~ '' ]]
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.6ms)
  Rendered builder/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 5603ms (Views: 69.7ms)


Completed 200 OK in 5603ms (Views: 69.7ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-02 13:54:08 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-02 13:54:08 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.5ms)
  Rendered builder/index.html.erb within layouts/application (4.5ms)
Completed 200 OK in 100ms (Views: 95.9ms)


Completed 200 OK in 100ms (Views: 95.9ms)


Started POST "/start" for 192.168.5.26 at 2017-08-02 13:55:12 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-02 13:55:12 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"xupengyue@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "branch"=>"云贷2.0登录改造", "user"=>"@Tech-chenhangzheng", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"9tuDGpHswTHUWx5vJmWiARdzw+204unsU2KQ+10V0ebergM4hglGSv1kJt7219pBuerWwLxforpjM6H+/c+FyQ=="}
  Parameters: {"email"=>"xupengyue@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "branch"=>"云贷2.0登录改造", "user"=>"@Tech-chenhangzheng", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"9tuDGpHswTHUWx5vJmWiARdzw+204unsU2KQ+10V0ebergM4hglGSv1kJt7219pBuerWwLxforpjM6H+/c+FyQ=="}
pid is 15041
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u @Tech-chenhangzheng -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -e xupengyue@dafy.com -E '' -b $'\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240' -T add -d ''
+ TEMP=' -u '\''@Tech-chenhangzheng'\'' -t '\''前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -e '\''xupengyue@dafy.com'\'' -E '\'''\'' -b '\''云贷2.0登录改造'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''@Tech-chenhangzheng'\'' -t '\''前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -e '\''xupengyue@dafy.com'\'' -E '\'''\'' -b '\''云贷2.0登录改造'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u @Tech-chenhangzheng -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -e xupengyue@dafy.com -E '' -b $'\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240' -T add -d '' --
+ true
+ case "$1" in
+ user=@Tech-chenhangzheng
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ shift 2
+ true
+ case "$1" in
+ email=xupengyue@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=xupengyue@dafy.com '
+ SMARTCM_EXTRA_MAIL='xupengyue@dafy.com '
++ @Tech-chenhangzheng
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: @Tech-chenhangzheng: command not found
++ for x in '$user'
++ echo @Tech-chenhangzheng=rw
+ users=@Tech-chenhangzheng=rw
++ $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ trunks=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' ']'
+ '[' -z $'\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170802
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708021355
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708021355-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F / '{print $7}'
+ br=$'20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240'
+ access=$'20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' $'https://192.168.0.220/svn/tech/Branch/20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.15041
+ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\344\272\221\350\264\2672.0\347\231\273\345\275\225\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'', '\''https://192.168.0.220/svn/tech/Branch/20170802-云贷2.0登录改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'',now(),'\''xupengyue'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'', '\''https://192.168.0.220/svn/tech/Branch/20170802-云贷2.0登录改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'',now(),'\''xupengyue'\'');'
+ cat /tmp/cmdb.db.15041
+ rm -f /tmp/cmdb.db.15041
+ check-acces
+ grep -c '20170802-云贷2.0登录改造]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z @Tech-chenhangzheng=rw
+ cat
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.4ms)
  Rendered builder/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 17105ms (Views: 64.4ms)


Completed 200 OK in 17105ms (Views: 64.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-03 10:14:02 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-03 10:14:02 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/P2PManager", "task"=>"http://192.168.0.221/zentao/task-view-42875.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"WF6IppYBlh4/haevuDCMF9YgqcZ6Hnbu4W0QTFrwKU5wKwiEgeQRZRa6nx5ogvRXeLm863KjPbjRPCFJ+ip9YQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/P2PManager", "task"=>"http://192.168.0.221/zentao/task-view-42875.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"WF6IppYBlh4/haevuDCMF9YgqcZ6Hnbu4W0QTFrwKU5wKwiEgeQRZRa6nx5ogvRXeLm863KjPbjRPCFJ+ip9YQ=="}
pid is 1843
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42875.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/P2PManager' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42875.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/P2PManager'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42875.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/P2PManager'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42875.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/P2PManager' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42875.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/P2PManager'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness' $'https://192.168.0.220/svn/tech/Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/Business/BorrowBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/Business/BorrowBusiness
https://192.168.0.220/svn/tech/Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/P2PManager'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.1843
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/Business/BorrowBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r133410 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r131208 '
+ '[' '!' -z r131208 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness@r131208' $'https://192.168.0.220/svn/tech/Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：3'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2323' ']'
+ die 'Svn merged conflicts the r131208 -r133410  from Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/Business/BorrowBusiness'
+ echo 'Svn merged conflicts the r131208 -r133410  from Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/Business/BorrowBusiness'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.1843
+ rm -f /home/qishanqing/tmp/merged/output.1843
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42875.html
Merged revision(s) r131208 -r133410   from Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/Business/BorrowBusiness' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ rm -f /home/qishanqing/tmp/merged/output.1843
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ mails-cm -i 'code merged from Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/P2PManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ awk -F '|' '{print$1}'
++ grep -C 3 $'Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r133409 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ awk -F '|' '{print$1}'
++ grep '^r'
++ tail -n 4
+ revision='r131207 '
+ '[' '!' -z r131207 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager@r131207' $'https://192.168.0.220/svn/tech/Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager' .
+ st='  树冲突：3'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2323' ']'
+ die 'Svn merged conflicts the r131207 -r133409  from Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/P2PManager'
+ echo 'Svn merged conflicts the r131207 -r133409  from Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/P2PManager'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.1843
+ rm -f /home/qishanqing/tmp/merged/output.1843
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42875.html
Merged revision(s) r131207 -r133409   from Branch/20170726-外部业务/P2P/Business/BorrowBusiness/Develop/外部业务/P2P/P2PManager' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (144.2ms)
  Rendered merge/new.html.erb within layouts/application (144.2ms)
Completed 200 OK in 205405ms (Views: 792.5ms)


Completed 200 OK in 205405ms (Views: 792.5ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-03 10:18:31 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-03 10:18:31 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.2ms)
  Rendered merge/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 67ms (Views: 51.1ms)


Completed 200 OK in 67ms (Views: 51.1ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-03 10:18:42 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-03 10:18:42 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170712-提前结清线上/Develop/外部业务/P2P/Business/FDPReport", "task"=>"http://192.168.0.221/zentao/task-view-42965.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"mQIWSwj61s7PJbU+IXlrjaGm5SXTjdG8Gd184zE/Tbmxd5ZpHx9RteYajY/xyxPNDz/wCNswmuopjE3mkeUZlg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170712-提前结清线上/Develop/外部业务/P2P/Business/FDPReport", "task"=>"http://192.168.0.221/zentao/task-view-42965.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"mQIWSwj61s7PJbU+IXlrjaGm5SXTjdG8Gd184zE/Tbmxd5ZpHx9RteYajY/xyxPNDz/wCNswmuopjE3mkeUZlg=="}
pid is 2335
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42965.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170712-\346\217\220\345\211\215\347\273\223\346\270\205\347\272\277\344\270\212/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42965.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170712-提前结清线上/Develop/外部业务/P2P/Business/FDPReport'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42965.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170712-提前结清线上/Develop/外部业务/P2P/Business/FDPReport'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42965.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170712-\346\217\220\345\211\215\347\273\223\346\270\205\347\272\277\344\270\212/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42965.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170712-\346\217\220\345\211\215\347\273\223\346\270\205\347\272\277\344\270\212/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170712-\346\217\220\345\211\215\347\273\223\346\270\205\347\272\277\344\270\212/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170712-提前结清线上/Develop/外部业务/P2P/Business/FDPReport: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170712-\346\217\220\345\211\215\347\273\223\346\270\205\347\272\277\344\270\212/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170712-\346\217\220\345\211\215\347\273\223\346\270\205\347\272\277\344\270\212/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170712-\346\217\220\345\211\215\347\273\223\346\270\205\347\272\277\344\270\212/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170712-\346\217\220\345\211\215\347\273\223\346\270\205\347\272\277\344\270\212/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ rm -f /home/qishanqing/tmp/merged/output.2335
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170712-\346\217\220\345\211\215\347\273\223\346\270\205\347\272\277\344\270\212/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ mails-cm -i 'code merged from Branch/20170712-提前结清线上/Develop/外部业务/P2P/Business/FDPReport'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170712-\346\217\220\345\211\215\347\273\223\346\270\205\347\272\277\344\270\212/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r128921 '
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170712-\346\217\220\345\211\215\347\273\223\346\270\205\347\272\277\344\270\212/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ head='r133166 '
+ '[' '!' -z r128921 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170712-\346\217\220\345\211\215\347\273\223\346\270\205\347\272\277\344\270\212/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport@r128921' $'https://192.168.0.220/svn/tech/Branch/20170712-\346\217\220\345\211\215\347\273\223\346\270\205\347\272\277\344\270\212/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170712-\346\217\220\345\211\215\347\273\223\346\270\205\347\272\277\344\270\212/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport@r128921' $'https://192.168.0.220/svn/tech/Branch/20170712-\346\217\220\345\211\215\347\273\223\346\270\205\347\272\277\344\270\212/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42965.html
Merged revision(s) r128921 -r133166   from Branch/20170712-提前结清线上/Develop/外部业务/P2P/Business/FDPReport' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.2ms)
  Rendered merge/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 9861ms (Views: 49.9ms)


Completed 200 OK in 9861ms (Views: 49.9ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-03 10:19:09 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-03 10:19:09 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (2.8ms)
  Rendered merge/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 99ms (Views: 97.1ms)


Completed 200 OK in 99ms (Views: 97.1ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-03 10:19:21 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-03 10:19:21 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallRefundBusiness\r\n", "task"=>"http://192.168.0.221/zentao/task-view-42941.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"jTS0h88vSk5dsW4m71Iuiz6WD3K+TBewVfTNTzH5iF2lQTSl2MrNNXSOVpc/4FbLkA8aX7bxXOZlpfxKkSPccg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallRefundBusiness\r\n", "task"=>"http://192.168.0.221/zentao/task-view-42941.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"jTS0h88vSk5dsW4m71Iuiz6WD3K+TBewVfTNTzH5iF2lQTSl2MrNNXSOVpc/4FbLkA8aX7bxXOZlpfxKkSPccg=="}
pid is 2411
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42941.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallRefundBusiness
' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42941.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallRefundBusiness
'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42941.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallRefundBusiness
'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42941.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallRefundBusiness
' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42941.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallRefundBusiness
'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness\r'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallManager: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness\r'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallManager
https://192.168.0.220/svn/tech/Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallRefundBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ rm -f /home/qishanqing/tmp/merged/output.2411
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ mails-cm -i 'code merged from Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallManager'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ svn st
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ grep '^r'
++ head -n 4
++ grep -C 3 $'Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F '|' '{print$1}'
++ svn log
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r133045 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ tail -n 4
+ revision='r131590 '
+ '[' '!' -z r131590 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager@r131590' $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' .
+ st='  树冲突：1'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2321' ']'
+ die 'Svn merged conflicts the r131590 -r133045  from Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallManager'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r131590 -r133045  from Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallManager'
+ test -e /home/qishanqing/tmp/merged/output.2411
+ rm -f /home/qishanqing/tmp/merged/output.2411
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42941.html
Merged revision(s) r131590 -r133045   from Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallManager' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness\r'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness\r'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ test -e /home/qishanqing/tmp/merged/output.2411
+ echo
+ cat /home/qishanqing/tmp/merged/output.2411
+ rm -f /home/qishanqing/tmp/merged/output.2411
+ rm -f /home/qishanqing/tmp/merged/output.2411
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness\r'
+ die '分期商城/分期商城3.0/MallRefundBusiness  project code no found'
+ echo '分期商城/分期商城3.0/MallRefundBusiness  project code no found'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.2411
+ rm -f /home/qishanqing/tmp/merged/output.2411
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (2.8ms)
  Rendered merge/new.html.erb within layouts/application (2.8ms)
Completed 200 OK in 80552ms (Views: 160.6ms)


Completed 200 OK in 80552ms (Views: 160.6ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-03 10:22:35 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-03 10:22:35 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (2.4ms)
  Rendered merge/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 130ms (Views: 122.7ms)


Completed 200 OK in 130ms (Views: 122.7ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-03 10:22:42 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-03 10:22:42 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallRefundBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42941.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"xsrQUsJZLNDbt/Bnvb2aztlZFINbuAy+w9f6+mUrRR3uv1Bw1byrq/KIyNZtD+KOd8ABrlMFR+jzhsv/xfERMg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallRefundBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42941.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"xsrQUsJZLNDbt/Bnvb2aztlZFINbuAy+w9f6+mUrRR3uv1Bw1byrq/KIyNZtD+KOd8ABrlMFR+jzhsv/xfERMg=="}
pid is 3233
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42941.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42941.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallRefundBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42941.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallRefundBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42941.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42941.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallRefundBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.3233
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ svn_from_tb_merged
+ mails-cm -i 'code merged from Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallRefundBusiness'
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ svn st
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ awk -F '|' '{print$1}'
++ head -n 4
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ revision=
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ head='r133041 '
+ '[' '!' -z ']'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
++ grep '^r'
+ revision='r131629 '
+ '[' '!' -z r131629 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness@r131629' $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness@r131629' $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42941.html
Merged revision(s) r131629 -r133041   from Branch/20170727-商城退换货管理/Develop/分期商城/分期商城3.0/MallRefundBusiness' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (7.1ms)
  Rendered merge/new.html.erb within layouts/application (7.1ms)
Completed 200 OK in 19181ms (Views: 111.6ms)


Completed 200 OK in 19181ms (Views: 111.6ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-03 10:24:58 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-03 10:24:58 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (5.4ms)
  Rendered builder/index.html.erb within layouts/application (5.4ms)
Completed 200 OK in 169ms (Views: 123.0ms)


Completed 200 OK in 169ms (Views: 123.0ms)


Started POST "/start" for 192.168.5.26 at 2017-08-03 10:25:03 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-03 10:25:03 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170727-商城退换货管理", "branch"=>"20170727-商城退换货管理", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"5qq4V3Yz+KdIUXAz7Oqk8w7TiS/fLi9yOOA2oVlg5ZPO3zh1YdZ/3GFuSII8WNyzoEqcAteTZCQIsQek+bqxvA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170727-商城退换货管理", "branch"=>"20170727-商城退换货管理", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"5qq4V3Yz+KdIUXAz7Oqk8w7TiS/fLi9yOOA2oVlg5ZPO3zh1YdZ/3GFuSII8WNyzoEqcAteTZCQIsQek+bqxvA=="}
pid is 3491
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206' -e qishanqing@dafy.com -E '' -b $'20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170727-商城退换货管理'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170727-商城退换货管理'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170727-商城退换货管理'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170727-商城退换货管理'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206' -e qishanqing@dafy.com -E '' -b $'20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170727-商城退换货管理: command not found
++ for y in '$trunk'
++ echo $'20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206'
+ trunks=$'20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206'
+ test del = add
+ delbranch
+ '[' -z $'20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170803
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708031025
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170803-20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708031025-20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170803-20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206/Develop/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206'
++ awk -F / '{print $7}'
+ br=$'20170803-20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206'
+ access=$'20170803-20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708031025-20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.3491
+ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\345\225\206\345\237\216\351\200\200\346\215\242\350\264\247\347\256\241\347\220\206'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170727-商城退换货管理%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170727-商城退换货管理%'\'';'
+ cat /tmp/cmdb.db.3491
+ rm -f /tmp/cmdb.db.3491
+ mails-cm -i 'svnbranch-del from svn branch create web'
+ cat
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.0ms)
  Rendered builder/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 1866ms (Views: 59.1ms)


Completed 200 OK in 1866ms (Views: 59.1ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-03 10:26:33 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-03 10:26:33 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (17.5ms)
  Rendered builder/index.html.erb within layouts/application (17.5ms)
Completed 200 OK in 71ms (Views: 68.6ms)


Completed 200 OK in 71ms (Views: 68.6ms)


Started POST "/start" for 192.168.5.26 at 2017-08-03 10:26:37 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-03 10:26:37 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170726-外部业务", "branch"=>"20170726-外部业务", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"HRCXGRJdJQmAPoNJammYRoOpRC+yR4MY6vew3+eWTDk1ZRc7BbiicqkBu/i62+AGLTBRArr6yE7apoHaR0wYFg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170726-外部业务", "branch"=>"20170726-外部业务", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"HRCXGRJdJQmAPoNJammYRoOpRC+yR4MY6vew3+eWTDk1ZRc7BbiicqkBu/i62+AGLTBRArr6yE7apoHaR0wYFg=="}
pid is 3574
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170726-\345\244\226\351\203\250\344\270\232\345\212\241' -e qishanqing@dafy.com -E '' -b $'20170726-\345\244\226\351\203\250\344\270\232\345\212\241' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170726-外部业务'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170726-外部业务'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170726-外部业务'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170726-外部业务'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170726-\345\244\226\351\203\250\344\270\232\345\212\241' -e qishanqing@dafy.com -E '' -b $'20170726-\345\244\226\351\203\250\344\270\232\345\212\241' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170726-\345\244\226\351\203\250\344\270\232\345\212\241'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170726-\345\244\226\351\203\250\344\270\232\345\212\241'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170726-\345\244\226\351\203\250\344\270\232\345\212\241'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170726-外部业务: command not found
++ for y in '$trunk'
++ echo $'20170726-\345\244\226\351\203\250\344\270\232\345\212\241'
+ trunks=$'20170726-\345\244\226\351\203\250\344\270\232\345\212\241'
+ test del = add
+ delbranch
+ '[' -z $'20170726-\345\244\226\351\203\250\344\270\232\345\212\241' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170803
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708031026
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170726-\345\244\226\351\203\250\344\270\232\345\212\241'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170803-20170726-\345\244\226\351\203\250\344\270\232\345\212\241/Develop/20170726-\345\244\226\351\203\250\344\270\232\345\212\241'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708031026-20170726-\345\244\226\351\203\250\344\270\232\345\212\241'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170803-20170726-\345\244\226\351\203\250\344\270\232\345\212\241/Develop/20170726-\345\244\226\351\203\250\344\270\232\345\212\241'
++ awk -F / '{print $7}'
+ br=$'20170803-20170726-\345\244\226\351\203\250\344\270\232\345\212\241'
+ access=$'20170803-20170726-\345\244\226\351\203\250\344\270\232\345\212\241'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708031026-20170726-\345\244\226\351\203\250\344\270\232\345\212\241' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.3574
+ echo $'https://192.168.0.220/svn/tech/Branch/20170726-\345\244\226\351\203\250\344\270\232\345\212\241'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170726-外部业务%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170726-外部业务%'\'';'
+ cat /tmp/cmdb.db.3574
+ rm -f /tmp/cmdb.db.3574
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.3ms)
  Rendered builder/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 1731ms (Views: 104.4ms)


Completed 200 OK in 1731ms (Views: 104.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-03 11:03:40 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-03 11:03:40 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (12.6ms)
  Rendered builder/index.html.erb within layouts/application (12.6ms)
Completed 200 OK in 143ms (Views: 139.2ms)


Completed 200 OK in 143ms (Views: 139.2ms)


Started POST "/start" for 192.168.5.26 at 2017-08-03 11:04:33 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-03 11:04:33 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"lijinming@dafy.com", "types"=>"add", "trunk"=>"基础业务/用户中心/UserBusiness 老系统/新达飞贷/网站中心/BossSite", "branch"=>"登陆改造", "user"=>"lijinming", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"FjI52mqT6E240oBBfk13kkrneT24OUNgflLwlW9Cdm4+R7n4fXZvNpHtuPCu/w/S5H5sELCECDZOA8GQz5giQQ=="}
  Parameters: {"email"=>"lijinming@dafy.com", "types"=>"add", "trunk"=>"基础业务/用户中心/UserBusiness 老系统/新达飞贷/网站中心/BossSite", "branch"=>"登陆改造", "user"=>"lijinming", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"FjI52mqT6E240oBBfk13kkrneT24OUNgflLwlW9Cdm4+R7n4fXZvNpHtuPCu/w/S5H5sELCECDZOA8GQz5giQQ=="}
pid is 4192
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u lijinming -t '基础业务/用户中心/UserBusiness 老系统/新达飞贷/网站中心/BossSite' -e lijinming@dafy.com -E '' -b $'\347\231\273\351\231\206\346\224\271\351\200\240' -T add -d ''
+ TEMP=' -u '\''lijinming'\'' -t '\''基础业务/用户中心/UserBusiness 老系统/新达飞贷/网站中心/BossSite'\'' -e '\''lijinming@dafy.com'\'' -E '\'''\'' -b '\''登陆改造'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''lijinming'\'' -t '\''基础业务/用户中心/UserBusiness 老系统/新达飞贷/网站中心/BossSite'\'' -e '\''lijinming@dafy.com'\'' -E '\'''\'' -b '\''登陆改造'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u lijinming -t '基础业务/用户中心/UserBusiness 老系统/新达飞贷/网站中心/BossSite' -e lijinming@dafy.com -E '' -b $'\347\231\273\351\231\206\346\224\271\351\200\240' -T add -d '' --
+ true
+ case "$1" in
+ user=lijinming
+ shift 2
+ true
+ case "$1" in
+ trunk='基础业务/用户中心/UserBusiness 老系统/新达飞贷/网站中心/BossSite'
+ shift 2
+ true
+ case "$1" in
+ email=lijinming@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\347\231\273\351\231\206\346\224\271\351\200\240'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=lijinming@dafy.com '
+ SMARTCM_EXTRA_MAIL='lijinming@dafy.com '
++ lijinming
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: lijinming: command not found
++ for x in '$user'
++ echo lijinming=rw
+ users=lijinming=rw
++ $'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' $'\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 基础业务/用户中心/UserBusiness: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ for y in '$trunk'
++ echo $'\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ trunks='基础业务/用户中心/UserBusiness
老系统/新达飞贷/网站中心/BossSite'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' ']'
+ '[' -z $'\347\231\273\351\231\206\346\224\271\351\200\240' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170803
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708031104
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\347\231\273\351\231\206\346\224\271\351\200\240'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708031104-\347\231\273\351\231\206\346\224\271\351\200\240'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ awk -F / '{print $7}'
+ br=$'20170803-\347\231\273\351\231\206\346\224\271\351\200\240'
+ access=$'20170803-\347\231\273\351\231\206\346\224\271\351\200\240'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.4192
+ echo $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/基础业务/用户中心/UserBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/基础业务/用户中心/UserBusiness'\'',now(),'\''lijinming'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/基础业务/用户中心/UserBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/基础业务/用户中心/UserBusiness'\'',now(),'\''lijinming'\'');'
+ cat /tmp/cmdb.db.4192
+ rm -f /tmp/cmdb.db.4192
+ check-acces
+ grep -c '20170803-登陆改造]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z lijinming=rw
+ cat
+ cat
+ read num
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ cat
+ for trunk in '${trunks[@]}'
+ '[' -z $'\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' ']'
+ '[' -z $'\347\231\273\351\231\206\346\224\271\351\200\240' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170803
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708031104
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\347\231\273\351\231\206\346\224\271\351\200\240'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708031104-\347\231\273\351\231\206\346\224\271\351\200\240'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ awk -F / '{print $7}'
+ br=$'20170803-\347\231\273\351\231\206\346\224\271\351\200\240'
+ access=$'20170803-\347\231\273\351\231\206\346\224\271\351\200\240'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.4192
+ echo $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/老系统/新达飞贷/网站中心/BossSite'\'', '\''https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/老系统/新达飞贷/网站中心/BossSite'\'',now(),'\''lijinming'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/老系统/新达飞贷/网站中心/BossSite'\'', '\''https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/老系统/新达飞贷/网站中心/BossSite'\'',now(),'\''lijinming'\'');'
+ cat /tmp/cmdb.db.4192
+ rm -f /tmp/cmdb.db.4192
+ check-acces
+ grep -c '20170803-登陆改造]' /mnt/svn/authz.conf
+ read num
+ '[' 1 -eq 0 ']'
++ sed '/20170803-登陆改造]/,/^[ \t]*$/!d;/20170803-登陆改造]/d;/^[ \t]*$/d' /mnt/svn/authz.conf
+ [[ lijinming=rw
@admin=rw
*= =~ lijinming=rw ]]
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 5658ms (Views: 62.5ms)


Completed 200 OK in 5658ms (Views: 62.5ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-03 17:18:34 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-03 17:18:34 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (77.9ms)
  Rendered merge/index.html.erb within layouts/application (77.9ms)
Completed 200 OK in 660ms (Views: 644.8ms)


Completed 200 OK in 660ms (Views: 644.8ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-03 17:18:42 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-03 17:18:42 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170725-支持异步/Develop/分期商城/分期商城3.0/MallBuyerBusiness", "task"=>"http://192.168.0.221/zentao/task-view-43037.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"4meZQepOL9DbpG7tv13FHhhTEgWjNIwlIM+BjPJ8hzTKEhlj/auoq/KbVlxv771etsoHKKuJx3MQnrCJUqbTGw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170725-支持异步/Develop/分期商城/分期商城3.0/MallBuyerBusiness", "task"=>"http://192.168.0.221/zentao/task-view-43037.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"4meZQepOL9DbpG7tv13FHhhTEgWjNIwlIM+BjPJ8hzTKEhlj/auoq/KbVlxv771etsoHKKuJx3MQnrCJUqbTGw=="}
pid is 12914
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43037.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170725-\346\224\257\346\214\201\345\274\202\346\255\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43037.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170725-支持异步/Develop/分期商城/分期商城3.0/MallBuyerBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43037.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170725-支持异步/Develop/分期商城/分期商城3.0/MallBuyerBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43037.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170725-\346\224\257\346\214\201\345\274\202\346\255\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43037.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170725-\346\224\257\346\214\201\345\274\202\346\255\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170725-\346\224\257\346\214\201\345\274\202\346\255\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170725-支持异步/Develop/分期商城/分期商城3.0/MallBuyerBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170725-\346\224\257\346\214\201\345\274\202\346\255\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170725-\346\224\257\346\214\201\345\274\202\346\255\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170725-\346\224\257\346\214\201\345\274\202\346\255\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170725-\346\224\257\346\214\201\345\274\202\346\255\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.12914
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170725-\346\224\257\346\214\201\345\274\202\346\255\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170725-支持异步/Develop/分期商城/分期商城3.0/MallBuyerBusiness'
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170725-\346\224\257\346\214\201\345\274\202\346\255\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170725-\346\224\257\346\214\201\345\274\202\346\255\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132490 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170725-\346\224\257\346\214\201\345\274\202\346\255\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r130820 '
+ '[' '!' -z r130820 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170725-\346\224\257\346\214\201\345\274\202\346\255\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness@r130820' $'https://192.168.0.220/svn/tech/Branch/20170725-\346\224\257\346\214\201\345\274\202\346\255\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170725-\346\224\257\346\214\201\345\274\202\346\255\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness@r130820' $'https://192.168.0.220/svn/tech/Branch/20170725-\346\224\257\346\214\201\345\274\202\346\255\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43037.html
Merged revision(s) r130820 -r132490   from Branch/20170725-支持异步/Develop/分期商城/分期商城3.0/MallBuyerBusiness' --username qishanqing --password q372232
svn: E155015: 提交失败(细节如下): 
svn: E155015: 提交终止: “/home/qishanqing/workspace/code/Trunk/分期商城/分期商城3.0/MallBuyerBusiness/config/config.properties” 处于冲突状态
+ die 'Svn merged conflicts the reasons for failure are as follows'
+ echo 'Svn merged conflicts the reasons for failure are as follows'
+ test -e /home/qishanqing/tmp/merged/output.12914
+ echo
+ cat /home/qishanqing/tmp/merged/output.12914
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.12914
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (2.4ms)
  Rendered merge/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 175869ms (Views: 54.7ms)


Completed 200 OK in 175869ms (Views: 54.7ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-03 17:26:08 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-03 17:26:08 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (1.9ms)
  Rendered builder/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 42ms (Views: 40.3ms)


Completed 200 OK in 42ms (Views: 40.3ms)


Started POST "/start" for 192.168.5.26 at 2017-08-03 17:26:12 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-03 17:26:12 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170725-支持异步", "branch"=>"20170725-支持异步", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"uifs9slsflPdI/04XLPwlckqxLQE8Cr66z7lJtEDhMeSUmzU3on5KPQcxYmMAYjVZ7PRmQxNYazbb9QjcdnQ6A=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170725-支持异步", "branch"=>"20170725-支持异步", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"uifs9slsflPdI/04XLPwlckqxLQE8Cr66z7lJtEDhMeSUmzU3on5KPQcxYmMAYjVZ7PRmQxNYazbb9QjcdnQ6A=="}
pid is 13033
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170725-\346\224\257\346\214\201\345\274\202\346\255\245' -e qishanqing@dafy.com -E '' -b $'20170725-\346\224\257\346\214\201\345\274\202\346\255\245' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170725-支持异步'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170725-支持异步'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170725-支持异步'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170725-支持异步'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170725-\346\224\257\346\214\201\345\274\202\346\255\245' -e qishanqing@dafy.com -E '' -b $'20170725-\346\224\257\346\214\201\345\274\202\346\255\245' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170725-\346\224\257\346\214\201\345\274\202\346\255\245'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170725-\346\224\257\346\214\201\345\274\202\346\255\245'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170725-\346\224\257\346\214\201\345\274\202\346\255\245'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170725-支持异步: command not found
++ for y in '$trunk'
++ echo $'20170725-\346\224\257\346\214\201\345\274\202\346\255\245'
+ trunks=$'20170725-\346\224\257\346\214\201\345\274\202\346\255\245'
+ test del = add
+ delbranch
+ '[' -z $'20170725-\346\224\257\346\214\201\345\274\202\346\255\245' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170803
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708031726
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170725-\346\224\257\346\214\201\345\274\202\346\255\245'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170803-20170725-\346\224\257\346\214\201\345\274\202\346\255\245/Develop/20170725-\346\224\257\346\214\201\345\274\202\346\255\245'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170725-\346\224\257\346\214\201\345\274\202\346\255\245'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708031726-20170725-\346\224\257\346\214\201\345\274\202\346\255\245'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170803-20170725-\346\224\257\346\214\201\345\274\202\346\255\245/Develop/20170725-\346\224\257\346\214\201\345\274\202\346\255\245'
++ awk -F / '{print $7}'
+ br=$'20170803-20170725-\346\224\257\346\214\201\345\274\202\346\255\245'
+ access=$'20170803-20170725-\346\224\257\346\214\201\345\274\202\346\255\245'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170725-\346\224\257\346\214\201\345\274\202\346\255\245' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708031726-20170725-\346\224\257\346\214\201\345\274\202\346\255\245' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.13033
+ echo $'https://192.168.0.220/svn/tech/Branch/20170725-\346\224\257\346\214\201\345\274\202\346\255\245'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170725-支持异步%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170725-支持异步%'\'';'
+ cat /tmp/cmdb.db.13033
+ rm -f /tmp/cmdb.db.13033
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.4ms)
  Rendered builder/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 3695ms (Views: 71.9ms)


Completed 200 OK in 3695ms (Views: 71.9ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-03 18:23:25 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-03 18:23:25 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (29.4ms)
  Rendered merge/index.html.erb within layouts/application (29.4ms)
Completed 200 OK in 742ms (Views: 717.6ms)


Completed 200 OK in 742ms (Views: 717.6ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-03 18:23:29 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-03 18:23:29 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (206.5ms)
  Rendered builder/index.html.erb within layouts/application (206.5ms)
Completed 200 OK in 2514ms (Views: 2512.4ms)


Completed 200 OK in 2514ms (Views: 2512.4ms)


Started POST "/start" for 192.168.5.26 at 2017-08-03 18:24:12 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-03 18:24:12 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"songxinyu@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/CollectionOverdueBatchBusiness", "branch"=>"修改催收跑批处理条数", "user"=>"songxinyu", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"8WraSI/i5mZNtBN+PSyBRrPPR8PWLfgkw68gLWNfeZ3ZH1pqmAdhHWSLK8/tnvkGHVZS7t6Qs3Lz/hEow4Utsg=="}
  Parameters: {"email"=>"songxinyu@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/CollectionOverdueBatchBusiness", "branch"=>"修改催收跑批处理条数", "user"=>"songxinyu", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"8WraSI/i5mZNtBN+PSyBRrPPR8PWLfgkw68gLWNfeZ3ZH1pqmAdhHWSLK8/tnvkGHVZS7t6Qs3Lz/hEow4Utsg=="}
pid is 15868
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u songxinyu -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' -e songxinyu@dafy.com -E '' -b $'\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260' -T add -d ''
+ TEMP=' -u '\''songxinyu'\'' -t '\''外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'' -e '\''songxinyu@dafy.com'\'' -E '\'''\'' -b '\''修改催收跑批处理条数'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''songxinyu'\'' -t '\''外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'' -e '\''songxinyu@dafy.com'\'' -E '\'''\'' -b '\''修改催收跑批处理条数'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u songxinyu -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' -e songxinyu@dafy.com -E '' -b $'\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260' -T add -d '' --
+ true
+ case "$1" in
+ user=songxinyu
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ shift 2
+ true
+ case "$1" in
+ email=songxinyu@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=songxinyu@dafy.com '
+ SMARTCM_EXTRA_MAIL='songxinyu@dafy.com '
++ songxinyu
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: songxinyu: command not found
++ for x in '$user'
++ echo songxinyu=rw
+ users=songxinyu=rw
++ $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 外部业务/P2P/Business/CollectionOverdueBatchBusiness: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ trunks=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' ']'
+ '[' -z $'\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170803
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708031824
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708031824-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
++ awk -F / '{print $7}'
+ br=$'20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260'
+ access=$'20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' $'https://192.168.0.220/svn/tech/Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.15868
+ echo $'https://192.168.0.220/svn/tech/Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170803-修改催收跑批处理条数/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'',now(),'\''songxinyu'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170803-修改催收跑批处理条数/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'',now(),'\''songxinyu'\'');'
+ cat /tmp/cmdb.db.15868
+ rm -f /tmp/cmdb.db.15868
+ check-acces
+ grep -c '20170803-修改催收跑批处理条数]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z songxinyu=rw
+ cat
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.5ms)
  Rendered builder/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 6805ms (Views: 288.6ms)


Completed 200 OK in 6805ms (Views: 288.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-04 10:10:31 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-04 10:10:31 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallBusiness https://192.168.0.220/svn/tech/Branch/20170724-新增项目/Develop/分期商城/分期商城3.0/MallBaseBusiness https://192.168.0.220/svn/tech/Branch/20170724-新增项目/Develop/分期商城/分期商城3.0/MallBaseManager https://192.168.0.220/svn/tech/Branch/20170719-售后说明更换/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-43044.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"E8k7hjvOK3Qhld1dnuJDFxlRkrc5PX6FsW/9VZzUeRI7vLukLCusDwiq5exOUDtXt8iHmjGANdOBPsxQPA4tPQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallBusiness https://192.168.0.220/svn/tech/Branch/20170724-新增项目/Develop/分期商城/分期商城3.0/MallBaseBusiness https://192.168.0.220/svn/tech/Branch/20170724-新增项目/Develop/分期商城/分期商城3.0/MallBaseManager https://192.168.0.220/svn/tech/Branch/20170719-售后说明更换/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-43044.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"E8k7hjvOK3Qhld1dnuJDFxlRkrc5PX6FsW/9VZzUeRI7vLukLCusDwiq5exOUDtXt8iHmjGANdOBPsxQPA4tPQ=="}
pid is 10653
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43044.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallBusiness https://192.168.0.220/svn/tech/Branch/20170724-新增项目/Develop/分期商城/分期商城3.0/MallBaseBusiness https://192.168.0.220/svn/tech/Branch/20170724-新增项目/Develop/分期商城/分期商城3.0/MallBaseManager https://192.168.0.220/svn/tech/Branch/20170719-售后说明更换/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43044.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallBusiness https://192.168.0.220/svn/tech/Branch/20170724-新增项目/Develop/分期商城/分期商城3.0/MallBaseBusiness https://192.168.0.220/svn/tech/Branch/20170724-新增项目/Develop/分期商城/分期商城3.0/MallBaseManager https://192.168.0.220/svn/tech/Branch/20170719-售后说明更换/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43044.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallBusiness https://192.168.0.220/svn/tech/Branch/20170724-新增项目/Develop/分期商城/分期商城3.0/MallBaseBusiness https://192.168.0.220/svn/tech/Branch/20170724-新增项目/Develop/分期商城/分期商城3.0/MallBaseManager https://192.168.0.220/svn/tech/Branch/20170719-售后说明更换/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43044.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallBusiness https://192.168.0.220/svn/tech/Branch/20170724-新增项目/Develop/分期商城/分期商城3.0/MallBaseBusiness https://192.168.0.220/svn/tech/Branch/20170724-新增项目/Develop/分期商城/分期商城3.0/MallBaseManager https://192.168.0.220/svn/tech/Branch/20170719-售后说明更换/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43044.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallBusiness https://192.168.0.220/svn/tech/Branch/20170724-新增项目/Develop/分期商城/分期商城3.0/MallBaseBusiness https://192.168.0.220/svn/tech/Branch/20170724-新增项目/Develop/分期商城/分期商城3.0/MallBaseManager https://192.168.0.220/svn/tech/Branch/20170719-售后说明更换/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness' $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness' $'https://192.168.0.220/svn/tech/Branch/20170724-\346\226\260\345\242\236\351\241\271\347\233\256/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBaseBusiness' $'https://192.168.0.220/svn/tech/Branch/20170724-\346\226\260\345\242\236\351\241\271\347\233\256/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBaseManager' $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\346\226\260\345\242\236\351\241\271\347\233\256/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBaseBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\346\226\260\345\242\236\351\241\271\347\233\256/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBaseManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness
https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManager
https://192.168.0.220/svn/tech/Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallBusiness
https://192.168.0.220/svn/tech/Branch/20170724-新增项目/Develop/分期商城/分期商城3.0/MallBaseBusiness
https://192.168.0.220/svn/tech/Branch/20170724-新增项目/Develop/分期商城/分期商城3.0/MallBaseManager
https://192.168.0.220/svn/tech/Branch/20170719-售后说明更换/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.10653
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness'
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r133461 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ revision='r129469 '
+ '[' '!' -z r129469 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness@r129469' $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness@r129469' $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43044.html
Merged revision(s) r129469 -r133461   from Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness' --username qishanqing --password q372232
svn: E155015: 提交失败(细节如下): 
svn: E155015: 提交终止: “/home/qishanqing/workspace/code/Trunk/分期商城/分期商城3.0/MallManageGoodsBusiness/businessplugin/com/dafy/mallgoodsbusiness/business/plugin/mall/goods/GoodsManageService.xml” 处于冲突状态
+ die 'Svn merged conflicts the reasons for failure are as follows'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the reasons for failure are as follows'
+ test -e /home/qishanqing/tmp/merged/output.10653
+ echo
+ cat /home/qishanqing/tmp/merged/output.10653
+ rm -f /home/qishanqing/tmp/merged/output.10653
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ rm -f /home/qishanqing/tmp/merged/output.10653
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManager'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ head -n 4
++ grep '^r'
++ svn log
++ awk -F '|' '{print$1}'
++ grep -C 3 $'Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r133570 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ revision='r129467 '
+ '[' '!' -z r129467 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager@r129467' $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' .
+ st='  树冲突：4'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2324' ']'
+ die 'Svn merged conflicts the r129467 -r133570  from Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManager'
+ echo 'Svn merged conflicts the r129467 -r133570  from Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManager'
+ test -e /home/qishanqing/tmp/merged/output.10653
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.10653
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43044.html
Merged revision(s) r129467 -r133570   from Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallManager' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.10653
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallBusiness'
+ svn cleanup .
+ xargs rm -rf
+ svn st
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ awk -F '|' '{print$1}'
++ grep '^r'
++ grep -C 3 $'Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132964 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r129714 '
+ '[' '!' -z r129714 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness@r129714' $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness@r129714' $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43044.html
Merged revision(s) r129714 -r132964   from Branch/20170719-商品标签管理新需求/Develop/分期商城/分期商城3.0/MallBusiness' --username qishanqing --password q372232
svn: E155015: 提交失败(细节如下): 
svn: E155015: 提交终止: “/home/qishanqing/workspace/code/Trunk/分期商城/分期商城3.0/MallBusiness/businessplugin/com/dafy/mallbusiness/business/plugin/mall/goods/MallGoodsService.xml” 处于冲突状态
+ die 'Svn merged conflicts the reasons for failure are as follows'
+ echo 'Svn merged conflicts the reasons for failure are as follows'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.10653
+ echo
+ cat /home/qishanqing/tmp/merged/output.10653
+ rm -f /home/qishanqing/tmp/merged/output.10653
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\346\226\260\345\242\236\351\241\271\347\233\256/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBaseBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBaseBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170724-\346\226\260\345\242\236\351\241\271\347\233\256/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBaseBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.10653
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBaseBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170724-\346\226\260\345\242\236\351\241\271\347\233\256/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBaseBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBaseBusiness'
+ die '分期商城/分期商城3.0/MallBaseBusiness  project code no found'
+ mails-cm -i 'svn merged faild'
+ echo '分期商城/分期商城3.0/MallBaseBusiness  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.10653
+ rm -f /home/qishanqing/tmp/merged/output.10653
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\346\226\260\345\242\236\351\241\271\347\233\256/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBaseManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBaseManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170724-\346\226\260\345\242\236\351\241\271\347\233\256/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBaseManager'
+ rm -f /home/qishanqing/tmp/merged/output.10653
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBaseManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170724-\346\226\260\345\242\236\351\241\271\347\233\256/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBaseManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBaseManager'
+ die '分期商城/分期商城3.0/MallBaseManager  project code no found'
+ mails-cm -i 'svn merged faild'
+ echo '分期商城/分期商城3.0/MallBaseManager  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.10653
+ rm -f /home/qishanqing/tmp/merged/output.10653
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ rm -f /home/qishanqing/tmp/merged/output.10653
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170719-售后说明更换/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132353 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r129304 '
+ '[' '!' -z r129304 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r129304' $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r129304' $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43044.html
Merged revision(s) r129304 -r132353   from Branch/20170719-售后说明更换/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (84.9ms)
  Rendered merge/new.html.erb within layouts/application (84.9ms)
Completed 200 OK in 355127ms (Views: 928.8ms)


Completed 200 OK in 355127ms (Views: 928.8ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-04 10:21:00 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-04 10:21:00 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (17.0ms)
  Rendered merge/index.html.erb within layouts/application (17.0ms)
Completed 200 OK in 245ms (Views: 211.4ms)


Completed 200 OK in 245ms (Views: 211.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-04 10:21:18 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-04 10:21:18 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageStorageBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageOrderBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageAccessBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallRefundBusiness", "task"=>"http://192.168.0.221/zentao/task-view-43055.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"cpPHU5FsTTWj2Iyram2LbI9kSFDqZpMfn+EjGJGLppta5kdxhonKTorntBq63/MsIf1dfeLb2EmvsBIdMVHytA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageStorageBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageOrderBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageAccessBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallRefundBusiness", "task"=>"http://192.168.0.221/zentao/task-view-43055.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"cpPHU5FsTTWj2Iyram2LbI9kSFDqZpMfn+EjGJGLppta5kdxhonKTorntBq63/MsIf1dfeLb2EmvsBIdMVHytA=="}
pid is 11299
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43055.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageStorageBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageOrderBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageAccessBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallRefundBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43055.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageStorageBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageOrderBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageAccessBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallRefundBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43055.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageStorageBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageOrderBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageAccessBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallRefundBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43055.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageStorageBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageOrderBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageAccessBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallRefundBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43055.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageStorageBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageOrderBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageAccessBusiness https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallRefundBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness' $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness' $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness' $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness' $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageStorageBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageStorageBusiness
https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageOrderBusiness
https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness
https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageAccessBusiness
https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManager
https://192.168.0.220/svn/tech/Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallRefundBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.11299
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageStorageBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r133194 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r131394 '
+ '[' '!' -z r131394 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness@r131394' $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness@r131394' $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43055.html
Merged revision(s) r131394 -r133194   from Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageStorageBusiness' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.11299
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageOrderBusiness'
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r133702 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r131396 '
+ '[' '!' -z r131396 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness@r131396' $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness@r131396' $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43055.html
Merged revision(s) r131396 -r133702   from Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageOrderBusiness' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.11299
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ mails-cm -i 'code merged from Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r133251 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r131395 '
+ '[' '!' -z r131395 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness@r131395' $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness@r131395' $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43055.html
Merged revision(s) r131395 -r133251   from Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness' --username qishanqing --password q372232
svn: E155015: 提交失败(细节如下): 
svn: E155015: 提交终止: “/home/qishanqing/workspace/code/Trunk/分期商城/分期商城3.0/MallManageGoodsBusiness/businessplugin/com/dafy/mallgoodsbusiness/business/plugin/mall/goods/GoodsManageService.xml” 处于冲突状态
+ die 'Svn merged conflicts the reasons for failure are as follows'
+ echo 'Svn merged conflicts the reasons for failure are as follows'
+ test -e /home/qishanqing/tmp/merged/output.11299
+ mails-cm -i 'svn merged faild'
+ echo
+ cat /home/qishanqing/tmp/merged/output.11299
+ rm -f /home/qishanqing/tmp/merged/output.11299
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.11299
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageAccessBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness'
+ head='r131854 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness'
++ tail -n 4
+ revision='r131397 '
+ '[' '!' -z r131397 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness@r131397' $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness@r131397' $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43055.html
Merged revision(s) r131397 -r131854   from Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManageAccessBusiness' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ rm -f /home/qishanqing/tmp/merged/output.11299
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManager'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ head='r133622 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r131393 '
+ '[' '!' -z r131393 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager@r131393' $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：2'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2322' ']'
+ die 'Svn merged conflicts the r131393 -r133622  from Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManager'
+ echo 'Svn merged conflicts the r131393 -r133622  from Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManager'
+ test -e /home/qishanqing/tmp/merged/output.11299
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.11299
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43055.html
Merged revision(s) r131393 -r133622   from Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallManager' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.11299
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallRefundBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ awk -F '|' '{print$1}'
++ grep '^r'
++ grep -C 3 $'Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
++ head -n 4
+ revision=
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ head='r133237 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r133206 '
+ '[' '!' -z r133206 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness@r133206' $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness@r133206' $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43055.html
Merged revision(s) r133206 -r133237   from Branch/20170727-采购管理SKU管理优化/Develop/分期商城/分期商城3.0/MallRefundBusiness' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (14.3ms)
  Rendered merge/new.html.erb within layouts/application (14.3ms)
Completed 200 OK in 130082ms (Views: 120.2ms)


Completed 200 OK in 130082ms (Views: 120.2ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-04 10:28:30 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-04 10:28:30 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (36.4ms)
  Rendered merge/index.html.erb within layouts/application (36.4ms)
Completed 200 OK in 106ms (Views: 100.3ms)


Completed 200 OK in 106ms (Views: 100.3ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-04 10:28:36 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-04 10:28:36 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"http://192.168.0.221/zentao/task-view-43055.html", "task"=>"http://192.168.0.221/zentao/task-view-43056.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"KK1d6zZMbfxNWLLSI6gZpgJ00THOWLFLbVwLrnr1FtsA2N3JIanqh2RnimPzGmHmrO3EHMbl+h1dDTqr2i9C9A=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"http://192.168.0.221/zentao/task-view-43055.html", "task"=>"http://192.168.0.221/zentao/task-view-43056.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"KK1d6zZMbfxNWLLSI6gZpgJ00THOWLFLbVwLrnr1FtsA2N3JIanqh2RnimPzGmHmrO3EHMbl+h1dDTqr2i9C9A=="}
pid is 11733
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43056.html -R '' -t '' -e qishanqing@dafy.com -E '' -b http://192.168.0.221/zentao/task-view-43055.html -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43056.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''http://192.168.0.221/zentao/task-view-43055.html'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43056.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''http://192.168.0.221/zentao/task-view-43055.html'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43056.html -R '' -t '' -e qishanqing@dafy.com -E '' -b http://192.168.0.221/zentao/task-view-43055.html -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43056.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=http://192.168.0.221/zentao/task-view-43055.html
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ http://192.168.0.221/zentao/task-view-43055.html
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: http://192.168.0.221/zentao/task-view-43055.html: 没有那个文件或目录
++ for y in '$branch'
++ echo http://192.168.0.221/zentao/task-view-43055.html
+ branchs=http://192.168.0.221/zentao/task-view-43055.html
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo http://192.168.0.221/zentao/task-view-43055.html
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=http://192.168.0.221/zentao/task-view-43055.html
+ svn log -l 1 http://192.168.0.221/zentao/task-view-43055.html
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.11733
+ echo
+ cat /home/qishanqing/tmp/merged/output.11733
+ rm -f /home/qishanqing/tmp/merged/output.11733
+ rm -f /home/qishanqing/tmp/merged/output.11733
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=/home/qishanqing/workspace/code/Trunk/http://192.168.0.221/zentao/task-view-43055.html
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=/home/qishanqing/workspace/code/Branch/http://192.168.0.221/zentao/task-view-43055.html
+ test -d /home/qishanqing/workspace/code/Trunk/http://192.168.0.221/zentao/task-view-43055.html
+ die 'http://192.168.0.221/zentao/task-view-43055.html  project code no found'
+ echo 'http://192.168.0.221/zentao/task-view-43055.html  project code no found'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.11733
+ rm -f /home/qishanqing/tmp/merged/output.11733
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.1ms)
  Rendered merge/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 188ms (Views: 55.2ms)


Completed 200 OK in 188ms (Views: 55.2ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-04 10:28:50 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-04 10:28:50 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.6ms)
  Rendered merge/index.html.erb within layouts/application (4.6ms)
Completed 200 OK in 94ms (Views: 90.1ms)


Completed 200 OK in 94ms (Views: 90.1ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-04 10:29:02 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-04 10:29:02 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37", "task"=>"http://192.168.0.221/zentao/task-view-43056.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"GHdFFXfvMMovHfIxL/bjEBDRQvHrzBEZB7B9F73dcw8wAsU3YAq3sQYiyoD/RJtQvkhX3ONxWk834UwSHQcnIA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37", "task"=>"http://192.168.0.221/zentao/task-view-43056.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"GHdFFXfvMMovHfIxL/bjEBDRQvHrzBEZB7B9F73dcw8wAsU3YAq3sQYiyoD/RJtQvkhX3ONxWk834UwSHQcnIA=="}
pid is 11774
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43056.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43056.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43056.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43056.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43056.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ rm -f /home/qishanqing/tmp/merged/output.11774
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r133155 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r133700 '
+ '[' '!' -z r133155 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37@r133155' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37@r133155' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43056.html
Merged revision(s) r133155 -r133700   from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.3ms)
  Rendered merge/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 116692ms (Views: 54.9ms)


Completed 200 OK in 116692ms (Views: 54.9ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-04 10:31:21 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-04 10:31:21 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.3ms)
  Rendered merge/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 87ms (Views: 84.5ms)


Completed 200 OK in 87ms (Views: 84.5ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-04 10:31:31 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-04 10:31:31 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170803-修改催收跑批处理条数/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness", "task"=>"http://192.168.0.221/zentao/task-view-43064.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"fLY2oXbzp+lIW1+0ZkKCIvpgJEPOvUxi6oDDNInBHMlUw7aDYRYgkmFkZwW28PpiVPkxbsYABzTa0fIxKRtI5g=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170803-修改催收跑批处理条数/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness", "task"=>"http://192.168.0.221/zentao/task-view-43064.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"fLY2oXbzp+lIW1+0ZkKCIvpgJEPOvUxi6oDDNInBHMlUw7aDYRYgkmFkZwW28PpiVPkxbsYABzTa0fIxKRtI5g=="}
pid is 11879
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43064.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43064.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170803-修改催收跑批处理条数/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43064.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170803-修改催收跑批处理条数/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43064.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43064.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170803-修改催收跑批处理条数/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.11879
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170803-修改催收跑批处理条数/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r133761 '
+ '[' '!' -z ']'
++ awk -F '|' '{print$1}'
++ grep '^r'
++ tail -n 4
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ revision='r133754 '
+ '[' '!' -z r133754 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness@r133754' $'https://192.168.0.220/svn/tech/Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness@r133754' $'https://192.168.0.220/svn/tech/Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/CollectionOverdueBatchBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43064.html
Merged revision(s) r133754 -r133761   from Branch/20170803-修改催收跑批处理条数/Develop/外部业务/P2P/Business/CollectionOverdueBatchBusiness' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.3ms)
  Rendered merge/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 20389ms (Views: 108.1ms)


Completed 200 OK in 20389ms (Views: 108.1ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-08-04 10:33:23 +0800
Started GET "/merge/new" for 192.168.5.26 at 2017-08-04 10:33:23 +0800
Started GET "/start" for 192.168.5.26 at 2017-08-04 10:33:23 +0800
Started GET "/start" for 192.168.5.26 at 2017-08-04 10:33:23 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/upload/new" for 192.168.5.26 at 2017-08-04 10:33:23 +0800
Started GET "/upload/new" for 192.168.5.26 at 2017-08-04 10:33:23 +0800
Started GET "/articles/index" for 192.168.5.26 at 2017-08-04 10:33:23 +0800
Started GET "/articles/index" for 192.168.5.26 at 2017-08-04 10:33:23 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  
Filter chain halted as #<Proc:0x007fa6201d6028@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  
ActionController::RoutingError (No route matches [GET] "/start"):
Filter chain halted as #<Proc:0x007fa6201d6028@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
ActionController::RoutingError (No route matches [GET] "/start"):
  
  
Completed 401 Unauthorized in 159ms


Completed 401 Unauthorized in 159ms


actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Processing by ArticlesController#index as HTML
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.erb within layouts/application
  Rendering articles/index.html.erb within layouts/application
Processing by UploadController#new as HTML
Processing by UploadController#new as HTML
  Rendered articles/index.html.erb within layouts/application (30.7ms)
  Rendered articles/index.html.erb within layouts/application (30.7ms)
  Rendering upload/new.html.erb within layouts/application
  Rendering upload/new.html.erb within layouts/application
  Rendered upload/new.html.erb within layouts/application (1.3ms)
  Rendered upload/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 147ms (Views: 144.8ms)


Completed 200 OK in 147ms (Views: 144.8ms)


Completed 200 OK in 253ms (Views: 208.5ms)


Completed 200 OK in 253ms (Views: 208.5ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-08-04 10:33:45 +0800
Started GET "/merge/new" for 192.168.5.26 at 2017-08-04 10:33:45 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (13.3ms)
  Rendered merge/index.html.erb within layouts/application (13.3ms)
Completed 200 OK in 122ms (Views: 120.4ms)


Completed 200 OK in 122ms (Views: 120.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-04 10:33:57 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-04 10:33:57 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170801-律金所宝付/Develop/基础业务/账户中心/AccountGateway44", "task"=>"http://192.168.0.221/zentao/task-view-43032.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"qMlSeZKCbFunpGZc+2Fu9BkR7Z5+f6zGrDubYIzRzGpx3ta9KpVxJmXvQsXUYtN/scpmAuOAtrS+6bTThhjdbA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170801-律金所宝付/Develop/基础业务/账户中心/AccountGateway44", "task"=>"http://192.168.0.221/zentao/task-view-43032.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"qMlSeZKCbFunpGZc+2Fu9BkR7Z5+f6zGrDubYIzRzGpx3ta9KpVxJmXvQsXUYtN/scpmAuOAtrS+6bTThhjdbA=="}
pid is 11970
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43032.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170801-\345\276\213\351\207\221\346\211\200\345\256\235\344\273\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43032.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170801-律金所宝付/Develop/基础业务/账户中心/AccountGateway44'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43032.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170801-律金所宝付/Develop/基础业务/账户中心/AccountGateway44'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43032.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170801-\345\276\213\351\207\221\346\211\200\345\256\235\344\273\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43032.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170801-\345\276\213\351\207\221\346\211\200\345\256\235\344\273\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170801-\345\276\213\351\207\221\346\211\200\345\256\235\344\273\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170801-律金所宝付/Develop/基础业务/账户中心/AccountGateway44: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\345\276\213\351\207\221\346\211\200\345\256\235\344\273\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170801-\345\276\213\351\207\221\346\211\200\345\256\235\344\273\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\345\276\213\351\207\221\346\211\200\345\256\235\344\273\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170801-\345\276\213\351\207\221\346\211\200\345\256\235\344\273\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44'
+ rm -f /home/qishanqing/tmp/merged/output.11970
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170801-\345\276\213\351\207\221\346\211\200\345\256\235\344\273\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170801-律金所宝付/Develop/基础业务/账户中心/AccountGateway44'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170801-\345\276\213\351\207\221\346\211\200\345\256\235\344\273\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170801-\345\276\213\351\207\221\346\211\200\345\256\235\344\273\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r133602 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170801-\345\276\213\351\207\221\346\211\200\345\256\235\344\273\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r132972 '
+ '[' '!' -z r132972 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170801-\345\276\213\351\207\221\346\211\200\345\256\235\344\273\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44@r132972' $'https://192.168.0.220/svn/tech/Branch/20170801-\345\276\213\351\207\221\346\211\200\345\256\235\344\273\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170801-\345\276\213\351\207\221\346\211\200\345\256\235\344\273\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44@r132972' $'https://192.168.0.220/svn/tech/Branch/20170801-\345\276\213\351\207\221\346\211\200\345\256\235\344\273\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGateway44'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43032.html
Merged revision(s) r132972 -r133602   from Branch/20170801-律金所宝付/Develop/基础业务/账户中心/AccountGateway44' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.3ms)
  Rendered merge/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 18649ms (Views: 72.1ms)


Completed 200 OK in 18649ms (Views: 72.1ms)


Started GET "/" for 192.168.5.26 at 2017-08-04 10:42:06 +0800
Started GET "/" for 192.168.5.26 at 2017-08-04 10:42:06 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.6ms)
  Rendered builder/index.html.erb within layouts/application (3.6ms)
Completed 200 OK in 98ms (Views: 62.3ms)


Completed 200 OK in 98ms (Views: 62.3ms)


Started POST "/start" for 192.168.5.26 at 2017-08-04 10:42:11 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-04 10:42:11 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170803-修改催收跑批处理条数", "branch"=>"20170803-修改催收跑批处理条数", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"md/2wkb2KzvlNmTeR4hzVC8pCmrOq4GM4o6VAqVwJ1pAyHIG/uE2Rid9QEdoi87fh/KB9lNUm/7wXLqxr7k2XA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170803-修改催收跑批处理条数", "branch"=>"20170803-修改催收跑批处理条数", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"md/2wkb2KzvlNmTeR4hzVC8pCmrOq4GM4o6VAqVwJ1pAyHIG/uE2Rid9QEdoi87fh/KB9lNUm/7wXLqxr7k2XA=="}
Filter chain halted as #<Proc:0x00000004d549f0@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Filter chain halted as #<Proc:0x00000004d549f0@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Completed 401 Unauthorized in 2ms


Completed 401 Unauthorized in 2ms


Started POST "/start" for 192.168.5.26 at 2017-08-04 10:42:11 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-04 10:42:11 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170803-修改催收跑批处理条数", "branch"=>"20170803-修改催收跑批处理条数", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"md/2wkb2KzvlNmTeR4hzVC8pCmrOq4GM4o6VAqVwJ1pAyHIG/uE2Rid9QEdoi87fh/KB9lNUm/7wXLqxr7k2XA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170803-修改催收跑批处理条数", "branch"=>"20170803-修改催收跑批处理条数", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"md/2wkb2KzvlNmTeR4hzVC8pCmrOq4GM4o6VAqVwJ1pAyHIG/uE2Rid9QEdoi87fh/KB9lNUm/7wXLqxr7k2XA=="}
pid is 12237
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260' -e qishanqing@dafy.com -E '' -b $'20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170803-修改催收跑批处理条数'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170803-修改催收跑批处理条数'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170803-修改催收跑批处理条数'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170803-修改催收跑批处理条数'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260' -e qishanqing@dafy.com -E '' -b $'20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170803-修改催收跑批处理条数: command not found
++ for y in '$trunk'
++ echo $'20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260'
+ trunks=$'20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260'
+ test del = add
+ delbranch
+ '[' -z $'20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170804
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708041042
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170804-20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260/Develop/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708041042-20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170804-20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260/Develop/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260'
++ awk -F / '{print $7}'
+ br=$'20170804-20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260'
+ access=$'20170804-20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708041042-20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.12237
+ echo $'https://192.168.0.220/svn/tech/Branch/20170803-\344\277\256\346\224\271\345\202\254\346\224\266\350\267\221\346\211\271\345\244\204\347\220\206\346\235\241\346\225\260'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170803-修改催收跑批处理条数%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170803-修改催收跑批处理条数%'\'';'
+ cat /tmp/cmdb.db.12237
+ rm -f /tmp/cmdb.db.12237
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.7ms)
  Rendered builder/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 3186ms (Views: 483.4ms)


Completed 200 OK in 3186ms (Views: 483.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-04 10:43:53 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-04 10:43:53 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.8ms)
  Rendered builder/index.html.erb within layouts/application (3.8ms)
Completed 200 OK in 83ms (Views: 79.1ms)


Completed 200 OK in 83ms (Views: 79.1ms)


Started POST "/start" for 192.168.5.26 at 2017-08-04 10:43:57 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-04 10:43:57 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170719-商品标签管理新需求", "branch"=>"20170719-商品标签管理新需求", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"9A7cHYz0TGM+TrZuwiQHJBYomzEK5wU0ZzcVC6JbYnktGVjZNONRHvwFkvftJ7qvvvMQrZcYH0Z15Tq4qJJzfw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170719-商品标签管理新需求", "branch"=>"20170719-商品标签管理新需求", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"9A7cHYz0TGM+TrZuwiQHJBYomzEK5wU0ZzcVC6JbYnktGVjZNONRHvwFkvftJ7qvvvMQrZcYH0Z15Tq4qJJzfw=="}
pid is 12301
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202' -e qishanqing@dafy.com -E '' -b $'20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170719-商品标签管理新需求'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170719-商品标签管理新需求'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170719-商品标签管理新需求'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170719-商品标签管理新需求'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202' -e qishanqing@dafy.com -E '' -b $'20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170719-商品标签管理新需求: command not found
++ for y in '$trunk'
++ echo $'20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202'
+ trunks=$'20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202'
+ test del = add
+ delbranch
+ '[' -z $'20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170804
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708041043
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170804-20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708041043-20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170804-20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202/Develop/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202'
++ awk -F / '{print $7}'
+ br=$'20170804-20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202'
+ access=$'20170804-20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708041043-20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.12301
+ echo $'https://192.168.0.220/svn/tech/Branch/20170719-\345\225\206\345\223\201\346\240\207\347\255\276\347\256\241\347\220\206\346\226\260\351\234\200\346\261\202'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170719-商品标签管理新需求%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170719-商品标签管理新需求%'\'';'
+ cat /tmp/cmdb.db.12301
+ rm -f /tmp/cmdb.db.12301
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.4ms)
  Rendered builder/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 1599ms (Views: 54.8ms)


Completed 200 OK in 1599ms (Views: 54.8ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-04 10:44:31 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-04 10:44:31 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (14.9ms)
  Rendered builder/index.html.erb within layouts/application (14.9ms)
Completed 200 OK in 132ms (Views: 130.4ms)


Completed 200 OK in 132ms (Views: 130.4ms)


Started POST "/start" for 192.168.5.26 at 2017-08-04 10:44:35 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-04 10:44:35 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170724-新增项目", "branch"=>"20170724-新增项目", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"o+NH+iR68uQ9EbdQKCK5crzzHD09naDSLoo8qHNDoIt69MM+nG3vmf9ak8kHIQT5FCiXoaBiuqA8WBMbeYqxjQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170724-新增项目", "branch"=>"20170724-新增项目", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"o+NH+iR68uQ9EbdQKCK5crzzHD09naDSLoo8qHNDoIt69MM+nG3vmf9ak8kHIQT5FCiXoaBiuqA8WBMbeYqxjQ=="}
pid is 12355
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170724-\346\226\260\345\242\236\351\241\271\347\233\256' -e qishanqing@dafy.com -E '' -b $'20170724-\346\226\260\345\242\236\351\241\271\347\233\256' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170724-新增项目'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170724-新增项目'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170724-新增项目'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170724-新增项目'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170724-\346\226\260\345\242\236\351\241\271\347\233\256' -e qishanqing@dafy.com -E '' -b $'20170724-\346\226\260\345\242\236\351\241\271\347\233\256' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170724-\346\226\260\345\242\236\351\241\271\347\233\256'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170724-\346\226\260\345\242\236\351\241\271\347\233\256'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170724-\346\226\260\345\242\236\351\241\271\347\233\256'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170724-新增项目: command not found
++ for y in '$trunk'
++ echo $'20170724-\346\226\260\345\242\236\351\241\271\347\233\256'
+ trunks=$'20170724-\346\226\260\345\242\236\351\241\271\347\233\256'
+ test del = add
+ delbranch
+ '[' -z $'20170724-\346\226\260\345\242\236\351\241\271\347\233\256' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170804
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708041044
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170724-\346\226\260\345\242\236\351\241\271\347\233\256'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170804-20170724-\346\226\260\345\242\236\351\241\271\347\233\256/Develop/20170724-\346\226\260\345\242\236\351\241\271\347\233\256'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170724-\346\226\260\345\242\236\351\241\271\347\233\256'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708041044-20170724-\346\226\260\345\242\236\351\241\271\347\233\256'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170804-20170724-\346\226\260\345\242\236\351\241\271\347\233\256/Develop/20170724-\346\226\260\345\242\236\351\241\271\347\233\256'
++ awk -F / '{print $7}'
+ br=$'20170804-20170724-\346\226\260\345\242\236\351\241\271\347\233\256'
+ access=$'20170804-20170724-\346\226\260\345\242\236\351\241\271\347\233\256'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170724-\346\226\260\345\242\236\351\241\271\347\233\256' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708041044-20170724-\346\226\260\345\242\236\351\241\271\347\233\256' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.12355
+ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\346\226\260\345\242\236\351\241\271\347\233\256'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170724-新增项目%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170724-新增项目%'\'';'
+ cat /tmp/cmdb.db.12355
+ rm -f /tmp/cmdb.db.12355
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 2069ms (Views: 47.8ms)


Completed 200 OK in 2069ms (Views: 47.8ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-04 10:44:49 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-04 10:44:49 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.6ms)
  Rendered builder/index.html.erb within layouts/application (4.6ms)
Completed 200 OK in 94ms (Views: 91.6ms)


Completed 200 OK in 94ms (Views: 91.6ms)


Started POST "/start" for 192.168.5.26 at 2017-08-04 10:44:53 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-04 10:44:53 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170719-售后说明更换", "branch"=>"20170719-售后说明更换", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"QZUIcwgKvWhwAkq+9Yp00qwyjEAOQd+XOS2LEKhomjWYgoy3sB2gFbJJbifaiclZBOkH3JO+xeUr/6SjoqGLMw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170719-售后说明更换", "branch"=>"20170719-售后说明更换", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"QZUIcwgKvWhwAkq+9Yp00qwyjEAOQd+XOS2LEKhomjWYgoy3sB2gFbJJbifaiclZBOkH3JO+xeUr/6SjoqGLMw=="}
pid is 12383
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242' -e qishanqing@dafy.com -E '' -b $'20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170719-售后说明更换'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170719-售后说明更换'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170719-售后说明更换'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170719-售后说明更换'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242' -e qishanqing@dafy.com -E '' -b $'20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170719-售后说明更换: command not found
++ for y in '$trunk'
++ echo $'20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242'
+ trunks=$'20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242'
+ test del = add
+ delbranch
+ '[' -z $'20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170804
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708041044
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170804-20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708041044-20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170804-20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242/Develop/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242'
++ awk -F / '{print $7}'
+ br=$'20170804-20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242'
+ access=$'20170804-20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708041044-20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.12383
+ echo $'https://192.168.0.220/svn/tech/Branch/20170719-\345\224\256\345\220\216\350\257\264\346\230\216\346\233\264\346\215\242'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170719-售后说明更换%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170719-售后说明更换%'\'';'
+ cat /tmp/cmdb.db.12383
+ rm -f /tmp/cmdb.db.12383
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.1ms)
  Rendered builder/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 5621ms (Views: 66.6ms)


Completed 200 OK in 5621ms (Views: 66.6ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-04 10:50:06 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-04 10:50:06 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (28.1ms)
  Rendered builder/index.html.erb within layouts/application (28.1ms)
Completed 200 OK in 153ms (Views: 149.5ms)


Completed 200 OK in 153ms (Views: 149.5ms)


Started POST "/start" for 192.168.5.26 at 2017-08-04 10:50:11 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-04 10:50:11 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170727-采购管理SKU管理优化", "branch"=>"20170727-采购管理SKU管理优化", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"6yXR2DuurphQCXzxYN19yzfI+BHgFpo5Qouxc/TIWbEyMlUcg7mz5ZJCWGhP3sBAnxNzjX3pgEtQWZ7A/gFItw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170727-采购管理SKU管理优化", "branch"=>"20170727-采购管理SKU管理优化", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"6yXR2DuurphQCXzxYN19yzfI+BHgFpo5Qouxc/TIWbEyMlUcg7mz5ZJCWGhP3sBAnxNzjX3pgEtQWZ7A/gFItw=="}
pid is 12551
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226' -e qishanqing@dafy.com -E '' -b $'20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170727-采购管理SKU管理优化'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170727-采购管理SKU管理优化'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170727-采购管理SKU管理优化'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170727-采购管理SKU管理优化'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226' -e qishanqing@dafy.com -E '' -b $'20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170727-采购管理SKU管理优化: command not found
++ for y in '$trunk'
++ echo $'20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226'
+ trunks=$'20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226'
+ test del = add
+ delbranch
+ '[' -z $'20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170804
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708041050
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170804-20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708041050-20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170804-20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226/Develop/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226'
++ awk -F / '{print $7}'
+ br=$'20170804-20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226'
+ access=$'20170804-20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708041050-20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.12551
+ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\351\207\207\350\264\255\347\256\241\347\220\206SKU\347\256\241\347\220\206\344\274\230\345\214\226'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170727-采购管理SKU管理优化%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170727-采购管理SKU管理优化%'\'';'
+ cat /tmp/cmdb.db.12551
+ rm -f /tmp/cmdb.db.12551
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.3ms)
  Rendered builder/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 2298ms (Views: 70.6ms)


Completed 200 OK in 2298ms (Views: 70.6ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-04 11:15:03 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-04 11:15:03 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.7ms)
  Rendered builder/index.html.erb within layouts/application (3.7ms)
Completed 200 OK in 127ms (Views: 124.0ms)


Completed 200 OK in 127ms (Views: 124.0ms)


Started POST "/start" for 192.168.5.26 at 2017-08-04 11:15:53 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-04 11:15:53 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"zhangjunjie@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Gateway/SzsSDK", "branch"=>"石嘴山网关SDK调整", "user"=>"zhangjunjie", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"PyVsecwGDvROPhlZEd7+UMfQ1b2g5n+d18kMJxaUZiHmMui9dBETiYx1PcA+3UPbbwteIT0ZZe/FGyOUHF13Jw=="}
  Parameters: {"email"=>"zhangjunjie@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Gateway/SzsSDK", "branch"=>"石嘴山网关SDK调整", "user"=>"zhangjunjie", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"PyVsecwGDvROPhlZEd7+UMfQ1b2g5n+d18kMJxaUZiHmMui9dBETiYx1PcA+3UPbbwteIT0ZZe/FGyOUHF13Jw=="}
pid is 13633
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u zhangjunjie -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Gateway/SzsSDK' -e zhangjunjie@dafy.com -E '' -b $'\347\237\263\345\230\264\345\261\261\347\275\221\345\205\263SDK\350\260\203\346\225\264' -T add -d ''
+ TEMP=' -u '\''zhangjunjie'\'' -t '\''外部业务/P2P/Gateway/SzsSDK'\'' -e '\''zhangjunjie@dafy.com'\'' -E '\'''\'' -b '\''石嘴山网关SDK调整'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''zhangjunjie'\'' -t '\''外部业务/P2P/Gateway/SzsSDK'\'' -e '\''zhangjunjie@dafy.com'\'' -E '\'''\'' -b '\''石嘴山网关SDK调整'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u zhangjunjie -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Gateway/SzsSDK' -e zhangjunjie@dafy.com -E '' -b $'\347\237\263\345\230\264\345\261\261\347\275\221\345\205\263SDK\350\260\203\346\225\264' -T add -d '' --
+ true
+ case "$1" in
+ user=zhangjunjie
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Gateway/SzsSDK'
+ shift 2
+ true
+ case "$1" in
+ email=zhangjunjie@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\347\237\263\345\230\264\345\261\261\347\275\221\345\205\263SDK\350\260\203\346\225\264'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=zhangjunjie@dafy.com '
+ SMARTCM_EXTRA_MAIL='zhangjunjie@dafy.com '
++ zhangjunjie
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: zhangjunjie: command not found
++ for x in '$user'
++ echo zhangjunjie=rw
+ users=zhangjunjie=rw
++ $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Gateway/SzsSDK'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 外部业务/P2P/Gateway/SzsSDK: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Gateway/SzsSDK'
+ trunks=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Gateway/SzsSDK'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Gateway/SzsSDK' ']'
+ '[' -z $'\347\237\263\345\230\264\345\261\261\347\275\221\345\205\263SDK\350\260\203\346\225\264' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170804
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708041115
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Gateway/SzsSDK'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170804-\347\237\263\345\230\264\345\261\261\347\275\221\345\205\263SDK\350\260\203\346\225\264/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Gateway/SzsSDK'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\347\237\263\345\230\264\345\261\261\347\275\221\345\205\263SDK\350\260\203\346\225\264'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708041115-\347\237\263\345\230\264\345\261\261\347\275\221\345\205\263SDK\350\260\203\346\225\264'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170804-\347\237\263\345\230\264\345\261\261\347\275\221\345\205\263SDK\350\260\203\346\225\264/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Gateway/SzsSDK'
++ awk -F / '{print $7}'
+ br=$'20170804-\347\237\263\345\230\264\345\261\261\347\275\221\345\205\263SDK\350\260\203\346\225\264'
+ access=$'20170804-\347\237\263\345\230\264\345\261\261\347\275\221\345\205\263SDK\350\260\203\346\225\264'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Gateway/SzsSDK' $'https://192.168.0.220/svn/tech/Branch/20170804-\347\237\263\345\230\264\345\261\261\347\275\221\345\205\263SDK\350\260\203\346\225\264/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Gateway/SzsSDK' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.13633
+ echo $'https://192.168.0.220/svn/tech/Branch/20170804-\347\237\263\345\230\264\345\261\261\347\275\221\345\205\263SDK\350\260\203\346\225\264/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Gateway/SzsSDK'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Gateway/SzsSDK'\'', '\''https://192.168.0.220/svn/tech/Branch/20170804-石嘴山网关SDK调整/Develop/外部业务/P2P/Gateway/SzsSDK'\'',now(),'\''zhangjunjie'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Gateway/SzsSDK'\'', '\''https://192.168.0.220/svn/tech/Branch/20170804-石嘴山网关SDK调整/Develop/外部业务/P2P/Gateway/SzsSDK'\'',now(),'\''zhangjunjie'\'');'
+ cat /tmp/cmdb.db.13633
+ rm -f /tmp/cmdb.db.13633
+ check-acces
+ grep -c '20170804-石嘴山网关SDK调整]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z zhangjunjie=rw
+ cat
+ cat
+ read num
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ cat
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.4ms)
  Rendered builder/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 4833ms (Views: 94.5ms)


Completed 200 OK in 4833ms (Views: 94.5ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-04 13:37:20 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-04 13:37:20 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.3ms)
  Rendered builder/index.html.erb within layouts/application (4.3ms)
Completed 200 OK in 561ms (Views: 558.4ms)


Completed 200 OK in 561ms (Views: 558.4ms)


Started POST "/start" for 192.168.5.26 at 2017-08-04 13:38:25 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-04 13:38:25 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"liuxuxing@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/BorrowBusiness2", "branch"=>"红玲创投交易", "user"=>"liuxuxing huqiangsheng", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"VOxLaoyJtGlq+dmyl3kcJrcwejuPjrJFErg4M2PtXlON+8+uNJ6pFKiy/Su4eqGtH+vxpxJxqDcAaheAaSRPVQ=="}
  Parameters: {"email"=>"liuxuxing@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/BorrowBusiness2", "branch"=>"红玲创投交易", "user"=>"liuxuxing huqiangsheng", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"VOxLaoyJtGlq+dmyl3kcJrcwejuPjrJFErg4M2PtXlON+8+uNJ6pFKiy/Su4eqGtH+vxpxJxqDcAaheAaSRPVQ=="}
pid is 17843
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'liuxuxing huqiangsheng' -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' -e liuxuxing@dafy.com -E '' -b $'\347\272\242\347\216\262\345\210\233\346\212\225\344\272\244\346\230\223' -T add -d ''
+ TEMP=' -u '\''liuxuxing huqiangsheng'\'' -t '\''外部业务/P2P/Business/BorrowBusiness2'\'' -e '\''liuxuxing@dafy.com'\'' -E '\'''\'' -b '\''红玲创投交易'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''liuxuxing huqiangsheng'\'' -t '\''外部业务/P2P/Business/BorrowBusiness2'\'' -e '\''liuxuxing@dafy.com'\'' -E '\'''\'' -b '\''红玲创投交易'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'liuxuxing huqiangsheng' -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' -e liuxuxing@dafy.com -E '' -b $'\347\272\242\347\216\262\345\210\233\346\212\225\344\272\244\346\230\223' -T add -d '' --
+ true
+ case "$1" in
+ user='liuxuxing huqiangsheng'
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ shift 2
+ true
+ case "$1" in
+ email=liuxuxing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\347\272\242\347\216\262\345\210\233\346\212\225\344\272\244\346\230\223'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=liuxuxing@dafy.com '
+ SMARTCM_EXTRA_MAIL='liuxuxing@dafy.com '
++ liuxuxing huqiangsheng
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: liuxuxing: command not found
++ for x in '$user'
++ echo liuxuxing=rw
++ for x in '$user'
++ echo huqiangsheng=rw
+ users='liuxuxing=rw
huqiangsheng=rw'
++ $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 外部业务/P2P/Business/BorrowBusiness2: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ trunks=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' ']'
+ '[' -z $'\347\272\242\347\216\262\345\210\233\346\212\225\344\272\244\346\230\223' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170804
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708041338
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170804-\347\272\242\347\216\262\345\210\233\346\212\225\344\272\244\346\230\223/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\347\272\242\347\216\262\345\210\233\346\212\225\344\272\244\346\230\223'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708041338-\347\272\242\347\216\262\345\210\233\346\212\225\344\272\244\346\230\223'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170804-\347\272\242\347\216\262\345\210\233\346\212\225\344\272\244\346\230\223/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ awk -F / '{print $7}'
+ br=$'20170804-\347\272\242\347\216\262\345\210\233\346\212\225\344\272\244\346\230\223'
+ access=$'20170804-\347\272\242\347\216\262\345\210\233\346\212\225\344\272\244\346\230\223'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' $'https://192.168.0.220/svn/tech/Branch/20170804-\347\272\242\347\216\262\345\210\233\346\212\225\344\272\244\346\230\223/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.17843
+ echo $'https://192.168.0.220/svn/tech/Branch/20170804-\347\272\242\347\216\262\345\210\233\346\212\225\344\272\244\346\230\223/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BorrowBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170804-红玲创投交易/Develop/外部业务/P2P/Business/BorrowBusiness2'\'',now(),'\''liuxuxing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BorrowBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170804-红玲创投交易/Develop/外部业务/P2P/Business/BorrowBusiness2'\'',now(),'\''liuxuxing'\'');'
+ cat /tmp/cmdb.db.17843
+ rm -f /tmp/cmdb.db.17843
+ check-acces
+ grep -c '20170804-红玲创投交易]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z 'liuxuxing=rw
huqiangsheng=rw'
+ cat
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 7235ms (Views: 63.6ms)


Completed 200 OK in 7235ms (Views: 63.6ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-04 14:49:16 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-04 14:49:16 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.0ms)
  Rendered builder/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 221ms (Views: 218.2ms)


Completed 200 OK in 221ms (Views: 218.2ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-04 14:49:18 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-04 14:49:18 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (2.6ms)
  Rendered merge/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 161ms (Views: 151.3ms)


Completed 200 OK in 161ms (Views: 151.3ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-04 14:49:35 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-04 14:49:35 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170731-退款定时任务修改/Develop/分期商城/分期商城3.0/MallRefundBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42940.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"b7FSgZGJ613cYb2XzUHJ0soz1CS/D4RmF15SoBmh1WS2ptZFKZ72IB4qmQ7iQnRZYuhfuCLwnhQFjH0TE2jEYg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170731-退款定时任务修改/Develop/分期商城/分期商城3.0/MallRefundBusiness", "task"=>"http://192.168.0.221/zentao/task-view-42940.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"b7FSgZGJ613cYb2XzUHJ0soz1CS/D4RmF15SoBmh1WS2ptZFKZ72IB4qmQ7iQnRZYuhfuCLwnhQFjH0TE2jEYg=="}
pid is 20256
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-42940.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170731-退款定时任务修改/Develop/分期商城/分期商城3.0/MallRefundBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-42940.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170731-退款定时任务修改/Develop/分期商城/分期商城3.0/MallRefundBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-42940.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170731-退款定时任务修改/Develop/分期商城/分期商城3.0/MallRefundBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-42940.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170731-退款定时任务修改/Develop/分期商城/分期商城3.0/MallRefundBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-42940.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170731-退款定时任务修改/Develop/分期商城/分期商城3.0/MallRefundBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness' $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness
https://192.168.0.220/svn/tech/Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallManager
https://192.168.0.220/svn/tech/Branch/20170731-退款定时任务修改/Develop/分期商城/分期商城3.0/MallRefundBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.20256
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ mails-cm -i 'code merged from Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ awk -F '|' '{print$1}'
+ revision='r132857 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132838 '
+ '[' '!' -z r132857 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness@r132857' $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness@r132857' $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42940.html
Merged revision(s) r132857 -r132838   from Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallTaskBusiness' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ rm -f /home/qishanqing/tmp/merged/output.20256
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallManager'
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r132832 '
+ '[' '!' -z ']'
++ grep '^r'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ tail -n 4
++ awk -F '|' '{print$1}'
+ revision='r132537 '
+ '[' '!' -z r132537 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager@r132537' $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager@r132537' $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42940.html
Merged revision(s) r132537 -r132832   from Branch/20170731-退款修改/Develop/分期商城/分期商城3.0/MallManager' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.20256
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170731-退款定时任务修改/Develop/分期商城/分期商城3.0/MallRefundBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r132833 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
++ grep '^r'
++ tail -n 4
++ awk -F '|' '{print$1}'
+ revision='r132516 '
+ '[' '!' -z r132516 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness@r132516' $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness@r132516' $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-42940.html
Merged revision(s) r132516 -r132833   from Branch/20170731-退款定时任务修改/Develop/分期商城/分期商城3.0/MallRefundBusiness' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (2.0ms)
  Rendered merge/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 76096ms (Views: 87.3ms)


Completed 200 OK in 76096ms (Views: 87.3ms)


Started POST "/start" for 192.168.5.26 at 2017-08-04 14:52:39 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-04 14:52:39 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170731-退款修改", "branch"=>"20170731-退款修改", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"qkT01EjVvxhkznfXyxLEKkHfRPqCtD9selym5a10k4NzU3AQ8MKiZaaFU07kEXmh6QTPZh9LJR5ojolWp72ChQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170731-退款修改", "branch"=>"20170731-退款修改", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"qkT01EjVvxhkznfXyxLEKkHfRPqCtD9selym5a10k4NzU3AQ8MKiZaaFU07kEXmh6QTPZh9LJR5ojolWp72ChQ=="}
pid is 20504
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170731-\351\200\200\346\254\276\344\277\256\346\224\271' -e qishanqing@dafy.com -E '' -b $'20170731-\351\200\200\346\254\276\344\277\256\346\224\271' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170731-退款修改'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170731-退款修改'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170731-退款修改'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170731-退款修改'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170731-\351\200\200\346\254\276\344\277\256\346\224\271' -e qishanqing@dafy.com -E '' -b $'20170731-\351\200\200\346\254\276\344\277\256\346\224\271' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170731-\351\200\200\346\254\276\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170731-\351\200\200\346\254\276\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170731-\351\200\200\346\254\276\344\277\256\346\224\271'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170731-退款修改: command not found
++ for y in '$trunk'
++ echo $'20170731-\351\200\200\346\254\276\344\277\256\346\224\271'
+ trunks=$'20170731-\351\200\200\346\254\276\344\277\256\346\224\271'
+ test del = add
+ delbranch
+ '[' -z $'20170731-\351\200\200\346\254\276\344\277\256\346\224\271' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170804
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708041452
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170731-\351\200\200\346\254\276\344\277\256\346\224\271'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170804-20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/20170731-\351\200\200\346\254\276\344\277\256\346\224\271'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708041452-20170731-\351\200\200\346\254\276\344\277\256\346\224\271'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170804-20170731-\351\200\200\346\254\276\344\277\256\346\224\271/Develop/20170731-\351\200\200\346\254\276\344\277\256\346\224\271'
++ awk -F / '{print $7}'
+ br=$'20170804-20170731-\351\200\200\346\254\276\344\277\256\346\224\271'
+ access=$'20170804-20170731-\351\200\200\346\254\276\344\277\256\346\224\271'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708041452-20170731-\351\200\200\346\254\276\344\277\256\346\224\271' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.20504
+ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\344\277\256\346\224\271'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170731-退款修改%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170731-退款修改%'\'';'
+ cat /tmp/cmdb.db.20504
+ rm -f /tmp/cmdb.db.20504
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.6ms)
  Rendered builder/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 1066ms (Views: 76.0ms)


Completed 200 OK in 1066ms (Views: 76.0ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-04 14:52:50 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-04 14:52:50 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.1ms)
  Rendered builder/index.html.erb within layouts/application (3.1ms)
Completed 200 OK in 59ms (Views: 57.2ms)


Completed 200 OK in 59ms (Views: 57.2ms)


Started POST "/start" for 192.168.5.26 at 2017-08-04 14:52:54 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-04 14:52:54 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170731-退款定时任务修改", "branch"=>"20170731-退款定时任务修改", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"TAeaU4qQ9C9dzwRl+YRjZAb3RIHiwexHT5E5MrCG8NyVEB6XMofpUp+EIPzWh97vrizPHX8+9jVdQxaBuk/h2g=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170731-退款定时任务修改", "branch"=>"20170731-退款定时任务修改", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"TAeaU4qQ9C9dzwRl+YRjZAb3RIHiwexHT5E5MrCG8NyVEB6XMofpUp+EIPzWh97vrizPHX8+9jVdQxaBuk/h2g=="}
pid is 20532
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271' -e qishanqing@dafy.com -E '' -b $'20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170731-退款定时任务修改'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170731-退款定时任务修改'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170731-退款定时任务修改'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170731-退款定时任务修改'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271' -e qishanqing@dafy.com -E '' -b $'20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170731-退款定时任务修改: command not found
++ for y in '$trunk'
++ echo $'20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271'
+ trunks=$'20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271'
+ test del = add
+ delbranch
+ '[' -z $'20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170804
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708041452
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170804-20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271/Develop/20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708041452-20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170804-20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271/Develop/20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271'
++ awk -F / '{print $7}'
+ br=$'20170804-20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271'
+ access=$'20170804-20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708041452-20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.20532
+ echo $'https://192.168.0.220/svn/tech/Branch/20170731-\351\200\200\346\254\276\345\256\232\346\227\266\344\273\273\345\212\241\344\277\256\346\224\271'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170731-退款定时任务修改%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170731-退款定时任务修改%'\'';'
+ cat /tmp/cmdb.db.20532
+ rm -f /tmp/cmdb.db.20532
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.1ms)
  Rendered builder/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 748ms (Views: 48.3ms)


Completed 200 OK in 748ms (Views: 48.3ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-08-04 17:13:33 +0800
Started GET "/merge/new" for 192.168.5.26 at 2017-08-04 17:13:33 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
Filter chain halted as #<Proc:0x007fa6201d6028@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Filter chain halted as #<Proc:0x007fa6201d6028@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Completed 401 Unauthorized in 16ms


Completed 401 Unauthorized in 16ms


Started GET "/start" for 192.168.5.26 at 2017-08-04 17:13:33 +0800
Started GET "/start" for 192.168.5.26 at 2017-08-04 17:13:33 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  
  
ActionController::RoutingError (No route matches [GET] "/start"):
ActionController::RoutingError (No route matches [GET] "/start"):
  
  
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/merge/new" for 192.168.5.26 at 2017-08-04 17:13:45 +0800
Started GET "/merge/new" for 192.168.5.26 at 2017-08-04 17:13:45 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (5.0ms)
  Rendered merge/index.html.erb within layouts/application (5.0ms)
Completed 200 OK in 117ms (Views: 115.7ms)


Completed 200 OK in 117ms (Views: 115.7ms)


Started GET "/" for 192.168.5.26 at 2017-08-04 17:13:52 +0800
Started GET "/" for 192.168.5.26 at 2017-08-04 17:13:52 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.8ms)
  Rendered builder/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 91ms (Views: 63.7ms)


Completed 200 OK in 91ms (Views: 63.7ms)


Started POST "/start" for 192.168.5.26 at 2017-08-04 17:16:01 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-04 17:16:01 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"anliguo@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage", "branch"=>"达分期线上支付", "user"=>"jiawenjing liyanshu \tliangtaoli anliguo", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"G3Yui3665+xKBuwK3n5VX+ZgJGfEdOFPGnk8MvJaKYyXQm4szM4PEDr65k5e4Z2782r4RkPOYkjkWmwVt8f+VA=="}
  Parameters: {"email"=>"anliguo@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage", "branch"=>"达分期线上支付", "user"=>"jiawenjing liyanshu \tliangtaoli anliguo", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"G3Yui3665+xKBuwK3n5VX+ZgJGfEdOFPGnk8MvJaKYyXQm4szM4PEDr65k5e4Z2782r4RkPOYkjkWmwVt8f+VA=="}
Filter chain halted as #<Proc:0x00000004d549f0@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Filter chain halted as #<Proc:0x00000004d549f0@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Completed 401 Unauthorized in 2ms


Completed 401 Unauthorized in 2ms


Started POST "/start" for 192.168.5.26 at 2017-08-04 17:16:01 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-04 17:16:01 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"anliguo@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage", "branch"=>"达分期线上支付", "user"=>"jiawenjing liyanshu \tliangtaoli anliguo", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"G3Yui3665+xKBuwK3n5VX+ZgJGfEdOFPGnk8MvJaKYyXQm4szM4PEDr65k5e4Z2782r4RkPOYkjkWmwVt8f+VA=="}
  Parameters: {"email"=>"anliguo@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage", "branch"=>"达分期线上支付", "user"=>"jiawenjing liyanshu \tliangtaoli anliguo", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"G3Yui3665+xKBuwK3n5VX+ZgJGfEdOFPGnk8MvJaKYyXQm4szM4PEDr65k5e4Z2782r4RkPOYkjkWmwVt8f+VA=="}
pid is 27696
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'jiawenjing liyanshu 	liangtaoli anliguo' -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage' -e anliguo@dafy.com -E '' -b $'\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230' -T add -d ''
+ TEMP=' -u '\''jiawenjing liyanshu 	liangtaoli anliguo'\'' -t '\''前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'' -e '\''anliguo@dafy.com'\'' -E '\'''\'' -b '\''达分期线上支付'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''jiawenjing liyanshu 	liangtaoli anliguo'\'' -t '\''前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'' -e '\''anliguo@dafy.com'\'' -E '\'''\'' -b '\''达分期线上支付'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'jiawenjing liyanshu 	liangtaoli anliguo' -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage' -e anliguo@dafy.com -E '' -b $'\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230' -T add -d '' --
+ true
+ case "$1" in
+ user='jiawenjing liyanshu 	liangtaoli anliguo'
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ shift 2
+ true
+ case "$1" in
+ email=anliguo@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=anliguo@dafy.com '
+ SMARTCM_EXTRA_MAIL='anliguo@dafy.com '
++ jiawenjing liyanshu liangtaoli anliguo
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: jiawenjing: command not found
++ for x in '$user'
++ echo jiawenjing=rw
++ for x in '$user'
++ echo liyanshu=rw
++ for x in '$user'
++ echo liangtaoli=rw
++ for x in '$user'
++ echo anliguo=rw
+ users='jiawenjing=rw
liyanshu=rw
liangtaoli=rw
anliguo=rw'
++ $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ trunks=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage' ']'
+ '[' -z $'\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170804
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708041716
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708041716-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
++ awk -F / '{print $7}'
+ br=$'20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230'
+ access=$'20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage' $'https://192.168.0.220/svn/tech/Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.27696
+ echo $'https://192.168.0.220/svn/tech/Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'', '\''https://192.168.0.220/svn/tech/Branch/20170804-达分期线上支付/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'',now(),'\''anliguo'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'', '\''https://192.168.0.220/svn/tech/Branch/20170804-达分期线上支付/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'',now(),'\''anliguo'\'');'
+ cat /tmp/cmdb.db.27696
+ rm -f /tmp/cmdb.db.27696
+ check-acces
+ grep -c '20170804-达分期线上支付]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ cat
+ test -z 'jiawenjing=rw
liyanshu=rw
liangtaoli=rw
anliguo=rw'
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.7ms)
  Rendered builder/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 13481ms (Views: 82.0ms)


Completed 200 OK in 13481ms (Views: 82.0ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-08-04 18:06:10 +0800
Started GET "/merge/new" for 192.168.5.26 at 2017-08-04 18:06:10 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
Filter chain halted as #<Proc:0x007fa6201d6028@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Filter chain halted as #<Proc:0x007fa6201d6028@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Completed 401 Unauthorized in 1ms


Completed 401 Unauthorized in 1ms


Started GET "/merge/new" for 192.168.5.26 at 2017-08-04 18:06:16 +0800
Started GET "/merge/new" for 192.168.5.26 at 2017-08-04 18:06:16 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
Filter chain halted as #<Proc:0x007fa6201d6028@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Filter chain halted as #<Proc:0x007fa6201d6028@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Completed 401 Unauthorized in 3ms


Completed 401 Unauthorized in 3ms


Started GET "/merge/new" for 192.168.5.26 at 2017-08-04 18:07:17 +0800
Started GET "/merge/new" for 192.168.5.26 at 2017-08-04 18:07:17 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (2.6ms)
  Rendered merge/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 69ms (Views: 68.4ms)


Completed 200 OK in 69ms (Views: 68.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-04 18:12:47 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-04 18:12:47 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (5.6ms)
  Rendered builder/index.html.erb within layouts/application (5.6ms)
Completed 200 OK in 84ms (Views: 78.5ms)


Completed 200 OK in 84ms (Views: 78.5ms)


Started POST "/start" for 192.168.5.26 at 2017-08-04 18:13:18 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-04 18:13:18 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"ligan@dafy.com", "types"=>"add", "trunk"=>"基础业务/用户中心/UserSite", "branch"=>"登陆改造", "user"=>"", "extra_mails"=>"", "riqi"=>"20170803", "authenticity_token"=>"qpOifdmaXE8R0KPPUtlrNMHKL4fFR1a8t9EaVkEzwGomp+Laa+60s2EsqYvSRqPQ1MDzpkL91btJ8kpxBK4Xsg=="}
  Parameters: {"email"=>"ligan@dafy.com", "types"=>"add", "trunk"=>"基础业务/用户中心/UserSite", "branch"=>"登陆改造", "user"=>"", "extra_mails"=>"", "riqi"=>"20170803", "authenticity_token"=>"qpOifdmaXE8R0KPPUtlrNMHKL4fFR1a8t9EaVkEzwGomp+Laa+60s2EsqYvSRqPQ1MDzpkL91btJ8kpxBK4Xsg=="}
pid is 30218
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite' -e ligan@dafy.com -E '' -b $'\347\231\273\351\231\206\346\224\271\351\200\240' -T add -d 20170803
+ TEMP=' -u '\'''\'' -t '\''基础业务/用户中心/UserSite'\'' -e '\''ligan@dafy.com'\'' -E '\'''\'' -b '\''登陆改造'\'' -T '\''add'\'' -d '\''20170803'\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''基础业务/用户中心/UserSite'\'' -e '\''ligan@dafy.com'\'' -E '\'''\'' -b '\''登陆改造'\'' -T '\''add'\'' -d '\''20170803'\'' --'
++ set -- -u '' -t $'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite' -e ligan@dafy.com -E '' -b $'\347\231\273\351\231\206\346\224\271\351\200\240' -T add -d 20170803 --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ shift 2
+ true
+ case "$1" in
+ email=ligan@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\347\231\273\351\231\206\346\224\271\351\200\240'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=20170803
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=ligan@dafy.com '
+ SMARTCM_EXTRA_MAIL='ligan@dafy.com '
+ users=
++ $'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 基础业务/用户中心/UserSite: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ trunks=$'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite' ']'
+ '[' -z $'\347\231\273\351\231\206\346\224\271\351\200\240' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170804
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708041813
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\347\231\273\351\231\206\346\224\271\351\200\240'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708041813-\347\231\273\351\231\206\346\224\271\351\200\240'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
++ awk -F / '{print $7}'
+ br=$'20170803-\347\231\273\351\231\206\346\224\271\351\200\240'
+ access=$'20170803-\347\231\273\351\231\206\346\224\271\351\200\240'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite' $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.30218
+ echo $'https://192.168.0.220/svn/tech/Branch/20170803-\347\231\273\351\231\206\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/基础业务/用户中心/UserSite'\'', '\''https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/基础业务/用户中心/UserSite'\'',now(),'\''ligan'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/基础业务/用户中心/UserSite'\'', '\''https://192.168.0.220/svn/tech/Branch/20170803-登陆改造/Develop/基础业务/用户中心/UserSite'\'',now(),'\''ligan'\'');'
+ cat /tmp/cmdb.db.30218
+ rm -f /tmp/cmdb.db.30218
+ check-acces
+ grep -c '20170803-登陆改造]' /mnt/svn/authz.conf
+ read num
+ '[' 1 -eq 0 ']'
++ sed '/20170803-登陆改造]/,/^[ \t]*$/!d;/20170803-登陆改造]/d;/^[ \t]*$/d' /mnt/svn/authz.conf
+ [[ ligan=rw
lijinming=rw
@admin=rw
*= =~ '' ]]
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 6859ms (Views: 92.9ms)


Completed 200 OK in 6859ms (Views: 92.9ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-07 10:03:24 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-07 10:03:24 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (52.8ms)
  Rendered builder/index.html.erb within layouts/application (52.8ms)
Completed 200 OK in 957ms (Views: 921.1ms)


Completed 200 OK in 957ms (Views: 921.1ms)


Started POST "/start" for 192.168.5.26 at 2017-08-07 10:05:07 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-07 10:05:07 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"wenshiyu@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/RepaymentBusiness2", "branch"=>"", "user"=>"wenshiyu weishaolong wanghongkai", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"w0RT5vmtttq/LsySCZbbyPOW//MMhopLlS9RoGnvKllPcBNBS9leJs/SxtaJCRMs5pwj0os8CUxrDAGHLHL9gQ=="}
  Parameters: {"email"=>"wenshiyu@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/RepaymentBusiness2", "branch"=>"", "user"=>"wenshiyu weishaolong wanghongkai", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"w0RT5vmtttq/LsySCZbbyPOW//MMhopLlS9RoGnvKllPcBNBS9leJs/SxtaJCRMs5pwj0os8CUxrDAGHLHL9gQ=="}
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.5ms)
  Rendered builder/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 72ms (Views: 70.6ms)


Completed 200 OK in 72ms (Views: 70.6ms)


Started POST "/start" for 192.168.5.26 at 2017-08-07 10:05:19 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-07 10:05:19 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/RepaymentBusiness2", "branch"=>"红岭改造", "user"=>"wenshiyu weishaolong wanghongkai", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"rxgS3Xtdlc+sfmUJUnrv98655aRUtTwnVIHDrxuB2O8jLFJ6ySl9M9yCb03S5ScT27M5hdMPvyCqopOIXhwPNw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/RepaymentBusiness2", "branch"=>"红岭改造", "user"=>"wenshiyu weishaolong wanghongkai", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"rxgS3Xtdlc+sfmUJUnrv98655aRUtTwnVIHDrxuB2O8jLFJ6ySl9M9yCb03S5ScT27M5hdMPvyCqopOIXhwPNw=="}
pid is 902
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'wenshiyu weishaolong wanghongkai' -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' -e qishanqing@dafy.com -E '' -b $'\347\272\242\345\262\255\346\224\271\351\200\240' -T add -d ''
+ TEMP=' -u '\''wenshiyu weishaolong wanghongkai'\'' -t '\''外部业务/P2P/Business/RepaymentBusiness2'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''红岭改造'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''wenshiyu weishaolong wanghongkai'\'' -t '\''外部业务/P2P/Business/RepaymentBusiness2'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''红岭改造'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'wenshiyu weishaolong wanghongkai' -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' -e qishanqing@dafy.com -E '' -b $'\347\272\242\345\262\255\346\224\271\351\200\240' -T add -d '' --
+ true
+ case "$1" in
+ user='wenshiyu weishaolong wanghongkai'
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\347\272\242\345\262\255\346\224\271\351\200\240'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
++ wenshiyu weishaolong wanghongkai
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: wenshiyu: command not found
++ for x in '$user'
++ echo wenshiyu=rw
++ for x in '$user'
++ echo weishaolong=rw
++ for x in '$user'
++ echo wanghongkai=rw
+ users='wenshiyu=rw
weishaolong=rw
wanghongkai=rw'
++ $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 外部业务/P2P/Business/RepaymentBusiness2: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ trunks=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' ']'
+ '[' -z $'\347\272\242\345\262\255\346\224\271\351\200\240' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170807
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708071005
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170807-\347\272\242\345\262\255\346\224\271\351\200\240/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\347\272\242\345\262\255\346\224\271\351\200\240'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708071005-\347\272\242\345\262\255\346\224\271\351\200\240'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170807-\347\272\242\345\262\255\346\224\271\351\200\240/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ awk -F / '{print $7}'
+ br=$'20170807-\347\272\242\345\262\255\346\224\271\351\200\240'
+ access=$'20170807-\347\272\242\345\262\255\346\224\271\351\200\240'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' $'https://192.168.0.220/svn/tech/Branch/20170807-\347\272\242\345\262\255\346\224\271\351\200\240/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.902
+ echo $'https://192.168.0.220/svn/tech/Branch/20170807-\347\272\242\345\262\255\346\224\271\351\200\240/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/RepaymentBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170807-红岭改造/Develop/外部业务/P2P/Business/RepaymentBusiness2'\'',now(),'\''qishanqing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/RepaymentBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170807-红岭改造/Develop/外部业务/P2P/Business/RepaymentBusiness2'\'',now(),'\''qishanqing'\'');'
+ cat /tmp/cmdb.db.902
+ rm -f /tmp/cmdb.db.902
+ check-acces
+ grep -c '20170807-红岭改造]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z 'wenshiyu=rw
weishaolong=rw
wanghongkai=rw'
+ cat
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 12349ms (Views: 83.2ms)


Completed 200 OK in 12349ms (Views: 83.2ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-07 10:06:00 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-07 10:06:00 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.5ms)
  Rendered builder/index.html.erb within layouts/application (3.5ms)
Completed 200 OK in 338ms (Views: 335.6ms)


Completed 200 OK in 338ms (Views: 335.6ms)


Started POST "/start" for 192.168.5.26 at 2017-08-07 10:06:46 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-07 10:06:46 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"niutieliang@dafy.com", "types"=>"add", "trunk"=>"事事分期/卓越线上理财/LendBusiness", "branch"=>"区块链", "user"=>"niutieliang", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"UqgNyfIBd0lnq3C3+qf9BVktlMJLObqio+vUcAmrkYvenE1uQHWftRdXevN6ODXhTCdI48yDOaVdyIRXTDZGUw=="}
  Parameters: {"email"=>"niutieliang@dafy.com", "types"=>"add", "trunk"=>"事事分期/卓越线上理财/LendBusiness", "branch"=>"区块链", "user"=>"niutieliang", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"UqgNyfIBd0lnq3C3+qf9BVktlMJLObqio+vUcAmrkYvenE1uQHWftRdXevN6ODXhTCdI48yDOaVdyIRXTDZGUw=="}
pid is 977
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u niutieliang -t $'\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness' -e niutieliang@dafy.com -E '' -b $'\345\214\272\345\235\227\351\223\276' -T add -d ''
+ TEMP=' -u '\''niutieliang'\'' -t '\''事事分期/卓越线上理财/LendBusiness'\'' -e '\''niutieliang@dafy.com'\'' -E '\'''\'' -b '\''区块链'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''niutieliang'\'' -t '\''事事分期/卓越线上理财/LendBusiness'\'' -e '\''niutieliang@dafy.com'\'' -E '\'''\'' -b '\''区块链'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u niutieliang -t $'\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness' -e niutieliang@dafy.com -E '' -b $'\345\214\272\345\235\227\351\223\276' -T add -d '' --
+ true
+ case "$1" in
+ user=niutieliang
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness'
+ shift 2
+ true
+ case "$1" in
+ email=niutieliang@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\345\214\272\345\235\227\351\223\276'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=niutieliang@dafy.com '
+ SMARTCM_EXTRA_MAIL='niutieliang@dafy.com '
++ niutieliang
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: niutieliang: command not found
++ for x in '$user'
++ echo niutieliang=rw
+ users=niutieliang=rw
++ $'\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 事事分期/卓越线上理财/LendBusiness: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness'
+ trunks=$'\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness' ']'
+ '[' -z $'\345\214\272\345\235\227\351\223\276' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170807
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708071006
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170807-\345\214\272\345\235\227\351\223\276/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\214\272\345\235\227\351\223\276'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708071006-\345\214\272\345\235\227\351\223\276'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170807-\345\214\272\345\235\227\351\223\276/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness'
++ awk -F / '{print $7}'
+ br=$'20170807-\345\214\272\345\235\227\351\223\276'
+ access=$'20170807-\345\214\272\345\235\227\351\223\276'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness' $'https://192.168.0.220/svn/tech/Branch/20170807-\345\214\272\345\235\227\351\223\276/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.977
+ echo $'https://192.168.0.220/svn/tech/Branch/20170807-\345\214\272\345\235\227\351\223\276/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/\345\215\223\350\266\212\347\272\277\344\270\212\347\220\206\350\264\242/LendBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/事事分期/卓越线上理财/LendBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170807-区块链/Develop/事事分期/卓越线上理财/LendBusiness'\'',now(),'\''niutieliang'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/事事分期/卓越线上理财/LendBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170807-区块链/Develop/事事分期/卓越线上理财/LendBusiness'\'',now(),'\''niutieliang'\'');'
+ cat /tmp/cmdb.db.977
+ rm -f /tmp/cmdb.db.977
+ check-acces
+ grep -c '20170807-区块链]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z niutieliang=rw
+ cat
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.3ms)
  Rendered builder/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 5172ms (Views: 80.1ms)


Completed 200 OK in 5172ms (Views: 80.1ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-07 10:31:32 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-07 10:31:32 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManageOrderBusiness", "task"=>"http://192.168.0.221/zentao/task-view-43185.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"pDG08xNF0h7wkpkHq79pSB4Voo7eMC+wCL1I3CE0cqLW7wg6ipn8XAztTyFph04nZ9KfL4V6C/RrMPC4Nz6a0A=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManageOrderBusiness", "task"=>"http://192.168.0.221/zentao/task-view-43185.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"pDG08xNF0h7wkpkHq79pSB4Voo7eMC+wCL1I3CE0cqLW7wg6ipn8XAztTyFph04nZ9KfL4V6C/RrMPC4Nz6a0A=="}
pid is 3201
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43185.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43185.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManageOrderBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43185.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManageOrderBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43185.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43185.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManageOrderBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.3201
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ svn_from_tb_merged
+ mails-cm -i 'code merged from Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManageOrderBusiness'
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ awk -F '|' '{print$1}'
++ head -n 4
++ grep '^r'
++ svn log
++ grep -C 3 $'Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ revision=
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
++ grep '^r'
+ head='r133129 '
+ '[' '!' -z ']'
++ grep '^r'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
++ tail -n 4
++ awk -F '|' '{print$1}'
+ revision='r133129 '
+ '[' '!' -z r133129 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness@r133129' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness@r133129' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43185.html
Merged revision(s) r133129 -r133129   from Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManageOrderBusiness' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (36.8ms)
  Rendered merge/new.html.erb within layouts/application (36.8ms)
Completed 200 OK in 41640ms (Views: 586.6ms)


Completed 200 OK in 41640ms (Views: 586.6ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-07 10:32:26 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-07 10:32:26 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (17.5ms)
  Rendered merge/index.html.erb within layouts/application (17.5ms)
Completed 200 OK in 110ms (Views: 96.4ms)


Completed 200 OK in 110ms (Views: 96.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-07 10:32:39 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-07 10:32:39 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol", "task"=>"http://192.168.0.221/zentao/task-view-43189.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"dSqldpiZ4vvfscmFGp0REPFAZMbdQzYQYxfdeM62mSkH9Bm/AUXMuSPOH6PYpTZ/iIdZZ4YJElQAmmUc2LxxWw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol", "task"=>"http://192.168.0.221/zentao/task-view-43189.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"dSqldpiZ4vvfscmFGp0REPFAZMbdQzYQYxfdeM62mSkH9Bm/AUXMuSPOH6PYpTZ/iIdZZ4YJElQAmmUc2LxxWw=="}
pid is 3405
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43189.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43189.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43189.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43189.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43189.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ rm -f /home/qishanqing/tmp/merged/output.3405
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r132848 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r134022 '
+ '[' '!' -z r132848 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol@r132848' $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol' .
++ grep -Ei 'conflicts|树冲突'
Started GET "/start" for 192.168.5.26 at 2017-08-07 10:33:06 +0800
Started GET "/start" for 192.168.5.26 at 2017-08-07 10:33:06 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  
  
ActionController::RoutingError (No route matches [GET] "/start"):
ActionController::RoutingError (No route matches [GET] "/start"):
  
  
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol@r132848' $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43189.html
Merged revision(s) r132848 -r134022   from Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.3ms)
  Rendered merge/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 37251ms (Views: 2564.8ms)


Completed 200 OK in 37251ms (Views: 2564.8ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-07 10:33:27 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-07 10:33:27 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (10.0ms)
  Rendered merge/index.html.erb within layouts/application (10.0ms)
Completed 200 OK in 161ms (Views: 158.8ms)


Completed 200 OK in 161ms (Views: 158.8ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-07 10:34:31 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-07 10:34:31 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory", "task"=>"http://192.168.0.221/zentao/task-view-43070.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"epjz1puuZi8qbiQYtqEYC7Trjau8z6D8YVZPQss4u7ZNVm+Ar4TuDN89vaA3P9H/dKqZlwiBLEkQcwGxlndHWA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory", "task"=>"http://192.168.0.221/zentao/task-view-43070.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"epjz1puuZi8qbiQYtqEYC7Trjau8z6D8YVZPQss4u7ZNVm+Ar4TuDN89vaA3P9H/dKqZlwiBLEkQcwGxlndHWA=="}
Filter chain halted as #<Proc:0x007fa6201d6028@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Filter chain halted as #<Proc:0x007fa6201d6028@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Completed 401 Unauthorized in 2ms


Completed 401 Unauthorized in 2ms


Started POST "/merge/new" for 192.168.5.26 at 2017-08-07 10:34:32 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-07 10:34:32 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory", "task"=>"http://192.168.0.221/zentao/task-view-43070.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"epjz1puuZi8qbiQYtqEYC7Trjau8z6D8YVZPQss4u7ZNVm+Ar4TuDN89vaA3P9H/dKqZlwiBLEkQcwGxlndHWA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory", "task"=>"http://192.168.0.221/zentao/task-view-43070.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"epjz1puuZi8qbiQYtqEYC7Trjau8z6D8YVZPQss4u7ZNVm+Ar4TuDN89vaA3P9H/dKqZlwiBLEkQcwGxlndHWA=="}
pid is 3696
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43070.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43070.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43070.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43070.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43070.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite
https://192.168.0.220/svn/tech/Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.3696
+ echo
+ cat /home/qishanqing/tmp/merged/output.3696
+ rm -f /home/qishanqing/tmp/merged/output.3696
+ rm -f /home/qishanqing/tmp/merged/output.3696
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r132938 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ grep '^r'
++ awk -F '|' '{print$1}'
svn: E160013: 找不到路径 “/svn/tech/!svn/rvr/134311/Branch/20170713-https/Develop/%E8%80%81%E7%B3%BB%E7%BB%9F/%E6%96%B0%E8%BE%BE%E9%A3%9E%E8%B4%B7/%E7%BD%91%E7%AB%99%E4%B8%AD%E5%BF%83/BossSite”
+ head=
+ '[' '!' -z r132938 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r132938' $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' .
++ grep -Ei 'conflicts|树冲突'
svn: E160013: 找不到路径 “/svn/tech/!svn/rvr/134311/Branch/20170713-https/Develop/%E8%80%81%E7%B3%BB%E7%BB%9F/%E6%96%B0%E8%BE%BE%E9%A3%9E%E8%B4%B7/%E7%BD%91%E7%AB%99%E4%B8%AD%E5%BF%83/BossSite”
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r132938' $'https://192.168.0.220/svn/tech/Branch/20170713-https/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
svn: E160013: 找不到路径 “/svn/tech/!svn/rvr/134311/Branch/20170713-https/Develop/%E8%80%81%E7%B3%BB%E7%BB%9F/%E6%96%B0%E8%BE%BE%E9%A3%9E%E8%B4%B7/%E7%BD%91%E7%AB%99%E4%B8%AD%E5%BF%83/BossSite”
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43070.html
Merged revision(s) r132938 -  from Branch/20170713-https/Develop/老系统/新达飞贷/网站中心/BossSite' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ rm -f /home/qishanqing/tmp/merged/output.3696
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory'
+ svn cleanup .
+ xargs rm -rf
+ svn st
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
++ head -n 4
++ awk -F '|' '{print$1}'
+ revision='r130981 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r134026 '
+ '[' '!' -z r130981 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory@r130981' $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory@r130981' $'https://192.168.0.220/svn/tech/Branch/20170609-\350\265\204\351\207\221\346\226\271\345\215\217\350\256\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43070.html
Merged revision(s) r130981 -r134026   from Branch/20170609-资金方协议/Develop/基础业务/用户中心/PDFFactory' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (2.0ms)
  Rendered merge/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 227125ms (Views: 78.6ms)


Completed 200 OK in 227125ms (Views: 78.6ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-07 10:39:08 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-07 10:39:08 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.3ms)
  Rendered merge/index.html.erb within layouts/application (4.3ms)
Completed 200 OK in 72ms (Views: 69.9ms)


Completed 200 OK in 72ms (Views: 69.9ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-07 10:39:22 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-07 10:39:22 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManager", "task"=>"http://192.168.0.221/zentao/task-view-43297.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"rpNBCk5OMMu2kBHUr9Gzem22bFcDBP/6/ZvYEWq6sseZXd1cemS46EPDiGwuT3qOrfd4a7dKc0+MvpbiN/VOKQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManager", "task"=>"http://192.168.0.221/zentao/task-view-43297.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"rpNBCk5OMMu2kBHUr9Gzem22bFcDBP/6/ZvYEWq6sseZXd1cemS46EPDiGwuT3qOrfd4a7dKc0+MvpbiN/VOKQ=="}
pid is 4096
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43297.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43297.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManager'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43297.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManager'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43297.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43297.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManager: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ rm -f /home/qishanqing/tmp/merged/output.4096
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn_from_tb_merged
+ mails-cm -i 'code merged from Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManager'
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r133891 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r133128 '
+ '[' '!' -z r133128 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager@r133128' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\256\242\345\215\225\345\217\226\346\266\210/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：2'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2322' ']'
+ die 'Svn merged conflicts the r133128 -r133891  from Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManager'
+ echo 'Svn merged conflicts the r133128 -r133891  from Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManager'
+ test -e /home/qishanqing/tmp/merged/output.4096
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.4096
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43297.html
Merged revision(s) r133128 -r133891   from Branch/20170802-订单取消/Develop/分期商城/分期商城3.0/MallManager' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (2.8ms)
  Rendered merge/new.html.erb within layouts/application (2.8ms)
Completed 200 OK in 23008ms (Views: 80.7ms)


Completed 200 OK in 23008ms (Views: 80.7ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-07 10:40:16 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-07 10:40:16 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (18.5ms)
  Rendered merge/index.html.erb within layouts/application (18.5ms)
Completed 200 OK in 299ms (Views: 296.4ms)


Completed 200 OK in 299ms (Views: 296.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-07 10:40:24 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-07 10:40:24 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage", "task"=>"http://192.168.0.221/zentao/task-view-43205.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"NBmudhfV9o8NwPcYnHUce6ymzX0yA22iO1ABvqZsnxgD1zIgI/9+rPiTbqAd69WPbOfZQYZN4RdKdU9N+yNj9g=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage", "task"=>"http://192.168.0.221/zentao/task-view-43205.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"NBmudhfV9o8NwPcYnHUce6ymzX0yA22iO1ABvqZsnxgD1zIgI/9+rPiTbqAd69WPbOfZQYZN4RdKdU9N+yNj9g=="}
pid is 4171
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43205.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43205.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43205.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43205.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43205.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ branchs=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ rm -f /home/qishanqing/tmp/merged/output.4171
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ awk -F '|' '{print$1}'
++ grep '^r'
++ grep -C 3 $'Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r133151 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision=
+ '[' '!' -z ']'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43205.html
Merged revision(s) -r133151   from Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.0ms)
  Rendered merge/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 19802ms (Views: 56.4ms)


Completed 200 OK in 19802ms (Views: 56.4ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-07 10:43:35 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-07 10:43:35 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (6.3ms)
  Rendered merge/index.html.erb within layouts/application (6.3ms)
Completed 200 OK in 170ms (Views: 163.9ms)


Completed 200 OK in 170ms (Views: 163.9ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-07 10:43:44 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-07 10:43:44 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37", "task"=>"http://192.168.0.221/zentao/task-view-43164.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"LCdJ3QOt7ZgFSJdpXxzGyv50hAlvaPDZt/bEwz5my2Qb6dWLN4dlu/AbDtHegg8+PjWQNdsmfGzG04owYyk3ig=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37", "task"=>"http://192.168.0.221/zentao/task-view-43164.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"LCdJ3QOt7ZgFSJdpXxzGyv50hAlvaPDZt/bEwz5my2Qb6dWLN4dlu/AbDtHegg8+PjWQNdsmfGzG04owYyk3ig=="}
pid is 4288
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43164.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43164.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43164.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43164.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43164.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ rm -f /home/qishanqing/tmp/merged/output.4288
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37'
+ grep '^?'
+ xargs rm -rf
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep -C 3 $'Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ revision='r133864 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r134057 '
+ '[' '!' -z r133864 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37@r133864' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37@r133864' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/qianbaba_37'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43164.html
Merged revision(s) r133864 -r134057   from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/qianbaba_37' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.6ms)
  Rendered merge/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 96970ms (Views: 111.4ms)


Completed 200 OK in 96970ms (Views: 111.4ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-07 10:48:06 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-07 10:48:06 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (6.1ms)
  Rendered merge/index.html.erb within layouts/application (6.1ms)
Completed 200 OK in 204ms (Views: 200.7ms)


Completed 200 OK in 204ms (Views: 200.7ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-07 10:48:38 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-07 10:48:38 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_gateway https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42 https://192.168.0.220/svn/tech/Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol", "task"=>"http://192.168.0.221/zentao/task-view-43209.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"HsQt08/Otw529JTPoUlAk97H3ZJXCw9CSaB8q3Ij3t4pCrGF++Q/LYOnDXcg14lnHobJruNFg/c4hTJYL2wiMA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_gateway https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42 https://192.168.0.220/svn/tech/Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol", "task"=>"http://192.168.0.221/zentao/task-view-43209.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"HsQt08/Otw529JTPoUlAk97H3ZJXCw9CSaB8q3Ij3t4pCrGF++Q/LYOnDXcg14lnHobJruNFg/c4hTJYL2wiMA=="}
pid is 4483
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43209.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_gateway https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42 https://192.168.0.220/svn/tech/Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43209.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_gateway https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42 https://192.168.0.220/svn/tech/Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43209.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_gateway https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42 https://192.168.0.220/svn/tech/Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43209.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_gateway https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42 https://192.168.0.220/svn/tech/Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43209.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_gateway https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42 https://192.168.0.220/svn/tech/Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_gateway' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42' $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport' $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_gateway: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_gateway'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_gateway
https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/kaolazhitou_42
https://192.168.0.220/svn/tech/Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport
https://192.168.0.220/svn/tech/Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_gateway'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_gateway'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_gateway'
+ rm -f /home/qishanqing/tmp/merged/output.4483
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_gateway'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_gateway'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_gateway'
+ die '外部业务/P2P/Business/basefundprovider/kaolazhitou_gateway  project code no found'
+ mails-cm -i 'svn merged faild'
+ echo '外部业务/P2P/Business/basefundprovider/kaolazhitou_gateway  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.4483
+ rm -f /home/qishanqing/tmp/merged/output.4483
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ rm -f /home/qishanqing/tmp/merged/output.4483
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/kaolazhitou_42'
+ die '外部业务/P2P/Business/basefundprovider/kaolazhitou_42  project code no found'
+ mails-cm -i 'svn merged faild'
+ echo '外部业务/P2P/Business/basefundprovider/kaolazhitou_42  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.4483
+ rm -f /home/qishanqing/tmp/merged/output.4483
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ rm -f /home/qishanqing/tmp/merged/output.4483
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport'
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ awk -F '|' '{print$1}'
++ grep '^r'
++ grep -C 3 $'Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ revision=
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
++ awk -F '|' '{print$1}'
+ head='r134163 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
++ tail -n 4
+ revision='r126626 '
+ '[' '!' -z r126626 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport@r126626' $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：3'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2323' ']'
+ die 'Svn merged conflicts the r126626 -r134163  from Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport'
+ echo 'Svn merged conflicts the r126626 -r134163  from Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.4483
+ rm -f /home/qishanqing/tmp/merged/output.4483
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43209.html
Merged revision(s) r126626 -r134163   from Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ rm -f /home/qishanqing/tmp/merged/output.4483
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ mails-cm -i 'code merged from Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r134306 '
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ head='r134022 '
+ '[' '!' -z r134306 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol@r134306' $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol@r134306' $'https://192.168.0.220/svn/tech/Branch/20170602-\345\215\217\350\256\256\347\255\276\347\253\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/Protocol'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43209.html
Merged revision(s) r134306 -r134022   from Branch/20170602-协议签章/Develop/基础业务/用户中心/Protocol' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (22.0ms)
  Rendered merge/new.html.erb within layouts/application (22.0ms)
Completed 200 OK in 176471ms (Views: 77.7ms)


Completed 200 OK in 176471ms (Views: 77.7ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-07 10:54:35 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-07 10:54:35 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (21.0ms)
  Rendered merge/index.html.erb within layouts/application (21.0ms)
Completed 200 OK in 113ms (Views: 110.6ms)


Completed 200 OK in 113ms (Views: 110.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-07 10:54:44 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-07 10:54:44 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170804-达分期线上支付/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage", "task"=>"http://192.168.0.221/zentao/task-view-43205.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"JbBEwgRnDViMBwf6msKlCXQQtOzSF4LcPWkqnmxRQJ4SftiUME2Fe3lUnkIbXGz9tFGg0GZZDmlMTGRtMR68cA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170804-达分期线上支付/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage", "task"=>"http://192.168.0.221/zentao/task-view-43205.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"JbBEwgRnDViMBwf6msKlCXQQtOzSF4LcPWkqnmxRQJ4SftiUME2Fe3lUnkIbXGz9tFGg0GZZDmlMTGRtMR68cA=="}
pid is 4805
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43205.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43205.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170804-达分期线上支付/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43205.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170804-达分期线上支付/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43205.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43205.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170804-达分期线上支付/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ rm -f /home/qishanqing/tmp/merged/output.4805
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170804-达分期线上支付/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep -C 3 $'Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r134139 
repayment.js'
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
++ tail -n 4
+ revision='r134079 '
+ '[' '!' -z r134079 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage@r134079' $'https://192.168.0.220/svn/tech/Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage@r134079' $'https://192.168.0.220/svn/tech/Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43205.html
Merged revision(s) r134079 -r134139 
repayment.js  from Branch/20170804-达分期线上支付/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (2.2ms)
  Rendered merge/new.html.erb within layouts/application (2.2ms)
Completed 200 OK in 173000ms (Views: 145.8ms)


Completed 200 OK in 173000ms (Views: 145.8ms)


Started GET "/" for 192.168.5.26 at 2017-08-07 10:59:52 +0800
Started GET "/" for 192.168.5.26 at 2017-08-07 10:59:52 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (6.4ms)
  Rendered builder/index.html.erb within layouts/application (6.4ms)
Completed 200 OK in 156ms (Views: 152.6ms)


Completed 200 OK in 156ms (Views: 152.6ms)


Started POST "/start" for 192.168.5.26 at 2017-08-07 10:59:56 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-07 10:59:56 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170804-达分期线上支付", "branch"=>"20170804-达分期线上支付", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"ZbaMArtrPbvTz6n3GNhrJVL+w35Rhl21YeOjfITVbhO495MKlbFZaZo8Dv9QcqN/wOfucsQ5457sPV6xqzFVvw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170804-达分期线上支付", "branch"=>"20170804-达分期线上支付", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"ZbaMArtrPbvTz6n3GNhrJVL+w35Rhl21YeOjfITVbhO495MKlbFZaZo8Dv9QcqN/wOfucsQ5457sPV6xqzFVvw=="}
Filter chain halted as #<Proc:0x00000004d549f0@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Filter chain halted as #<Proc:0x00000004d549f0@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Completed 401 Unauthorized in 2ms


Completed 401 Unauthorized in 2ms


Started POST "/start" for 192.168.5.26 at 2017-08-07 10:59:58 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-07 10:59:58 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170804-达分期线上支付", "branch"=>"20170804-达分期线上支付", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"ZbaMArtrPbvTz6n3GNhrJVL+w35Rhl21YeOjfITVbhO495MKlbFZaZo8Dv9QcqN/wOfucsQ5457sPV6xqzFVvw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170804-达分期线上支付", "branch"=>"20170804-达分期线上支付", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"ZbaMArtrPbvTz6n3GNhrJVL+w35Rhl21YeOjfITVbhO495MKlbFZaZo8Dv9QcqN/wOfucsQ5457sPV6xqzFVvw=="}
pid is 4972
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230' -e qishanqing@dafy.com -E '' -b $'20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170804-达分期线上支付'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170804-达分期线上支付'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170804-达分期线上支付'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170804-达分期线上支付'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230' -e qishanqing@dafy.com -E '' -b $'20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170804-达分期线上支付: command not found
++ for y in '$trunk'
++ echo $'20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230'
+ trunks=$'20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230'
+ test del = add
+ delbranch
+ '[' -z $'20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170807
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708071059
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170807-20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230/Develop/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708071059-20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170807-20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230/Develop/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230'
++ awk -F / '{print $7}'
+ br=$'20170807-20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230'
+ access=$'20170807-20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708071059-20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.4972
+ echo $'https://192.168.0.220/svn/tech/Branch/20170804-\350\276\276\345\210\206\346\234\237\347\272\277\344\270\212\346\224\257\344\273\230'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170804-达分期线上支付%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170804-达分期线上支付%'\'';'
+ cat /tmp/cmdb.db.4972
+ rm -f /tmp/cmdb.db.4972
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 1451ms (Views: 63.4ms)


Completed 200 OK in 1451ms (Views: 63.4ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-07 11:10:02 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-07 11:10:02 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (21.5ms)
  Rendered merge/index.html.erb within layouts/application (21.5ms)
Completed 200 OK in 228ms (Views: 225.3ms)


Completed 200 OK in 228ms (Views: 225.3ms)


Started GET "/" for 192.168.5.26 at 2017-08-07 11:10:10 +0800
Started GET "/" for 192.168.5.26 at 2017-08-07 11:10:10 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.4ms)
  Rendered builder/index.html.erb within layouts/application (3.4ms)
Completed 200 OK in 140ms (Views: 136.5ms)


Completed 200 OK in 140ms (Views: 136.5ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-07 11:43:11 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-07 11:43:11 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (16.8ms)
  Rendered builder/index.html.erb within layouts/application (16.8ms)
Completed 200 OK in 61ms (Views: 58.9ms)


Completed 200 OK in 61ms (Views: 58.9ms)


Started POST "/start" for 192.168.5.26 at 2017-08-07 13:33:20 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-07 13:33:20 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"wenshiyu@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/RepaymentBusiness2", "branch"=>"商城退款优化", "user"=>"wenshiyu weishaolong wanghongkai", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"0v+z4/bPz4VcA3t8nTlwn4UjHOeVejY16HaAn+hvsYgPvqzr2BWrVxXw3HTVk7jFFzox6wDFiB5lqH1Sx4uKJA=="}
  Parameters: {"email"=>"wenshiyu@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/RepaymentBusiness2", "branch"=>"商城退款优化", "user"=>"wenshiyu weishaolong wanghongkai", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"0v+z4/bPz4VcA3t8nTlwn4UjHOeVejY16HaAn+hvsYgPvqzr2BWrVxXw3HTVk7jFFzox6wDFiB5lqH1Sx4uKJA=="}
pid is 11783
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'wenshiyu weishaolong wanghongkai' -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' -e wenshiyu@dafy.com -E '' -b $'\345\225\206\345\237\216\351\200\200\346\254\276\344\274\230\345\214\226' -T add -d ''
+ TEMP=' -u '\''wenshiyu weishaolong wanghongkai'\'' -t '\''外部业务/P2P/Business/RepaymentBusiness2'\'' -e '\''wenshiyu@dafy.com'\'' -E '\'''\'' -b '\''商城退款优化'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''wenshiyu weishaolong wanghongkai'\'' -t '\''外部业务/P2P/Business/RepaymentBusiness2'\'' -e '\''wenshiyu@dafy.com'\'' -E '\'''\'' -b '\''商城退款优化'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'wenshiyu weishaolong wanghongkai' -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' -e wenshiyu@dafy.com -E '' -b $'\345\225\206\345\237\216\351\200\200\346\254\276\344\274\230\345\214\226' -T add -d '' --
+ true
+ case "$1" in
+ user='wenshiyu weishaolong wanghongkai'
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ shift 2
+ true
+ case "$1" in
+ email=wenshiyu@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\345\225\206\345\237\216\351\200\200\346\254\276\344\274\230\345\214\226'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=wenshiyu@dafy.com '
+ SMARTCM_EXTRA_MAIL='wenshiyu@dafy.com '
++ wenshiyu weishaolong wanghongkai
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: wenshiyu: command not found
++ for x in '$user'
++ echo wenshiyu=rw
++ for x in '$user'
++ echo weishaolong=rw
++ for x in '$user'
++ echo wanghongkai=rw
+ users='wenshiyu=rw
weishaolong=rw
wanghongkai=rw'
++ $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 外部业务/P2P/Business/RepaymentBusiness2: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ trunks=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' ']'
+ '[' -z $'\345\225\206\345\237\216\351\200\200\346\254\276\344\274\230\345\214\226' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170807
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708071333
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170807-\345\225\206\345\237\216\351\200\200\346\254\276\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\225\206\345\237\216\351\200\200\346\254\276\344\274\230\345\214\226'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708071333-\345\225\206\345\237\216\351\200\200\346\254\276\344\274\230\345\214\226'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170807-\345\225\206\345\237\216\351\200\200\346\254\276\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ awk -F / '{print $7}'
+ br=$'20170807-\345\225\206\345\237\216\351\200\200\346\254\276\344\274\230\345\214\226'
+ access=$'20170807-\345\225\206\345\237\216\351\200\200\346\254\276\344\274\230\345\214\226'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' $'https://192.168.0.220/svn/tech/Branch/20170807-\345\225\206\345\237\216\351\200\200\346\254\276\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.11783
+ echo $'https://192.168.0.220/svn/tech/Branch/20170807-\345\225\206\345\237\216\351\200\200\346\254\276\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/RepaymentBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170807-商城退款优化/Develop/外部业务/P2P/Business/RepaymentBusiness2'\'',now(),'\''wenshiyu'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/RepaymentBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170807-商城退款优化/Develop/外部业务/P2P/Business/RepaymentBusiness2'\'',now(),'\''wenshiyu'\'');'
+ cat /tmp/cmdb.db.11783
+ rm -f /tmp/cmdb.db.11783
+ check-acces
+ grep -c '20170807-商城退款优化]' /mnt/svn/authz.conf
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z 'wenshiyu=rw
weishaolong=rw
+ cat
wanghongkai=rw'
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (23.0ms)
  Rendered builder/new.html.erb within layouts/application (23.0ms)
Completed 200 OK in 11348ms (Views: 1985.8ms)


Completed 200 OK in 11348ms (Views: 1985.8ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-07 13:56:55 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-07 13:56:55 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManager", "task"=>"http://192.168.0.221/zentao/task-view-43331.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"6UzPNTDrlBgF1HwVYo2lY0XCW4NJ8IG7vuRGPxMclw7eglNjBMEcO/CH5a3jE2yXhYNPv/2+DQ7PwQjMTlNr4A=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManager", "task"=>"http://192.168.0.221/zentao/task-view-43331.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"6UzPNTDrlBgF1HwVYo2lY0XCW4NJ8IG7vuRGPxMclw7eglNjBMEcO/CH5a3jE2yXhYNPv/2+DQ7PwQjMTlNr4A=="}
pid is 12602
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-43331.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManager' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-43331.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManager'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-43331.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManager'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-43331.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManager' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-43331.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManager'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness' $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness
https://192.168.0.220/svn/tech/Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManager'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.12602
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness'
+ grep '^?'
+ svn st
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ awk -F '|' '{print$1}'
++ head -n 4
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r133889 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r131969 '
+ '[' '!' -z r131969 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness@r131969' $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness@r131969' $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43331.html
Merged revision(s) r131969 -r133889   from Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness' --username qishanqing --password q372232
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ rm -f /home/qishanqing/tmp/merged/output.12602
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManager'
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ awk -F '|' '{print$1}'
++ head -n 4
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ revision=
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ grep '^r'
+ head='r134338 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ tail -n 4
+ revision='r131968 '
+ '[' '!' -z r131968 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager@r131968' $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：3'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2323' ']'
+ die 'Svn merged conflicts the r131968 -r134338  from Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManager'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r131968 -r134338  from Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManager'
+ test -e /home/qishanqing/tmp/merged/output.12602
+ rm -f /home/qishanqing/tmp/merged/output.12602
+ svn ci --username builder --password ant@ -m 'http://192.168.0.221/zentao/task-view-43331.html
Merged revision(s) r131968 -r134338   from Branch/20170728-类目功能优化/Develop/分期商城/分期商城3.0/MallManager' --username qishanqing --password q372232
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.6ms)
  Rendered merge/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 133860ms (Views: 144.5ms)


Completed 200 OK in 133860ms (Views: 144.5ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-07 14:40:16 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-07 14:40:16 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (27.6ms)
  Rendered builder/index.html.erb within layouts/application (27.6ms)
Completed 200 OK in 433ms (Views: 400.3ms)


Completed 200 OK in 433ms (Views: 400.3ms)


Started POST "/start" for 192.168.5.26 at 2017-08-07 14:40:20 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-07 14:40:20 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170728-类目功能优化", "branch"=>"20170728-类目功能优化", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"5fAeowU7+f5zkoZLZDtatOeET/bEnUasLnETPjZrHK44sQGrK+GdLDphIUMskZLudZ1i+lEi+Iejr+7zGY8nAg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170728-类目功能优化", "branch"=>"20170728-类目功能优化", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"5fAeowU7+f5zkoZLZDtatOeET/bEnUasLnETPjZrHK44sQGrK+GdLDphIUMskZLudZ1i+lEi+Iejr+7zGY8nAg=="}
pid is 14791
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226' -e qishanqing@dafy.com -E '' -b $'20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170728-类目功能优化'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170728-类目功能优化'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170728-类目功能优化'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170728-类目功能优化'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226' -e qishanqing@dafy.com -E '' -b $'20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 243: 20170728-类目功能优化: command not found
++ for y in '$trunk'
++ echo $'20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226'
+ trunks=$'20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226'
+ test del = add
+ delbranch
+ '[' -z $'20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170807
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708071440
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170807-20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708071440-20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170807-20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226/Develop/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226'
++ awk -F / '{print $7}'
+ br=$'20170807-20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226'
+ access=$'20170807-20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708071440-20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.14791
+ echo $'https://192.168.0.220/svn/tech/Branch/20170728-\347\261\273\347\233\256\345\212\237\350\203\275\344\274\230\345\214\226'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170728-类目功能优化%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170728-类目功能优化%'\'';'
+ cat /tmp/cmdb.db.14791
+ rm -f /tmp/cmdb.db.14791
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (0.8ms)
  Rendered builder/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 2563ms (Views: 44.1ms)


Completed 200 OK in 2563ms (Views: 44.1ms)


