nohup: 忽略输入
=> Booting Puma
=> Rails 5.1.1 application starting in development on http://localhost:3000
=> Run `rails server -h` for more startup options
Puma starting in single mode...
* Version 3.8.2 (ruby 2.4.1-p111), codename: Sassy Salamander
* Min threads: 5, max threads: 5
* Environment: development
* Listening on tcp://0.0.0.0:3000
Use Ctrl-C to stop
Started GET "/merge/index" for 192.168.5.26 at 2017-08-23 11:10:24 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-23 11:10:24 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (13.1ms)
  Rendered merge/index.html.erb within layouts/application (13.1ms)
Completed 200 OK in 1965ms (Views: 1015.4ms)


Completed 200 OK in 1965ms (Views: 1015.4ms)


Started GET "/" for 192.168.5.26 at 2017-08-23 11:10:28 +0800
Started GET "/" for 192.168.5.26 at 2017-08-23 11:10:28 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.2ms)
  Rendered builder/index.html.erb within layouts/application (4.2ms)
Completed 200 OK in 392ms (Views: 150.0ms)


Completed 200 OK in 392ms (Views: 150.0ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-23 11:10:47 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-23 11:10:47 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170718-石嘴山项目优化/Develop/外部业务/P2P/Business/SZSBusiness", "task"=>"http://192.168.0.221/zentao/task-view-%2044795.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"wQBjRecvAHmH8vCkOjF35eBxiVCvuGqf5a2kEiBxdII77ll3exoKLZ7oPUNfjzbolbrMznuLoEfayMEaIJ91rw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170718-石嘴山项目优化/Develop/外部业务/P2P/Business/SZSBusiness", "task"=>"http://192.168.0.221/zentao/task-view-%2044795.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"wQBjRecvAHmH8vCkOjF35eBxiVCvuGqf5a2kEiBxdII77ll3exoKLZ7oPUNfjzbolbrMznuLoEfayMEaIJ91rw=="}
pid is 21600
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-%2044795.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-%2044795.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170718-石嘴山项目优化/Develop/外部业务/P2P/Business/SZSBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-%2044795.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170718-石嘴山项目优化/Develop/外部业务/P2P/Business/SZSBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-%2044795.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-%2044795.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170718-石嘴山项目优化/Develop/外部业务/P2P/Business/SZSBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.21600
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ svn_from_tb_merged
+ mails-cm -i 'code merged from Branch/20170718-石嘴山项目优化/Develop/外部业务/P2P/Business/SZSBusiness'
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ grep '^r'
++ head -n 4
++ svn log
++ awk -F '|' '{print$1}'
++ grep -C 3 $'Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ revision='r139699 '
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
++ grep '^r'
+ head='r139856 '
+ '[' '!' -z r139699 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness@r139699' $'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness@r139699' $'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ echo tc
+ svn ci -m 'http://192.168.0.221/zentao/task-view-%2044795.html
Merged revision(s) r139699 -r139856   from Branch/20170718-石嘴山项目优化/Develop/外部业务/P2P/Business/SZSBusiness' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (2.1ms)
  Rendered merge/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 32018ms (Views: 103.8ms)


Completed 200 OK in 32018ms (Views: 103.8ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-23 11:12:24 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-23 11:12:24 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (19.0ms)
  Rendered merge/index.html.erb within layouts/application (19.0ms)
Completed 200 OK in 219ms (Views: 215.9ms)


Completed 200 OK in 219ms (Views: 215.9ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-23 11:12:31 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-23 11:12:31 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170807-提供数据/Develop/外部业务/P2P/Business/DashboardStatics", "task"=>"http://192.168.0.221/zentao/task-view-44804.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"PNWwT3f2/QvFt/c0u1Ei7SSGacnL7LCQ6XoSuQXcEVrGO4p968P3X9ytOtPe72PgUU0sVx/fekjWH3exBTIQdw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170807-提供数据/Develop/外部业务/P2P/Business/DashboardStatics", "task"=>"http://192.168.0.221/zentao/task-view-44804.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"PNWwT3f2/QvFt/c0u1Ei7SSGacnL7LCQ6XoSuQXcEVrGO4p968P3X9ytOtPe72PgUU0sVx/fekjWH3exBTIQdw=="}
pid is 21832
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-44804.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-44804.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170807-提供数据/Develop/外部业务/P2P/Business/DashboardStatics'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-44804.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170807-提供数据/Develop/外部业务/P2P/Business/DashboardStatics'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-44804.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-44804.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170807-提供数据/Develop/外部业务/P2P/Business/DashboardStatics: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
+ rm -f /home/qishanqing/tmp/merged/output.21832
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
+ mails-cm -i 'code merged from Branch/20170807-提供数据/Develop/外部业务/P2P/Business/DashboardStatics'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r138589 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r139906 '
+ '[' '!' -z r138589 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics@r138589' $'https://192.168.0.220/svn/tech/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics@r138589' $'https://192.168.0.220/svn/tech/Branch/20170807-\346\217\220\344\276\233\346\225\260\346\215\256/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/DashboardStatics'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44804.html
Merged revision(s) r138589 -r139906   from Branch/20170807-提供数据/Develop/外部业务/P2P/Business/DashboardStatics' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (2.8ms)
  Rendered merge/new.html.erb within layouts/application (2.8ms)
Completed 200 OK in 12528ms (Views: 122.3ms)


Completed 200 OK in 12528ms (Views: 122.3ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-23 11:13:46 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-23 11:13:46 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (9.8ms)
  Rendered merge/index.html.erb within layouts/application (9.8ms)
Completed 200 OK in 98ms (Views: 87.6ms)


Completed 200 OK in 98ms (Views: 87.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-23 11:13:53 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-23 11:13:53 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/UserBusiness", "task"=>"http://192.168.0.221/zentao/task-view-44798.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"/hXl2Vb8j/Bg4ybXjeJrtA+QftaK+cBHIvys83pSpzkE+9/rysmFpHn56zDoXCq5els7SF7KCp8dmcn7erymFA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/UserBusiness", "task"=>"http://192.168.0.221/zentao/task-view-44798.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"/hXl2Vb8j/Bg4ybXjeJrtA+QftaK+cBHIvys83pSpzkE+9/rysmFpHn56zDoXCq5els7SF7KCp8dmcn7erymFA=="}
pid is 21954
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-44798.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-44798.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/UserBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-44798.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/UserBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-44798.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-44798.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/UserBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.21954
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/UserBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ grep '^r'
++ head -n 4
++ awk -F '|' '{print$1}'
++ grep -C 3 $'Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ svn log
+ revision='r139210 '
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ head='r139633 '
+ '[' '!' -z r139210 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness@r139210' $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness@r139210' $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44798.html
Merged revision(s) r139210 -r139633   from Branch/20170707-理财线上快速授信/Develop/基础业务/用户中心/UserBusiness' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (2.7ms)
  Rendered merge/new.html.erb within layouts/application (2.7ms)
Completed 200 OK in 25769ms (Views: 62.1ms)


Completed 200 OK in 25769ms (Views: 62.1ms)


Started POST "/start" for 192.168.5.26 at 2017-08-23 11:15:27 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-23 11:15:27 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"limeng@dafy.com", "types"=>"add", "trunk"=>"基础业务/账户中心/AccountGatewayWisdom", "branch"=>"云贷对接深圳智慧", "user"=>"limeng", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"NtWojzHOV9DvtQf29bhRXBBcwlTSwQ3pBYOSHlT3KNXMO5K9rftdhPavyhGQBhBRZZeHygbyxzE65vcWVBkp+A=="}
  Parameters: {"email"=>"limeng@dafy.com", "types"=>"add", "trunk"=>"基础业务/账户中心/AccountGatewayWisdom", "branch"=>"云贷对接深圳智慧", "user"=>"limeng", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"NtWojzHOV9DvtQf29bhRXBBcwlTSwQ3pBYOSHlT3KNXMO5K9rftdhPavyhGQBhBRZZeHygbyxzE65vcWVBkp+A=="}
pid is 22071
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u limeng -t $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGatewayWisdom' -e limeng@dafy.com -E '' -b $'\344\272\221\350\264\267\345\257\271\346\216\245\346\267\261\345\234\263\346\231\272\346\205\247' -T add -d ''
+ TEMP=' -u '\''limeng'\'' -t '\''基础业务/账户中心/AccountGatewayWisdom'\'' -e '\''limeng@dafy.com'\'' -E '\'''\'' -b '\''云贷对接深圳智慧'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''limeng'\'' -t '\''基础业务/账户中心/AccountGatewayWisdom'\'' -e '\''limeng@dafy.com'\'' -E '\'''\'' -b '\''云贷对接深圳智慧'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u limeng -t $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGatewayWisdom' -e limeng@dafy.com -E '' -b $'\344\272\221\350\264\267\345\257\271\346\216\245\346\267\261\345\234\263\346\231\272\346\205\247' -T add -d '' --
+ true
+ case "$1" in
+ user=limeng
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGatewayWisdom'
+ shift 2
+ true
+ case "$1" in
+ email=limeng@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\344\272\221\350\264\267\345\257\271\346\216\245\346\267\261\345\234\263\346\231\272\346\205\247'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=limeng@dafy.com '
+ SMARTCM_EXTRA_MAIL='limeng@dafy.com '
++ limeng
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: limeng: command not found
++ for x in '$user'
++ echo limeng=rw
+ users=limeng=rw
++ $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGatewayWisdom'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 基础业务/账户中心/AccountGatewayWisdom: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGatewayWisdom'
+ trunks=$'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGatewayWisdom'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGatewayWisdom' ']'
+ '[' -z $'\344\272\221\350\264\267\345\257\271\346\216\245\346\267\261\345\234\263\346\231\272\346\205\247' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170823
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708231115
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGatewayWisdom'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170823-\344\272\221\350\264\267\345\257\271\346\216\245\346\267\261\345\234\263\346\231\272\346\205\247/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGatewayWisdom'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\344\272\221\350\264\267\345\257\271\346\216\245\346\267\261\345\234\263\346\231\272\346\205\247'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708231115-\344\272\221\350\264\267\345\257\271\346\216\245\346\267\261\345\234\263\346\231\272\346\205\247'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170823-\344\272\221\350\264\267\345\257\271\346\216\245\346\267\261\345\234\263\346\231\272\346\205\247/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGatewayWisdom'
++ awk -F / '{print $7}'
+ br=$'20170823-\344\272\221\350\264\267\345\257\271\346\216\245\346\267\261\345\234\263\346\231\272\346\205\247'
+ access=$'20170823-\344\272\221\350\264\267\345\257\271\346\216\245\346\267\261\345\234\263\346\231\272\346\205\247'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGatewayWisdom' $'https://192.168.0.220/svn/tech/Branch/20170823-\344\272\221\350\264\267\345\257\271\346\216\245\346\267\261\345\234\263\346\231\272\346\205\247/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGatewayWisdom' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.22071
+ echo $'https://192.168.0.220/svn/tech/Branch/20170823-\344\272\221\350\264\267\345\257\271\346\216\245\346\267\261\345\234\263\346\231\272\346\205\247/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountGatewayWisdom'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/基础业务/账户中心/AccountGatewayWisdom'\'', '\''https://192.168.0.220/svn/tech/Branch/20170823-云贷对接深圳智慧/Develop/基础业务/账户中心/AccountGatewayWisdom'\'',now(),'\''limeng'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/基础业务/账户中心/AccountGatewayWisdom'\'', '\''https://192.168.0.220/svn/tech/Branch/20170823-云贷对接深圳智慧/Develop/基础业务/账户中心/AccountGatewayWisdom'\'',now(),'\''limeng'\'');'
+ cat /tmp/cmdb.db.22071
+ rm -f /tmp/cmdb.db.22071
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170823-云贷对接深圳智慧] /svn/authz.conf'
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z limeng=rw
+ cat
+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (14.5ms)
  Rendered builder/new.html.erb within layouts/application (14.5ms)
Completed 200 OK in 5904ms (Views: 145.2ms)


Completed 200 OK in 5904ms (Views: 145.2ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-23 11:16:27 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-23 11:16:27 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (2.4ms)
  Rendered merge/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 37ms (Views: 35.5ms)


Completed 200 OK in 37ms (Views: 35.5ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-23 11:16:37 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-23 11:16:37 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20160629-消息推送/Develop/平台架构/通知/NoticeBusiness", "task"=>"http://192.168.0.221/zentao/task-view-44673.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"AQeJtYa99RFSXeqlLhh8lKrVhutPRCXJ2AD58fz7VO/76bOHGoj/RUtHJ0JLpj2Z3x7DdZt37xHnZZz5/BVVwg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20160629-消息推送/Develop/平台架构/通知/NoticeBusiness", "task"=>"http://192.168.0.221/zentao/task-view-44673.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"AQeJtYa99RFSXeqlLhh8lKrVhutPRCXJ2AD58fz7VO/76bOHGoj/RUtHJ0JLpj2Z3x7DdZt37xHnZZz5/BVVwg=="}
pid is 22130
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-44673.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-44673.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20160629-消息推送/Develop/平台架构/通知/NoticeBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-44673.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20160629-消息推送/Develop/平台架构/通知/NoticeBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-44673.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-44673.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20160629-消息推送/Develop/平台架构/通知/NoticeBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.22130
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20160629-消息推送/Develop/平台架构/通知/NoticeBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeBusiness'
+ clean_workspace
+ svn cleanup .
+ grep '^?'
+ xargs rm -rf
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ awk -F '|' '{print$1}'
++ grep '^r'
++ grep -C 3 $'Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeBusiness'
+ revision='r137700 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r140062 '
+ '[' '!' -z r137700 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeBusiness@r137700' $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeBusiness@r137700' $'https://192.168.0.220/svn/tech/Branch/20160629-\346\266\210\346\201\257\346\216\250\351\200\201/Develop/\345\271\263\345\217\260\346\236\266\346\236\204/\351\200\232\347\237\245/NoticeBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44673.html
Merged revision(s) r137700 -r140062   from Branch/20160629-消息推送/Develop/平台架构/通知/NoticeBusiness' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (2.1ms)
  Rendered merge/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 14215ms (Views: 65.0ms)


Completed 200 OK in 14215ms (Views: 65.0ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-23 11:17:52 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-23 11:17:52 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (6.3ms)
  Rendered merge/index.html.erb within layouts/application (6.3ms)
Completed 200 OK in 96ms (Views: 93.6ms)


Completed 200 OK in 96ms (Views: 93.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-23 11:18:05 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-23 11:18:05 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170704-三方网关/Develop/老系统/移动支付/三方网关/EasyLoanGateway", "task"=>"http://192.168.0.221/zentao/task-view-44811.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"v9alx8WdHIwrXpUZ35zNQSKlY8OVF7uj5bWIDWzHrJ5FOJ/1WagW2DJEWP66IoxMV24mXUEkcXva0O0FbCmtsw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170704-三方网关/Develop/老系统/移动支付/三方网关/EasyLoanGateway", "task"=>"http://192.168.0.221/zentao/task-view-44811.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"v9alx8WdHIwrXpUZ35zNQSKlY8OVF7uj5bWIDWzHrJ5FOJ/1WagW2DJEWP66IoxMV24mXUEkcXva0O0FbCmtsw=="}
pid is 22208
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-44811.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170704-\344\270\211\346\226\271\347\275\221\345\205\263/Develop/\350\200\201\347\263\273\347\273\237/\347\247\273\345\212\250\346\224\257\344\273\230/\344\270\211\346\226\271\347\275\221\345\205\263/EasyLoanGateway' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-44811.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170704-三方网关/Develop/老系统/移动支付/三方网关/EasyLoanGateway'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-44811.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170704-三方网关/Develop/老系统/移动支付/三方网关/EasyLoanGateway'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-44811.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170704-\344\270\211\346\226\271\347\275\221\345\205\263/Develop/\350\200\201\347\263\273\347\273\237/\347\247\273\345\212\250\346\224\257\344\273\230/\344\270\211\346\226\271\347\275\221\345\205\263/EasyLoanGateway' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-44811.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170704-\344\270\211\346\226\271\347\275\221\345\205\263/Develop/\350\200\201\347\263\273\347\273\237/\347\247\273\345\212\250\346\224\257\344\273\230/\344\270\211\346\226\271\347\275\221\345\205\263/EasyLoanGateway'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170704-\344\270\211\346\226\271\347\275\221\345\205\263/Develop/\350\200\201\347\263\273\347\273\237/\347\247\273\345\212\250\346\224\257\344\273\230/\344\270\211\346\226\271\347\275\221\345\205\263/EasyLoanGateway'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170704-三方网关/Develop/老系统/移动支付/三方网关/EasyLoanGateway: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170704-\344\270\211\346\226\271\347\275\221\345\205\263/Develop/\350\200\201\347\263\273\347\273\237/\347\247\273\345\212\250\346\224\257\344\273\230/\344\270\211\346\226\271\347\275\221\345\205\263/EasyLoanGateway'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170704-\344\270\211\346\226\271\347\275\221\345\205\263/Develop/\350\200\201\347\263\273\347\273\237/\347\247\273\345\212\250\346\224\257\344\273\230/\344\270\211\346\226\271\347\275\221\345\205\263/EasyLoanGateway'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170704-\344\270\211\346\226\271\347\275\221\345\205\263/Develop/\350\200\201\347\263\273\347\273\237/\347\247\273\345\212\250\346\224\257\344\273\230/\344\270\211\346\226\271\347\275\221\345\205\263/EasyLoanGateway'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\347\247\273\345\212\250\346\224\257\344\273\230/\344\270\211\346\226\271\347\275\221\345\205\263/EasyLoanGateway'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170704-\344\270\211\346\226\271\347\275\221\345\205\263/Develop/\350\200\201\347\263\273\347\273\237/\347\247\273\345\212\250\346\224\257\344\273\230/\344\270\211\346\226\271\347\275\221\345\205\263/EasyLoanGateway'
+ rm -f /home/qishanqing/tmp/merged/output.22208
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\347\247\273\345\212\250\346\224\257\344\273\230/\344\270\211\346\226\271\347\275\221\345\205\263/EasyLoanGateway'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170704-\344\270\211\346\226\271\347\275\221\345\205\263/Develop/\350\200\201\347\263\273\347\273\237/\347\247\273\345\212\250\346\224\257\344\273\230/\344\270\211\346\226\271\347\275\221\345\205\263/EasyLoanGateway'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\347\247\273\345\212\250\346\224\257\344\273\230/\344\270\211\346\226\271\347\275\221\345\205\263/EasyLoanGateway'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170704-三方网关/Develop/老系统/移动支付/三方网关/EasyLoanGateway'
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\347\247\273\345\212\250\346\224\257\344\273\230/\344\270\211\346\226\271\347\275\221\345\205\263/EasyLoanGateway'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ head -n 4
++ grep '^r'
++ svn log
++ grep -C 3 $'Branch/20170704-\344\270\211\346\226\271\347\275\221\345\205\263/Develop/\350\200\201\347\263\273\347\273\237/\347\247\273\345\212\250\346\224\257\344\273\230/\344\270\211\346\226\271\347\275\221\345\205\263/EasyLoanGateway'
++ awk -F '|' '{print$1}'
+ revision='r137745 '
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170704-\344\270\211\346\226\271\347\275\221\345\205\263/Develop/\350\200\201\347\263\273\347\273\237/\347\247\273\345\212\250\346\224\257\344\273\230/\344\270\211\346\226\271\347\275\221\345\205\263/EasyLoanGateway'
+ head='r139497 '
+ '[' '!' -z r137745 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170704-\344\270\211\346\226\271\347\275\221\345\205\263/Develop/\350\200\201\347\263\273\347\273\237/\347\247\273\345\212\250\346\224\257\344\273\230/\344\270\211\346\226\271\347\275\221\345\205\263/EasyLoanGateway@r137745' $'https://192.168.0.220/svn/tech/Branch/20170704-\344\270\211\346\226\271\347\275\221\345\205\263/Develop/\350\200\201\347\263\273\347\273\237/\347\247\273\345\212\250\346\224\257\344\273\230/\344\270\211\346\226\271\347\275\221\345\205\263/EasyLoanGateway' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170704-\344\270\211\346\226\271\347\275\221\345\205\263/Develop/\350\200\201\347\263\273\347\273\237/\347\247\273\345\212\250\346\224\257\344\273\230/\344\270\211\346\226\271\347\275\221\345\205\263/EasyLoanGateway@r137745' $'https://192.168.0.220/svn/tech/Branch/20170704-\344\270\211\346\226\271\347\275\221\345\205\263/Develop/\350\200\201\347\263\273\347\273\237/\347\247\273\345\212\250\346\224\257\344\273\230/\344\270\211\346\226\271\347\275\221\345\205\263/EasyLoanGateway'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44811.html
Merged revision(s) r137745 -r139497   from Branch/20170704-三方网关/Develop/老系统/移动支付/三方网关/EasyLoanGateway' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.3ms)
  Rendered merge/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 25288ms (Views: 59.0ms)


Completed 200 OK in 25288ms (Views: 59.0ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-23 11:18:39 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-23 11:18:39 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.7ms)
  Rendered merge/index.html.erb within layouts/application (3.7ms)
Completed 200 OK in 78ms (Views: 74.7ms)


Completed 200 OK in 78ms (Views: 74.7ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-23 11:18:51 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-23 11:18:51 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170821-理财页面优化/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-44817.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"1wC0+E5aWNWdAiCggw28Tol22qWsZToPDJFL4RQzs/ct7o7K0m9SgYQY7Ufms/1D/L2fO3hW8Ncz9C7pFN2y2g=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170821-理财页面优化/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-44817.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"1wC0+E5aWNWdAiCggw28Tol22qWsZToPDJFL4RQzs/ct7o7K0m9SgYQY7Ufms/1D/L2fO3hW8Ncz9C7pFN2y2g=="}
pid is 22256
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-44817.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170821-\347\220\206\350\264\242\351\241\265\351\235\242\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-44817.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170821-理财页面优化/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-44817.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170821-理财页面优化/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-44817.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170821-\347\220\206\350\264\242\351\241\265\351\235\242\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-44817.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170821-\347\220\206\350\264\242\351\241\265\351\235\242\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170821-\347\220\206\350\264\242\351\241\265\351\235\242\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170821-理财页面优化/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170821-\347\220\206\350\264\242\351\241\265\351\235\242\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170821-\347\220\206\350\264\242\351\241\265\351\235\242\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170821-\347\220\206\350\264\242\351\241\265\351\235\242\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170821-\347\220\206\350\264\242\351\241\265\351\235\242\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ rm -f /home/qishanqing/tmp/merged/output.22256
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170821-\347\220\206\350\264\242\351\241\265\351\235\242\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ mails-cm -i 'code merged from Branch/20170821-理财页面优化/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ svn st
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170821-\347\220\206\350\264\242\351\241\265\351\235\242\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170821-\347\220\206\350\264\242\351\241\265\351\235\242\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r139988 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170821-\347\220\206\350\264\242\351\241\265\351\235\242\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r139275 '
+ '[' '!' -z r139275 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170821-\347\220\206\350\264\242\351\241\265\351\235\242\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r139275' $'https://192.168.0.220/svn/tech/Branch/20170821-\347\220\206\350\264\242\351\241\265\351\235\242\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' .
+ st='  树冲突：1'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2321' ']'
+ die 'Svn merged conflicts the r139275 -r139988  from Branch/20170821-理财页面优化/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r139275 -r139988  from Branch/20170821-理财页面优化/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ test -e /home/qishanqing/tmp/merged/output.22256
+ rm -f /home/qishanqing/tmp/merged/output.22256
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44817.html
Merged revision(s) r139275 -r139988   from Branch/20170821-理财页面优化/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.5ms)
  Rendered merge/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 20747ms (Views: 66.0ms)


Completed 200 OK in 20747ms (Views: 66.0ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-23 11:20:12 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-23 11:20:12 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.3ms)
  Rendered merge/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 68ms (Views: 65.0ms)


Completed 200 OK in 68ms (Views: 65.0ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-23 11:20:26 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-23 11:20:26 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170822-敏感信息加密/Develop/生活营销/公积金/HousesFundBusiness", "task"=>"http://192.168.0.221/zentao/task-view-44802.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"uHnEAtTau03yFhNODyYHHLpGmgcXBI4wsk4l3pdZ0jlCl/4wSO+xGesM3qlqmEYRz43fmcM3ROiNK0DWl7fTFA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170822-敏感信息加密/Develop/生活营销/公积金/HousesFundBusiness", "task"=>"http://192.168.0.221/zentao/task-view-44802.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"uHnEAtTau03yFhNODyYHHLpGmgcXBI4wsk4l3pdZ0jlCl/4wSO+xGesM3qlqmEYRz43fmcM3ROiNK0DWl7fTFA=="}
pid is 22354
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-44802.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170822-\346\225\217\346\204\237\344\277\241\346\201\257\345\212\240\345\257\206/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\205\254\347\247\257\351\207\221/HousesFundBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-44802.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170822-敏感信息加密/Develop/生活营销/公积金/HousesFundBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-44802.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170822-敏感信息加密/Develop/生活营销/公积金/HousesFundBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-44802.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170822-\346\225\217\346\204\237\344\277\241\346\201\257\345\212\240\345\257\206/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\205\254\347\247\257\351\207\221/HousesFundBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-44802.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170822-\346\225\217\346\204\237\344\277\241\346\201\257\345\212\240\345\257\206/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\205\254\347\247\257\351\207\221/HousesFundBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170822-\346\225\217\346\204\237\344\277\241\346\201\257\345\212\240\345\257\206/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\205\254\347\247\257\351\207\221/HousesFundBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170822-敏感信息加密/Develop/生活营销/公积金/HousesFundBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170822-\346\225\217\346\204\237\344\277\241\346\201\257\345\212\240\345\257\206/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\205\254\347\247\257\351\207\221/HousesFundBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170822-\346\225\217\346\204\237\344\277\241\346\201\257\345\212\240\345\257\206/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\205\254\347\247\257\351\207\221/HousesFundBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170822-\346\225\217\346\204\237\344\277\241\346\201\257\345\212\240\345\257\206/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\205\254\347\247\257\351\207\221/HousesFundBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\347\224\237\346\264\273\350\220\245\351\224\200/\345\205\254\347\247\257\351\207\221/HousesFundBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170822-\346\225\217\346\204\237\344\277\241\346\201\257\345\212\240\345\257\206/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\205\254\347\247\257\351\207\221/HousesFundBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.22354
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\347\224\237\346\264\273\350\220\245\351\224\200/\345\205\254\347\247\257\351\207\221/HousesFundBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170822-\346\225\217\346\204\237\344\277\241\346\201\257\345\212\240\345\257\206/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\205\254\347\247\257\351\207\221/HousesFundBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\347\224\237\346\264\273\350\220\245\351\224\200/\345\205\254\347\247\257\351\207\221/HousesFundBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\347\224\237\346\264\273\350\220\245\351\224\200/\345\205\254\347\247\257\351\207\221/HousesFundBusiness'
+ mails-cm -i 'code merged from Branch/20170822-敏感信息加密/Develop/生活营销/公积金/HousesFundBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170822-\346\225\217\346\204\237\344\277\241\346\201\257\345\212\240\345\257\206/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\205\254\347\247\257\351\207\221/HousesFundBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170822-\346\225\217\346\204\237\344\277\241\346\201\257\345\212\240\345\257\206/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\205\254\347\247\257\351\207\221/HousesFundBusiness'
+ head='r139823 '
+ '[' '!' -z ']'
++ grep '^r'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170822-\346\225\217\346\204\237\344\277\241\346\201\257\345\212\240\345\257\206/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\205\254\347\247\257\351\207\221/HousesFundBusiness'
++ tail -n 4
++ awk -F '|' '{print$1}'
+ revision='r139771 '
+ '[' '!' -z r139771 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170822-\346\225\217\346\204\237\344\277\241\346\201\257\345\212\240\345\257\206/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\205\254\347\247\257\351\207\221/HousesFundBusiness@r139771' $'https://192.168.0.220/svn/tech/Branch/20170822-\346\225\217\346\204\237\344\277\241\346\201\257\345\212\240\345\257\206/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\205\254\347\247\257\351\207\221/HousesFundBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170822-\346\225\217\346\204\237\344\277\241\346\201\257\345\212\240\345\257\206/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\205\254\347\247\257\351\207\221/HousesFundBusiness@r139771' $'https://192.168.0.220/svn/tech/Branch/20170822-\346\225\217\346\204\237\344\277\241\346\201\257\345\212\240\345\257\206/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\345\205\254\347\247\257\351\207\221/HousesFundBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44802.html
Merged revision(s) r139771 -r139823   from Branch/20170822-敏感信息加密/Develop/生活营销/公积金/HousesFundBusiness' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.1ms)
  Rendered merge/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 14442ms (Views: 107.9ms)


Completed 200 OK in 14442ms (Views: 107.9ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-23 11:21:59 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-23 11:21:59 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (6.4ms)
  Rendered builder/index.html.erb within layouts/application (6.4ms)
Completed 200 OK in 85ms (Views: 80.8ms)


Completed 200 OK in 85ms (Views: 80.8ms)


Started POST "/start" for 192.168.5.26 at 2017-08-23 11:22:03 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-23 11:22:03 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170822-敏感信息加密", "branch"=>"20170822-敏感信息加密", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"8an4Dq2v3OQsybMYdbrnd0ipLMkxFlw/064ZgzElUsELR8I8MZrWsDXTfv8QBKZ6PWJpV+Ullufsy3yLMctT7A=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170822-敏感信息加密", "branch"=>"20170822-敏感信息加密", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"8an4Dq2v3OQsybMYdbrnd0ipLMkxFlw/064ZgzElUsELR8I8MZrWsDXTfv8QBKZ6PWJpV+Ullufsy3yLMctT7A=="}
pid is 22437
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170822-\346\225\217\346\204\237\344\277\241\346\201\257\345\212\240\345\257\206' -e qishanqing@dafy.com -E '' -b $'20170822-\346\225\217\346\204\237\344\277\241\346\201\257\345\212\240\345\257\206' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170822-敏感信息加密'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170822-敏感信息加密'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170822-敏感信息加密'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170822-敏感信息加密'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170822-\346\225\217\346\204\237\344\277\241\346\201\257\345\212\240\345\257\206' -e qishanqing@dafy.com -E '' -b $'20170822-\346\225\217\346\204\237\344\277\241\346\201\257\345\212\240\345\257\206' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170822-\346\225\217\346\204\237\344\277\241\346\201\257\345\212\240\345\257\206'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170822-\346\225\217\346\204\237\344\277\241\346\201\257\345\212\240\345\257\206'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170822-\346\225\217\346\204\237\344\277\241\346\201\257\345\212\240\345\257\206'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170822-敏感信息加密: command not found
++ for y in '$trunk'
++ echo $'20170822-\346\225\217\346\204\237\344\277\241\346\201\257\345\212\240\345\257\206'
+ trunks=$'20170822-\346\225\217\346\204\237\344\277\241\346\201\257\345\212\240\345\257\206'
+ test del = add
+ delbranch
+ '[' -z $'20170822-\346\225\217\346\204\237\344\277\241\346\201\257\345\212\240\345\257\206' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170823
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708231122
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170822-\346\225\217\346\204\237\344\277\241\346\201\257\345\212\240\345\257\206'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170823-20170822-\346\225\217\346\204\237\344\277\241\346\201\257\345\212\240\345\257\206/Develop/20170822-\346\225\217\346\204\237\344\277\241\346\201\257\345\212\240\345\257\206'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170822-\346\225\217\346\204\237\344\277\241\346\201\257\345\212\240\345\257\206'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708231122-20170822-\346\225\217\346\204\237\344\277\241\346\201\257\345\212\240\345\257\206'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170823-20170822-\346\225\217\346\204\237\344\277\241\346\201\257\345\212\240\345\257\206/Develop/20170822-\346\225\217\346\204\237\344\277\241\346\201\257\345\212\240\345\257\206'
++ awk -F / '{print $7}'
+ br=$'20170823-20170822-\346\225\217\346\204\237\344\277\241\346\201\257\345\212\240\345\257\206'
+ access=$'20170823-20170822-\346\225\217\346\204\237\344\277\241\346\201\257\345\212\240\345\257\206'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170822-\346\225\217\346\204\237\344\277\241\346\201\257\345\212\240\345\257\206' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708231122-20170822-\346\225\217\346\204\237\344\277\241\346\201\257\345\212\240\345\257\206' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.22437
+ echo $'https://192.168.0.220/svn/tech/Branch/20170822-\346\225\217\346\204\237\344\277\241\346\201\257\345\212\240\345\257\206'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170822-敏感信息加密%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170822-敏感信息加密%'\'';'
+ cat /tmp/cmdb.db.22437
+ rm -f /tmp/cmdb.db.22437
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 1702ms (Views: 63.7ms)


Completed 200 OK in 1702ms (Views: 63.7ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-23 11:23:44 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-23 11:23:44 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.4ms)
  Rendered merge/index.html.erb within layouts/application (4.4ms)
Completed 200 OK in 117ms (Views: 113.2ms)


Completed 200 OK in 117ms (Views: 113.2ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-23 11:23:49 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-23 11:23:49 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.8ms)
  Rendered builder/index.html.erb within layouts/application (3.8ms)
Completed 200 OK in 131ms (Views: 127.7ms)


Completed 200 OK in 131ms (Views: 127.7ms)


Started POST "/start" for 192.168.5.26 at 2017-08-23 11:24:00 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-23 11:24:00 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170821-理财页面优化", "branch"=>"20170821-理财页面优化", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"PdKp4pVLmfQnvE4m588aa4LxQo1GGN73bJxs5RauQWfHPJPQCX6ToD6mg8GCcVtm9zoHE5IrFC9T+QntFkBASg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170821-理财页面优化", "branch"=>"20170821-理财页面优化", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"PdKp4pVLmfQnvE4m588aa4LxQo1GGN73bJxs5RauQWfHPJPQCX6ToD6mg8GCcVtm9zoHE5IrFC9T+QntFkBASg=="}
pid is 22496
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170821-\347\220\206\350\264\242\351\241\265\351\235\242\344\274\230\345\214\226' -e qishanqing@dafy.com -E '' -b $'20170821-\347\220\206\350\264\242\351\241\265\351\235\242\344\274\230\345\214\226' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170821-理财页面优化'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170821-理财页面优化'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170821-理财页面优化'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170821-理财页面优化'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170821-\347\220\206\350\264\242\351\241\265\351\235\242\344\274\230\345\214\226' -e qishanqing@dafy.com -E '' -b $'20170821-\347\220\206\350\264\242\351\241\265\351\235\242\344\274\230\345\214\226' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170821-\347\220\206\350\264\242\351\241\265\351\235\242\344\274\230\345\214\226'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170821-\347\220\206\350\264\242\351\241\265\351\235\242\344\274\230\345\214\226'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170821-\347\220\206\350\264\242\351\241\265\351\235\242\344\274\230\345\214\226'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170821-理财页面优化: command not found
++ for y in '$trunk'
++ echo $'20170821-\347\220\206\350\264\242\351\241\265\351\235\242\344\274\230\345\214\226'
+ trunks=$'20170821-\347\220\206\350\264\242\351\241\265\351\235\242\344\274\230\345\214\226'
+ test del = add
+ delbranch
+ '[' -z $'20170821-\347\220\206\350\264\242\351\241\265\351\235\242\344\274\230\345\214\226' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170823
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708231124
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170821-\347\220\206\350\264\242\351\241\265\351\235\242\344\274\230\345\214\226'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170823-20170821-\347\220\206\350\264\242\351\241\265\351\235\242\344\274\230\345\214\226/Develop/20170821-\347\220\206\350\264\242\351\241\265\351\235\242\344\274\230\345\214\226'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170821-\347\220\206\350\264\242\351\241\265\351\235\242\344\274\230\345\214\226'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708231124-20170821-\347\220\206\350\264\242\351\241\265\351\235\242\344\274\230\345\214\226'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170823-20170821-\347\220\206\350\264\242\351\241\265\351\235\242\344\274\230\345\214\226/Develop/20170821-\347\220\206\350\264\242\351\241\265\351\235\242\344\274\230\345\214\226'
++ awk -F / '{print $7}'
+ br=$'20170823-20170821-\347\220\206\350\264\242\351\241\265\351\235\242\344\274\230\345\214\226'
+ access=$'20170823-20170821-\347\220\206\350\264\242\351\241\265\351\235\242\344\274\230\345\214\226'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170821-\347\220\206\350\264\242\351\241\265\351\235\242\344\274\230\345\214\226' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708231124-20170821-\347\220\206\350\264\242\351\241\265\351\235\242\344\274\230\345\214\226' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.22496
+ echo $'https://192.168.0.220/svn/tech/Branch/20170821-\347\220\206\350\264\242\351\241\265\351\235\242\344\274\230\345\214\226'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170821-理财页面优化%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170821-理财页面优化%'\'';'
+ cat /tmp/cmdb.db.22496
+ rm -f /tmp/cmdb.db.22496
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.3ms)
  Rendered builder/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 3173ms (Views: 75.3ms)


Completed 200 OK in 3173ms (Views: 75.3ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-23 11:33:48 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-23 11:33:48 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (10.8ms)
  Rendered builder/index.html.erb within layouts/application (10.8ms)
Completed 200 OK in 181ms (Views: 175.8ms)


Completed 200 OK in 181ms (Views: 175.8ms)


Started POST "/start" for 192.168.5.26 at 2017-08-23 11:34:32 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-23 11:34:32 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/BillBusiness2", "branch"=>"中银消费金融资金方对接", "user"=>"wenshiyu weishaolong wanghongkai xinchenglong kejiangtao xinruigang", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"7PwMOJSkTOLYVSBW4dsZDHfOtjSLHfb3U8CHhRGWqGAWEjYKCJFGtsFP7bGEZVgBAgXzql8uPC9speKNEXipTQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/BillBusiness2", "branch"=>"中银消费金融资金方对接", "user"=>"wenshiyu weishaolong wanghongkai xinchenglong kejiangtao xinruigang", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"7PwMOJSkTOLYVSBW4dsZDHfOtjSLHfb3U8CHhRGWqGAWEjYKCJFGtsFP7bGEZVgBAgXzql8uPC9speKNEXipTQ=="}
pid is 22833
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'wenshiyu weishaolong wanghongkai xinchenglong kejiangtao xinruigang' -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2' -e qishanqing@dafy.com -E '' -b $'\344\270\255\351\223\266\346\266\210\350\264\271\351\207\221\350\236\215\350\265\204\351\207\221\346\226\271\345\257\271\346\216\245' -T add -d ''
+ TEMP=' -u '\''wenshiyu weishaolong wanghongkai xinchenglong kejiangtao xinruigang'\'' -t '\''外部业务/P2P/Business/BillBusiness2'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''中银消费金融资金方对接'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''wenshiyu weishaolong wanghongkai xinchenglong kejiangtao xinruigang'\'' -t '\''外部业务/P2P/Business/BillBusiness2'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''中银消费金融资金方对接'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'wenshiyu weishaolong wanghongkai xinchenglong kejiangtao xinruigang' -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2' -e qishanqing@dafy.com -E '' -b $'\344\270\255\351\223\266\346\266\210\350\264\271\351\207\221\350\236\215\350\265\204\351\207\221\346\226\271\345\257\271\346\216\245' -T add -d '' --
+ true
+ case "$1" in
+ user='wenshiyu weishaolong wanghongkai xinchenglong kejiangtao xinruigang'
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\344\270\255\351\223\266\346\266\210\350\264\271\351\207\221\350\236\215\350\265\204\351\207\221\346\226\271\345\257\271\346\216\245'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
++ wenshiyu weishaolong wanghongkai xinchenglong kejiangtao xinruigang
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: wenshiyu: command not found
++ for x in '$user'
++ echo wenshiyu=rw
++ for x in '$user'
++ echo weishaolong=rw
++ for x in '$user'
++ echo wanghongkai=rw
++ for x in '$user'
++ echo xinchenglong=rw
++ for x in '$user'
++ echo kejiangtao=rw
++ for x in '$user'
++ echo xinruigang=rw
+ users='wenshiyu=rw
weishaolong=rw
wanghongkai=rw
xinchenglong=rw
kejiangtao=rw
xinruigang=rw'
++ $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 外部业务/P2P/Business/BillBusiness2: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2'
+ trunks=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2' ']'
+ '[' -z $'\344\270\255\351\223\266\346\266\210\350\264\271\351\207\221\350\236\215\350\265\204\351\207\221\346\226\271\345\257\271\346\216\245' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170823
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708231134
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170823-\344\270\255\351\223\266\346\266\210\350\264\271\351\207\221\350\236\215\350\265\204\351\207\221\346\226\271\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\344\270\255\351\223\266\346\266\210\350\264\271\351\207\221\350\236\215\350\265\204\351\207\221\346\226\271\345\257\271\346\216\245'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708231134-\344\270\255\351\223\266\346\266\210\350\264\271\351\207\221\350\236\215\350\265\204\351\207\221\346\226\271\345\257\271\346\216\245'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170823-\344\270\255\351\223\266\346\266\210\350\264\271\351\207\221\350\236\215\350\265\204\351\207\221\346\226\271\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2'
++ awk -F / '{print $7}'
+ br=$'20170823-\344\270\255\351\223\266\346\266\210\350\264\271\351\207\221\350\236\215\350\265\204\351\207\221\346\226\271\345\257\271\346\216\245'
+ access=$'20170823-\344\270\255\351\223\266\346\266\210\350\264\271\351\207\221\350\236\215\350\265\204\351\207\221\346\226\271\345\257\271\346\216\245'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2' $'https://192.168.0.220/svn/tech/Branch/20170823-\344\270\255\351\223\266\346\266\210\350\264\271\351\207\221\350\236\215\350\265\204\351\207\221\346\226\271\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.22833
+ echo $'https://192.168.0.220/svn/tech/Branch/20170823-\344\270\255\351\223\266\346\266\210\350\264\271\351\207\221\350\236\215\350\265\204\351\207\221\346\226\271\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BillBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170823-中银消费金融资金方对接/Develop/外部业务/P2P/Business/BillBusiness2'\'',now(),'\''qishanqing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BillBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170823-中银消费金融资金方对接/Develop/外部业务/P2P/Business/BillBusiness2'\'',now(),'\''qishanqing'\'');'
+ cat /tmp/cmdb.db.22833
+ rm -f /tmp/cmdb.db.22833
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170823-中银消费金融资金方对接] /svn/authz.conf'
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
+ test -z 'wenshiyu=rw
weishaolong=rw
wanghongkai=rw
xinchenglong=rw
kejiangtao=rw
xinruigang=rw'
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.4ms)
  Rendered builder/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 5087ms (Views: 77.4ms)


Completed 200 OK in 5087ms (Views: 77.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-23 14:48:36 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-23 14:48:36 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170823-订单取消异常/Develop/分期商城/分期商城3.0/MallBuyerBusiness", "task"=>"http://192.168.0.221/zentao/task-view-44926.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"yJJp/d58dD1PJ2BOtRBbA8mVaflW7DM6GyQ6GSrIYB4yfFPPQkl+aVY9ranQrhoOvF4sZ4Lf+eIkQV8RKiZhMw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170823-订单取消异常/Develop/分期商城/分期商城3.0/MallBuyerBusiness", "task"=>"http://192.168.0.221/zentao/task-view-44926.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"yJJp/d58dD1PJ2BOtRBbA8mVaflW7DM6GyQ6GSrIYB4yfFPPQkl+aVY9ranQrhoOvF4sZ4Lf+eIkQV8RKiZhMw=="}
pid is 31317
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-44926.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170823-\350\256\242\345\215\225\345\217\226\346\266\210\345\274\202\345\270\270/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-44926.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170823-订单取消异常/Develop/分期商城/分期商城3.0/MallBuyerBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-44926.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170823-订单取消异常/Develop/分期商城/分期商城3.0/MallBuyerBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-44926.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170823-\350\256\242\345\215\225\345\217\226\346\266\210\345\274\202\345\270\270/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-44926.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170823-\350\256\242\345\215\225\345\217\226\346\266\210\345\274\202\345\270\270/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170823-\350\256\242\345\215\225\345\217\226\346\266\210\345\274\202\345\270\270/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170823-订单取消异常/Develop/分期商城/分期商城3.0/MallBuyerBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170823-\350\256\242\345\215\225\345\217\226\346\266\210\345\274\202\345\270\270/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170823-\350\256\242\345\215\225\345\217\226\346\266\210\345\274\202\345\270\270/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170823-\350\256\242\345\215\225\345\217\226\346\266\210\345\274\202\345\270\270/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170823-\350\256\242\345\215\225\345\217\226\346\266\210\345\274\202\345\270\270/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.31317
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170823-\350\256\242\345\215\225\345\217\226\346\266\210\345\274\202\345\270\270/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170823-订单取消异常/Develop/分期商城/分期商城3.0/MallBuyerBusiness'
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170823-\350\256\242\345\215\225\345\217\226\346\266\210\345\274\202\345\270\270/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170823-\350\256\242\345\215\225\345\217\226\346\266\210\345\274\202\345\270\270/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
++ awk -F '|' '{print$1}'
+ head='r140182 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170823-\350\256\242\345\215\225\345\217\226\346\266\210\345\274\202\345\270\270/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r140160 '
+ '[' '!' -z r140160 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170823-\350\256\242\345\215\225\345\217\226\346\266\210\345\274\202\345\270\270/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness@r140160' $'https://192.168.0.220/svn/tech/Branch/20170823-\350\256\242\345\215\225\345\217\226\346\266\210\345\274\202\345\270\270/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170823-\350\256\242\345\215\225\345\217\226\346\266\210\345\274\202\345\270\270/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness@r140160' $'https://192.168.0.220/svn/tech/Branch/20170823-\350\256\242\345\215\225\345\217\226\346\266\210\345\274\202\345\270\270/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44926.html
Merged revision(s) r140160 -r140182   from Branch/20170823-订单取消异常/Develop/分期商城/分期商城3.0/MallBuyerBusiness' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (100.1ms)
  Rendered merge/new.html.erb within layouts/application (100.1ms)
Completed 200 OK in 31141ms (Views: 987.3ms)


Completed 200 OK in 31141ms (Views: 987.3ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-23 14:51:13 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-23 14:51:13 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (5.7ms)
  Rendered merge/index.html.erb within layouts/application (5.7ms)
Completed 200 OK in 81ms (Views: 78.2ms)


Completed 200 OK in 81ms (Views: 78.2ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-23 14:51:17 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-23 14:51:17 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.5ms)
  Rendered builder/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 219ms (Views: 198.2ms)


Completed 200 OK in 219ms (Views: 198.2ms)


Started POST "/start" for 192.168.5.26 at 2017-08-23 14:51:22 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-23 14:51:22 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170823-订单取消异常", "branch"=>"20170823-订单取消异常", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"dNi7U7Tgx/Cm2A+vkk+EizbjVW2JSJaNM0ZIrXC3lESONoFhKNXNpL/Cwkj38cWGQygQ8117XFUMIy2lcFmVaQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170823-订单取消异常", "branch"=>"20170823-订单取消异常", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"dNi7U7Tgx/Cm2A+vkk+EizbjVW2JSJaNM0ZIrXC3lESONoFhKNXNpL/Cwkj38cWGQygQ8117XFUMIy2lcFmVaQ=="}
pid is 31437
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170823-\350\256\242\345\215\225\345\217\226\346\266\210\345\274\202\345\270\270' -e qishanqing@dafy.com -E '' -b $'20170823-\350\256\242\345\215\225\345\217\226\346\266\210\345\274\202\345\270\270' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170823-订单取消异常'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170823-订单取消异常'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170823-订单取消异常'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170823-订单取消异常'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170823-\350\256\242\345\215\225\345\217\226\346\266\210\345\274\202\345\270\270' -e qishanqing@dafy.com -E '' -b $'20170823-\350\256\242\345\215\225\345\217\226\346\266\210\345\274\202\345\270\270' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170823-\350\256\242\345\215\225\345\217\226\346\266\210\345\274\202\345\270\270'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170823-\350\256\242\345\215\225\345\217\226\346\266\210\345\274\202\345\270\270'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170823-\350\256\242\345\215\225\345\217\226\346\266\210\345\274\202\345\270\270'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170823-订单取消异常: command not found
++ for y in '$trunk'
++ echo $'20170823-\350\256\242\345\215\225\345\217\226\346\266\210\345\274\202\345\270\270'
+ trunks=$'20170823-\350\256\242\345\215\225\345\217\226\346\266\210\345\274\202\345\270\270'
+ test del = add
+ delbranch
+ '[' -z $'20170823-\350\256\242\345\215\225\345\217\226\346\266\210\345\274\202\345\270\270' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170823
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708231451
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170823-\350\256\242\345\215\225\345\217\226\346\266\210\345\274\202\345\270\270'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170823-20170823-\350\256\242\345\215\225\345\217\226\346\266\210\345\274\202\345\270\270/Develop/20170823-\350\256\242\345\215\225\345\217\226\346\266\210\345\274\202\345\270\270'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170823-\350\256\242\345\215\225\345\217\226\346\266\210\345\274\202\345\270\270'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708231451-20170823-\350\256\242\345\215\225\345\217\226\346\266\210\345\274\202\345\270\270'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170823-20170823-\350\256\242\345\215\225\345\217\226\346\266\210\345\274\202\345\270\270/Develop/20170823-\350\256\242\345\215\225\345\217\226\346\266\210\345\274\202\345\270\270'
++ awk -F / '{print $7}'
+ br=$'20170823-20170823-\350\256\242\345\215\225\345\217\226\346\266\210\345\274\202\345\270\270'
+ access=$'20170823-20170823-\350\256\242\345\215\225\345\217\226\346\266\210\345\274\202\345\270\270'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170823-\350\256\242\345\215\225\345\217\226\346\266\210\345\274\202\345\270\270' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708231451-20170823-\350\256\242\345\215\225\345\217\226\346\266\210\345\274\202\345\270\270' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.31437
+ echo $'https://192.168.0.220/svn/tech/Branch/20170823-\350\256\242\345\215\225\345\217\226\346\266\210\345\274\202\345\270\270'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170823-订单取消异常%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170823-订单取消异常%'\'';'
+ cat /tmp/cmdb.db.31437
+ rm -f /tmp/cmdb.db.31437
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.6ms)
  Rendered builder/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 1891ms (Views: 59.0ms)


Completed 200 OK in 1891ms (Views: 59.0ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-23 14:51:26 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-23 14:51:26 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (6.7ms)
  Rendered builder/index.html.erb within layouts/application (6.7ms)
Completed 200 OK in 81ms (Views: 78.8ms)


Completed 200 OK in 81ms (Views: 78.8ms)


Exiting
nohup: 忽略输入
/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/capybara-2.14.0/lib/capybara.rb:6:in `require': Interrupt
	from /home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/capybara-2.14.0/lib/capybara.rb:6:in `<top (required)>'
	from /home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/bundler-1.15.0/lib/bundler/runtime.rb:82:in `require'
	from /home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/bundler-1.15.0/lib/bundler/runtime.rb:82:in `block (2 levels) in require'
	from /home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/bundler-1.15.0/lib/bundler/runtime.rb:77:in `each'
	from /home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/bundler-1.15.0/lib/bundler/runtime.rb:77:in `block in require'
	from /home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/bundler-1.15.0/lib/bundler/runtime.rb:66:in `each'
	from /home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/bundler-1.15.0/lib/bundler/runtime.rb:66:in `require'
	from /home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/bundler-1.15.0/lib/bundler.rb:108:in `require'
	from /home/qishanqing/myscript/builder/config/application.rb:7:in `<top (required)>'
	from /home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/railties-5.1.1/lib/rails/commands/server/server_command.rb:129:in `require'
	from /home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/railties-5.1.1/lib/rails/commands/server/server_command.rb:129:in `block in perform'
	from /home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/railties-5.1.1/lib/rails/commands/server/server_command.rb:126:in `tap'
	from /home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/railties-5.1.1/lib/rails/commands/server/server_command.rb:126:in `perform'
	from /home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/thor-0.19.4/lib/thor/command.rb:27:in `run'
	from /home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/thor-0.19.4/lib/thor/invocation.rb:126:in `invoke_command'
	from /home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/thor-0.19.4/lib/thor.rb:369:in `dispatch'
	from /home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/railties-5.1.1/lib/rails/command/base.rb:63:in `perform'
	from /home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/railties-5.1.1/lib/rails/command.rb:44:in `invoke'
	from /home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/railties-5.1.1/lib/rails/commands.rb:16:in `<top (required)>'
	from /home/qishanqing/myscript/builder/bin/rails:9:in `require'
	from /home/qishanqing/myscript/builder/bin/rails:9:in `<top (required)>'
	from /home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/spring-2.0.2/lib/spring/client/rails.rb:28:in `load'
	from /home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/spring-2.0.2/lib/spring/client/rails.rb:28:in `call'
	from /home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/spring-2.0.2/lib/spring/client/command.rb:7:in `call'
	from /home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/spring-2.0.2/lib/spring/client.rb:30:in `run'
	from /home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/spring-2.0.2/bin/spring:49:in `<top (required)>'
	from /home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/spring-2.0.2/lib/spring/binstub.rb:31:in `load'
	from /home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/spring-2.0.2/lib/spring/binstub.rb:31:in `<top (required)>'
	from /home/qishanqing/myscript/builder/bin/spring:15:in `require'
	from /home/qishanqing/myscript/builder/bin/spring:15:in `<top (required)>'
	from bin/rails:3:in `load'
	from bin/rails:3:in `<main>'
nohup: 忽略输入
=> Booting Puma
=> Rails 5.1.1 application starting in development on http://localhost:3000
=> Run `rails server -h` for more startup options
Puma starting in single mode...
* Version 3.8.2 (ruby 2.4.1-p111), codename: Sassy Salamander
* Min threads: 5, max threads: 5
* Environment: development
* Listening on tcp://0.0.0.0:3000
Use Ctrl-C to stop
Started GET "/builder" for 192.168.5.26 at 2017-08-23 15:53:49 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-23 15:53:49 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (12.1ms)
  Rendered builder/index.html.erb within layouts/application (12.1ms)
Completed 200 OK in 2764ms (Views: 1341.6ms)


Completed 200 OK in 2764ms (Views: 1341.6ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-23 15:53:55 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-23 15:53:55 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (2.1ms)
  Rendered merge/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 37ms (Views: 35.4ms)


Completed 200 OK in 37ms (Views: 35.4ms)


Started GET "/" for 192.168.5.26 at 2017-08-23 15:55:10 +0800
Started GET "/" for 192.168.5.26 at 2017-08-23 15:55:10 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.4ms)
  Rendered builder/index.html.erb within layouts/application (3.4ms)
Completed 200 OK in 90ms (Views: 86.6ms)


Completed 200 OK in 90ms (Views: 86.6ms)


Started POST "/start" for 192.168.5.26 at 2017-08-23 17:28:50 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-23 17:28:50 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"wanghongkai@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/RepaymentBusiness2", "branch"=>"中银消费金融资金方对接", "user"=>"wenshiyu weishaolong wanghongkai xinchenglong kejiangtao xinruigang      ", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"ZXfwy7Ns3rRZJ9RghIOYGEfnmUqMjZ/MVvokgMSm4L+fmcr5L1nU4EA9GYfhPdkVMizc1Fi+VRRpn0GIxEjhkg=="}
  Parameters: {"email"=>"wanghongkai@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/RepaymentBusiness2", "branch"=>"中银消费金融资金方对接", "user"=>"wenshiyu weishaolong wanghongkai xinchenglong kejiangtao xinruigang      ", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"ZXfwy7Ns3rRZJ9RghIOYGEfnmUqMjZ/MVvokgMSm4L+fmcr5L1nU4EA9GYfhPdkVMizc1Fi+VRRpn0GIxEjhkg=="}
pid is 6622
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'wenshiyu weishaolong wanghongkai xinchenglong kejiangtao xinruigang      ' -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' -e wanghongkai@dafy.com -E '' -b $'\344\270\255\351\223\266\346\266\210\350\264\271\351\207\221\350\236\215\350\265\204\351\207\221\346\226\271\345\257\271\346\216\245' -T add -d ''
+ TEMP=' -u '\''wenshiyu weishaolong wanghongkai xinchenglong kejiangtao xinruigang      '\'' -t '\''外部业务/P2P/Business/RepaymentBusiness2'\'' -e '\''wanghongkai@dafy.com'\'' -E '\'''\'' -b '\''中银消费金融资金方对接'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''wenshiyu weishaolong wanghongkai xinchenglong kejiangtao xinruigang      '\'' -t '\''外部业务/P2P/Business/RepaymentBusiness2'\'' -e '\''wanghongkai@dafy.com'\'' -E '\'''\'' -b '\''中银消费金融资金方对接'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'wenshiyu weishaolong wanghongkai xinchenglong kejiangtao xinruigang      ' -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' -e wanghongkai@dafy.com -E '' -b $'\344\270\255\351\223\266\346\266\210\350\264\271\351\207\221\350\236\215\350\265\204\351\207\221\346\226\271\345\257\271\346\216\245' -T add -d '' --
+ true
+ case "$1" in
+ user='wenshiyu weishaolong wanghongkai xinchenglong kejiangtao xinruigang      '
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ shift 2
+ true
+ case "$1" in
+ email=wanghongkai@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\344\270\255\351\223\266\346\266\210\350\264\271\351\207\221\350\236\215\350\265\204\351\207\221\346\226\271\345\257\271\346\216\245'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=wanghongkai@dafy.com '
+ SMARTCM_EXTRA_MAIL='wanghongkai@dafy.com '
++ wenshiyu weishaolong wanghongkai xinchenglong kejiangtao xinruigang
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: wenshiyu: command not found
++ for x in '$user'
++ echo wenshiyu=rw
++ for x in '$user'
++ echo weishaolong=rw
++ for x in '$user'
++ echo wanghongkai=rw
++ for x in '$user'
++ echo xinchenglong=rw
++ for x in '$user'
++ echo kejiangtao=rw
++ for x in '$user'
++ echo xinruigang=rw
+ users='wenshiyu=rw
weishaolong=rw
wanghongkai=rw
xinchenglong=rw
kejiangtao=rw
xinruigang=rw'
++ $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 外部业务/P2P/Business/RepaymentBusiness2: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ trunks=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' ']'
+ '[' -z $'\344\270\255\351\223\266\346\266\210\350\264\271\351\207\221\350\236\215\350\265\204\351\207\221\346\226\271\345\257\271\346\216\245' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170823
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708231728
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170823-\344\270\255\351\223\266\346\266\210\350\264\271\351\207\221\350\236\215\350\265\204\351\207\221\346\226\271\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\344\270\255\351\223\266\346\266\210\350\264\271\351\207\221\350\236\215\350\265\204\351\207\221\346\226\271\345\257\271\346\216\245'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708231728-\344\270\255\351\223\266\346\266\210\350\264\271\351\207\221\350\236\215\350\265\204\351\207\221\346\226\271\345\257\271\346\216\245'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170823-\344\270\255\351\223\266\346\266\210\350\264\271\351\207\221\350\236\215\350\265\204\351\207\221\346\226\271\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ awk -F / '{print $7}'
+ br=$'20170823-\344\270\255\351\223\266\346\266\210\350\264\271\351\207\221\350\236\215\350\265\204\351\207\221\346\226\271\345\257\271\346\216\245'
+ access=$'20170823-\344\270\255\351\223\266\346\266\210\350\264\271\351\207\221\350\236\215\350\265\204\351\207\221\346\226\271\345\257\271\346\216\245'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' $'https://192.168.0.220/svn/tech/Branch/20170823-\344\270\255\351\223\266\346\266\210\350\264\271\351\207\221\350\236\215\350\265\204\351\207\221\346\226\271\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.6622
+ echo $'https://192.168.0.220/svn/tech/Branch/20170823-\344\270\255\351\223\266\346\266\210\350\264\271\351\207\221\350\236\215\350\265\204\351\207\221\346\226\271\345\257\271\346\216\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/RepaymentBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170823-中银消费金融资金方对接/Develop/外部业务/P2P/Business/RepaymentBusiness2'\'',now(),'\''wanghongkai'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/RepaymentBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170823-中银消费金融资金方对接/Develop/外部业务/P2P/Business/RepaymentBusiness2'\'',now(),'\''wanghongkai'\'');'
+ cat /tmp/cmdb.db.6622
+ rm -f /tmp/cmdb.db.6622
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170823-中银消费金融资金方对接] /svn/authz.conf'
+ read num
+ '[' 1 -eq 0 ']'
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.7ms)
  Rendered builder/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 3180ms (Views: 663.1ms)


Completed 200 OK in 3180ms (Views: 663.1ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-24 09:35:56 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-24 09:35:56 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (126.4ms)
  Rendered builder/index.html.erb within layouts/application (126.4ms)
Completed 200 OK in 941ms (Views: 887.2ms)


Completed 200 OK in 941ms (Views: 887.2ms)


Started POST "/start" for 192.168.5.26 at 2017-08-24 09:37:37 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-24 09:37:37 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"lijinming@dafy.com", "types"=>"add", "trunk"=>"基础业务/用户中心/UserSite 基础业务/用户中心/UserBusiness 基础业务/用户中心/PDFFactory 基础业务/用户中心/ProtocolSignature 老系统/新达飞贷/网站中心/BossSite", "branch"=>"借款协议改造", "user"=>"lijinming", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"KgOQFGUYA6KOQHkF3JzhIx1AgLd5fDpJk3zlcQifXgrQ7aom+S0J9pdatOK5IqAuaIvFKa1P8JGsGYB5CHFfJw=="}
  Parameters: {"email"=>"lijinming@dafy.com", "types"=>"add", "trunk"=>"基础业务/用户中心/UserSite 基础业务/用户中心/UserBusiness 基础业务/用户中心/PDFFactory 基础业务/用户中心/ProtocolSignature 老系统/新达飞贷/网站中心/BossSite", "branch"=>"借款协议改造", "user"=>"lijinming", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"KgOQFGUYA6KOQHkF3JzhIx1AgLd5fDpJk3zlcQifXgrQ7aom+S0J9pdatOK5IqAuaIvFKa1P8JGsGYB5CHFfJw=="}
pid is 10794
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u lijinming -t '基础业务/用户中心/UserSite 基础业务/用户中心/UserBusiness 基础业务/用户中心/PDFFactory 基础业务/用户中心/ProtocolSignature 老系统/新达飞贷/网站中心/BossSite' -e lijinming@dafy.com -E '' -b $'\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240' -T add -d ''
+ TEMP=' -u '\''lijinming'\'' -t '\''基础业务/用户中心/UserSite 基础业务/用户中心/UserBusiness 基础业务/用户中心/PDFFactory 基础业务/用户中心/ProtocolSignature 老系统/新达飞贷/网站中心/BossSite'\'' -e '\''lijinming@dafy.com'\'' -E '\'''\'' -b '\''借款协议改造'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''lijinming'\'' -t '\''基础业务/用户中心/UserSite 基础业务/用户中心/UserBusiness 基础业务/用户中心/PDFFactory 基础业务/用户中心/ProtocolSignature 老系统/新达飞贷/网站中心/BossSite'\'' -e '\''lijinming@dafy.com'\'' -E '\'''\'' -b '\''借款协议改造'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u lijinming -t '基础业务/用户中心/UserSite 基础业务/用户中心/UserBusiness 基础业务/用户中心/PDFFactory 基础业务/用户中心/ProtocolSignature 老系统/新达飞贷/网站中心/BossSite' -e lijinming@dafy.com -E '' -b $'\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240' -T add -d '' --
+ true
+ case "$1" in
+ user=lijinming
+ shift 2
+ true
+ case "$1" in
+ trunk='基础业务/用户中心/UserSite 基础业务/用户中心/UserBusiness 基础业务/用户中心/PDFFactory 基础业务/用户中心/ProtocolSignature 老系统/新达飞贷/网站中心/BossSite'
+ shift 2
+ true
+ case "$1" in
+ email=lijinming@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=lijinming@dafy.com '
+ SMARTCM_EXTRA_MAIL='lijinming@dafy.com '
++ lijinming
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: lijinming: command not found
++ for x in '$user'
++ echo lijinming=rw
+ users=lijinming=rw
++ $'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite' $'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' $'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory' $'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature' $'\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 基础业务/用户中心/UserSite: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
++ for y in '$trunk'
++ echo $'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ for y in '$trunk'
++ echo $'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
++ for y in '$trunk'
++ echo $'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
++ for y in '$trunk'
++ echo $'\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ trunks='基础业务/用户中心/UserSite
基础业务/用户中心/UserBusiness
基础业务/用户中心/PDFFactory
基础业务/用户中心/ProtocolSignature
老系统/新达飞贷/网站中心/BossSite'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite' ']'
+ '[' -z $'\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170824
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708240937
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708240937-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
++ awk -F / '{print $7}'
+ br=$'20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240'
+ access=$'20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite' $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.10794
+ echo $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserSite'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/基础业务/用户中心/UserSite'\'', '\''https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/基础业务/用户中心/UserSite'\'',now(),'\''lijinming'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/基础业务/用户中心/UserSite'\'', '\''https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/基础业务/用户中心/UserSite'\'',now(),'\''lijinming'\'');'
+ cat /tmp/cmdb.db.10794
+ rm -f /tmp/cmdb.db.10794
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170824-借款协议改造] /svn/authz.conf'
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z lijinming=rw
+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' ']'
+ '[' -z $'\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170824
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708240937
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708240937-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ awk -F / '{print $7}'
+ br=$'20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240'
+ access=$'20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.10794
+ echo $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/基础业务/用户中心/UserBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/基础业务/用户中心/UserBusiness'\'',now(),'\''lijinming'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/基础业务/用户中心/UserBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/基础业务/用户中心/UserBusiness'\'',now(),'\''lijinming'\'');'
+ cat /tmp/cmdb.db.10794
+ rm -f /tmp/cmdb.db.10794
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170824-借款协议改造] /svn/authz.conf'
+ read num
+ '[' 1 -eq 0 ']'
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory' ']'
+ '[' -z $'\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170824
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708240937
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708240937-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
++ awk -F / '{print $7}'
+ br=$'20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240'
+ access=$'20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory' $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.10794
+ echo $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/基础业务/用户中心/PDFFactory'\'', '\''https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/基础业务/用户中心/PDFFactory'\'',now(),'\''lijinming'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/基础业务/用户中心/PDFFactory'\'', '\''https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/基础业务/用户中心/PDFFactory'\'',now(),'\''lijinming'\'');'
+ cat /tmp/cmdb.db.10794
+ rm -f /tmp/cmdb.db.10794
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170824-借款协议改造] /svn/authz.conf'
+ read num
+ '[' 1 -eq 0 ']'
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature' ']'
+ '[' -z $'\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170824
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708240937
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708240937-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240'
++ awk -F / '{print $7}'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
+ br=$'20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240'
+ access=$'20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature' $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.10794
+ echo $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/ProtocolSignature'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/基础业务/用户中心/ProtocolSignature'\'', '\''https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/基础业务/用户中心/ProtocolSignature'\'',now(),'\''lijinming'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/基础业务/用户中心/ProtocolSignature'\'', '\''https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/基础业务/用户中心/ProtocolSignature'\'',now(),'\''lijinming'\'');'
+ cat /tmp/cmdb.db.10794
+ rm -f /tmp/cmdb.db.10794
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170824-借款协议改造] /svn/authz.conf'
+ read num
+ '[' 1 -eq 0 ']'
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ for trunk in '${trunks[@]}'
+ '[' -z $'\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' ']'
+ '[' -z $'\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170824
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708240937
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708240937-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ awk -F / '{print $7}'
+ br=$'20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240'
+ access=$'20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.10794
+ echo $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/老系统/新达飞贷/网站中心/BossSite'\'', '\''https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/老系统/新达飞贷/网站中心/BossSite'\'',now(),'\''lijinming'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/老系统/新达飞贷/网站中心/BossSite'\'', '\''https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/老系统/新达飞贷/网站中心/BossSite'\'',now(),'\''lijinming'\'');'
+ cat /tmp/cmdb.db.10794
+ rm -f /tmp/cmdb.db.10794
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170824-借款协议改造] /svn/authz.conf'
+ read num
+ '[' 1 -eq 0 ']'
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.5ms)
  Rendered builder/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 18413ms (Views: 80.6ms)


Completed 200 OK in 18413ms (Views: 80.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-24 09:50:29 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-24 09:50:29 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170821-内部项目修改需求/Develop/数据报表/内部项目/projectResourcesManager https://192.168.0.220/svn/tech/Branch/20170821-内部项目修改需求/Develop/数据报表/内部项目/TechMonitor", "task"=>"http://192.168.0.221/zentao/task-view-44959.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"tw99+q+2PpiUYogObHp2LHpWj1wYO8if9MFY/lKpPQdN4UfIM4M0zI14RekJxDchD53KwswIAkfLpD32Ukc8Kg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170821-内部项目修改需求/Develop/数据报表/内部项目/projectResourcesManager https://192.168.0.220/svn/tech/Branch/20170821-内部项目修改需求/Develop/数据报表/内部项目/TechMonitor", "task"=>"http://192.168.0.221/zentao/task-view-44959.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"tw99+q+2PpiUYogObHp2LHpWj1wYO8if9MFY/lKpPQdN4UfIM4M0zI14RekJxDchD53KwswIAkfLpD32Ukc8Kg=="}
pid is 11257
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-44959.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170821-内部项目修改需求/Develop/数据报表/内部项目/projectResourcesManager https://192.168.0.220/svn/tech/Branch/20170821-内部项目修改需求/Develop/数据报表/内部项目/TechMonitor' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-44959.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170821-内部项目修改需求/Develop/数据报表/内部项目/projectResourcesManager https://192.168.0.220/svn/tech/Branch/20170821-内部项目修改需求/Develop/数据报表/内部项目/TechMonitor'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-44959.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170821-内部项目修改需求/Develop/数据报表/内部项目/projectResourcesManager https://192.168.0.220/svn/tech/Branch/20170821-内部项目修改需求/Develop/数据报表/内部项目/TechMonitor'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-44959.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170821-内部项目修改需求/Develop/数据报表/内部项目/projectResourcesManager https://192.168.0.220/svn/tech/Branch/20170821-内部项目修改需求/Develop/数据报表/内部项目/TechMonitor' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-44959.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170821-内部项目修改需求/Develop/数据报表/内部项目/projectResourcesManager https://192.168.0.220/svn/tech/Branch/20170821-内部项目修改需求/Develop/数据报表/内部项目/TechMonitor'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170821-\345\206\205\351\203\250\351\241\271\347\233\256\344\277\256\346\224\271\351\234\200\346\261\202/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/projectResourcesManager' $'https://192.168.0.220/svn/tech/Branch/20170821-\345\206\205\351\203\250\351\241\271\347\233\256\344\277\256\346\224\271\351\234\200\346\261\202/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/TechMonitor'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170821-内部项目修改需求/Develop/数据报表/内部项目/projectResourcesManager: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170821-\345\206\205\351\203\250\351\241\271\347\233\256\344\277\256\346\224\271\351\234\200\346\261\202/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/projectResourcesManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170821-\345\206\205\351\203\250\351\241\271\347\233\256\344\277\256\346\224\271\351\234\200\346\261\202/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/TechMonitor'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170821-内部项目修改需求/Develop/数据报表/内部项目/projectResourcesManager
https://192.168.0.220/svn/tech/Branch/20170821-内部项目修改需求/Develop/数据报表/内部项目/TechMonitor'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170821-\345\206\205\351\203\250\351\241\271\347\233\256\344\277\256\346\224\271\351\234\200\346\261\202/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/projectResourcesManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/projectResourcesManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170821-\345\206\205\351\203\250\351\241\271\347\233\256\344\277\256\346\224\271\351\234\200\346\261\202/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/projectResourcesManager'
+ rm -f /home/qishanqing/tmp/merged/output.11257
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/projectResourcesManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170821-\345\206\205\351\203\250\351\241\271\347\233\256\344\277\256\346\224\271\351\234\200\346\261\202/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/projectResourcesManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/projectResourcesManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/projectResourcesManager'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170821-内部项目修改需求/Develop/数据报表/内部项目/projectResourcesManager'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170821-\345\206\205\351\203\250\351\241\271\347\233\256\344\277\256\346\224\271\351\234\200\346\261\202/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/projectResourcesManager'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r140111 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170821-\345\206\205\351\203\250\351\241\271\347\233\256\344\277\256\346\224\271\351\234\200\346\261\202/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/projectResourcesManager'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r140450 '
+ '[' '!' -z r140111 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170821-\345\206\205\351\203\250\351\241\271\347\233\256\344\277\256\346\224\271\351\234\200\346\261\202/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/projectResourcesManager@r140111' $'https://192.168.0.220/svn/tech/Branch/20170821-\345\206\205\351\203\250\351\241\271\347\233\256\344\277\256\346\224\271\351\234\200\346\261\202/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/projectResourcesManager' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170821-\345\206\205\351\203\250\351\241\271\347\233\256\344\277\256\346\224\271\351\234\200\346\261\202/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/projectResourcesManager@r140111' $'https://192.168.0.220/svn/tech/Branch/20170821-\345\206\205\351\203\250\351\241\271\347\233\256\344\277\256\346\224\271\351\234\200\346\261\202/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/projectResourcesManager'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44959.html
Merged revision(s) r140111 -r140450   from Branch/20170821-内部项目修改需求/Develop/数据报表/内部项目/projectResourcesManager' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170821-\345\206\205\351\203\250\351\241\271\347\233\256\344\277\256\346\224\271\351\234\200\346\261\202/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/TechMonitor'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/TechMonitor'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170821-\345\206\205\351\203\250\351\241\271\347\233\256\344\277\256\346\224\271\351\234\200\346\261\202/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/TechMonitor'
+ rm -f /home/qishanqing/tmp/merged/output.11257
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/TechMonitor'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170821-\345\206\205\351\203\250\351\241\271\347\233\256\344\277\256\346\224\271\351\234\200\346\261\202/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/TechMonitor'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/TechMonitor'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/TechMonitor'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170821-内部项目修改需求/Develop/数据报表/内部项目/TechMonitor'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ head -n 4
++ grep -C 3 $'Branch/20170821-\345\206\205\351\203\250\351\241\271\347\233\256\344\277\256\346\224\271\351\234\200\346\261\202/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/TechMonitor'
++ grep '^r'
++ svn log
++ awk -F '|' '{print$1}'
+ revision='r140114 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170821-\345\206\205\351\203\250\351\241\271\347\233\256\344\277\256\346\224\271\351\234\200\346\261\202/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/TechMonitor'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r139970 '
+ '[' '!' -z r140114 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170821-\345\206\205\351\203\250\351\241\271\347\233\256\344\277\256\346\224\271\351\234\200\346\261\202/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/TechMonitor@r140114' $'https://192.168.0.220/svn/tech/Branch/20170821-\345\206\205\351\203\250\351\241\271\347\233\256\344\277\256\346\224\271\351\234\200\346\261\202/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/TechMonitor' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170821-\345\206\205\351\203\250\351\241\271\347\233\256\344\277\256\346\224\271\351\234\200\346\261\202/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/TechMonitor@r140114' $'https://192.168.0.220/svn/tech/Branch/20170821-\345\206\205\351\203\250\351\241\271\347\233\256\344\277\256\346\224\271\351\234\200\346\261\202/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/TechMonitor'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44959.html
Merged revision(s) r140114 -r139970   from Branch/20170821-内部项目修改需求/Develop/数据报表/内部项目/TechMonitor' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.2ms)
  Rendered merge/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 42207ms (Views: 117.5ms)


Completed 200 OK in 42207ms (Views: 117.5ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-24 09:51:55 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-24 09:51:55 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.9ms)
  Rendered merge/index.html.erb within layouts/application (3.9ms)
Completed 200 OK in 98ms (Views: 61.2ms)


Completed 200 OK in 98ms (Views: 61.2ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-24 09:52:16 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-24 09:52:16 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170823-APP端限购修改/Develop/分期商城/分期商城3.0/MallBusiness https://192.168.0.220/svn/tech/Branch/20170823-APP端限购修改/Develop/分期商城/分期商城3.0/MallBuyerBusiness", "task"=>"http://192.168.0.221/zentao/task-view-44956.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"QG+Vv/YKYVWQU3V+f32jmptBTCL8qT9LyPFghQRLyUS6ga+Naj9rAYlJuJkaw+KX7ooJvCia9ZP3lAWNBKXIaQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170823-APP端限购修改/Develop/分期商城/分期商城3.0/MallBusiness https://192.168.0.220/svn/tech/Branch/20170823-APP端限购修改/Develop/分期商城/分期商城3.0/MallBuyerBusiness", "task"=>"http://192.168.0.221/zentao/task-view-44956.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"QG+Vv/YKYVWQU3V+f32jmptBTCL8qT9LyPFghQRLyUS6ga+Naj9rAYlJuJkaw+KX7ooJvCia9ZP3lAWNBKXIaQ=="}
pid is 11377
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-44956.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170823-APP端限购修改/Develop/分期商城/分期商城3.0/MallBusiness https://192.168.0.220/svn/tech/Branch/20170823-APP端限购修改/Develop/分期商城/分期商城3.0/MallBuyerBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-44956.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170823-APP端限购修改/Develop/分期商城/分期商城3.0/MallBusiness https://192.168.0.220/svn/tech/Branch/20170823-APP端限购修改/Develop/分期商城/分期商城3.0/MallBuyerBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-44956.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170823-APP端限购修改/Develop/分期商城/分期商城3.0/MallBusiness https://192.168.0.220/svn/tech/Branch/20170823-APP端限购修改/Develop/分期商城/分期商城3.0/MallBuyerBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-44956.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170823-APP端限购修改/Develop/分期商城/分期商城3.0/MallBusiness https://192.168.0.220/svn/tech/Branch/20170823-APP端限购修改/Develop/分期商城/分期商城3.0/MallBuyerBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-44956.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170823-APP端限购修改/Develop/分期商城/分期商城3.0/MallBusiness https://192.168.0.220/svn/tech/Branch/20170823-APP端限购修改/Develop/分期商城/分期商城3.0/MallBuyerBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness' $'https://192.168.0.220/svn/tech/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170823-APP端限购修改/Develop/分期商城/分期商城3.0/MallBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170823-APP端限购修改/Develop/分期商城/分期商城3.0/MallBusiness
https://192.168.0.220/svn/tech/Branch/20170823-APP端限购修改/Develop/分期商城/分期商城3.0/MallBuyerBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.11377
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170823-APP端限购修改/Develop/分期商城/分期商城3.0/MallBusiness'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
++ awk -F '|' '{print$1}'
+ revision=
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
++ grep '^r'
+ head='r140118 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r140106 '
+ '[' '!' -z r140106 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness@r140106' $'https://192.168.0.220/svn/tech/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness@r140106' $'https://192.168.0.220/svn/tech/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44956.html
Merged revision(s) r140106 -r140118   from Branch/20170823-APP端限购修改/Develop/分期商城/分期商城3.0/MallBusiness' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.11377
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ mails-cm -i 'code merged from Branch/20170823-APP端限购修改/Develop/分期商城/分期商城3.0/MallBuyerBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
++ head -n 4
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r140368 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r140107 '
+ '[' '!' -z r140107 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness@r140107' $'https://192.168.0.220/svn/tech/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness@r140107' $'https://192.168.0.220/svn/tech/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44956.html
Merged revision(s) r140107 -r140368   from Branch/20170823-APP端限购修改/Develop/分期商城/分期商城3.0/MallBuyerBusiness' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.4ms)
  Rendered merge/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 40969ms (Views: 55.2ms)


Completed 200 OK in 40969ms (Views: 55.2ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-24 09:56:08 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-24 09:56:08 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (7.8ms)
  Rendered merge/index.html.erb within layouts/application (7.8ms)
Completed 200 OK in 116ms (Views: 112.3ms)


Completed 200 OK in 116ms (Views: 112.3ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-24 09:56:28 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-24 09:56:28 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallBuyerBusiness https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManageAccessBusiness https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManageOrderBusiness https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManageStorageBusiness https://192.168.0.220/svn/tech/Branch/20170808-商城海尔下单改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-44999.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"G5BUcT3rT6AxwzQ8QytKDsLRyhGf3Ss/V+dsm2/zdjrhfm5Dod5F9CjZ+dsmlQsDtxqPj0vu4edoggmTbx13Fw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallBuyerBusiness https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManageAccessBusiness https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManageOrderBusiness https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManageStorageBusiness https://192.168.0.220/svn/tech/Branch/20170808-商城海尔下单改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-44999.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"G5BUcT3rT6AxwzQ8QytKDsLRyhGf3Ss/V+dsm2/zdjrhfm5Dod5F9CjZ+dsmlQsDtxqPj0vu4edoggmTbx13Fw=="}
pid is 11754
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-44999.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallBuyerBusiness https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManageAccessBusiness https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManageOrderBusiness https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManageStorageBusiness https://192.168.0.220/svn/tech/Branch/20170808-商城海尔下单改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-44999.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallBuyerBusiness https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManageAccessBusiness https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManageOrderBusiness https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManageStorageBusiness https://192.168.0.220/svn/tech/Branch/20170808-商城海尔下单改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-44999.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallBuyerBusiness https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManageAccessBusiness https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManageOrderBusiness https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManageStorageBusiness https://192.168.0.220/svn/tech/Branch/20170808-商城海尔下单改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-44999.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallBuyerBusiness https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManageAccessBusiness https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManageOrderBusiness https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManageStorageBusiness https://192.168.0.220/svn/tech/Branch/20170808-商城海尔下单改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-44999.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallBuyerBusiness https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManageAccessBusiness https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManageOrderBusiness https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallTaskBusiness https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManageStorageBusiness https://192.168.0.220/svn/tech/Branch/20170808-商城海尔下单改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness' $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness' $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness' $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness' $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness' $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness' $'https://192.168.0.220/svn/tech/Branch/20170808-\345\225\206\345\237\216\346\265\267\345\260\224\344\270\213\345\215\225\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallBuyerBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170808-\345\225\206\345\237\216\346\265\267\345\260\224\344\270\213\345\215\225\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallBuyerBusiness
https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManageAccessBusiness
https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness
https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManageOrderBusiness
https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManager
https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallTaskBusiness
https://192.168.0.220/svn/tech/Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManageStorageBusiness
https://192.168.0.220/svn/tech/Branch/20170808-商城海尔下单改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.11754
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallBuyerBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r140413 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r134083 '
+ '[' '!' -z r134083 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness@r134083' $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness' .
+ st='  树冲突：3'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2323' ']'
+ die 'Svn merged conflicts the r134083 -r140413  from Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallBuyerBusiness'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r134083 -r140413  from Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallBuyerBusiness'
+ test -e /home/qishanqing/tmp/merged/output.11754
+ rm -f /home/qishanqing/tmp/merged/output.11754
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44999.html
Merged revision(s) r134083 -r140413   from Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallBuyerBusiness' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.11754
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManageAccessBusiness'
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r140359 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
++ tail -n 4
+ revision='r134084 '
+ '[' '!' -z r134084 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness@r134084' $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness@r134084' $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageAccessBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44999.html
Merged revision(s) r134084 -r140359   from Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManageAccessBusiness' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.11754
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ mails-cm -i 'code merged from Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ awk -F '|' '{print$1}'
++ grep '^r'
++ grep -C 3 $'Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
++ head -n 4
+ revision='r139700 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r137912 '
+ '[' '!' -z r139700 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness@r139700' $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness@r139700' $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageGoodsBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44999.html
Merged revision(s) r139700 -r137912   from Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManageGoodsBusiness' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.11754
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ mails-cm -i 'code merged from Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManageOrderBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ awk -F '|' '{print$1}'
++ grep -C 3 $'Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r139898 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r134087 '
+ '[' '!' -z r134087 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness@r134087' $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness@r134087' $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44999.html
Merged revision(s) r134087 -r139898   from Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManageOrderBusiness' --username qishanqing --password 372233
svn: E155015: 提交失败(细节如下): 
svn: E155015: 提交终止: “/home/qishanqing/workspace/code/Trunk/分期商城/分期商城3.0/MallManageOrderBusiness/businessplugin/com/dafy/mallorderbusiness/business/plugin/mall/order/ManagerOrderMongoService.xml” 处于冲突状态
+ die 'Svn merged conflicts the reasons for failure are as follows'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the reasons for failure are as follows'
+ test -e /home/qishanqing/tmp/merged/output.11754
+ echo
+ cat /home/qishanqing/tmp/merged/output.11754
+ rm -f /home/qishanqing/tmp/merged/output.11754
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ rm -f /home/qishanqing/tmp/merged/output.11754
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ mails-cm -i 'code merged from Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r139715 '
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F '|' '{print$1}'
+ head='r140462 '
+ '[' '!' -z r139715 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager@r139715' $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager@r139715' $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44999.html
Merged revision(s) r139715 -r140462   from Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManager' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.11754
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallTaskBusiness'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r135126 '
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ head='r140396 '
+ '[' '!' -z r135126 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness@r135126' $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness@r135126' $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44999.html
Merged revision(s) r135126 -r140396   from Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallTaskBusiness' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.11754
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManageStorageBusiness'
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ head -n 4
++ grep '^r'
++ svn log
++ grep -C 3 $'Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness'
++ awk -F '|' '{print$1}'
+ revision='r139705 '
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness'
+ head='r140224 '
+ '[' '!' -z r139705 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness@r139705' $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness@r139705' $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageStorageBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44999.html
Merged revision(s) r139705 -r140224   from Branch/20170804-商城海尔对接/Develop/分期商城/分期商城3.0/MallManageStorageBusiness' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170808-\345\225\206\345\237\216\346\265\267\345\260\224\344\270\213\345\215\225\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170808-\345\225\206\345\237\216\346\265\267\345\260\224\344\270\213\345\215\225\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ rm -f /home/qishanqing/tmp/merged/output.11754
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170808-\345\225\206\345\237\216\346\265\267\345\260\224\344\270\213\345\215\225\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170808-商城海尔下单改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ head -n 4
++ grep -C 3 $'Branch/20170808-\345\225\206\345\237\216\346\265\267\345\260\224\344\270\213\345\215\225\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
+ revision=
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170808-\345\225\206\345\237\216\346\265\267\345\260\224\344\270\213\345\215\225\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ head='r140476 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170808-\345\225\206\345\237\216\346\265\267\345\260\224\344\270\213\345\215\225\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r134809 '
+ '[' '!' -z r134809 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170808-\345\225\206\345\237\216\346\265\267\345\260\224\344\270\213\345\215\225\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r134809' $'https://192.168.0.220/svn/tech/Branch/20170808-\345\225\206\345\237\216\346\265\267\345\260\224\344\270\213\345\215\225\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：66'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\23266' ']'
+ die 'Svn merged conflicts the r134809 -r140476  from Branch/20170808-商城海尔下单改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r134809 -r140476  from Branch/20170808-商城海尔下单改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ test -e /home/qishanqing/tmp/merged/output.11754
+ rm -f /home/qishanqing/tmp/merged/output.11754
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44999.html
Merged revision(s) r134809 -r140476   from Branch/20170808-商城海尔下单改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.5ms)
  Rendered merge/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 202267ms (Views: 109.9ms)


Completed 200 OK in 202267ms (Views: 109.9ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-08-24 11:25:40 +0800
Started GET "/merge/new" for 192.168.5.26 at 2017-08-24 11:25:40 +0800
Started GET "/start" for 192.168.5.26 at 2017-08-24 11:25:40 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/start" for 192.168.5.26 at 2017-08-24 11:25:40 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  
  
ActionController::RoutingError (No route matches [GET] "/start"):
ActionController::RoutingError (No route matches [GET] "/start"):
  
  
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Filter chain halted as #<Proc:0x007ff4a4025ff8@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Filter chain halted as #<Proc:0x007ff4a4025ff8@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Completed 401 Unauthorized in 119ms


Completed 401 Unauthorized in 119ms


Started GET "/merge/new" for 192.168.5.26 at 2017-08-24 11:27:21 +0800
Started GET "/merge/new" for 192.168.5.26 at 2017-08-24 11:27:21 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.9ms)
  Rendered merge/index.html.erb within layouts/application (4.9ms)
Completed 200 OK in 723ms (Views: 721.0ms)


Completed 200 OK in 723ms (Views: 721.0ms)


Started GET "/" for 192.168.5.26 at 2017-08-24 11:27:25 +0800
Started GET "/" for 192.168.5.26 at 2017-08-24 11:27:25 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.0ms)
  Rendered builder/index.html.erb within layouts/application (4.0ms)
Completed 200 OK in 78ms (Views: 67.2ms)


Completed 200 OK in 78ms (Views: 67.2ms)


Started POST "/start" for 192.168.5.26 at 2017-08-24 11:27:38 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-24 11:27:38 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170804-商城海尔对接", "branch"=>"20170804-商城海尔对接", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"DcWb3v6DtEKolXyYKTWzhcaAl39fXVgol8WXyQUi7CwgGz2E62aC9utIg2HXKij+Cebl+5p3kX1cokXgERio8A=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170804-商城海尔对接", "branch"=>"20170804-商城海尔对接", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"DcWb3v6DtEKolXyYKTWzhcaAl39fXVgol8WXyQUi7CwgGz2E62aC9utIg2HXKij+Cebl+5p3kX1cokXgERio8A=="}
Filter chain halted as #<Proc:0x00000003c96870@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Filter chain halted as #<Proc:0x00000003c96870@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Completed 401 Unauthorized in 3ms


Completed 401 Unauthorized in 3ms


Started POST "/start" for 192.168.5.26 at 2017-08-24 11:27:38 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-24 11:27:38 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170804-商城海尔对接", "branch"=>"20170804-商城海尔对接", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"DcWb3v6DtEKolXyYKTWzhcaAl39fXVgol8WXyQUi7CwgGz2E62aC9utIg2HXKij+Cebl+5p3kX1cokXgERio8A=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170804-商城海尔对接", "branch"=>"20170804-商城海尔对接", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"DcWb3v6DtEKolXyYKTWzhcaAl39fXVgol8WXyQUi7CwgGz2E62aC9utIg2HXKij+Cebl+5p3kX1cokXgERio8A=="}
pid is 15411
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245' -e qishanqing@dafy.com -E '' -b $'20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170804-商城海尔对接'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170804-商城海尔对接'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170804-商城海尔对接'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170804-商城海尔对接'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245' -e qishanqing@dafy.com -E '' -b $'20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170804-商城海尔对接: command not found
++ for y in '$trunk'
++ echo $'20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245'
+ trunks=$'20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245'
+ test del = add
+ delbranch
+ '[' -z $'20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170824
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708241127
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170824-20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708241127-20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170824-20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245'
++ awk -F / '{print $7}'
+ br=$'20170824-20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245'
+ access=$'20170824-20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708241127-20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.15411
+ echo $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170804-商城海尔对接%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170804-商城海尔对接%'\'';'
+ cat /tmp/cmdb.db.15411
+ rm -f /tmp/cmdb.db.15411
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (2.0ms)
  Rendered builder/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 11086ms (Views: 66.3ms)


Completed 200 OK in 11086ms (Views: 66.3ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-24 11:29:30 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-24 11:29:30 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170814-是否为智慧授信/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170823-APP端限购修改/Develop/分期商城/分期商城3.0/MallBusiness https://192.168.0.220/svn/tech/Branch/20170823-APP端限购修改/Develop/分期商城/分期商城3.0/MallBuyerBusiness", "task"=>"http://192.168.0.221/zentao/task-view-44956.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"/tY+aTXHcQvAFVtxeeOCyfNrZyxnt6M1SlK/Am3tqFrTCJgzICJHv4PIpIiH/BmyPA0VqKKdamCBNW0redfshg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170814-是否为智慧授信/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170823-APP端限购修改/Develop/分期商城/分期商城3.0/MallBusiness https://192.168.0.220/svn/tech/Branch/20170823-APP端限购修改/Develop/分期商城/分期商城3.0/MallBuyerBusiness", "task"=>"http://192.168.0.221/zentao/task-view-44956.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"/tY+aTXHcQvAFVtxeeOCyfNrZyxnt6M1SlK/Am3tqFrTCJgzICJHv4PIpIiH/BmyPA0VqKKdamCBNW0redfshg=="}
pid is 15486
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-44956.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170814-是否为智慧授信/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170823-APP端限购修改/Develop/分期商城/分期商城3.0/MallBusiness https://192.168.0.220/svn/tech/Branch/20170823-APP端限购修改/Develop/分期商城/分期商城3.0/MallBuyerBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-44956.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170814-是否为智慧授信/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170823-APP端限购修改/Develop/分期商城/分期商城3.0/MallBusiness https://192.168.0.220/svn/tech/Branch/20170823-APP端限购修改/Develop/分期商城/分期商城3.0/MallBuyerBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-44956.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170814-是否为智慧授信/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170823-APP端限购修改/Develop/分期商城/分期商城3.0/MallBusiness https://192.168.0.220/svn/tech/Branch/20170823-APP端限购修改/Develop/分期商城/分期商城3.0/MallBuyerBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-44956.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170814-是否为智慧授信/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170823-APP端限购修改/Develop/分期商城/分期商城3.0/MallBusiness https://192.168.0.220/svn/tech/Branch/20170823-APP端限购修改/Develop/分期商城/分期商城3.0/MallBuyerBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-44956.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170814-是否为智慧授信/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170823-APP端限购修改/Develop/分期商城/分期商城3.0/MallBusiness https://192.168.0.220/svn/tech/Branch/20170823-APP端限购修改/Develop/分期商城/分期商城3.0/MallBuyerBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170814-\346\230\257\345\220\246\344\270\272\346\231\272\346\205\247\346\216\210\344\277\241/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' $'https://192.168.0.220/svn/tech/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness' $'https://192.168.0.220/svn/tech/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170814-是否为智慧授信/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170814-\346\230\257\345\220\246\344\270\272\346\231\272\346\205\247\346\216\210\344\277\241/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170814-是否为智慧授信/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client
https://192.168.0.220/svn/tech/Branch/20170823-APP端限购修改/Develop/分期商城/分期商城3.0/MallBusiness
https://192.168.0.220/svn/tech/Branch/20170823-APP端限购修改/Develop/分期商城/分期商城3.0/MallBuyerBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170814-\346\230\257\345\220\246\344\270\272\346\231\272\346\205\247\346\216\210\344\277\241/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170814-\346\230\257\345\220\246\344\270\272\346\231\272\346\205\247\346\216\210\344\277\241/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ rm -f /home/qishanqing/tmp/merged/output.15486
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170814-\346\230\257\345\220\246\344\270\272\346\231\272\346\205\247\346\216\210\344\277\241/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ mails-cm -i 'code merged from Branch/20170814-是否为智慧授信/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170814-\346\230\257\345\220\246\344\270\272\346\231\272\346\205\247\346\216\210\344\277\241/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170814-\346\230\257\345\220\246\344\270\272\346\231\272\346\205\247\346\216\210\344\277\241/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ head='r140183 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170814-\346\230\257\345\220\246\344\270\272\346\231\272\346\205\247\346\216\210\344\277\241/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r136890 '
+ '[' '!' -z r136890 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170814-\346\230\257\345\220\246\344\270\272\346\231\272\346\205\247\346\216\210\344\277\241/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r136890' $'https://192.168.0.220/svn/tech/Branch/20170814-\346\230\257\345\220\246\344\270\272\346\231\272\346\205\247\346\216\210\344\277\241/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' .
+ st='  树冲突：67'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\23267' ']'
+ die 'Svn merged conflicts the r136890 -r140183  from Branch/20170814-是否为智慧授信/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r136890 -r140183  from Branch/20170814-是否为智慧授信/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ test -e /home/qishanqing/tmp/merged/output.15486
+ rm -f /home/qishanqing/tmp/merged/output.15486
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44956.html
Merged revision(s) r136890 -r140183   from Branch/20170814-是否为智慧授信/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.15486
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170823-APP端限购修改/Develop/分期商城/分期商城3.0/MallBusiness'
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
++ awk -F '|' '{print$1}'
+ revision='r140491 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r140118 '
+ '[' '!' -z r140491 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness@r140491' $'https://192.168.0.220/svn/tech/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness@r140491' $'https://192.168.0.220/svn/tech/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44956.html
Merged revision(s) r140491 -r140118   from Branch/20170823-APP端限购修改/Develop/分期商城/分期商城3.0/MallBusiness' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.15486
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170823-APP端限购修改/Develop/分期商城/分期商城3.0/MallBuyerBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ head -n 4
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
++ awk -F '|' '{print$1}'
+ revision='r140492 '
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ head='r140368 '
+ '[' '!' -z r140492 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness@r140492' $'https://192.168.0.220/svn/tech/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness@r140492' $'https://192.168.0.220/svn/tech/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44956.html
Merged revision(s) r140492 -r140368   from Branch/20170823-APP端限购修改/Develop/分期商城/分期商城3.0/MallBuyerBusiness' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.3ms)
  Rendered merge/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 53882ms (Views: 84.4ms)


Completed 200 OK in 53882ms (Views: 84.4ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-24 11:39:42 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-24 11:39:42 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (28.9ms)
  Rendered merge/index.html.erb within layouts/application (28.9ms)
Completed 200 OK in 124ms (Views: 118.1ms)


Completed 200 OK in 124ms (Views: 118.1ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-24 11:39:48 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-24 11:39:48 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170821-云贷理财合规/Develop/基础业务/用户中心/UserBusiness", "task"=>"http://192.168.0.221/zentao/task-view-44653.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"sLPOQl0Xo/6F0/eraEzfjEYSvMd+nCxlEzLwI6dipACdbWgYSPKVSsYOCFKWU0T3iXTOQ7u25TDYVSIKs1jg3A=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170821-云贷理财合规/Develop/基础业务/用户中心/UserBusiness", "task"=>"http://192.168.0.221/zentao/task-view-44653.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"sLPOQl0Xo/6F0/eraEzfjEYSvMd+nCxlEzLwI6dipACdbWgYSPKVSsYOCFKWU0T3iXTOQ7u25TDYVSIKs1jg3A=="}
pid is 15840
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-44653.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170821-\344\272\221\350\264\267\347\220\206\350\264\242\345\220\210\350\247\204/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-44653.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170821-云贷理财合规/Develop/基础业务/用户中心/UserBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-44653.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170821-云贷理财合规/Develop/基础业务/用户中心/UserBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-44653.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170821-\344\272\221\350\264\267\347\220\206\350\264\242\345\220\210\350\247\204/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-44653.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170821-\344\272\221\350\264\267\347\220\206\350\264\242\345\220\210\350\247\204/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170821-\344\272\221\350\264\267\347\220\206\350\264\242\345\220\210\350\247\204/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170821-云贷理财合规/Develop/基础业务/用户中心/UserBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170821-\344\272\221\350\264\267\347\220\206\350\264\242\345\220\210\350\247\204/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170821-\344\272\221\350\264\267\347\220\206\350\264\242\345\220\210\350\247\204/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170821-\344\272\221\350\264\267\347\220\206\350\264\242\345\220\210\350\247\204/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170821-\344\272\221\350\264\267\347\220\206\350\264\242\345\220\210\350\247\204/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.15840
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170821-\344\272\221\350\264\267\347\220\206\350\264\242\345\220\210\350\247\204/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170821-云贷理财合规/Develop/基础业务/用户中心/UserBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ head -n 4
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log
++ grep -C 3 $'Branch/20170821-\344\272\221\350\264\267\347\220\206\350\264\242\345\220\210\350\247\204/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170821-\344\272\221\350\264\267\347\220\206\350\264\242\345\220\210\350\247\204/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r140336 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170821-\344\272\221\350\264\267\347\220\206\350\264\242\345\220\210\350\247\204/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r139273 '
+ '[' '!' -z r139273 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170821-\344\272\221\350\264\267\347\220\206\350\264\242\345\220\210\350\247\204/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness@r139273' $'https://192.168.0.220/svn/tech/Branch/20170821-\344\272\221\350\264\267\347\220\206\350\264\242\345\220\210\350\247\204/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170821-\344\272\221\350\264\267\347\220\206\350\264\242\345\220\210\350\247\204/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness@r139273' $'https://192.168.0.220/svn/tech/Branch/20170821-\344\272\221\350\264\267\347\220\206\350\264\242\345\220\210\350\247\204/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44653.html
Merged revision(s) r139273 -r140336   from Branch/20170821-云贷理财合规/Develop/基础业务/用户中心/UserBusiness' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.6ms)
  Rendered merge/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 20440ms (Views: 99.1ms)


Completed 200 OK in 20440ms (Views: 99.1ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-24 13:34:52 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-24 13:34:52 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (63.9ms)
  Rendered builder/index.html.erb within layouts/application (63.9ms)
Completed 200 OK in 846ms (Views: 821.5ms)


Completed 200 OK in 846ms (Views: 821.5ms)


Started POST "/start" for 192.168.5.26 at 2017-08-24 13:35:37 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-24 13:35:37 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"催收/服务/overdueBusiness", "branch"=>"催收逾期数据", "user"=>"zhanghui", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"IPyzUGrB5JMeGhFFrgnnWC/9gncf6SehLPXInzkBly8NIhUKfyTSJ13H7rxQFnwj4Jvw89rD7vTnkhq2LTvT8w=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"催收/服务/overdueBusiness", "branch"=>"催收逾期数据", "user"=>"zhanghui", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"IPyzUGrB5JMeGhFFrgnnWC/9gncf6SehLPXInzkBly8NIhUKfyTSJ13H7rxQFnwj4Jvw89rD7vTnkhq2LTvT8w=="}
pid is 19919
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u zhanghui -t $'\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness' -e qishanqing@dafy.com -E '' -b $'\345\202\254\346\224\266\351\200\276\346\234\237\346\225\260\346\215\256' -T add -d ''
+ TEMP=' -u '\''zhanghui'\'' -t '\''催收/服务/overdueBusiness'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''催收逾期数据'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''zhanghui'\'' -t '\''催收/服务/overdueBusiness'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''催收逾期数据'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u zhanghui -t $'\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness' -e qishanqing@dafy.com -E '' -b $'\345\202\254\346\224\266\351\200\276\346\234\237\346\225\260\346\215\256' -T add -d '' --
+ true
+ case "$1" in
+ user=zhanghui
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\345\202\254\346\224\266\351\200\276\346\234\237\346\225\260\346\215\256'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
++ zhanghui
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: zhanghui: command not found
++ for x in '$user'
++ echo zhanghui=rw
+ users=zhanghui=rw
++ $'\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 催收/服务/overdueBusiness: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness'
+ trunks=$'\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness' ']'
+ '[' -z $'\345\202\254\346\224\266\351\200\276\346\234\237\346\225\260\346\215\256' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170824
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708241335
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170824-\345\202\254\346\224\266\351\200\276\346\234\237\346\225\260\346\215\256/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\202\254\346\224\266\351\200\276\346\234\237\346\225\260\346\215\256'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708241335-\345\202\254\346\224\266\351\200\276\346\234\237\346\225\260\346\215\256'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170824-\345\202\254\346\224\266\351\200\276\346\234\237\346\225\260\346\215\256/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness'
++ awk -F / '{print $7}'
+ br=$'20170824-\345\202\254\346\224\266\351\200\276\346\234\237\346\225\260\346\215\256'
+ access=$'20170824-\345\202\254\346\224\266\351\200\276\346\234\237\346\225\260\346\215\256'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness' $'https://192.168.0.220/svn/tech/Branch/20170824-\345\202\254\346\224\266\351\200\276\346\234\237\346\225\260\346\215\256/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.19919
+ echo $'https://192.168.0.220/svn/tech/Branch/20170824-\345\202\254\346\224\266\351\200\276\346\234\237\346\225\260\346\215\256/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/催收/服务/overdueBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170824-催收逾期数据/Develop/催收/服务/overdueBusiness'\'',now(),'\''qishanqing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/催收/服务/overdueBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170824-催收逾期数据/Develop/催收/服务/overdueBusiness'\'',now(),'\''qishanqing'\'');'
+ cat /tmp/cmdb.db.19919
+ rm -f /tmp/cmdb.db.19919
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170824-催收逾期数据] /svn/authz.conf'
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z zhanghui=rw
+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.6ms)
  Rendered builder/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 10155ms (Views: 75.6ms)


Completed 200 OK in 10155ms (Views: 75.6ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-24 13:49:09 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-24 13:49:09 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (32.3ms)
  Rendered builder/index.html.erb within layouts/application (32.3ms)
Completed 200 OK in 580ms (Views: 576.5ms)


Completed 200 OK in 580ms (Views: 576.5ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-24 13:51:27 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-24 13:51:27 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (58.4ms)
  Rendered merge/index.html.erb within layouts/application (58.4ms)
Completed 200 OK in 789ms (Views: 109.2ms)


Completed 200 OK in 789ms (Views: 109.2ms)


Started POST "/start" for 192.168.5.26 at 2017-08-24 13:52:53 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-24 13:52:53 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"liufangchao@dafy.com", "types"=>"add", "trunk"=>"生活营销/车险/AutoInsuranceBusiness", "branch"=>"车险代码优化", "user"=>"muxiaoyu liufangchao", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"CtZrpBi+BnVuLBWow0sTy/SA7rTVdjNoto3yKGp16C0nCM3+DVswwS3x6lE9VIiwO+acMBBc+j196iABfk+s8Q=="}
  Parameters: {"email"=>"liufangchao@dafy.com", "types"=>"add", "trunk"=>"生活营销/车险/AutoInsuranceBusiness", "branch"=>"车险代码优化", "user"=>"muxiaoyu liufangchao", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"CtZrpBi+BnVuLBWow0sTy/SA7rTVdjNoto3yKGp16C0nCM3+DVswwS3x6lE9VIiwO+acMBBc+j196iABfk+s8Q=="}
pid is 20657
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'muxiaoyu liufangchao' -t $'\347\224\237\346\264\273\350\220\245\351\224\200/\350\275\246\351\231\251/AutoInsuranceBusiness' -e liufangchao@dafy.com -E '' -b $'\350\275\246\351\231\251\344\273\243\347\240\201\344\274\230\345\214\226' -T add -d ''
+ TEMP=' -u '\''muxiaoyu liufangchao'\'' -t '\''生活营销/车险/AutoInsuranceBusiness'\'' -e '\''liufangchao@dafy.com'\'' -E '\'''\'' -b '\''车险代码优化'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''muxiaoyu liufangchao'\'' -t '\''生活营销/车险/AutoInsuranceBusiness'\'' -e '\''liufangchao@dafy.com'\'' -E '\'''\'' -b '\''车险代码优化'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'muxiaoyu liufangchao' -t $'\347\224\237\346\264\273\350\220\245\351\224\200/\350\275\246\351\231\251/AutoInsuranceBusiness' -e liufangchao@dafy.com -E '' -b $'\350\275\246\351\231\251\344\273\243\347\240\201\344\274\230\345\214\226' -T add -d '' --
+ true
+ case "$1" in
+ user='muxiaoyu liufangchao'
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\347\224\237\346\264\273\350\220\245\351\224\200/\350\275\246\351\231\251/AutoInsuranceBusiness'
+ shift 2
+ true
+ case "$1" in
+ email=liufangchao@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\350\275\246\351\231\251\344\273\243\347\240\201\344\274\230\345\214\226'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=liufangchao@dafy.com '
+ SMARTCM_EXTRA_MAIL='liufangchao@dafy.com '
++ muxiaoyu liufangchao
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: muxiaoyu: command not found
++ for x in '$user'
++ echo muxiaoyu=rw
++ for x in '$user'
++ echo liufangchao=rw
+ users='muxiaoyu=rw
liufangchao=rw'
++ $'\347\224\237\346\264\273\350\220\245\351\224\200/\350\275\246\351\231\251/AutoInsuranceBusiness'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 生活营销/车险/AutoInsuranceBusiness: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\347\224\237\346\264\273\350\220\245\351\224\200/\350\275\246\351\231\251/AutoInsuranceBusiness'
+ trunks=$'\347\224\237\346\264\273\350\220\245\351\224\200/\350\275\246\351\231\251/AutoInsuranceBusiness'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\347\224\237\346\264\273\350\220\245\351\224\200/\350\275\246\351\231\251/AutoInsuranceBusiness' ']'
+ '[' -z $'\350\275\246\351\231\251\344\273\243\347\240\201\344\274\230\345\214\226' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170824
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708241352
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\347\224\237\346\264\273\350\220\245\351\224\200/\350\275\246\351\231\251/AutoInsuranceBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170824-\350\275\246\351\231\251\344\273\243\347\240\201\344\274\230\345\214\226/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\350\275\246\351\231\251/AutoInsuranceBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\350\275\246\351\231\251\344\273\243\347\240\201\344\274\230\345\214\226'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708241352-\350\275\246\351\231\251\344\273\243\347\240\201\344\274\230\345\214\226'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170824-\350\275\246\351\231\251\344\273\243\347\240\201\344\274\230\345\214\226/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\350\275\246\351\231\251/AutoInsuranceBusiness'
++ awk -F / '{print $7}'
+ br=$'20170824-\350\275\246\351\231\251\344\273\243\347\240\201\344\274\230\345\214\226'
+ access=$'20170824-\350\275\246\351\231\251\344\273\243\347\240\201\344\274\230\345\214\226'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\347\224\237\346\264\273\350\220\245\351\224\200/\350\275\246\351\231\251/AutoInsuranceBusiness' $'https://192.168.0.220/svn/tech/Branch/20170824-\350\275\246\351\231\251\344\273\243\347\240\201\344\274\230\345\214\226/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\350\275\246\351\231\251/AutoInsuranceBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.20657
+ echo $'https://192.168.0.220/svn/tech/Branch/20170824-\350\275\246\351\231\251\344\273\243\347\240\201\344\274\230\345\214\226/Develop/\347\224\237\346\264\273\350\220\245\351\224\200/\350\275\246\351\231\251/AutoInsuranceBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/生活营销/车险/AutoInsuranceBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170824-车险代码优化/Develop/生活营销/车险/AutoInsuranceBusiness'\'',now(),'\''liufangchao'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/生活营销/车险/AutoInsuranceBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170824-车险代码优化/Develop/生活营销/车险/AutoInsuranceBusiness'\'',now(),'\''liufangchao'\'');'
+ cat /tmp/cmdb.db.20657
+ rm -f /tmp/cmdb.db.20657
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170824-车险代码优化] /svn/authz.conf'
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z 'muxiaoyu=rw
liufangchao=rw'
+ cat
+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (14.9ms)
  Rendered builder/new.html.erb within layouts/application (14.9ms)
Completed 200 OK in 4649ms (Views: 60.4ms)


Completed 200 OK in 4649ms (Views: 60.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-24 15:59:01 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-24 15:59:01 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (246.4ms)
  Rendered builder/index.html.erb within layouts/application (246.4ms)
Completed 200 OK in 4152ms (Views: 4126.3ms)


Completed 200 OK in 4152ms (Views: 4126.3ms)


Started POST "/start" for 192.168.5.26 at 2017-08-24 16:00:17 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-24 16:00:17 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"lishuwei@dafy.com", "types"=>"add", "trunk"=>"前端业务/营销活动/卡卷系统/CardVoucherBusinessApp 前端业务/营销活动/卡卷系统/CardVoucherBusinessBase 前端业务/营销活动/卡卷系统/CardVoucherManagerBase", "branch"=>"卡券平台生成券页面优化", "user"=>"lishuwei yuepeng guojinlong", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"NSkWcCJIWwGhciZv8DfaFLYp81aoomTok4KSscXh/wgY97AqN61tteKv2ZYOKEFveU+B0m2Irb1Y5UCY0du71A=="}
  Parameters: {"email"=>"lishuwei@dafy.com", "types"=>"add", "trunk"=>"前端业务/营销活动/卡卷系统/CardVoucherBusinessApp 前端业务/营销活动/卡卷系统/CardVoucherBusinessBase 前端业务/营销活动/卡卷系统/CardVoucherManagerBase", "branch"=>"卡券平台生成券页面优化", "user"=>"lishuwei yuepeng guojinlong", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"NSkWcCJIWwGhciZv8DfaFLYp81aoomTok4KSscXh/wgY97AqN61tteKv2ZYOKEFveU+B0m2Irb1Y5UCY0du71A=="}
pid is 25768
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'lishuwei yuepeng guojinlong' -t '前端业务/营销活动/卡卷系统/CardVoucherBusinessApp 前端业务/营销活动/卡卷系统/CardVoucherBusinessBase 前端业务/营销活动/卡卷系统/CardVoucherManagerBase' -e lishuwei@dafy.com -E '' -b $'\345\215\241\345\210\270\345\271\263\345\217\260\347\224\237\346\210\220\345\210\270\351\241\265\351\235\242\344\274\230\345\214\226' -T add -d ''
+ TEMP=' -u '\''lishuwei yuepeng guojinlong'\'' -t '\''前端业务/营销活动/卡卷系统/CardVoucherBusinessApp 前端业务/营销活动/卡卷系统/CardVoucherBusinessBase 前端业务/营销活动/卡卷系统/CardVoucherManagerBase'\'' -e '\''lishuwei@dafy.com'\'' -E '\'''\'' -b '\''卡券平台生成券页面优化'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''lishuwei yuepeng guojinlong'\'' -t '\''前端业务/营销活动/卡卷系统/CardVoucherBusinessApp 前端业务/营销活动/卡卷系统/CardVoucherBusinessBase 前端业务/营销活动/卡卷系统/CardVoucherManagerBase'\'' -e '\''lishuwei@dafy.com'\'' -E '\'''\'' -b '\''卡券平台生成券页面优化'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'lishuwei yuepeng guojinlong' -t '前端业务/营销活动/卡卷系统/CardVoucherBusinessApp 前端业务/营销活动/卡卷系统/CardVoucherBusinessBase 前端业务/营销活动/卡卷系统/CardVoucherManagerBase' -e lishuwei@dafy.com -E '' -b $'\345\215\241\345\210\270\345\271\263\345\217\260\347\224\237\346\210\220\345\210\270\351\241\265\351\235\242\344\274\230\345\214\226' -T add -d '' --
+ true
+ case "$1" in
+ user='lishuwei yuepeng guojinlong'
+ shift 2
+ true
+ case "$1" in
+ trunk='前端业务/营销活动/卡卷系统/CardVoucherBusinessApp 前端业务/营销活动/卡卷系统/CardVoucherBusinessBase 前端业务/营销活动/卡卷系统/CardVoucherManagerBase'
+ shift 2
+ true
+ case "$1" in
+ email=lishuwei@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\345\215\241\345\210\270\345\271\263\345\217\260\347\224\237\346\210\220\345\210\270\351\241\265\351\235\242\344\274\230\345\214\226'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=lishuwei@dafy.com '
+ SMARTCM_EXTRA_MAIL='lishuwei@dafy.com '
++ lishuwei yuepeng guojinlong
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: lishuwei: command not found
++ for x in '$user'
++ echo lishuwei=rw
++ for x in '$user'
++ echo yuepeng=rw
++ for x in '$user'
++ echo guojinlong=rw
+ users='lishuwei=rw
yuepeng=rw
guojinlong=rw'
++ $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessApp' $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessBase' $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManagerBase'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 前端业务/营销活动/卡卷系统/CardVoucherBusinessApp: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessApp'
++ for y in '$trunk'
++ echo $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessBase'
++ for y in '$trunk'
++ echo $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManagerBase'
+ trunks='前端业务/营销活动/卡卷系统/CardVoucherBusinessApp
前端业务/营销活动/卡卷系统/CardVoucherBusinessBase
前端业务/营销活动/卡卷系统/CardVoucherManagerBase'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessApp' ']'
+ '[' -z $'\345\215\241\345\210\270\345\271\263\345\217\260\347\224\237\346\210\220\345\210\270\351\241\265\351\235\242\344\274\230\345\214\226' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170824
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708241600
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessApp'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170824-\345\215\241\345\210\270\345\271\263\345\217\260\347\224\237\346\210\220\345\210\270\351\241\265\351\235\242\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessApp'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\215\241\345\210\270\345\271\263\345\217\260\347\224\237\346\210\220\345\210\270\351\241\265\351\235\242\344\274\230\345\214\226'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708241600-\345\215\241\345\210\270\345\271\263\345\217\260\347\224\237\346\210\220\345\210\270\351\241\265\351\235\242\344\274\230\345\214\226'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170824-\345\215\241\345\210\270\345\271\263\345\217\260\347\224\237\346\210\220\345\210\270\351\241\265\351\235\242\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessApp'
++ awk -F / '{print $7}'
+ br=$'20170824-\345\215\241\345\210\270\345\271\263\345\217\260\347\224\237\346\210\220\345\210\270\351\241\265\351\235\242\344\274\230\345\214\226'
+ access=$'20170824-\345\215\241\345\210\270\345\271\263\345\217\260\347\224\237\346\210\220\345\210\270\351\241\265\351\235\242\344\274\230\345\214\226'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessApp' $'https://192.168.0.220/svn/tech/Branch/20170824-\345\215\241\345\210\270\345\271\263\345\217\260\347\224\237\346\210\220\345\210\270\351\241\265\351\235\242\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessApp' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.25768
+ echo $'https://192.168.0.220/svn/tech/Branch/20170824-\345\215\241\345\210\270\345\271\263\345\217\260\347\224\237\346\210\220\345\210\270\351\241\265\351\235\242\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessApp'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/营销活动/卡卷系统/CardVoucherBusinessApp'\'', '\''https://192.168.0.220/svn/tech/Branch/20170824-卡券平台生成券页面优化/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusinessApp'\'',now(),'\''lishuwei'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/营销活动/卡卷系统/CardVoucherBusinessApp'\'', '\''https://192.168.0.220/svn/tech/Branch/20170824-卡券平台生成券页面优化/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusinessApp'\'',now(),'\''lishuwei'\'');'
+ cat /tmp/cmdb.db.25768
+ rm -f /tmp/cmdb.db.25768
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170824-卡券平台生成券页面优化] /svn/authz.conf'
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z 'lishuwei=rw
yuepeng=rw
guojinlong=rw'
+ cat
+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
+ read num
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ cat
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessBase' ']'
+ '[' -z $'\345\215\241\345\210\270\345\271\263\345\217\260\347\224\237\346\210\220\345\210\270\351\241\265\351\235\242\344\274\230\345\214\226' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170824
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708241600
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessBase'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170824-\345\215\241\345\210\270\345\271\263\345\217\260\347\224\237\346\210\220\345\210\270\351\241\265\351\235\242\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessBase'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\215\241\345\210\270\345\271\263\345\217\260\347\224\237\346\210\220\345\210\270\351\241\265\351\235\242\344\274\230\345\214\226'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708241600-\345\215\241\345\210\270\345\271\263\345\217\260\347\224\237\346\210\220\345\210\270\351\241\265\351\235\242\344\274\230\345\214\226'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170824-\345\215\241\345\210\270\345\271\263\345\217\260\347\224\237\346\210\220\345\210\270\351\241\265\351\235\242\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessBase'
++ awk -F / '{print $7}'
+ br=$'20170824-\345\215\241\345\210\270\345\271\263\345\217\260\347\224\237\346\210\220\345\210\270\351\241\265\351\235\242\344\274\230\345\214\226'
+ access=$'20170824-\345\215\241\345\210\270\345\271\263\345\217\260\347\224\237\346\210\220\345\210\270\351\241\265\351\235\242\344\274\230\345\214\226'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessBase' $'https://192.168.0.220/svn/tech/Branch/20170824-\345\215\241\345\210\270\345\271\263\345\217\260\347\224\237\346\210\220\345\210\270\351\241\265\351\235\242\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessBase' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.25768
+ echo $'https://192.168.0.220/svn/tech/Branch/20170824-\345\215\241\345\210\270\345\271\263\345\217\260\347\224\237\346\210\220\345\210\270\351\241\265\351\235\242\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessBase'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/营销活动/卡卷系统/CardVoucherBusinessBase'\'', '\''https://192.168.0.220/svn/tech/Branch/20170824-卡券平台生成券页面优化/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusinessBase'\'',now(),'\''lishuwei'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/营销活动/卡卷系统/CardVoucherBusinessBase'\'', '\''https://192.168.0.220/svn/tech/Branch/20170824-卡券平台生成券页面优化/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusinessBase'\'',now(),'\''lishuwei'\'');'
+ cat /tmp/cmdb.db.25768
+ rm -f /tmp/cmdb.db.25768
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170824-卡券平台生成券页面优化] /svn/authz.conf'
+ read num
+ '[' 1 -eq 0 ']'
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManagerBase' ']'
+ '[' -z $'\345\215\241\345\210\270\345\271\263\345\217\260\347\224\237\346\210\220\345\210\270\351\241\265\351\235\242\344\274\230\345\214\226' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170824
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708241600
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManagerBase'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170824-\345\215\241\345\210\270\345\271\263\345\217\260\347\224\237\346\210\220\345\210\270\351\241\265\351\235\242\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManagerBase'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\215\241\345\210\270\345\271\263\345\217\260\347\224\237\346\210\220\345\210\270\351\241\265\351\235\242\344\274\230\345\214\226'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708241600-\345\215\241\345\210\270\345\271\263\345\217\260\347\224\237\346\210\220\345\210\270\351\241\265\351\235\242\344\274\230\345\214\226'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170824-\345\215\241\345\210\270\345\271\263\345\217\260\347\224\237\346\210\220\345\210\270\351\241\265\351\235\242\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManagerBase'
++ awk -F / '{print $7}'
+ br=$'20170824-\345\215\241\345\210\270\345\271\263\345\217\260\347\224\237\346\210\220\345\210\270\351\241\265\351\235\242\344\274\230\345\214\226'
+ access=$'20170824-\345\215\241\345\210\270\345\271\263\345\217\260\347\224\237\346\210\220\345\210\270\351\241\265\351\235\242\344\274\230\345\214\226'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManagerBase' $'https://192.168.0.220/svn/tech/Branch/20170824-\345\215\241\345\210\270\345\271\263\345\217\260\347\224\237\346\210\220\345\210\270\351\241\265\351\235\242\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManagerBase' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.25768
+ echo $'https://192.168.0.220/svn/tech/Branch/20170824-\345\215\241\345\210\270\345\271\263\345\217\260\347\224\237\346\210\220\345\210\270\351\241\265\351\235\242\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManagerBase'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/营销活动/卡卷系统/CardVoucherManagerBase'\'', '\''https://192.168.0.220/svn/tech/Branch/20170824-卡券平台生成券页面优化/Develop/前端业务/营销活动/卡卷系统/CardVoucherManagerBase'\'',now(),'\''lishuwei'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/营销活动/卡卷系统/CardVoucherManagerBase'\'', '\''https://192.168.0.220/svn/tech/Branch/20170824-卡券平台生成券页面优化/Develop/前端业务/营销活动/卡卷系统/CardVoucherManagerBase'\'',now(),'\''lishuwei'\'');'
+ cat /tmp/cmdb.db.25768
+ rm -f /tmp/cmdb.db.25768
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170824-卡券平台生成券页面优化] /svn/authz.conf'
+ read num
+ '[' 1 -eq 0 ']'
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.3ms)
  Rendered builder/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 8259ms (Views: 199.2ms)


Completed 200 OK in 8259ms (Views: 199.2ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-24 16:01:03 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-24 16:01:03 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (6.4ms)
  Rendered builder/index.html.erb within layouts/application (6.4ms)
Completed 200 OK in 94ms (Views: 91.3ms)


Completed 200 OK in 94ms (Views: 91.3ms)


Started POST "/start" for 192.168.5.26 at 2017-08-24 16:01:07 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-24 16:01:07 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170804-商城海尔对接", "branch"=>"20170804-商城海尔对接", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"VZIXaRSRvty9/Cw/q7/USoDCo/EbiHaSpM98R6k1lHt4TLEzAXSIaP4h08ZVoE8xT6TRdd6iv8dvqK5uvQ/Qpw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170804-商城海尔对接", "branch"=>"20170804-商城海尔对接", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"VZIXaRSRvty9/Cw/q7/USoDCo/EbiHaSpM98R6k1lHt4TLEzAXSIaP4h08ZVoE8xT6TRdd6iv8dvqK5uvQ/Qpw=="}
pid is 25876
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245' -e qishanqing@dafy.com -E '' -b $'20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170804-商城海尔对接'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170804-商城海尔对接'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170804-商城海尔对接'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170804-商城海尔对接'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245' -e qishanqing@dafy.com -E '' -b $'20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170804-商城海尔对接: command not found
++ for y in '$trunk'
++ echo $'20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245'
+ trunks=$'20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245'
+ test del = add
+ delbranch
+ '[' -z $'20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170824
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708241601
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170824-20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708241601-20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170824-20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245/Develop/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245'
++ awk -F / '{print $7}'
+ br=$'20170824-20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245'
+ access=$'20170824-20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708241601-20170804-\345\225\206\345\237\216\346\265\267\345\260\224\345\257\271\346\216\245' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ die 'Svn branch delete the reasons for failure are as follows'
+ mails-cm -i 'svn branch create failed'
+ echo 'Svn branch delete the reasons for failure are as follows'
+ test -e /home/qishanqing/tmp/output.25876
+ echo
+ cat /home/qishanqing/tmp/output.25876
+ rm -rf /home/qishanqing/tmp/output.25876
+ kill 25876
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (45.0ms)
  Rendered builder/new.html.erb within layouts/application (45.0ms)
Completed 200 OK in 249ms (Views: 119.4ms)


Completed 200 OK in 249ms (Views: 119.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-24 16:01:25 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-24 16:01:25 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (5.4ms)
  Rendered builder/index.html.erb within layouts/application (5.4ms)
Completed 200 OK in 139ms (Views: 136.8ms)


Completed 200 OK in 139ms (Views: 136.8ms)


Started POST "/start" for 192.168.5.26 at 2017-08-24 16:01:28 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-24 16:01:28 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170808-商城海尔下单改造", "branch"=>"20170808-商城海尔下单改造", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"TddABr3/FegbaRwfUu2MWfNr1Td5osmzYIn290OAKjlgCeZcqBojXFi04+as8hciPA2ns7yIAOar7iTeV7pu5Q=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170808-商城海尔下单改造", "branch"=>"20170808-商城海尔下单改造", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"TddABr3/FegbaRwfUu2MWfNr1Td5osmzYIn290OAKjlgCeZcqBojXFi04+as8hciPA2ns7yIAOar7iTeV7pu5Q=="}
pid is 25907
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170808-\345\225\206\345\237\216\346\265\267\345\260\224\344\270\213\345\215\225\346\224\271\351\200\240' -e qishanqing@dafy.com -E '' -b $'20170808-\345\225\206\345\237\216\346\265\267\345\260\224\344\270\213\345\215\225\346\224\271\351\200\240' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170808-商城海尔下单改造'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170808-商城海尔下单改造'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170808-商城海尔下单改造'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170808-商城海尔下单改造'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170808-\345\225\206\345\237\216\346\265\267\345\260\224\344\270\213\345\215\225\346\224\271\351\200\240' -e qishanqing@dafy.com -E '' -b $'20170808-\345\225\206\345\237\216\346\265\267\345\260\224\344\270\213\345\215\225\346\224\271\351\200\240' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170808-\345\225\206\345\237\216\346\265\267\345\260\224\344\270\213\345\215\225\346\224\271\351\200\240'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170808-\345\225\206\345\237\216\346\265\267\345\260\224\344\270\213\345\215\225\346\224\271\351\200\240'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170808-\345\225\206\345\237\216\346\265\267\345\260\224\344\270\213\345\215\225\346\224\271\351\200\240'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170808-商城海尔下单改造: command not found
++ for y in '$trunk'
++ echo $'20170808-\345\225\206\345\237\216\346\265\267\345\260\224\344\270\213\345\215\225\346\224\271\351\200\240'
+ trunks=$'20170808-\345\225\206\345\237\216\346\265\267\345\260\224\344\270\213\345\215\225\346\224\271\351\200\240'
+ test del = add
+ delbranch
+ '[' -z $'20170808-\345\225\206\345\237\216\346\265\267\345\260\224\344\270\213\345\215\225\346\224\271\351\200\240' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170824
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708241601
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170808-\345\225\206\345\237\216\346\265\267\345\260\224\344\270\213\345\215\225\346\224\271\351\200\240'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170824-20170808-\345\225\206\345\237\216\346\265\267\345\260\224\344\270\213\345\215\225\346\224\271\351\200\240/Develop/20170808-\345\225\206\345\237\216\346\265\267\345\260\224\344\270\213\345\215\225\346\224\271\351\200\240'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170808-\345\225\206\345\237\216\346\265\267\345\260\224\344\270\213\345\215\225\346\224\271\351\200\240'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708241601-20170808-\345\225\206\345\237\216\346\265\267\345\260\224\344\270\213\345\215\225\346\224\271\351\200\240'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170824-20170808-\345\225\206\345\237\216\346\265\267\345\260\224\344\270\213\345\215\225\346\224\271\351\200\240/Develop/20170808-\345\225\206\345\237\216\346\265\267\345\260\224\344\270\213\345\215\225\346\224\271\351\200\240'
++ awk -F / '{print $7}'
+ br=$'20170824-20170808-\345\225\206\345\237\216\346\265\267\345\260\224\344\270\213\345\215\225\346\224\271\351\200\240'
+ access=$'20170824-20170808-\345\225\206\345\237\216\346\265\267\345\260\224\344\270\213\345\215\225\346\224\271\351\200\240'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170808-\345\225\206\345\237\216\346\265\267\345\260\224\344\270\213\345\215\225\346\224\271\351\200\240' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708241601-20170808-\345\225\206\345\237\216\346\265\267\345\260\224\344\270\213\345\215\225\346\224\271\351\200\240' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.25907
+ echo $'https://192.168.0.220/svn/tech/Branch/20170808-\345\225\206\345\237\216\346\265\267\345\260\224\344\270\213\345\215\225\346\224\271\351\200\240'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170808-商城海尔下单改造%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170808-商城海尔下单改造%'\'';'
+ cat /tmp/cmdb.db.25907
+ rm -f /tmp/cmdb.db.25907
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.4ms)
  Rendered builder/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 763ms (Views: 61.7ms)


Completed 200 OK in 763ms (Views: 61.7ms)


Started GET "/jenkins" for 192.168.5.26 at 2017-08-24 16:23:47 +0800
Started GET "/jenkins" for 192.168.5.26 at 2017-08-24 16:23:47 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by JenkinsController#index as HTML
Processing by JenkinsController#index as HTML
  Rendering jenkins/index.html.erb within layouts/application
  Rendering jenkins/index.html.erb within layouts/application
  Rendered jenkins/index.html.erb within layouts/application (5.6ms)
  Rendered jenkins/index.html.erb within layouts/application (5.6ms)
Completed 200 OK in 119ms (Views: 90.6ms)


Completed 200 OK in 119ms (Views: 90.6ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-24 16:37:31 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-24 16:37:31 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (6.3ms)
  Rendered builder/index.html.erb within layouts/application (6.3ms)
Completed 200 OK in 92ms (Views: 88.3ms)


Completed 200 OK in 92ms (Views: 88.3ms)


Started POST "/start" for 192.168.5.26 at 2017-08-24 16:37:34 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-24 16:37:34 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170823-APP端限购修改", "branch"=>"20170823-APP端限购修改", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"eQ8Ab/rmxKFxTl523TTy6cwIorCMCOeexJ75M6uUGP5U0aY17wPyFTKToY8jK2mSA27QNEkiLssP+Ssav65cIg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170823-APP端限购修改", "branch"=>"20170823-APP端限购修改", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"eQ8Ab/rmxKFxTl523TTy6cwIorCMCOeexJ75M6uUGP5U0aY17wPyFTKToY8jK2mSA27QNEkiLssP+Ssav65cIg=="}
pid is 27066
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271' -e qishanqing@dafy.com -E '' -b $'20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170823-APP端限购修改'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170823-APP端限购修改'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170823-APP端限购修改'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170823-APP端限购修改'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271' -e qishanqing@dafy.com -E '' -b $'20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170823-APP端限购修改: command not found
++ for y in '$trunk'
++ echo $'20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271'
+ trunks=$'20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271'
+ test del = add
+ delbranch
+ '[' -z $'20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170824
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708241637
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170824-20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708241637-20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170824-20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271/Develop/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271'
++ awk -F / '{print $7}'
+ br=$'20170824-20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271'
+ access=$'20170824-20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708241637-20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.27066
+ echo $'https://192.168.0.220/svn/tech/Branch/20170823-APP\347\253\257\351\231\220\350\264\255\344\277\256\346\224\271'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170823-APP端限购修改%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170823-APP端限购修改%'\'';'
+ cat /tmp/cmdb.db.27066
+ rm -f /tmp/cmdb.db.27066
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.1ms)
  Rendered builder/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 555ms (Views: 70.1ms)


Completed 200 OK in 555ms (Views: 70.1ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-24 16:38:03 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-24 16:38:03 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.5ms)
  Rendered builder/index.html.erb within layouts/application (3.5ms)
Completed 200 OK in 93ms (Views: 87.5ms)


Completed 200 OK in 93ms (Views: 87.5ms)


Started POST "/start" for 192.168.5.26 at 2017-08-24 16:38:07 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-24 16:38:07 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170814-是否为智慧授信", "branch"=>"20170814-是否为智慧授信", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"Dk947PmkynPIkd8uYQbK9qbstkHEfy/7rUE7RerMl28jkd627EH8x4tMINefGVGNaYrExQFV5q5mJuls/vbTsw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170814-是否为智慧授信", "branch"=>"20170814-是否为智慧授信", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"Dk947PmkynPIkd8uYQbK9qbstkHEfy/7rUE7RerMl28jkd627EH8x4tMINefGVGNaYrExQFV5q5mJuls/vbTsw=="}
pid is 27109
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170814-\346\230\257\345\220\246\344\270\272\346\231\272\346\205\247\346\216\210\344\277\241' -e qishanqing@dafy.com -E '' -b $'20170814-\346\230\257\345\220\246\344\270\272\346\231\272\346\205\247\346\216\210\344\277\241' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170814-是否为智慧授信'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170814-是否为智慧授信'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170814-是否为智慧授信'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170814-是否为智慧授信'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170814-\346\230\257\345\220\246\344\270\272\346\231\272\346\205\247\346\216\210\344\277\241' -e qishanqing@dafy.com -E '' -b $'20170814-\346\230\257\345\220\246\344\270\272\346\231\272\346\205\247\346\216\210\344\277\241' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170814-\346\230\257\345\220\246\344\270\272\346\231\272\346\205\247\346\216\210\344\277\241'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170814-\346\230\257\345\220\246\344\270\272\346\231\272\346\205\247\346\216\210\344\277\241'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170814-\346\230\257\345\220\246\344\270\272\346\231\272\346\205\247\346\216\210\344\277\241'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170814-是否为智慧授信: command not found
++ for y in '$trunk'
++ echo $'20170814-\346\230\257\345\220\246\344\270\272\346\231\272\346\205\247\346\216\210\344\277\241'
+ trunks=$'20170814-\346\230\257\345\220\246\344\270\272\346\231\272\346\205\247\346\216\210\344\277\241'
+ test del = add
+ delbranch
+ '[' -z $'20170814-\346\230\257\345\220\246\344\270\272\346\231\272\346\205\247\346\216\210\344\277\241' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170824
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708241638
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170814-\346\230\257\345\220\246\344\270\272\346\231\272\346\205\247\346\216\210\344\277\241'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170824-20170814-\346\230\257\345\220\246\344\270\272\346\231\272\346\205\247\346\216\210\344\277\241/Develop/20170814-\346\230\257\345\220\246\344\270\272\346\231\272\346\205\247\346\216\210\344\277\241'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170814-\346\230\257\345\220\246\344\270\272\346\231\272\346\205\247\346\216\210\344\277\241'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708241638-20170814-\346\230\257\345\220\246\344\270\272\346\231\272\346\205\247\346\216\210\344\277\241'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170824-20170814-\346\230\257\345\220\246\344\270\272\346\231\272\346\205\247\346\216\210\344\277\241/Develop/20170814-\346\230\257\345\220\246\344\270\272\346\231\272\346\205\247\346\216\210\344\277\241'
++ awk -F / '{print $7}'
+ br=$'20170824-20170814-\346\230\257\345\220\246\344\270\272\346\231\272\346\205\247\346\216\210\344\277\241'
+ access=$'20170824-20170814-\346\230\257\345\220\246\344\270\272\346\231\272\346\205\247\346\216\210\344\277\241'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170814-\346\230\257\345\220\246\344\270\272\346\231\272\346\205\247\346\216\210\344\277\241' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708241638-20170814-\346\230\257\345\220\246\344\270\272\346\231\272\346\205\247\346\216\210\344\277\241' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.27109
+ echo $'https://192.168.0.220/svn/tech/Branch/20170814-\346\230\257\345\220\246\344\270\272\346\231\272\346\205\247\346\216\210\344\277\241'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170814-是否为智慧授信%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170814-是否为智慧授信%'\'';'
+ cat /tmp/cmdb.db.27109
+ rm -f /tmp/cmdb.db.27109
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.0ms)
  Rendered builder/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 687ms (Views: 47.1ms)


Completed 200 OK in 687ms (Views: 47.1ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-24 17:46:02 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-24 17:46:02 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.9ms)
  Rendered builder/index.html.erb within layouts/application (4.9ms)
Completed 200 OK in 787ms (Views: 779.1ms)


Completed 200 OK in 787ms (Views: 779.1ms)


Started GET "/jenkins" for 192.168.5.26 at 2017-08-25 09:32:09 +0800
Started GET "/jenkins" for 192.168.5.26 at 2017-08-25 09:32:09 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by JenkinsController#index as HTML
Processing by JenkinsController#index as HTML
  Rendering jenkins/index.html.erb within layouts/application
  Rendering jenkins/index.html.erb within layouts/application
  Rendered jenkins/index.html.erb within layouts/application (77.3ms)
  Rendered jenkins/index.html.erb within layouts/application (77.3ms)
Completed 200 OK in 782ms (Views: 751.3ms)


Completed 200 OK in 782ms (Views: 751.3ms)


Started GET "/" for 192.168.5.26 at 2017-08-25 09:32:19 +0800
Started GET "/" for 192.168.5.26 at 2017-08-25 09:32:19 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.5ms)
  Rendered builder/index.html.erb within layouts/application (2.5ms)
Started GET "/" for 192.168.5.26 at 2017-08-25 09:32:19 +0800
Started GET "/" for 192.168.5.26 at 2017-08-25 09:32:19 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (5.4ms)
  Rendered builder/index.html.erb within layouts/application (5.4ms)
Completed 200 OK in 295ms (Views: 292.0ms)


Completed 200 OK in 295ms (Views: 292.0ms)


Completed 200 OK in 394ms (Views: 330.4ms)


Completed 200 OK in 394ms (Views: 330.4ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-25 09:32:28 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-25 09:32:28 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.3ms)
  Rendered merge/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 103ms (Views: 64.0ms)


Completed 200 OK in 103ms (Views: 64.0ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-25 09:51:57 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-25 09:51:57 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170824-卡券2.0结算Bug/Develop/外部业务/P2P/Business/RepaymentBusiness2", "task"=>"http://192.168.0.221/zentao/task-view-45088.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"KZvPTUI4LVAvVU5LetB9luaQqNzWwyAxLUWVTQUNUnC77FHyc+IZQYWMsrgPg5ov09Pm8VbsA61h0J3lq/tgrg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170824-卡券2.0结算Bug/Develop/外部业务/P2P/Business/RepaymentBusiness2", "task"=>"http://192.168.0.221/zentao/task-view-45088.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"KZvPTUI4LVAvVU5LetB9luaQqNzWwyAxLUWVTQUNUnC77FHyc+IZQYWMsrgPg5ov09Pm8VbsA61h0J3lq/tgrg=="}
Filter chain halted as #<Proc:0x007ff4a4025ff8@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Filter chain halted as #<Proc:0x007ff4a4025ff8@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Completed 401 Unauthorized in 7ms


Completed 401 Unauthorized in 7ms


Started POST "/merge/new" for 192.168.5.26 at 2017-08-25 09:51:58 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-25 09:51:58 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170824-卡券2.0结算Bug/Develop/外部业务/P2P/Business/RepaymentBusiness2", "task"=>"http://192.168.0.221/zentao/task-view-45088.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"KZvPTUI4LVAvVU5LetB9luaQqNzWwyAxLUWVTQUNUnC77FHyc+IZQYWMsrgPg5ov09Pm8VbsA61h0J3lq/tgrg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170824-卡券2.0结算Bug/Develop/外部业务/P2P/Business/RepaymentBusiness2", "task"=>"http://192.168.0.221/zentao/task-view-45088.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"KZvPTUI4LVAvVU5LetB9luaQqNzWwyAxLUWVTQUNUnC77FHyc+IZQYWMsrgPg5ov09Pm8VbsA61h0J3lq/tgrg=="}
pid is 29004
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45088.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170824-\345\215\241\345\210\2702.0\347\273\223\347\256\227Bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45088.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170824-卡券2.0结算Bug/Develop/外部业务/P2P/Business/RepaymentBusiness2'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45088.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170824-卡券2.0结算Bug/Develop/外部业务/P2P/Business/RepaymentBusiness2'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45088.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170824-\345\215\241\345\210\2702.0\347\273\223\347\256\227Bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45088.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170824-\345\215\241\345\210\2702.0\347\273\223\347\256\227Bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170824-\345\215\241\345\210\2702.0\347\273\223\347\256\227Bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170824-卡券2.0结算Bug/Develop/外部业务/P2P/Business/RepaymentBusiness2: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170824-\345\215\241\345\210\2702.0\347\273\223\347\256\227Bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170824-\345\215\241\345\210\2702.0\347\273\223\347\256\227Bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170824-\345\215\241\345\210\2702.0\347\273\223\347\256\227Bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170824-\345\215\241\345\210\2702.0\347\273\223\347\256\227Bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ rm -f /home/qishanqing/tmp/merged/output.29004
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170824-\345\215\241\345\210\2702.0\347\273\223\347\256\227Bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ svn_from_tb_merged
+ mails-cm -i 'code merged from Branch/20170824-卡券2.0结算Bug/Develop/外部业务/P2P/Business/RepaymentBusiness2'
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ head -n 4
++ awk -F '|' '{print$1}'
++ grep -C 3 $'Branch/20170824-\345\215\241\345\210\2702.0\347\273\223\347\256\227Bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170824-\345\215\241\345\210\2702.0\347\273\223\347\256\227Bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r140770 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170824-\345\215\241\345\210\2702.0\347\273\223\347\256\227Bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r140735 '
+ '[' '!' -z r140735 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170824-\345\215\241\345\210\2702.0\347\273\223\347\256\227Bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2@r140735' $'https://192.168.0.220/svn/tech/Branch/20170824-\345\215\241\345\210\2702.0\347\273\223\347\256\227Bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170824-\345\215\241\345\210\2702.0\347\273\223\347\256\227Bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2@r140735' $'https://192.168.0.220/svn/tech/Branch/20170824-\345\215\241\345\210\2702.0\347\273\223\347\256\227Bug/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45088.html
Merged revision(s) r140735 -r140770   from Branch/20170824-卡券2.0结算Bug/Develop/外部业务/P2P/Business/RepaymentBusiness2' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.7ms)
  Rendered merge/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 54463ms (Views: 104.2ms)


Completed 200 OK in 54463ms (Views: 104.2ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-25 09:54:32 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-25 09:54:32 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (10.1ms)
  Rendered merge/index.html.erb within layouts/application (10.1ms)
Completed 200 OK in 197ms (Views: 182.6ms)


Completed 200 OK in 197ms (Views: 182.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-25 09:54:44 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-25 09:54:44 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170821-借款失败黑名单/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170821-借款失败黑名单/Develop/外部业务/P2P/Business/BorrowBusiness2", "task"=>"http://192.168.0.221/zentao/task-view-45101.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"KqmIAyhWlBT5jpguUIpTzGKXsJKdwVuS6efG15AuVHu43ha8GYygBVNXZN0l2bR1V9T+vx3ueA6lcs5/PthmpQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170821-借款失败黑名单/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170821-借款失败黑名单/Develop/外部业务/P2P/Business/BorrowBusiness2", "task"=>"http://192.168.0.221/zentao/task-view-45101.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"KqmIAyhWlBT5jpguUIpTzGKXsJKdwVuS6efG15AuVHu43ha8GYygBVNXZN0l2bR1V9T+vx3ueA6lcs5/PthmpQ=="}
pid is 29309
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45101.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170821-借款失败黑名单/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170821-借款失败黑名单/Develop/外部业务/P2P/Business/BorrowBusiness2' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45101.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170821-借款失败黑名单/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170821-借款失败黑名单/Develop/外部业务/P2P/Business/BorrowBusiness2'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45101.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170821-借款失败黑名单/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170821-借款失败黑名单/Develop/外部业务/P2P/Business/BorrowBusiness2'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45101.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170821-借款失败黑名单/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170821-借款失败黑名单/Develop/外部业务/P2P/Business/BorrowBusiness2' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45101.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170821-借款失败黑名单/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170821-借款失败黑名单/Develop/外部业务/P2P/Business/BorrowBusiness2'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170821-\345\200\237\346\254\276\345\244\261\350\264\245\351\273\221\345\220\215\345\215\225/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness' $'https://192.168.0.220/svn/tech/Branch/20170821-\345\200\237\346\254\276\345\244\261\350\264\245\351\273\221\345\220\215\345\215\225/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170821-借款失败黑名单/Develop/外部业务/P2P/Business/BorrowBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170821-\345\200\237\346\254\276\345\244\261\350\264\245\351\273\221\345\220\215\345\215\225/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170821-\345\200\237\346\254\276\345\244\261\350\264\245\351\273\221\345\220\215\345\215\225/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170821-借款失败黑名单/Develop/外部业务/P2P/Business/BorrowBusiness
https://192.168.0.220/svn/tech/Branch/20170821-借款失败黑名单/Develop/外部业务/P2P/Business/BorrowBusiness2'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170821-\345\200\237\346\254\276\345\244\261\350\264\245\351\273\221\345\220\215\345\215\225/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170821-\345\200\237\346\254\276\345\244\261\350\264\245\351\273\221\345\220\215\345\215\225/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.29309
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170821-\345\200\237\346\254\276\345\244\261\350\264\245\351\273\221\345\220\215\345\215\225/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170821-借款失败黑名单/Develop/外部业务/P2P/Business/BorrowBusiness'
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep -C 3 $'Branch/20170821-\345\200\237\346\254\276\345\244\261\350\264\245\351\273\221\345\220\215\345\215\225/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ grep '^r'
++ head -n 4
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170821-\345\200\237\346\254\276\345\244\261\350\264\245\351\273\221\345\220\215\345\215\225/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r140861 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170821-\345\200\237\346\254\276\345\244\261\350\264\245\351\273\221\345\220\215\345\215\225/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r139508 '
+ '[' '!' -z r139508 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170821-\345\200\237\346\254\276\345\244\261\350\264\245\351\273\221\345\220\215\345\215\225/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness@r139508' $'https://192.168.0.220/svn/tech/Branch/20170821-\345\200\237\346\254\276\345\244\261\350\264\245\351\273\221\345\220\215\345\215\225/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170821-\345\200\237\346\254\276\345\244\261\350\264\245\351\273\221\345\220\215\345\215\225/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness@r139508' $'https://192.168.0.220/svn/tech/Branch/20170821-\345\200\237\346\254\276\345\244\261\350\264\245\351\273\221\345\220\215\345\215\225/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45101.html
Merged revision(s) r139508 -r140861   from Branch/20170821-借款失败黑名单/Develop/外部业务/P2P/Business/BorrowBusiness' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170821-\345\200\237\346\254\276\345\244\261\350\264\245\351\273\221\345\220\215\345\215\225/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170821-\345\200\237\346\254\276\345\244\261\350\264\245\351\273\221\345\220\215\345\215\225/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ rm -f /home/qishanqing/tmp/merged/output.29309
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170821-\345\200\237\346\254\276\345\244\261\350\264\245\351\273\221\345\220\215\345\215\225/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170821-借款失败黑名单/Develop/外部业务/P2P/Business/BorrowBusiness2'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170821-\345\200\237\346\254\276\345\244\261\350\264\245\351\273\221\345\220\215\345\215\225/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ head -n 4
++ awk -F '|' '{print$1}'
+ revision=
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170821-\345\200\237\346\254\276\345\244\261\350\264\245\351\273\221\345\220\215\345\215\225/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ head='r140840 '
+ '[' '!' -z ']'
++ awk -F '|' '{print$1}'
++ grep '^r'
++ tail -n 4
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170821-\345\200\237\346\254\276\345\244\261\350\264\245\351\273\221\345\220\215\345\215\225/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ revision='r139509 '
+ '[' '!' -z r139509 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170821-\345\200\237\346\254\276\345\244\261\350\264\245\351\273\221\345\220\215\345\215\225/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2@r139509' $'https://192.168.0.220/svn/tech/Branch/20170821-\345\200\237\346\254\276\345\244\261\350\264\245\351\273\221\345\220\215\345\215\225/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' .
+ st='  树冲突：2'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2322' ']'
+ die 'Svn merged conflicts the r139509 -r140840  from Branch/20170821-借款失败黑名单/Develop/外部业务/P2P/Business/BorrowBusiness2'
+ echo 'Svn merged conflicts the r139509 -r140840  from Branch/20170821-借款失败黑名单/Develop/外部业务/P2P/Business/BorrowBusiness2'
+ test -e /home/qishanqing/tmp/merged/output.29309
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.29309
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45101.html
Merged revision(s) r139509 -r140840   from Branch/20170821-借款失败黑名单/Develop/外部业务/P2P/Business/BorrowBusiness2' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (2.7ms)
  Rendered merge/new.html.erb within layouts/application (2.7ms)
Completed 200 OK in 69345ms (Views: 141.3ms)


Completed 200 OK in 69345ms (Views: 141.3ms)


Started POST "/start" for 192.168.5.26 at 2017-08-25 09:56:38 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-25 09:56:38 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170824-卡券2.0结算Bug", "branch"=>"20170824-卡券2.0结算Bug", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"36uAu2uwR3tKqDB1Ub6v1LGlcNqWhk9PHzr6LJdlBv5N3B4EWmpzauBxzIYk7UhthOY+9xapbNNTr/KEOZM0IA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170824-卡券2.0结算Bug", "branch"=>"20170824-卡券2.0结算Bug", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"36uAu2uwR3tKqDB1Ub6v1LGlcNqWhk9PHzr6LJdlBv5N3B4EWmpzauBxzIYk7UhthOY+9xapbNNTr/KEOZM0IA=="}
Filter chain halted as #<Proc:0x00000003c96870@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Filter chain halted as #<Proc:0x00000003c96870@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Completed 401 Unauthorized in 18ms


Completed 401 Unauthorized in 18ms


Started POST "/start" for 192.168.5.26 at 2017-08-25 09:56:38 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-25 09:56:38 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170824-卡券2.0结算Bug", "branch"=>"20170824-卡券2.0结算Bug", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"36uAu2uwR3tKqDB1Ub6v1LGlcNqWhk9PHzr6LJdlBv5N3B4EWmpzauBxzIYk7UhthOY+9xapbNNTr/KEOZM0IA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170824-卡券2.0结算Bug", "branch"=>"20170824-卡券2.0结算Bug", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"36uAu2uwR3tKqDB1Ub6v1LGlcNqWhk9PHzr6LJdlBv5N3B4EWmpzauBxzIYk7UhthOY+9xapbNNTr/KEOZM0IA=="}
pid is 29444
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170824-\345\215\241\345\210\2702.0\347\273\223\347\256\227Bug' -e qishanqing@dafy.com -E '' -b $'20170824-\345\215\241\345\210\2702.0\347\273\223\347\256\227Bug' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170824-卡券2.0结算Bug'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170824-卡券2.0结算Bug'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170824-卡券2.0结算Bug'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170824-卡券2.0结算Bug'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170824-\345\215\241\345\210\2702.0\347\273\223\347\256\227Bug' -e qishanqing@dafy.com -E '' -b $'20170824-\345\215\241\345\210\2702.0\347\273\223\347\256\227Bug' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170824-\345\215\241\345\210\2702.0\347\273\223\347\256\227Bug'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170824-\345\215\241\345\210\2702.0\347\273\223\347\256\227Bug'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170824-\345\215\241\345\210\2702.0\347\273\223\347\256\227Bug'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170824-卡券2.0结算Bug: command not found
++ for y in '$trunk'
++ echo $'20170824-\345\215\241\345\210\2702.0\347\273\223\347\256\227Bug'
+ trunks=$'20170824-\345\215\241\345\210\2702.0\347\273\223\347\256\227Bug'
+ test del = add
+ delbranch
+ '[' -z $'20170824-\345\215\241\345\210\2702.0\347\273\223\347\256\227Bug' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170825
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708250956
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170824-\345\215\241\345\210\2702.0\347\273\223\347\256\227Bug'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170825-20170824-\345\215\241\345\210\2702.0\347\273\223\347\256\227Bug/Develop/20170824-\345\215\241\345\210\2702.0\347\273\223\347\256\227Bug'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170824-\345\215\241\345\210\2702.0\347\273\223\347\256\227Bug'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708250956-20170824-\345\215\241\345\210\2702.0\347\273\223\347\256\227Bug'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170825-20170824-\345\215\241\345\210\2702.0\347\273\223\347\256\227Bug/Develop/20170824-\345\215\241\345\210\2702.0\347\273\223\347\256\227Bug'
++ awk -F / '{print $7}'
+ br=$'20170825-20170824-\345\215\241\345\210\2702.0\347\273\223\347\256\227Bug'
+ access=$'20170825-20170824-\345\215\241\345\210\2702.0\347\273\223\347\256\227Bug'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170824-\345\215\241\345\210\2702.0\347\273\223\347\256\227Bug' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708250956-20170824-\345\215\241\345\210\2702.0\347\273\223\347\256\227Bug' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.29444
+ echo $'https://192.168.0.220/svn/tech/Branch/20170824-\345\215\241\345\210\2702.0\347\273\223\347\256\227Bug'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170824-卡券2.0结算Bug%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170824-卡券2.0结算Bug%'\'';'
+ cat /tmp/cmdb.db.29444
+ rm -f /tmp/cmdb.db.29444
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (2.4ms)
  Rendered builder/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 5173ms (Views: 127.1ms)


Completed 200 OK in 5173ms (Views: 127.1ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-25 09:57:16 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-25 09:57:16 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (8.7ms)
  Rendered merge/index.html.erb within layouts/application (8.7ms)
Completed 200 OK in 181ms (Views: 175.4ms)


Completed 200 OK in 181ms (Views: 175.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-25 09:57:23 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-25 09:57:23 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170817-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallTaskBusiness\r\nhttps://192.168.0.220/svn/tech/Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallBuyerBusiness", "task"=>"http://192.168.0.221/zentao/task-view-45093.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"WnqiWTvXOTprszUhkKG+xxsR9a4SwZxFuljtMj6AHArIDTzmCg0NK8FqydLl8ll+LlK7g5Luv9n2zeWakHYu1A=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170817-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallTaskBusiness\r\nhttps://192.168.0.220/svn/tech/Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallBuyerBusiness", "task"=>"http://192.168.0.221/zentao/task-view-45093.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"WnqiWTvXOTprszUhkKG+xxsR9a4SwZxFuljtMj6AHArIDTzmCg0NK8FqydLl8ll+LlK7g5Luv9n2zeWakHYu1A=="}
pid is 29530
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45093.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170817-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallTaskBusiness
https://192.168.0.220/svn/tech/Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallBuyerBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45093.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170817-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallTaskBusiness
https://192.168.0.220/svn/tech/Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallBuyerBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45093.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170817-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallTaskBusiness
https://192.168.0.220/svn/tech/Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallBuyerBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45093.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170817-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallTaskBusiness
https://192.168.0.220/svn/tech/Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallBuyerBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45093.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170817-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallTaskBusiness
https://192.168.0.220/svn/tech/Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallBuyerBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness\r' $'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170817-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallTaskBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness\r'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170817-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallTaskBusiness
https://192.168.0.220/svn/tech/Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallBuyerBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness\r'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness\r'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.29530
+ echo
+ cat /home/qishanqing/tmp/merged/output.29530
+ rm -f /home/qishanqing/tmp/merged/output.29530
+ rm -f /home/qishanqing/tmp/merged/output.29530
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness\r'
+ die '分期商城/分期商城3.0/MallTaskBusiness  project code no found'
+ echo '分期商城/分期商城3.0/MallTaskBusiness  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.29530
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.29530
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.29530
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ svn_from_tb_merged
+ mails-cm -i 'code merged from Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallBuyerBusiness'
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ svn st
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ awk -F '|' '{print$1}'
++ head -n 4
++ svn log
++ grep -C 3 $'Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
++ grep '^r'
+ revision=
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
++ grep '^r'
+ head='r140909 '
+ '[' '!' -z ']'
++ grep '^r'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r135157 '
+ '[' '!' -z r135157 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness@r135157' $'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallBuyerBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：4'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2324' ']'
+ die 'Svn merged conflicts the r135157 -r140909  from Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallBuyerBusiness'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r135157 -r140909  from Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallBuyerBusiness'
+ test -e /home/qishanqing/tmp/merged/output.29530
+ rm -f /home/qishanqing/tmp/merged/output.29530
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45093.html
Merged revision(s) r135157 -r140909   from Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallBuyerBusiness' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (15.4ms)
  Rendered merge/new.html.erb within layouts/application (15.4ms)
Completed 200 OK in 34599ms (Views: 76.6ms)


Completed 200 OK in 34599ms (Views: 76.6ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-25 09:59:07 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-25 09:59:07 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (5.1ms)
  Rendered merge/index.html.erb within layouts/application (5.1ms)
Completed 200 OK in 91ms (Views: 88.4ms)


Completed 200 OK in 91ms (Views: 88.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-25 09:59:20 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-25 09:59:20 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170817-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallTaskBusiness", "task"=>"http://192.168.0.221/zentao/task-view-45093.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"1eFFFvbeM0XvayUW4oqIaqlbvmi0ew+JfC9EHeCKcmtHltupxwQHVEWy2eWX2W/TnBjwRTRULBUwuky1TnxAtQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170817-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallTaskBusiness", "task"=>"http://192.168.0.221/zentao/task-view-45093.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"1eFFFvbeM0XvayUW4oqIaqlbvmi0ew+JfC9EHeCKcmtHltupxwQHVEWy2eWX2W/TnBjwRTRULBUwuky1TnxAtQ=="}
pid is 29800
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45093.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45093.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170817-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallTaskBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45093.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170817-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallTaskBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45093.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45093.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170817-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallTaskBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.29800
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170817-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallTaskBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ grep '^r'
+ head='r140774 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ revision='r138409 '
+ '[' '!' -z r138409 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness@r138409' $'https://192.168.0.220/svn/tech/Branch/20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：2'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2322' ']'
+ die 'Svn merged conflicts the r138409 -r140774  from Branch/20170817-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallTaskBusiness'
+ echo 'Svn merged conflicts the r138409 -r140774  from Branch/20170817-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallTaskBusiness'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.29800
+ rm -f /home/qishanqing/tmp/merged/output.29800
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45093.html
Merged revision(s) r138409 -r140774   from Branch/20170817-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallTaskBusiness' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.8ms)
  Rendered merge/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 39895ms (Views: 171.1ms)


Completed 200 OK in 39895ms (Views: 171.1ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-25 10:01:11 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-25 10:01:11 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.9ms)
  Rendered merge/index.html.erb within layouts/application (4.9ms)
Completed 200 OK in 123ms (Views: 119.7ms)


Completed 200 OK in 123ms (Views: 119.7ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-25 10:01:32 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-25 10:01:32 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170811-前台改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallRefundBusiness https://192.168.0.220/svn/tech/Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallManager\r\n", "task"=>"http://192.168.0.221/zentao/task-view-45115.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"JQMoZFBvwc7f5UnxMp5yMw94k8Dc8cqIwddR491ACm23dLbbYbX133U8tQJHzZWKOjvd7Vze6RSNQllLc7Y4sw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170811-前台改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallRefundBusiness https://192.168.0.220/svn/tech/Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallManager\r\n", "task"=>"http://192.168.0.221/zentao/task-view-45115.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"JQMoZFBvwc7f5UnxMp5yMw94k8Dc8cqIwddR491ACm23dLbbYbX133U8tQJHzZWKOjvd7Vze6RSNQllLc7Y4sw=="}
pid is 29929
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45115.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170811-前台改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallRefundBusiness https://192.168.0.220/svn/tech/Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallManager
' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45115.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170811-前台改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallRefundBusiness https://192.168.0.220/svn/tech/Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallManager
'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45115.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170811-前台改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallRefundBusiness https://192.168.0.220/svn/tech/Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallManager
'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45115.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170811-前台改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallRefundBusiness https://192.168.0.220/svn/tech/Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallManager
' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45115.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170811-前台改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallRefundBusiness https://192.168.0.220/svn/tech/Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallManager
'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170811-\345\211\215\345\217\260\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' $'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness' $'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager\r'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170811-前台改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170811-\345\211\215\345\217\260\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager\r'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170811-前台改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client
https://192.168.0.220/svn/tech/Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallRefundBusiness
https://192.168.0.220/svn/tech/Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallManager'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170811-\345\211\215\345\217\260\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170811-\345\211\215\345\217\260\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ rm -f /home/qishanqing/tmp/merged/output.29929
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170811-\345\211\215\345\217\260\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170811-前台改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170811-\345\211\215\345\217\260\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ head -n 4
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170811-\345\211\215\345\217\260\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r140926 '
+ '[' '!' -z ']'
++ awk -F '|' '{print$1}'
++ grep '^r'
++ tail -n 4
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170811-\345\211\215\345\217\260\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ revision='r136238 '
+ '[' '!' -z r136238 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170811-\345\211\215\345\217\260\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r136238' $'https://192.168.0.220/svn/tech/Branch/20170811-\345\211\215\345\217\260\346\224\271\351\200\240/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：78'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\23278' ']'
+ die 'Svn merged conflicts the r136238 -r140926  from Branch/20170811-前台改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ echo 'Svn merged conflicts the r136238 -r140926  from Branch/20170811-前台改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ test -e /home/qishanqing/tmp/merged/output.29929
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.29929
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45115.html
Merged revision(s) r136238 -r140926   from Branch/20170811-前台改造/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.29929
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ mails-cm -i 'code merged from Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallRefundBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
++ awk -F '|' '{print$1}'
+ revision=
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
++ grep '^r'
+ head='r139517 '
+ '[' '!' -z ']'
++ grep '^r'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
++ tail -n 4
++ awk -F '|' '{print$1}'
+ revision='r135158 '
+ '[' '!' -z r135158 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness@r135158' $'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness@r135158' $'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ echo tc
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45115.html
Merged revision(s) r135158 -r139517   from Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallRefundBusiness' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager\r'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager\r'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ test -e /home/qishanqing/tmp/merged/output.29929
+ echo
+ cat /home/qishanqing/tmp/merged/output.29929
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.29929
+ rm -f /home/qishanqing/tmp/merged/output.29929
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager\r'
+ die '分期商城/分期商城3.0/MallManager  project code no found'
+ echo '分期商城/分期商城3.0/MallManager  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.29929
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.29929
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.3ms)
  Rendered merge/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 135024ms (Views: 248.0ms)


Completed 200 OK in 135024ms (Views: 248.0ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-25 10:04:48 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-25 10:04:48 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (7.6ms)
  Rendered merge/index.html.erb within layouts/application (7.6ms)
Completed 200 OK in 212ms (Views: 208.5ms)


Completed 200 OK in 212ms (Views: 208.5ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-25 10:04:56 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-25 10:04:56 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallManager", "task"=>"http://192.168.0.221/zentao/task-view-45115.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"DS4NK52fkVosbpTha+ToT+HlvVJ8xzZ6UzshrCSIyrCfWZOUrEWlS4a3aBIetw/21Kbzf/zoFeYfrikEin74bg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallManager", "task"=>"http://192.168.0.221/zentao/task-view-45115.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"DS4NK52fkVosbpTha+ToT+HlvVJ8xzZ6UzshrCSIyrCfWZOUrEWlS4a3aBIetw/21Kbzf/zoFeYfrikEin74bg=="}
pid is 30557
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45115.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45115.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallManager'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45115.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallManager'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45115.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45115.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallManager: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ rm -f /home/qishanqing/tmp/merged/output.30557
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallManager'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ awk -F '|' '{print$1}'
++ grep -C 3 $'Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r140891 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ tail -n 4
+ revision='r135159 '
+ '[' '!' -z r135159 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager@r135159' $'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：4'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2324' ']'
+ die 'Svn merged conflicts the r135159 -r140891  from Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallManager'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r135159 -r140891  from Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallManager'
+ test -e /home/qishanqing/tmp/merged/output.30557
+ rm -f /home/qishanqing/tmp/merged/output.30557
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45115.html
Merged revision(s) r135159 -r140891   from Branch/20170809-商城前台用户在线申请退款/Develop/分期商城/分期商城3.0/MallManager' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.1ms)
  Rendered merge/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 44680ms (Views: 76.6ms)


Completed 200 OK in 44680ms (Views: 76.6ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-25 10:06:01 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-25 10:06:01 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (6.6ms)
  Rendered merge/index.html.erb within layouts/application (6.6ms)
Completed 200 OK in 163ms (Views: 160.1ms)


Completed 200 OK in 163ms (Views: 160.1ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-25 10:06:08 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-25 10:06:08 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite", "task"=>"http://192.168.0.221/zentao/task-view-45097.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"kYLquIEPMuJDXnauLhng56GvIZlj2IE5if9X5EmZB0UD9XQHsNUG8+mHil1bSgdelOxvtOP3oqXFal9M5281mw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite", "task"=>"http://192.168.0.221/zentao/task-view-45097.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"kYLquIEPMuJDXnauLhng56GvIZlj2IE5if9X5EmZB0UD9XQHsNUG8+mHil1bSgdelOxvtOP3oqXFal9M5281mw=="}
pid is 30645
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45097.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45097.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45097.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45097.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45097.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ rm -f /home/qishanqing/tmp/merged/output.30645
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ mails-cm -i 'code merged from Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ awk -F '|' '{print$1}'
+ revision=
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ grep '^r'
+ head='r140888 '
+ '[' '!' -z ']'
++ grep '^r'
++ tail -n 4
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ awk -F '|' '{print$1}'
+ revision='r139750 '
+ '[' '!' -z r139750 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r139750' $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r139750' $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45097.html
Merged revision(s) r139750 -r140888   from Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.1ms)
  Rendered merge/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 64376ms (Views: 55.0ms)


Completed 200 OK in 64376ms (Views: 55.0ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-25 10:09:37 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-25 10:09:37 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.1ms)
  Rendered merge/index.html.erb within layouts/application (4.1ms)
Completed 200 OK in 114ms (Views: 105.8ms)


Completed 200 OK in 114ms (Views: 105.8ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-25 10:09:51 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-25 10:09:51 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170810-首页第改版/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170817-云贷2.0-优化/Develop/自如/MobileWallet/Android/DafyC2C_all https://192.168.0.220/svn/tech/Branch/20170817-云贷2.0-地理位置/Develop/自如/MobileWallet/IOS/DFCloudLoan", "task"=>"http://192.168.0.221/zentao/task-view-45104.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"yIWWZF1dzzLIg5sgiyg7Nm0Yfn9x5YjYNYLmDFYB6S5a8gjbbIf7I2JaZ9P+e9yPWFswUvHKq0R5F+6k+Pfb8A=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170810-首页第改版/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170817-云贷2.0-优化/Develop/自如/MobileWallet/Android/DafyC2C_all https://192.168.0.220/svn/tech/Branch/20170817-云贷2.0-地理位置/Develop/自如/MobileWallet/IOS/DFCloudLoan", "task"=>"http://192.168.0.221/zentao/task-view-45104.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"yIWWZF1dzzLIg5sgiyg7Nm0Yfn9x5YjYNYLmDFYB6S5a8gjbbIf7I2JaZ9P+e9yPWFswUvHKq0R5F+6k+Pfb8A=="}
pid is 30780
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45104.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170810-首页第改版/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170817-云贷2.0-优化/Develop/自如/MobileWallet/Android/DafyC2C_all https://192.168.0.220/svn/tech/Branch/20170817-云贷2.0-地理位置/Develop/自如/MobileWallet/IOS/DFCloudLoan' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45104.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170810-首页第改版/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170817-云贷2.0-优化/Develop/自如/MobileWallet/Android/DafyC2C_all https://192.168.0.220/svn/tech/Branch/20170817-云贷2.0-地理位置/Develop/自如/MobileWallet/IOS/DFCloudLoan'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45104.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170810-首页第改版/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170817-云贷2.0-优化/Develop/自如/MobileWallet/Android/DafyC2C_all https://192.168.0.220/svn/tech/Branch/20170817-云贷2.0-地理位置/Develop/自如/MobileWallet/IOS/DFCloudLoan'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45104.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170810-首页第改版/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170817-云贷2.0-优化/Develop/自如/MobileWallet/Android/DafyC2C_all https://192.168.0.220/svn/tech/Branch/20170817-云贷2.0-地理位置/Develop/自如/MobileWallet/IOS/DFCloudLoan' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45104.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170810-首页第改版/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170817-云贷2.0-优化/Develop/自如/MobileWallet/Android/DafyC2C_all https://192.168.0.220/svn/tech/Branch/20170817-云贷2.0-地理位置/Develop/自如/MobileWallet/IOS/DFCloudLoan'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170810-\351\246\226\351\241\265\347\254\254\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' $'https://192.168.0.220/svn/tech/Branch/20170817-\344\272\221\350\264\2672.0-\344\274\230\345\214\226/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all' $'https://192.168.0.220/svn/tech/Branch/20170817-\344\272\221\350\264\2672.0-\345\234\260\347\220\206\344\275\215\347\275\256/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170810-首页第改版/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170810-\351\246\226\351\241\265\347\254\254\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170817-\344\272\221\350\264\2672.0-\344\274\230\345\214\226/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170817-\344\272\221\350\264\2672.0-\345\234\260\347\220\206\344\275\215\347\275\256/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170810-首页第改版/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client
https://192.168.0.220/svn/tech/Branch/20170817-云贷2.0-优化/Develop/自如/MobileWallet/Android/DafyC2C_all
https://192.168.0.220/svn/tech/Branch/20170817-云贷2.0-地理位置/Develop/自如/MobileWallet/IOS/DFCloudLoan'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170810-\351\246\226\351\241\265\347\254\254\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170810-\351\246\226\351\241\265\347\254\254\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ rm -f /home/qishanqing/tmp/merged/output.30780
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170810-\351\246\226\351\241\265\347\254\254\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170810-首页第改版/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170810-\351\246\226\351\241\265\347\254\254\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170810-\351\246\226\351\241\265\347\254\254\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ head='r140932 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170810-\351\246\226\351\241\265\347\254\254\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r135809 '
+ '[' '!' -z r135809 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170810-\351\246\226\351\241\265\347\254\254\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r135809' $'https://192.168.0.220/svn/tech/Branch/20170810-\351\246\226\351\241\265\347\254\254\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：70'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\23270' ']'
+ die 'Svn merged conflicts the r135809 -r140932  from Branch/20170810-首页第改版/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ echo 'Svn merged conflicts the r135809 -r140932  from Branch/20170810-首页第改版/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ test -e /home/qishanqing/tmp/merged/output.30780
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.30780
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45104.html
Merged revision(s) r135809 -r140932   from Branch/20170810-首页第改版/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170817-\344\272\221\350\264\2672.0-\344\274\230\345\214\226/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170817-\344\272\221\350\264\2672.0-\344\274\230\345\214\226/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
+ rm -f /home/qishanqing/tmp/merged/output.30780
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170817-\344\272\221\350\264\2672.0-\344\274\230\345\214\226/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170817-云贷2.0-优化/Develop/自如/MobileWallet/Android/DafyC2C_all'
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170817-\344\272\221\350\264\2672.0-\344\274\230\345\214\226/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
++ awk -F '|' '{print$1}'
+ revision=
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170817-\344\272\221\350\264\2672.0-\344\274\230\345\214\226/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
+ head='r140585 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170817-\344\272\221\350\264\2672.0-\344\274\230\345\214\226/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r138356 '
+ '[' '!' -z r138356 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170817-\344\272\221\350\264\2672.0-\344\274\230\345\214\226/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all@r138356' $'https://192.168.0.220/svn/tech/Branch/20170817-\344\272\221\350\264\2672.0-\344\274\230\345\214\226/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170817-\344\272\221\350\264\2672.0-\344\274\230\345\214\226/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all@r138356' $'https://192.168.0.220/svn/tech/Branch/20170817-\344\272\221\350\264\2672.0-\344\274\230\345\214\226/Develop/\350\207\252\345\246\202/MobileWallet/Android/DafyC2C_all'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45104.html
Merged revision(s) r138356 -r140585   from Branch/20170817-云贷2.0-优化/Develop/自如/MobileWallet/Android/DafyC2C_all' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170817-\344\272\221\350\264\2672.0-\345\234\260\347\220\206\344\275\215\347\275\256/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170817-\344\272\221\350\264\2672.0-\345\234\260\347\220\206\344\275\215\347\275\256/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
+ rm -f /home/qishanqing/tmp/merged/output.30780
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170817-\344\272\221\350\264\2672.0-\345\234\260\347\220\206\344\275\215\347\275\256/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
+ mails-cm -i 'code merged from Branch/20170817-云贷2.0-地理位置/Develop/自如/MobileWallet/IOS/DFCloudLoan'
+ clean_workspace
+ svn cleanup .
+ grep '^?'
+ xargs rm -rf
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170817-\344\272\221\350\264\2672.0-\345\234\260\347\220\206\344\275\215\347\275\256/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170817-\344\272\221\350\264\2672.0-\345\234\260\347\220\206\344\275\215\347\275\256/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r140934 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170817-\344\272\221\350\264\2672.0-\345\234\260\347\220\206\344\275\215\347\275\256/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
+ revision='r138341 '
+ '[' '!' -z r138341 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170817-\344\272\221\350\264\2672.0-\345\234\260\347\220\206\344\275\215\347\275\256/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan@r138341' $'https://192.168.0.220/svn/tech/Branch/20170817-\344\272\221\350\264\2672.0-\345\234\260\347\220\206\344\275\215\347\275\256/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170817-\344\272\221\350\264\2672.0-\345\234\260\347\220\206\344\275\215\347\275\256/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan@r138341' $'https://192.168.0.220/svn/tech/Branch/20170817-\344\272\221\350\264\2672.0-\345\234\260\347\220\206\344\275\215\347\275\256/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45104.html
Merged revision(s) r138341 -r140934   from Branch/20170817-云贷2.0-地理位置/Develop/自如/MobileWallet/IOS/DFCloudLoan' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.7ms)
  Rendered merge/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 123866ms (Views: 65.3ms)


Completed 200 OK in 123866ms (Views: 65.3ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-25 10:17:54 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-25 10:17:54 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (11.4ms)
  Rendered merge/index.html.erb within layouts/application (11.4ms)
Completed 200 OK in 81ms (Views: 76.8ms)


Completed 200 OK in 81ms (Views: 76.8ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-25 10:18:03 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-25 10:18:03 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170824-活动页面/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-45146.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"YkUuLUkmSyp7xqiLdliuz2A/qmDrKD+VPz835lw+efPwMrCSePx/O9EfVHgDC0l2VXzkTWsHHAlzqj9O8shLLQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170824-活动页面/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-45146.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"YkUuLUkmSyp7xqiLdliuz2A/qmDrKD+VPz835lw+efPwMrCSePx/O9EfVHgDC0l2VXzkTWsHHAlzqj9O8shLLQ=="}
pid is 31553
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45146.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170824-\346\264\273\345\212\250\351\241\265\351\235\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45146.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170824-活动页面/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45146.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170824-活动页面/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45146.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170824-\346\264\273\345\212\250\351\241\265\351\235\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45146.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170824-\346\264\273\345\212\250\351\241\265\351\235\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170824-\346\264\273\345\212\250\351\241\265\351\235\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170824-活动页面/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170824-\346\264\273\345\212\250\351\241\265\351\235\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170824-\346\264\273\345\212\250\351\241\265\351\235\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170824-\346\264\273\345\212\250\351\241\265\351\235\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170824-\346\264\273\345\212\250\351\241\265\351\235\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ rm -f /home/qishanqing/tmp/merged/output.31553
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170824-\346\264\273\345\212\250\351\241\265\351\235\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn_from_tb_merged
+ mails-cm -i 'code merged from Branch/20170824-活动页面/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170824-\346\264\273\345\212\250\351\241\265\351\235\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170824-\346\264\273\345\212\250\351\241\265\351\235\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r140779 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170824-\346\264\273\345\212\250\351\241\265\351\235\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r140779 '
+ '[' '!' -z r140779 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170824-\346\264\273\345\212\250\351\241\265\351\235\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r140779' $'https://192.168.0.220/svn/tech/Branch/20170824-\346\264\273\345\212\250\351\241\265\351\235\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170824-\346\264\273\345\212\250\351\241\265\351\235\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r140779' $'https://192.168.0.220/svn/tech/Branch/20170824-\346\264\273\345\212\250\351\241\265\351\235\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45146.html
Merged revision(s) r140779 -r140779   from Branch/20170824-活动页面/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.1ms)
  Rendered merge/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 17615ms (Views: 72.5ms)


Completed 200 OK in 17615ms (Views: 72.5ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-25 10:20:29 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-25 10:20:29 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (5.6ms)
  Rendered merge/index.html.erb within layouts/application (5.6ms)
Completed 200 OK in 127ms (Views: 124.4ms)


Completed 200 OK in 127ms (Views: 124.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-25 10:20:44 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-25 10:20:44 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (98.3ms)
  Rendered builder/index.html.erb within layouts/application (98.3ms)
Completed 200 OK in 187ms (Views: 185.0ms)


Completed 200 OK in 187ms (Views: 185.0ms)


Started POST "/start" for 192.168.5.26 at 2017-08-25 10:20:47 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-25 10:20:47 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170824-活动页面", "branch"=>"20170824-活动页面", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"vWEXNtZhQqF3Uj/TrfQRa8SOP5alxFkYMwGWIq0HAY4vFomJ57t2sN2LwyDYp/bS8c1xuyXreoR/lJ6KA/EzUA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170824-活动页面", "branch"=>"20170824-活动页面", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"vWEXNtZhQqF3Uj/TrfQRa8SOP5alxFkYMwGWIq0HAY4vFomJ57t2sN2LwyDYp/bS8c1xuyXreoR/lJ6KA/EzUA=="}
pid is 31654
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170824-\346\264\273\345\212\250\351\241\265\351\235\242' -e qishanqing@dafy.com -E '' -b $'20170824-\346\264\273\345\212\250\351\241\265\351\235\242' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170824-活动页面'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170824-活动页面'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170824-活动页面'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170824-活动页面'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170824-\346\264\273\345\212\250\351\241\265\351\235\242' -e qishanqing@dafy.com -E '' -b $'20170824-\346\264\273\345\212\250\351\241\265\351\235\242' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170824-\346\264\273\345\212\250\351\241\265\351\235\242'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170824-\346\264\273\345\212\250\351\241\265\351\235\242'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170824-\346\264\273\345\212\250\351\241\265\351\235\242'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170824-活动页面: command not found
++ for y in '$trunk'
++ echo $'20170824-\346\264\273\345\212\250\351\241\265\351\235\242'
+ trunks=$'20170824-\346\264\273\345\212\250\351\241\265\351\235\242'
+ test del = add
+ delbranch
+ '[' -z $'20170824-\346\264\273\345\212\250\351\241\265\351\235\242' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170825
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708251020
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170824-\346\264\273\345\212\250\351\241\265\351\235\242'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170825-20170824-\346\264\273\345\212\250\351\241\265\351\235\242/Develop/20170824-\346\264\273\345\212\250\351\241\265\351\235\242'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170824-\346\264\273\345\212\250\351\241\265\351\235\242'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708251020-20170824-\346\264\273\345\212\250\351\241\265\351\235\242'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170825-20170824-\346\264\273\345\212\250\351\241\265\351\235\242/Develop/20170824-\346\264\273\345\212\250\351\241\265\351\235\242'
++ awk -F / '{print $7}'
+ br=$'20170825-20170824-\346\264\273\345\212\250\351\241\265\351\235\242'
+ access=$'20170825-20170824-\346\264\273\345\212\250\351\241\265\351\235\242'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170824-\346\264\273\345\212\250\351\241\265\351\235\242' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708251020-20170824-\346\264\273\345\212\250\351\241\265\351\235\242' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.31654
+ echo $'https://192.168.0.220/svn/tech/Branch/20170824-\346\264\273\345\212\250\351\241\265\351\235\242'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170824-活动页面%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170824-活动页面%'\'';'
+ cat /tmp/cmdb.db.31654
+ rm -f /tmp/cmdb.db.31654
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (2.2ms)
  Rendered builder/new.html.erb within layouts/application (2.2ms)
Completed 200 OK in 1985ms (Views: 64.0ms)


Completed 200 OK in 1985ms (Views: 64.0ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-25 10:26:09 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-25 10:26:09 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170801-配置文件新增服务/Develop/自如/后台服务管理/MobileWalletCenter https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1 \r\nhttps://192.168.0.220/svn/tech/Branch/20170724-达分期改版/Develop/事事分期/StageAll/cmsStageCenter https://192.168.0.220/svn/tech/Branch/20170724-达分期改版/Develop/事事分期/StageAll/cmsStageManager https://192.168.0.220/svn/tech/Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-45091.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"Avj+wKElq1u/GD/nKjY3yVFIZH/D9AudXgIopcBSifiQj2B/kP+fShXBwxRfZdBwZAsqUkPbKAESlyANbqS7Jg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170801-配置文件新增服务/Develop/自如/后台服务管理/MobileWalletCenter https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1 \r\nhttps://192.168.0.220/svn/tech/Branch/20170724-达分期改版/Develop/事事分期/StageAll/cmsStageCenter https://192.168.0.220/svn/tech/Branch/20170724-达分期改版/Develop/事事分期/StageAll/cmsStageManager https://192.168.0.220/svn/tech/Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-45091.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"Avj+wKElq1u/GD/nKjY3yVFIZH/D9AudXgIopcBSifiQj2B/kP+fShXBwxRfZdBwZAsqUkPbKAESlyANbqS7Jg=="}
pid is 32076
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45091.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170801-配置文件新增服务/Develop/自如/后台服务管理/MobileWalletCenter https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1 
https://192.168.0.220/svn/tech/Branch/20170724-达分期改版/Develop/事事分期/StageAll/cmsStageCenter https://192.168.0.220/svn/tech/Branch/20170724-达分期改版/Develop/事事分期/StageAll/cmsStageManager https://192.168.0.220/svn/tech/Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45091.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170801-配置文件新增服务/Develop/自如/后台服务管理/MobileWalletCenter https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1 
https://192.168.0.220/svn/tech/Branch/20170724-达分期改版/Develop/事事分期/StageAll/cmsStageCenter https://192.168.0.220/svn/tech/Branch/20170724-达分期改版/Develop/事事分期/StageAll/cmsStageManager https://192.168.0.220/svn/tech/Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45091.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170801-配置文件新增服务/Develop/自如/后台服务管理/MobileWalletCenter https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1 
https://192.168.0.220/svn/tech/Branch/20170724-达分期改版/Develop/事事分期/StageAll/cmsStageCenter https://192.168.0.220/svn/tech/Branch/20170724-达分期改版/Develop/事事分期/StageAll/cmsStageManager https://192.168.0.220/svn/tech/Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45091.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170801-配置文件新增服务/Develop/自如/后台服务管理/MobileWalletCenter https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1 
https://192.168.0.220/svn/tech/Branch/20170724-达分期改版/Develop/事事分期/StageAll/cmsStageCenter https://192.168.0.220/svn/tech/Branch/20170724-达分期改版/Develop/事事分期/StageAll/cmsStageManager https://192.168.0.220/svn/tech/Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45091.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170801-配置文件新增服务/Develop/自如/后台服务管理/MobileWalletCenter https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1 
https://192.168.0.220/svn/tech/Branch/20170724-达分期改版/Develop/事事分期/StageAll/cmsStageCenter https://192.168.0.220/svn/tech/Branch/20170724-达分期改版/Develop/事事分期/StageAll/cmsStageManager https://192.168.0.220/svn/tech/Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1' $'\r' $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\346\224\271\347\211\210/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageCenter' $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\346\224\271\347\211\210/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager' $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170801-配置文件新增服务/Develop/自如/后台服务管理/MobileWalletCenter: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
++ for y in '$branch'
++ echo $'\r'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\346\224\271\347\211\210/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageCenter'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\346\224\271\347\211\210/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170801-配置文件新增服务/Develop/自如/后台服务管理/MobileWalletCenter
https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite
https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1

https://192.168.0.220/svn/tech/Branch/20170724-达分期改版/Develop/事事分期/StageAll/cmsStageCenter
https://192.168.0.220/svn/tech/Branch/20170724-达分期改版/Develop/事事分期/StageAll/cmsStageManager
https://192.168.0.220/svn/tech/Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ rm -f /home/qishanqing/tmp/merged/output.32076
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170801-配置文件新增服务/Develop/自如/后台服务管理/MobileWalletCenter'
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ clean_workspace
+ svn cleanup .
+ grep '^?'
+ svn st
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r140177 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r140207 '
+ '[' '!' -z r140177 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter@r140177' $'https://192.168.0.220/svn/tech/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter@r140177' $'https://192.168.0.220/svn/tech/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45091.html
Merged revision(s) r140177 -r140207   from Branch/20170801-配置文件新增服务/Develop/自如/后台服务管理/MobileWalletCenter' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ rm -f /home/qishanqing/tmp/merged/output.32076
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite'
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ head -n 4
++ svn log
++ grep '^r'
++ awk -F '|' '{print$1}'
++ grep -C 3 $'Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ revision='r139664 '
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ head='r140986 '
+ '[' '!' -z r139664 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r139664' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r139664' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45091.html
Merged revision(s) r139664 -r140986   from Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ rm -f /home/qishanqing/tmp/merged/output.32076
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ clean_workspace
+ svn cleanup .
+ grep '^?'
+ xargs rm -rf
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
++ awk -F '|' '{print$1}'
+ revision='r139666 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r140988 '
+ '[' '!' -z r139666 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1@r139666' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1@r139666' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45091.html
Merged revision(s) r139666 -r140988   from Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'\r'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'\r'
+ svn log -l 1 $'\r'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ test -e /home/qishanqing/tmp/merged/output.32076
+ mails-cm -i 'svn merged faild'
+ echo
+ cat /home/qishanqing/tmp/merged/output.32076
+ rm -f /home/qishanqing/tmp/merged/output.32076
+ rm -f /home/qishanqing/tmp/merged/output.32076
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\r'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/\r'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\r'
+ die '  project code no found'
+ mails-cm -i 'svn merged faild'
+ echo '  project code no found'
+ test -e /home/qishanqing/tmp/merged/output.32076
+ rm -f /home/qishanqing/tmp/merged/output.32076
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\346\224\271\347\211\210/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageCenter'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageCenter'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\346\224\271\347\211\210/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageCenter'
+ rm -f /home/qishanqing/tmp/merged/output.32076
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageCenter'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170724-\350\276\276\345\210\206\346\234\237\346\224\271\347\211\210/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageCenter'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageCenter'
+ svn_from_tb_merged
+ mails-cm -i 'code merged from Branch/20170724-达分期改版/Develop/事事分期/StageAll/cmsStageCenter'
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageCenter'
+ clean_workspace
+ svn cleanup .
+ grep '^?'
+ xargs rm -rf
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170724-\350\276\276\345\210\206\346\234\237\346\224\271\347\211\210/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageCenter'
++ awk -F '|' '{print$1}'
+ revision=
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\346\224\271\347\211\210/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageCenter'
+ head='r135209 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\346\224\271\347\211\210/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageCenter'
++ tail -n 4
+ revision='r130413 '
+ '[' '!' -z r130413 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\346\224\271\347\211\210/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageCenter@r130413' $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\346\224\271\347\211\210/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageCenter' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\346\224\271\347\211\210/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageCenter@r130413' $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\346\224\271\347\211\210/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageCenter'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45091.html
Merged revision(s) r130413 -r135209   from Branch/20170724-达分期改版/Develop/事事分期/StageAll/cmsStageCenter' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\346\224\271\347\211\210/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\346\224\271\347\211\210/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager'
+ rm -f /home/qishanqing/tmp/merged/output.32076
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170724-\350\276\276\345\210\206\346\234\237\346\224\271\347\211\210/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170724-达分期改版/Develop/事事分期/StageAll/cmsStageManager'
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ grep '^r'
++ head -n 4
++ svn log
++ grep -C 3 $'Branch/20170724-\350\276\276\345\210\206\346\234\237\346\224\271\347\211\210/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager'
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\346\224\271\347\211\210/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r140615 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\346\224\271\347\211\210/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r130413 '
+ '[' '!' -z r130413 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\346\224\271\347\211\210/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager@r130413' $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\346\224\271\347\211\210/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\346\224\271\347\211\210/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager@r130413' $'https://192.168.0.220/svn/tech/Branch/20170724-\350\276\276\345\210\206\346\234\237\346\224\271\347\211\210/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/cmsStageManager'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45091.html
Merged revision(s) r130413 -r140615   from Branch/20170724-达分期改版/Develop/事事分期/StageAll/cmsStageManager' --username qishanqing --password 372233
svn: E155015: 提交失败(细节如下): 
svn: E155015: 提交终止: “/home/qishanqing/workspace/code/Trunk/事事分期/StageAll/cmsStageManager/src/main/webapp/stageAd/adDetail.htm” 处于冲突状态
+ die 'Svn merged conflicts the reasons for failure are as follows'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the reasons for failure are as follows'
+ test -e /home/qishanqing/tmp/merged/output.32076
+ echo
+ cat /home/qishanqing/tmp/merged/output.32076
+ rm -f /home/qishanqing/tmp/merged/output.32076
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ rm -f /home/qishanqing/tmp/merged/output.32076
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r140940 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r134880 '
+ '[' '!' -z r134880 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r134880' $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r134880' $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45091.html
Merged revision(s) r134880 -r140940   from Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.6ms)
  Rendered merge/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 184598ms (Views: 67.9ms)


Completed 200 OK in 184598ms (Views: 67.9ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-25 10:39:27 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-25 10:39:27 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.4ms)
  Rendered builder/index.html.erb within layouts/application (4.4ms)
Completed 200 OK in 220ms (Views: 213.2ms)


Completed 200 OK in 220ms (Views: 213.2ms)


Started POST "/start" for 192.168.5.26 at 2017-08-25 10:39:32 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-25 10:39:32 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170817-商城前台用户在线申请退款", "branch"=>"20170817-商城前台用户在线申请退款", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"L0TRJ4jzRHO9IjYOXVHUAbLmTL02fJL8ujG82CbY5Hy9M0+YuSlwYhf7yv0oAjO4h6UCkLZTsWD2pLRwiC7Wog=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170817-商城前台用户在线申请退款", "branch"=>"20170817-商城前台用户在线申请退款", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"L0TRJ4jzRHO9IjYOXVHUAbLmTL02fJL8ujG82CbY5Hy9M0+YuSlwYhf7yv0oAjO4h6UCkLZTsWD2pLRwiC7Wog=="}
pid is 32651
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276' -e qishanqing@dafy.com -E '' -b $'20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170817-商城前台用户在线申请退款'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170817-商城前台用户在线申请退款'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170817-商城前台用户在线申请退款'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170817-商城前台用户在线申请退款'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276' -e qishanqing@dafy.com -E '' -b $'20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170817-商城前台用户在线申请退款: command not found
++ for y in '$trunk'
++ echo $'20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
+ trunks=$'20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
+ test del = add
+ delbranch
+ '[' -z $'20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170825
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708251039
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170825-20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708251039-20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170825-20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
++ awk -F / '{print $7}'
+ br=$'20170825-20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
+ access=$'20170825-20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708251039-20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.32651
+ echo $'https://192.168.0.220/svn/tech/Branch/20170817-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170817-商城前台用户在线申请退款%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170817-商城前台用户在线申请退款%'\'';'
+ cat /tmp/cmdb.db.32651
+ rm -f /tmp/cmdb.db.32651
+ mails-cm -i 'svnbranch-del from svn branch create web'
+ cat
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (3.0ms)
  Rendered builder/new.html.erb within layouts/application (3.0ms)
Completed 200 OK in 668ms (Views: 75.7ms)


Completed 200 OK in 668ms (Views: 75.7ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-25 10:39:34 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-25 10:39:34 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (5.1ms)
  Rendered merge/index.html.erb within layouts/application (5.1ms)
Completed 200 OK in 75ms (Views: 72.8ms)


Completed 200 OK in 75ms (Views: 72.8ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-25 10:40:13 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-25 10:40:13 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.9ms)
  Rendered builder/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 69ms (Views: 67.2ms)


Completed 200 OK in 69ms (Views: 67.2ms)


Started POST "/start" for 192.168.5.26 at 2017-08-25 10:40:26 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-25 10:40:26 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170809-商城前台用户在线申请退款", "branch"=>"20170809-商城前台用户在线申请退款", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"V0No+xE8TAr5Qa3px6wy4DxEKCgy4UhJWfST6GGeTPLFNPZEIOZ4G1OYURqy/9VZCQdmBbLOa9UVYZtAz2h+LA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170809-商城前台用户在线申请退款", "branch"=>"20170809-商城前台用户在线申请退款", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"V0No+xE8TAr5Qa3px6wy4DxEKCgy4UhJWfST6GGeTPLFNPZEIOZ4G1OYURqy/9VZCQdmBbLOa9UVYZtAz2h+LA=="}
pid is 32704
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276' -e qishanqing@dafy.com -E '' -b $'20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170809-商城前台用户在线申请退款'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170809-商城前台用户在线申请退款'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170809-商城前台用户在线申请退款'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170809-商城前台用户在线申请退款'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276' -e qishanqing@dafy.com -E '' -b $'20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170809-商城前台用户在线申请退款: command not found
++ for y in '$trunk'
++ echo $'20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
+ trunks=$'20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
+ test del = add
+ delbranch
+ '[' -z $'20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170825
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708251040
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170825-20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708251040-20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170825-20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276/Develop/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
++ awk -F / '{print $7}'
+ br=$'20170825-20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
+ access=$'20170825-20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708251040-20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.32704
+ echo $'https://192.168.0.220/svn/tech/Branch/20170809-\345\225\206\345\237\216\345\211\215\345\217\260\347\224\250\346\210\267\345\234\250\347\272\277\347\224\263\350\257\267\351\200\200\346\254\276'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170809-商城前台用户在线申请退款%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170809-商城前台用户在线申请退款%'\'';'
+ cat /tmp/cmdb.db.32704
+ rm -f /tmp/cmdb.db.32704
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.4ms)
  Rendered builder/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 1310ms (Views: 77.1ms)


Completed 200 OK in 1310ms (Views: 77.1ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-25 13:45:03 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-25 13:45:03 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (365.4ms)
  Rendered builder/index.html.erb within layouts/application (365.4ms)
Completed 200 OK in 2642ms (Views: 1813.7ms)


Completed 200 OK in 2642ms (Views: 1813.7ms)


Started POST "/start" for 192.168.5.26 at 2017-08-25 13:47:05 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-25 13:47:05 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"huqiangsheng@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/BorrowBusiness 外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/RepaymentBusiness 外部业务/P2P/Business/RepaymentBusiness2 外部业务/P2P/Business/BillBusiness 外部业务/P2P/Business/BillBusiness2", "branch"=>"新海尔资金方接入", "user"=>"weishaolong yeyuexin huqiangsheng pankun", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"49jPMlNU/LEhU+zLk/b6GDmeVV0dNCIlT67IGD2+PUBxr1GNYo7IoIuKEDjmpR2hDN0bcJ0bAbkDO8Cwk0gPng=="}
  Parameters: {"email"=>"huqiangsheng@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/BorrowBusiness 外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/RepaymentBusiness 外部业务/P2P/Business/RepaymentBusiness2 外部业务/P2P/Business/BillBusiness 外部业务/P2P/Business/BillBusiness2", "branch"=>"新海尔资金方接入", "user"=>"weishaolong yeyuexin huqiangsheng pankun", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"49jPMlNU/LEhU+zLk/b6GDmeVV0dNCIlT67IGD2+PUBxr1GNYo7IoIuKEDjmpR2hDN0bcJ0bAbkDO8Cwk0gPng=="}
pid is 7131
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'weishaolong yeyuexin huqiangsheng pankun' -t '外部业务/P2P/Business/BorrowBusiness 外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/RepaymentBusiness 外部业务/P2P/Business/RepaymentBusiness2 外部业务/P2P/Business/BillBusiness 外部业务/P2P/Business/BillBusiness2' -e huqiangsheng@dafy.com -E '' -b $'\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245' -T add -d ''
+ TEMP=' -u '\''weishaolong yeyuexin huqiangsheng pankun'\'' -t '\''外部业务/P2P/Business/BorrowBusiness 外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/RepaymentBusiness 外部业务/P2P/Business/RepaymentBusiness2 外部业务/P2P/Business/BillBusiness 外部业务/P2P/Business/BillBusiness2'\'' -e '\''huqiangsheng@dafy.com'\'' -E '\'''\'' -b '\''新海尔资金方接入'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''weishaolong yeyuexin huqiangsheng pankun'\'' -t '\''外部业务/P2P/Business/BorrowBusiness 外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/RepaymentBusiness 外部业务/P2P/Business/RepaymentBusiness2 外部业务/P2P/Business/BillBusiness 外部业务/P2P/Business/BillBusiness2'\'' -e '\''huqiangsheng@dafy.com'\'' -E '\'''\'' -b '\''新海尔资金方接入'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'weishaolong yeyuexin huqiangsheng pankun' -t '外部业务/P2P/Business/BorrowBusiness 外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/RepaymentBusiness 外部业务/P2P/Business/RepaymentBusiness2 外部业务/P2P/Business/BillBusiness 外部业务/P2P/Business/BillBusiness2' -e huqiangsheng@dafy.com -E '' -b $'\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245' -T add -d '' --
+ true
+ case "$1" in
+ user='weishaolong yeyuexin huqiangsheng pankun'
+ shift 2
+ true
+ case "$1" in
+ trunk='外部业务/P2P/Business/BorrowBusiness 外部业务/P2P/Business/BorrowBusiness2 外部业务/P2P/Business/RepaymentBusiness 外部业务/P2P/Business/RepaymentBusiness2 外部业务/P2P/Business/BillBusiness 外部业务/P2P/Business/BillBusiness2'
+ shift 2
+ true
+ case "$1" in
+ email=huqiangsheng@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=huqiangsheng@dafy.com '
+ SMARTCM_EXTRA_MAIL='huqiangsheng@dafy.com '
++ weishaolong yeyuexin huqiangsheng pankun
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: weishaolong: command not found
++ for x in '$user'
++ echo weishaolong=rw
++ for x in '$user'
++ echo yeyuexin=rw
++ for x in '$user'
++ echo huqiangsheng=rw
++ for x in '$user'
++ echo pankun=rw
+ users='weishaolong=rw
yeyuexin=rw
huqiangsheng=rw
pankun=rw'
++ $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness' $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness' $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness' $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 外部业务/P2P/Business/BorrowBusiness: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness'
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2'
+ trunks='外部业务/P2P/Business/BorrowBusiness
外部业务/P2P/Business/BorrowBusiness2
外部业务/P2P/Business/RepaymentBusiness
外部业务/P2P/Business/RepaymentBusiness2
外部业务/P2P/Business/BillBusiness
外部业务/P2P/Business/BillBusiness2'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness' ']'
+ '[' -z $'\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170825
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708251347
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708251347-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ awk -F / '{print $7}'
+ br=$'20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245'
+ access=$'20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness' $'https://192.168.0.220/svn/tech/Branch/20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.7131
+ echo $'https://192.168.0.220/svn/tech/Branch/20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BorrowBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170825-新海尔资金方接入/Develop/外部业务/P2P/Business/BorrowBusiness'\'',now(),'\''huqiangsheng'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BorrowBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170825-新海尔资金方接入/Develop/外部业务/P2P/Business/BorrowBusiness'\'',now(),'\''huqiangsheng'\'');'
+ cat /tmp/cmdb.db.7131
+ rm -f /tmp/cmdb.db.7131
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170825-新海尔资金方接入] /svn/authz.conf'
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z 'weishaolong=rw
yeyuexin=rw
huqiangsheng=rw
pankun=rw'
+ cat
+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' ']'
+ '[' -z $'\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170825
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708251347
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708251347-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ awk -F / '{print $7}'
+ br=$'20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245'
+ access=$'20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' $'https://192.168.0.220/svn/tech/Branch/20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.7131
+ echo $'https://192.168.0.220/svn/tech/Branch/20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BorrowBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170825-新海尔资金方接入/Develop/外部业务/P2P/Business/BorrowBusiness2'\'',now(),'\''huqiangsheng'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BorrowBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170825-新海尔资金方接入/Develop/外部业务/P2P/Business/BorrowBusiness2'\'',now(),'\''huqiangsheng'\'');'
+ cat /tmp/cmdb.db.7131
+ rm -f /tmp/cmdb.db.7131
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170825-新海尔资金方接入] /svn/authz.conf'
+ read num
+ '[' 1 -eq 0 ']'
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness' ']'
+ '[' -z $'\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170825
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708251347
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708251347-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
++ awk -F / '{print $7}'
+ br=$'20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245'
+ access=$'20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness' $'https://192.168.0.220/svn/tech/Branch/20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.7131
+ echo $'https://192.168.0.220/svn/tech/Branch/20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/RepaymentBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170825-新海尔资金方接入/Develop/外部业务/P2P/Business/RepaymentBusiness'\'',now(),'\''huqiangsheng'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/RepaymentBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170825-新海尔资金方接入/Develop/外部业务/P2P/Business/RepaymentBusiness'\'',now(),'\''huqiangsheng'\'');'
+ cat /tmp/cmdb.db.7131
+ rm -f /tmp/cmdb.db.7131
+ check-acces
+ read num
+ ssh root@192.168.0.220 'grep -c 20170825-新海尔资金方接入] /svn/authz.conf'
+ '[' 1 -eq 0 ']'
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' ']'
+ '[' -z $'\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170825
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708251347
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708251347-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245'
++ awk -F / '{print $7}'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ br=$'20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245'
+ access=$'20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' $'https://192.168.0.220/svn/tech/Branch/20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.7131
+ echo $'https://192.168.0.220/svn/tech/Branch/20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/RepaymentBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170825-新海尔资金方接入/Develop/外部业务/P2P/Business/RepaymentBusiness2'\'',now(),'\''huqiangsheng'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/RepaymentBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170825-新海尔资金方接入/Develop/外部业务/P2P/Business/RepaymentBusiness2'\'',now(),'\''huqiangsheng'\'');'
+ cat /tmp/cmdb.db.7131
+ rm -f /tmp/cmdb.db.7131
+ check-acces
+ read num
+ ssh root@192.168.0.220 'grep -c 20170825-新海尔资金方接入] /svn/authz.conf'
+ '[' 1 -eq 0 ']'
+ echo 'access authz added'
access authz added
+ read num
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ cat
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness' ']'
+ '[' -z $'\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170825
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708251347
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708251347-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness'
++ awk -F / '{print $7}'
+ br=$'20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245'
+ access=$'20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness' $'https://192.168.0.220/svn/tech/Branch/20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.7131
+ echo $'https://192.168.0.220/svn/tech/Branch/20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BillBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170825-新海尔资金方接入/Develop/外部业务/P2P/Business/BillBusiness'\'',now(),'\''huqiangsheng'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BillBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170825-新海尔资金方接入/Develop/外部业务/P2P/Business/BillBusiness'\'',now(),'\''huqiangsheng'\'');'
+ cat /tmp/cmdb.db.7131
+ rm -f /tmp/cmdb.db.7131
+ check-acces
+ read num
+ ssh root@192.168.0.220 'grep -c 20170825-新海尔资金方接入] /svn/authz.conf'
+ '[' 1 -eq 0 ']'
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2' ']'
+ '[' -z $'\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170825
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708251347
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708251347-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2'
++ awk -F / '{print $7}'
+ br=$'20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245'
+ access=$'20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2' $'https://192.168.0.220/svn/tech/Branch/20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.7131
+ echo $'https://192.168.0.220/svn/tech/Branch/20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271\346\216\245\345\205\245/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BillBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170825-新海尔资金方接入/Develop/外部业务/P2P/Business/BillBusiness2'\'',now(),'\''huqiangsheng'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BillBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170825-新海尔资金方接入/Develop/外部业务/P2P/Business/BillBusiness2'\'',now(),'\''huqiangsheng'\'');'
+ cat /tmp/cmdb.db.7131
+ rm -f /tmp/cmdb.db.7131
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170825-新海尔资金方接入] /svn/authz.conf'
+ read num
+ '[' 1 -eq 0 ']'
+ echo 'access authz added'
access authz added
+ read num
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ cat
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (16.3ms)
  Rendered builder/new.html.erb within layouts/application (16.3ms)
Completed 200 OK in 11862ms (Views: 202.3ms)


Completed 200 OK in 11862ms (Views: 202.3ms)


Started GET "/jenkins" for 192.168.5.26 at 2017-08-25 14:16:44 +0800
Started GET "/jenkins" for 192.168.5.26 at 2017-08-25 14:16:44 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by JenkinsController#index as HTML
Processing by JenkinsController#index as HTML
  Rendering jenkins/index.html.erb within layouts/application
  Rendering jenkins/index.html.erb within layouts/application
  Rendered jenkins/index.html.erb within layouts/application (128.2ms)
  Rendered jenkins/index.html.erb within layouts/application (128.2ms)
Completed 200 OK in 1703ms (Views: 1599.3ms)


Completed 200 OK in 1703ms (Views: 1599.3ms)


Started POST "/jenkins/new" for 192.168.5.26 at 2017-08-25 14:16:57 +0800
Started POST "/jenkins/new" for 192.168.5.26 at 2017-08-25 14:16:57 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by JenkinsController#new as HTML
Processing by JenkinsController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "add"=>"", "copy"=>"", "del"=>"", "num"=>"zombie", "extra_mails"=>"", "authenticity_token"=>"KSJN7o+s9hDUGpzEgpZgNxOpdOdO4hvtIuAmLvMBV0C7VdNRvnbCAX7DYDf3xYeOJuo6ys7NOHFudS6GXfdlng=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "add"=>"", "copy"=>"", "del"=>"", "num"=>"zombie", "extra_mails"=>"", "authenticity_token"=>"KSJN7o+s9hDUGpzEgpZgNxOpdOdO4hvtIuAmLvMBV0C7VdNRvnbCAX7DYDf3xYeOJuo6ys7NOHFudS6GXfdlng=="}
+ echo pid is 9210
pid is 9210
+++ basename -- /home/qishanqing/myscript/sh/jenkins.sh
++ getopt -o a:d:n:c:T:e:E:h --long types:,email:,extra_mails:,add:,copy:,del:,num:,help -n jenkins.sh -- -a '' -d '' -n zombie -c '' -e qishanqing@dafy.com -E ''
+ TEMP=' -a '\'''\'' -d '\'''\'' -n '\''zombie'\'' -c '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' --'
+ add=
+ email=
+ extra_mails=
+ del=
+ num=
+ copy=
+ types=
+ eval set -- ' -a '\'''\'' -d '\'''\'' -n '\''zombie'\'' -c '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' --'
++ set -- -a '' -d '' -n zombie -c '' -e qishanqing@dafy.com -E '' --
+ true
+ case "$1" in
+ add=
+ shift 2
+ true
+ case "$1" in
+ del=
+ shift 2
+ true
+ case "$1" in
+ num=zombie
+ shift 2
+ true
+ case "$1" in
+ copy=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ jenkins_url=http://192.168.0.232:8080
+ jenkins_addrs=/root/.jenkins
+ jenkins_cli=/home/qishanqing/myscript/jenkins/jenkins-cli.jar
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ test = add
/home/qishanqing/myscript/sh/jenkins.sh: line 184: test: =: unary operator expected
+ test = del
/home/qishanqing/myscript/sh/jenkins.sh: line 186: test: =: unary operator expected
+ jenkins-clean-range-run
++ java -jar /home/qishanqing/myscript/jenkins/jenkins-cli.jar -s http://192.168.0.232:8080/ list-jobs
+ j='011
10_MAVEN_WEB_AccountBusiness
10_MAVEN_WEB_AccountGateway44
10_MAVEN_WEB_AccountGateway55
10_MAVEN_WEB_AccountTradeSpliter
10_MAVEN_WEB_AccSearcher
10_MAVEN_WEB_AccToolkit
10_MAVEN_WEB_BluntlyBusiness
10_MAVEN_WEB_BluntlyManager
10_MAVEN_WEB_BluntlyWSServer
10_MAVEN_WEB_CoursewareCenter
10_MAVEN_WEB_GatewayBusiness
10_MAVEN_WEB_GatewayManager
10_MAVEN_WEB_TechMonitor
10_mvn_srv_MallBusiness
10_mvn_srv_MallBuyerBusiness
10_mvn_srv_MallManageAccessBusiness
10_MVN_SRV_MallManageGoodsBusiness
10_MVN_SRV_MallManageOrderBusiness
10_mvn_srv_MallManageOutAccessBusiness
10_MVN_SRV_MallManageStorageBusiness
10_MVN_SRV_MallRefundBusiness
10_mvn_task_MallTaskBusiness
10_mvn_web_MallManagerNew
11_MAVEN_TASK_AccountApp
11_MAVEN_TASK_ExportOverdueDataTell
11_MAVEN_TASK_ExportRepayRecordData360
11_MAVEN_TASK_FetchOverdueDataV1
11_MAVEN_TASK_FetchOverdueDataV2
11_MAVEN_TASK_OrderTimeoutCancelTask
11_MAVEN_WEB_AccountBusiness
11_MAVEN_WEB_AccountGateway44
11_MAVEN_WEB_AccountGateway55
11_MAVEN_WEB_AccountManager
11_MAVEN_WEB_AccountTradeSpliter
11_MAVEN_WEB_AccSearcher
11_MAVEN_WEB_AccToolkit
11_MAVEN_WEB_BluntlyBusiness
11_MAVEN_WEB_BluntlyWSServer
11_MAVEN_WEB_cmsStageCenter
11_MAVEN_WEB_cmsStageManager
11_MAVEN_WEB_collectionBusiness
11_MAVEN_WEB_GatewayBusiness
11_MAVEN_WEB_GatewayManager
11_MAVEN_WEB_MaiMaiTiBusiness
11_MAVEN_WEB_MerchantCenter
11_MAVEN_WEB_overdueBusiness
11_MAVEN_WEB_StageCenter
11_MAVEN_WEB_StageMerchantService
11_MAVEN_WEB_StageMobile
11_MAVEN_WEB_StageOrderBossService
11_MAVEN_WEB_StageOrderService
11_MAVEN_WEB_StageProductBossManager
11_MAVEN_WEB_StageProductBossService
11_MAVEN_WEB_StageProductService
11_MAVEN_WEB_StageRiskCenter
11_MAVEN_WEB_StageStore
11_MAVEN_WEB_StageWechatCenter
11_MAVEN_WEB_SupCCBusiness
11_MAVEN_WEB_UserCredit
12_AccountGatewayApp4_RetryOrder
12_MAVEN_TASK_AccountApp
12_MAVEN_TASK_ApplyBorrowTask
12_MAVEN_TASK_ExportOverdueData
12_MAVEN_TASK_ExportOverdueDataTell
12_MAVEN_TASK_ExportRepayRecordData
12_MAVEN_TASK_ExportRepayRecordData360
12_MAVEN_TASK_FetchOverdueDataV1
12_MAVEN_TASK_FetchOverdueDataV2
12_MAVEN_TASK_FetchUserContactV1
12_MAVEN_TASK_FetchUserContactV2
12_MAVEN_TASK_OrderTimeoutCancelTask
12_MAVEN_TASK_StageLoanTask
12_MAVEN_WEB_AccountBusiness
12_MAVEN_WEB_AccountGateway44
12_MAVEN_WEB_AccountGateway55
12_MAVEN_WEB_AccountManager
12_MAVEN_WEB_AccountTradeSpliter
12_MAVEN_WEB_AccSearcher
12_MAVEN_WEB_AccToolkit
12_MAVEN_WEB_BluntlyBusiness
12_MAVEN_WEB_BluntlyManager
12_MAVEN_WEB_BluntlyWSServer
12_MAVEN_WEB_BossSite
12_MAVEN_WEB_cmsStageCenter
12_MAVEN_WEB_collectionBusiness
12_MAVEN_WEB_collectionweb
12_MAVEN_WEB_CoursewareCenter
12_MAVEN_WEB_DataAnalysisBiz
12_MAVEN_WEB_DataAnalysisBossSite
12_MAVEN_WEB_GatewayBusiness
12_MAVEN_WEB_GatewayManager
12_MAVEN_WEB_GatewayRouteBusiness
12_MAVEN_WEB_LendBusiness
12_MAVEN_WEB_MaiMaiTiBusiness
12_MAVEN_WEB_MediaCenter
12_MAVEN_WEB_MediaMonitor
12_MAVEN_WEB_MerchantCenter
12_MAVEN_WEB_NewBusinessBus
12_MAVEN_WEB_overdueBusiness
12_MAVEN_WEB_StageOrderBossService
12_MAVEN_WEB_StageOrderService
12_MAVEN_WEB_StageProductBossManager
12_MAVEN_WEB_StageProductBossService
12_MAVEN_WEB_StageRiskCenter
12_MAVEN_WEB_StageStore
12_MAVEN_WEB_StageStoreApi
12_MAVEN_WEB_StageWechatCenter
12_MAVEN_WEB_SupCCBusiness
12_MAVEN_WEB_UserCredit
12_MAVEN_ZIP_CloudLoanH5Client_Stage
12_TASK_AccountApp
12_WEB_AccountManager
12_WEB_MerchantCenter
12_WEB_PocketBusiness
12_WEB_WebSiteBusiness
139_MAVEN_WEB_businessPropertyManager
139_MAVEN_WEB_projectResourcesManager
13_mvn_lib_dflib_mall
13_mvn_srv_MallBusiness
13_mvn_srv_MallBuyerBusiness
13_MVN_SRV_MallManageGoodsBusiness
13_MVN_SRV_MallManageOrderBusiness
13_mvn_srv_MallManageOutAccessBusiness
13_mvn_srv_MallManageStockBusiness
13_MVN_SRV_MallManageStorageBusiness
13_MVN_SRV_MallRefundBusiness
13_mvn_task_MallTaskBusiness
13_mvn_web_MallManageAccessBusiness
13_MVN_WEB_MallManagerNew
153_MAVEN_WEB_ApplyBorrowTask
153_MAVEN_WEB_Borrow
153_MAVEN_WEB_cmsStageCenter
153_MAVEN_WEB_cmsStageManager
153_MAVEN_WEB_MerchantCenter
153_MAVEN_WEB_OrderTimeoutCancelTask
153_MAVEN_WEB_StageBossService
153_MAVEN_WEB_StageCenter
153_MAVEN_WEB_StageLoanTask
153_MAVEN_WEB_StageManager
153_MAVEN_WEB_StageMerchantService
153_MAVEN_WEB_StageMobile
153_MAVEN_WEB_StageOrderBossService
153_MAVEN_WEB_StageOrderService
153_MAVEN_WEB_StageProductBossManager
153_MAVEN_WEB_StageProductBossService
153_MAVEN_WEB_StageProductService
153_MAVEN_WEB_StageRiskCenter
153_MAVEN_WEB_StageStore
153_MAVEN_WEB_StageWechatCenter
16_EasyLoanGateway
198_MAVEN_WEB_DFPBorrowBusiness
198_MAVEN_WEB_LendBusiness
198_MAVEN_WEB_LendManager
65_MAVEN_WEB_LendManager
borrow.dafy.service
cmsStageManager
ExportRepayRecordData360
MaiMaiTiBusiness
StageBossService
StageCenter
StageManager
StageMerchantService
StageMobile
StageProductService
TechMonitor
uploads-rolling-232'
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/011/lastBuild/
++ xargs -d '>' -n1
++ grep $'\345\220\257\345\212\250\346\227\266\351\227\264'
+ c=
+ case "$num" in
+ jenkins-clean-never-run
++ java -jar /home/qishanqing/myscript/jenkins/jenkins-cli.jar -s http://192.168.0.232:8080/ list-jobs
+ j='011
10_MAVEN_WEB_AccountBusiness
10_MAVEN_WEB_AccountGateway44
10_MAVEN_WEB_AccountGateway55
10_MAVEN_WEB_AccountTradeSpliter
10_MAVEN_WEB_AccSearcher
10_MAVEN_WEB_AccToolkit
10_MAVEN_WEB_BluntlyBusiness
10_MAVEN_WEB_BluntlyManager
10_MAVEN_WEB_BluntlyWSServer
10_MAVEN_WEB_CoursewareCenter
10_MAVEN_WEB_GatewayBusiness
10_MAVEN_WEB_GatewayManager
10_MAVEN_WEB_TechMonitor
10_mvn_srv_MallBusiness
10_mvn_srv_MallBuyerBusiness
10_mvn_srv_MallManageAccessBusiness
10_MVN_SRV_MallManageGoodsBusiness
10_MVN_SRV_MallManageOrderBusiness
10_mvn_srv_MallManageOutAccessBusiness
10_MVN_SRV_MallManageStorageBusiness
10_MVN_SRV_MallRefundBusiness
10_mvn_task_MallTaskBusiness
10_mvn_web_MallManagerNew
11_MAVEN_TASK_AccountApp
11_MAVEN_TASK_ExportOverdueDataTell
11_MAVEN_TASK_ExportRepayRecordData360
11_MAVEN_TASK_FetchOverdueDataV1
11_MAVEN_TASK_FetchOverdueDataV2
11_MAVEN_TASK_OrderTimeoutCancelTask
11_MAVEN_WEB_AccountBusiness
11_MAVEN_WEB_AccountGateway44
11_MAVEN_WEB_AccountGateway55
11_MAVEN_WEB_AccountManager
11_MAVEN_WEB_AccountTradeSpliter
11_MAVEN_WEB_AccSearcher
11_MAVEN_WEB_AccToolkit
11_MAVEN_WEB_BluntlyBusiness
11_MAVEN_WEB_BluntlyWSServer
11_MAVEN_WEB_cmsStageCenter
11_MAVEN_WEB_cmsStageManager
11_MAVEN_WEB_collectionBusiness
11_MAVEN_WEB_GatewayBusiness
11_MAVEN_WEB_GatewayManager
11_MAVEN_WEB_MaiMaiTiBusiness
11_MAVEN_WEB_MerchantCenter
11_MAVEN_WEB_overdueBusiness
11_MAVEN_WEB_StageCenter
11_MAVEN_WEB_StageMerchantService
11_MAVEN_WEB_StageMobile
11_MAVEN_WEB_StageOrderBossService
11_MAVEN_WEB_StageOrderService
11_MAVEN_WEB_StageProductBossManager
11_MAVEN_WEB_StageProductBossService
11_MAVEN_WEB_StageProductService
11_MAVEN_WEB_StageRiskCenter
11_MAVEN_WEB_StageStore
11_MAVEN_WEB_StageWechatCenter
11_MAVEN_WEB_SupCCBusiness
11_MAVEN_WEB_UserCredit
12_AccountGatewayApp4_RetryOrder
12_MAVEN_TASK_AccountApp
12_MAVEN_TASK_ApplyBorrowTask
12_MAVEN_TASK_ExportOverdueData
12_MAVEN_TASK_ExportOverdueDataTell
12_MAVEN_TASK_ExportRepayRecordData
12_MAVEN_TASK_ExportRepayRecordData360
12_MAVEN_TASK_FetchOverdueDataV1
12_MAVEN_TASK_FetchOverdueDataV2
12_MAVEN_TASK_FetchUserContactV1
12_MAVEN_TASK_FetchUserContactV2
12_MAVEN_TASK_OrderTimeoutCancelTask
12_MAVEN_TASK_StageLoanTask
12_MAVEN_WEB_AccountBusiness
12_MAVEN_WEB_AccountGateway44
12_MAVEN_WEB_AccountGateway55
12_MAVEN_WEB_AccountManager
12_MAVEN_WEB_AccountTradeSpliter
12_MAVEN_WEB_AccSearcher
12_MAVEN_WEB_AccToolkit
12_MAVEN_WEB_BluntlyBusiness
12_MAVEN_WEB_BluntlyManager
12_MAVEN_WEB_BluntlyWSServer
12_MAVEN_WEB_BossSite
12_MAVEN_WEB_cmsStageCenter
12_MAVEN_WEB_collectionBusiness
12_MAVEN_WEB_collectionweb
12_MAVEN_WEB_CoursewareCenter
12_MAVEN_WEB_DataAnalysisBiz
12_MAVEN_WEB_DataAnalysisBossSite
12_MAVEN_WEB_GatewayBusiness
12_MAVEN_WEB_GatewayManager
12_MAVEN_WEB_GatewayRouteBusiness
12_MAVEN_WEB_LendBusiness
12_MAVEN_WEB_MaiMaiTiBusiness
12_MAVEN_WEB_MediaCenter
12_MAVEN_WEB_MediaMonitor
12_MAVEN_WEB_MerchantCenter
12_MAVEN_WEB_NewBusinessBus
12_MAVEN_WEB_overdueBusiness
12_MAVEN_WEB_StageOrderBossService
12_MAVEN_WEB_StageOrderService
12_MAVEN_WEB_StageProductBossManager
12_MAVEN_WEB_StageProductBossService
12_MAVEN_WEB_StageRiskCenter
12_MAVEN_WEB_StageStore
12_MAVEN_WEB_StageStoreApi
12_MAVEN_WEB_StageWechatCenter
12_MAVEN_WEB_SupCCBusiness
12_MAVEN_WEB_UserCredit
12_MAVEN_ZIP_CloudLoanH5Client_Stage
12_TASK_AccountApp
12_WEB_AccountManager
12_WEB_MerchantCenter
12_WEB_PocketBusiness
12_WEB_WebSiteBusiness
139_MAVEN_WEB_businessPropertyManager
139_MAVEN_WEB_projectResourcesManager
13_mvn_lib_dflib_mall
13_mvn_srv_MallBusiness
13_mvn_srv_MallBuyerBusiness
13_MVN_SRV_MallManageGoodsBusiness
13_MVN_SRV_MallManageOrderBusiness
13_mvn_srv_MallManageOutAccessBusiness
13_mvn_srv_MallManageStockBusiness
13_MVN_SRV_MallManageStorageBusiness
13_MVN_SRV_MallRefundBusiness
13_mvn_task_MallTaskBusiness
13_mvn_web_MallManageAccessBusiness
13_MVN_WEB_MallManagerNew
153_MAVEN_WEB_ApplyBorrowTask
153_MAVEN_WEB_Borrow
153_MAVEN_WEB_cmsStageCenter
153_MAVEN_WEB_cmsStageManager
153_MAVEN_WEB_MerchantCenter
153_MAVEN_WEB_OrderTimeoutCancelTask
153_MAVEN_WEB_StageBossService
153_MAVEN_WEB_StageCenter
153_MAVEN_WEB_StageLoanTask
153_MAVEN_WEB_StageManager
153_MAVEN_WEB_StageMerchantService
153_MAVEN_WEB_StageMobile
153_MAVEN_WEB_StageOrderBossService
153_MAVEN_WEB_StageOrderService
153_MAVEN_WEB_StageProductBossManager
153_MAVEN_WEB_StageProductBossService
153_MAVEN_WEB_StageProductService
153_MAVEN_WEB_StageRiskCenter
153_MAVEN_WEB_StageStore
153_MAVEN_WEB_StageWechatCenter
16_EasyLoanGateway
198_MAVEN_WEB_DFPBorrowBusiness
198_MAVEN_WEB_LendBusiness
198_MAVEN_WEB_LendManager
65_MAVEN_WEB_LendManager
borrow.dafy.service
cmsStageManager
ExportRepayRecordData360
MaiMaiTiBusiness
StageBossService
StageCenter
StageManager
StageMerchantService
StageMobile
StageProductService
TechMonitor
uploads-rolling-232'
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/011/lastBuild/buildNumber
+ c=
+ test -z ''
+ clean-jenkins-workspace
+ echo 372233
+ echo 011
+ sudo rm -rf /root/.jenkins/jobs/011
+ unset PROMPT_COMMAND
+ exec sudo -E env 'PATH=/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/bin:/home/qishanqing/.rvm/gems/ruby-2.4.1@global/bin:/home/qishanqing/.rvm/rubies/ruby-2.4.1/bin:/home/qishanqing/external/bin/Linux/ext/debug:/home/qishanqing/system-config/bin/overide:/home/qishanqing/src/github/guilt:/usr/lib/jvm/java-8-openjdk-amd64/bin:/home/qishanqing/external/bin/Linux/ext/x86_64:/home/qishanqing/external/bin/Linux/ext:/home/qishanqing/system-config/bin/Linux:/home/qishanqing/src/github/private-config/bin:/home/qishanqing/system-config/bin:/home/qishanqing/testbed/bin:/home/qishanqing/external/eclipse:/usr/local/bin:/home/qishanqing/external/bin/Linux/ext/android-sdk-linux/tools/ndk/android-ndk-r4b:/home/qishanqing/external/bin/Linux/ext/ndk:/bin:/usr/bin:/usr/local/games:/usr/games:/home/qishanqing/external/bin/Linux/ext/arm-eabi-4.4.0/bin:/home/qishanqing/external/bin/Linux/ext/arm-2010q1/bin:/home/qishanqing/external/bin/Linux/ext/arm-linux-4.1.1/bin:/home/qishanqing/external/bin/Linux/ext/android-sdk-linux/tools:/home/qishanqing/external/bin/Linux/ext/android-sdk-linux/platform-tools:/sbin:/usr/sbin:/usr/local/sbin:/home/qishanqing/src/android/prebuilts/gcc/linux-x86/arm/arm-eabi-4.7/bin:/home/qishanqing/src/github/smartcm:/home/qishanqing/src/github/private-config/tests:/home/qishanqing/system-config/bin/Linux/missing:/home/qishanqing/external/local/bin:/home/qishanqing/external/local/sbin:/home/qishanqing/system-config/bin/windows:/usr/local/jdk1.7.0_65/bin:/usr/local/apache-ant-1.9.6/bin:/usr/local/apache-maven-3.3.9//bin:/usr/local/jdk1.7.0_65/jre/bin:/usr/local/DS-5_v5.23.1/sw/ARMCompiler5.06u1/bin/:/pkg/qct/software/arm/RVDS/5.01bld94/bin64:/pkg/qct/software/arm/RVDS/5.01bld94/bin:~/myscript/sh:/home/qishanqing/.rvm/bin:/home/qishanqing/bin' rm -rf /root/.jenkins/jobs/011
sudo：抱歉，您必须拥有一个终端来执行 sudo
+ java -jar /home/qishanqing/myscript/jenkins/jenkins-cli.jar -s http://192.168.0.232:8080/ delete-job 011
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/10_MAVEN_WEB_AccountBusiness/lastBuild/buildNumber
+ c=32
+ test -z 32
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/10_MAVEN_WEB_AccountGateway44/lastBuild/buildNumber
+ c=1
+ test -z 1
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/10_MAVEN_WEB_AccountGateway55/lastBuild/buildNumber
+ c=1
+ test -z 1
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/10_MAVEN_WEB_AccountTradeSpliter/lastBuild/buildNumber
+ c=5
+ test -z 5
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/10_MAVEN_WEB_AccSearcher/lastBuild/buildNumber
+ c=1
+ test -z 1
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/10_MAVEN_WEB_AccToolkit/lastBuild/buildNumber
+ c=2
+ test -z 2
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/10_MAVEN_WEB_BluntlyBusiness/lastBuild/buildNumber
+ c=22
+ test -z 22
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/10_MAVEN_WEB_BluntlyManager/lastBuild/buildNumber
+ c=1
+ test -z 1
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/10_MAVEN_WEB_BluntlyWSServer/lastBuild/buildNumber
+ c=3
+ test -z 3
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/10_MAVEN_WEB_CoursewareCenter/lastBuild/buildNumber
+ c=5
+ test -z 5
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/10_MAVEN_WEB_GatewayBusiness/lastBuild/buildNumber
+ c=5
+ test -z 5
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/10_MAVEN_WEB_GatewayManager/lastBuild/buildNumber
+ c=8
+ test -z 8
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/10_MAVEN_WEB_TechMonitor/lastBuild/buildNumber
+ c=8
+ test -z 8
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/10_mvn_srv_MallBusiness/lastBuild/buildNumber
+ c=5
+ test -z 5
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/10_mvn_srv_MallBuyerBusiness/lastBuild/buildNumber
+ c=5
+ test -z 5
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/10_mvn_srv_MallManageAccessBusiness/lastBuild/buildNumber
+ c=1
+ test -z 1
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/10_MVN_SRV_MallManageGoodsBusiness/lastBuild/buildNumber
+ c=1
+ test -z 1
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/10_MVN_SRV_MallManageOrderBusiness/lastBuild/buildNumber
+ c=1
+ test -z 1
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/10_mvn_srv_MallManageOutAccessBusiness/lastBuild/buildNumber
+ c=1
+ test -z 1
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/10_MVN_SRV_MallManageStorageBusiness/lastBuild/buildNumber
+ c=1
+ test -z 1
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/10_MVN_SRV_MallRefundBusiness/lastBuild/buildNumber
+ c=1
+ test -z 1
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/10_mvn_task_MallTaskBusiness/lastBuild/buildNumber
+ c=5
+ test -z 5
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/10_mvn_web_MallManagerNew/lastBuild/buildNumber
+ c=5
+ test -z 5
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_TASK_AccountApp/lastBuild/buildNumber
+ c=11
+ test -z 11
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_TASK_ExportOverdueDataTell/lastBuild/buildNumber
+ c=7
+ test -z 7
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_TASK_ExportRepayRecordData360/lastBuild/buildNumber
+ c=4
+ test -z 4
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_TASK_FetchOverdueDataV1/lastBuild/buildNumber
+ c=4
+ test -z 4
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_TASK_FetchOverdueDataV2/lastBuild/buildNumber
+ c=21
+ test -z 21
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_TASK_OrderTimeoutCancelTask/lastBuild/buildNumber
+ c=4
+ test -z 4
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_AccountBusiness/lastBuild/buildNumber
+ c=19
+ test -z 19
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_AccountGateway44/lastBuild/buildNumber
+ c=6
+ test -z 6
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_AccountGateway55/lastBuild/buildNumber
+ c=6
+ test -z 6
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_AccountManager/lastBuild/buildNumber
+ c=11
+ test -z 11
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_AccountTradeSpliter/lastBuild/buildNumber
+ c=9
+ test -z 9
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_AccSearcher/lastBuild/buildNumber
+ c=5
+ test -z 5
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_AccToolkit/lastBuild/buildNumber
+ c=3
+ test -z 3
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_BluntlyBusiness/lastBuild/buildNumber
+ c=8
+ test -z 8
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_BluntlyWSServer/lastBuild/buildNumber
+ c=4
+ test -z 4
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_cmsStageCenter/lastBuild/buildNumber
+ c=19
+ test -z 19
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_cmsStageManager/lastBuild/buildNumber
+ c=28
+ test -z 28
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_collectionBusiness/lastBuild/buildNumber
+ c=4
+ test -z 4
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_GatewayBusiness/lastBuild/buildNumber
+ c=5
+ test -z 5
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_GatewayManager/lastBuild/buildNumber
+ c=7
+ test -z 7
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_MaiMaiTiBusiness/lastBuild/buildNumber
+ c=1
+ test -z 1
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_MerchantCenter/lastBuild/buildNumber
+ c=13
+ test -z 13
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_overdueBusiness/lastBuild/buildNumber
+ c=10
+ test -z 10
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_StageCenter/lastBuild/buildNumber
+ c=114
+ test -z 114
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_StageMerchantService/lastBuild/buildNumber
+ c=16
+ test -z 16
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_StageMobile/lastBuild/buildNumber
+ c=43
+ test -z 43
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_StageOrderBossService/lastBuild/buildNumber
+ c=3
+ test -z 3
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_StageOrderService/lastBuild/buildNumber
+ c=48
+ test -z 48
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_StageProductBossManager/lastBuild/buildNumber
+ c=7
+ test -z 7
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_StageProductBossService/lastBuild/buildNumber
+ c=4
+ test -z 4
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_StageProductService/lastBuild/buildNumber
+ c=14
+ test -z 14
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_StageRiskCenter/lastBuild/buildNumber
+ c=8
+ test -z 8
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_StageStore/lastBuild/buildNumber
+ c=10
+ test -z 10
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_StageWechatCenter/lastBuild/buildNumber
+ c=9
+ test -z 9
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_SupCCBusiness/lastBuild/buildNumber
+ c=7
+ test -z 7
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/11_MAVEN_WEB_UserCredit/lastBuild/buildNumber
+ c=2
+ test -z 2
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_AccountGatewayApp4_RetryOrder/lastBuild/buildNumber
+ c=4
+ test -z 4
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_TASK_AccountApp/lastBuild/buildNumber
+ c=8
+ test -z 8
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_TASK_ApplyBorrowTask/lastBuild/buildNumber
+ c=18
+ test -z 18
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_TASK_ExportOverdueData/lastBuild/buildNumber
+ c=36
+ test -z 36
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_TASK_ExportOverdueDataTell/lastBuild/buildNumber
+ c=7
+ test -z 7
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_TASK_ExportRepayRecordData/lastBuild/buildNumber
+ c=10
+ test -z 10
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_TASK_ExportRepayRecordData360/lastBuild/buildNumber
+ c=9
+ test -z 9
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_TASK_FetchOverdueDataV1/lastBuild/buildNumber
+ c=9
+ test -z 9
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_TASK_FetchOverdueDataV2/lastBuild/buildNumber
+ c=37
+ test -z 37
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_TASK_FetchUserContactV1/lastBuild/buildNumber
+ c=5
+ test -z 5
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_TASK_FetchUserContactV2/lastBuild/buildNumber
+ c=12
+ test -z 12
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_TASK_OrderTimeoutCancelTask/lastBuild/buildNumber
+ c=9
+ test -z 9
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_TASK_StageLoanTask/lastBuild/buildNumber
+ c=13
+ test -z 13
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_AccountBusiness/lastBuild/buildNumber
+ c=35
+ test -z 35
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_AccountGateway44/lastBuild/buildNumber
+ c=1
+ test -z 1
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_AccountGateway55/lastBuild/buildNumber
+ c=26
+ test -z 26
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_AccountManager/lastBuild/buildNumber
+ c=20
+ test -z 20
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_AccountTradeSpliter/lastBuild/buildNumber
+ c=17
+ test -z 17
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_AccSearcher/lastBuild/buildNumber
+ c=3
+ test -z 3
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_AccToolkit/lastBuild/buildNumber
+ c=3
+ test -z 3
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_BluntlyBusiness/lastBuild/buildNumber
+ c=23
+ test -z 23
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_BluntlyManager/lastBuild/buildNumber
+ c=31
+ test -z 31
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_BluntlyWSServer/lastBuild/buildNumber
+ c=17
+ test -z 17
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_BossSite/lastBuild/buildNumber
+ c=2
+ test -z 2
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_cmsStageCenter/lastBuild/buildNumber
+ c=58
+ test -z 58
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_collectionBusiness/lastBuild/buildNumber
+ c=4
+ test -z 4
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_collectionweb/lastBuild/buildNumber
+ c=31
+ test -z 31
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_CoursewareCenter/lastBuild/buildNumber
+ c=14
+ test -z 14
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_DataAnalysisBiz/lastBuild/buildNumber
+ c=
+ test -z ''
+ clean-jenkins-workspace
+ echo 372233
+ echo 12_MAVEN_WEB_DataAnalysisBiz
+ sudo rm -rf /root/.jenkins/jobs/12_MAVEN_WEB_DataAnalysisBiz
+ unset PROMPT_COMMAND
+ exec sudo -E env 'PATH=/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/bin:/home/qishanqing/.rvm/gems/ruby-2.4.1@global/bin:/home/qishanqing/.rvm/rubies/ruby-2.4.1/bin:/home/qishanqing/external/bin/Linux/ext/debug:/home/qishanqing/system-config/bin/overide:/home/qishanqing/src/github/guilt:/usr/lib/jvm/java-8-openjdk-amd64/bin:/home/qishanqing/external/bin/Linux/ext/x86_64:/home/qishanqing/external/bin/Linux/ext:/home/qishanqing/system-config/bin/Linux:/home/qishanqing/src/github/private-config/bin:/home/qishanqing/system-config/bin:/home/qishanqing/testbed/bin:/home/qishanqing/external/eclipse:/usr/local/bin:/home/qishanqing/external/bin/Linux/ext/android-sdk-linux/tools/ndk/android-ndk-r4b:/home/qishanqing/external/bin/Linux/ext/ndk:/bin:/usr/bin:/usr/local/games:/usr/games:/home/qishanqing/external/bin/Linux/ext/arm-eabi-4.4.0/bin:/home/qishanqing/external/bin/Linux/ext/arm-2010q1/bin:/home/qishanqing/external/bin/Linux/ext/arm-linux-4.1.1/bin:/home/qishanqing/external/bin/Linux/ext/android-sdk-linux/tools:/home/qishanqing/external/bin/Linux/ext/android-sdk-linux/platform-tools:/sbin:/usr/sbin:/usr/local/sbin:/home/qishanqing/src/android/prebuilts/gcc/linux-x86/arm/arm-eabi-4.7/bin:/home/qishanqing/src/github/smartcm:/home/qishanqing/src/github/private-config/tests:/home/qishanqing/system-config/bin/Linux/missing:/home/qishanqing/external/local/bin:/home/qishanqing/external/local/sbin:/home/qishanqing/system-config/bin/windows:/usr/local/jdk1.7.0_65/bin:/usr/local/apache-ant-1.9.6/bin:/usr/local/apache-maven-3.3.9//bin:/usr/local/jdk1.7.0_65/jre/bin:/usr/local/DS-5_v5.23.1/sw/ARMCompiler5.06u1/bin/:/pkg/qct/software/arm/RVDS/5.01bld94/bin64:/pkg/qct/software/arm/RVDS/5.01bld94/bin:~/myscript/sh:/home/qishanqing/.rvm/bin:/home/qishanqing/bin' rm -rf /root/.jenkins/jobs/12_MAVEN_WEB_DataAnalysisBiz
sudo：抱歉，您必须拥有一个终端来执行 sudo
+ java -jar /home/qishanqing/myscript/jenkins/jenkins-cli.jar -s http://192.168.0.232:8080/ delete-job 12_MAVEN_WEB_DataAnalysisBiz
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_DataAnalysisBossSite/lastBuild/buildNumber
+ c=
+ test -z ''
+ clean-jenkins-workspace
+ echo 372233
+ sudo rm -rf /root/.jenkins/jobs/12_MAVEN_WEB_DataAnalysisBossSite
+ echo 12_MAVEN_WEB_DataAnalysisBossSite
+ unset PROMPT_COMMAND
+ exec sudo -E env 'PATH=/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/bin:/home/qishanqing/.rvm/gems/ruby-2.4.1@global/bin:/home/qishanqing/.rvm/rubies/ruby-2.4.1/bin:/home/qishanqing/external/bin/Linux/ext/debug:/home/qishanqing/system-config/bin/overide:/home/qishanqing/src/github/guilt:/usr/lib/jvm/java-8-openjdk-amd64/bin:/home/qishanqing/external/bin/Linux/ext/x86_64:/home/qishanqing/external/bin/Linux/ext:/home/qishanqing/system-config/bin/Linux:/home/qishanqing/src/github/private-config/bin:/home/qishanqing/system-config/bin:/home/qishanqing/testbed/bin:/home/qishanqing/external/eclipse:/usr/local/bin:/home/qishanqing/external/bin/Linux/ext/android-sdk-linux/tools/ndk/android-ndk-r4b:/home/qishanqing/external/bin/Linux/ext/ndk:/bin:/usr/bin:/usr/local/games:/usr/games:/home/qishanqing/external/bin/Linux/ext/arm-eabi-4.4.0/bin:/home/qishanqing/external/bin/Linux/ext/arm-2010q1/bin:/home/qishanqing/external/bin/Linux/ext/arm-linux-4.1.1/bin:/home/qishanqing/external/bin/Linux/ext/android-sdk-linux/tools:/home/qishanqing/external/bin/Linux/ext/android-sdk-linux/platform-tools:/sbin:/usr/sbin:/usr/local/sbin:/home/qishanqing/src/android/prebuilts/gcc/linux-x86/arm/arm-eabi-4.7/bin:/home/qishanqing/src/github/smartcm:/home/qishanqing/src/github/private-config/tests:/home/qishanqing/system-config/bin/Linux/missing:/home/qishanqing/external/local/bin:/home/qishanqing/external/local/sbin:/home/qishanqing/system-config/bin/windows:/usr/local/jdk1.7.0_65/bin:/usr/local/apache-ant-1.9.6/bin:/usr/local/apache-maven-3.3.9//bin:/usr/local/jdk1.7.0_65/jre/bin:/usr/local/DS-5_v5.23.1/sw/ARMCompiler5.06u1/bin/:/pkg/qct/software/arm/RVDS/5.01bld94/bin64:/pkg/qct/software/arm/RVDS/5.01bld94/bin:~/myscript/sh:/home/qishanqing/.rvm/bin:/home/qishanqing/bin' rm -rf /root/.jenkins/jobs/12_MAVEN_WEB_DataAnalysisBossSite
sudo：抱歉，您必须拥有一个终端来执行 sudo
+ java -jar /home/qishanqing/myscript/jenkins/jenkins-cli.jar -s http://192.168.0.232:8080/ delete-job 12_MAVEN_WEB_DataAnalysisBossSite
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_GatewayBusiness/lastBuild/buildNumber
+ c=2
+ test -z 2
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_GatewayManager/lastBuild/buildNumber
+ c=3
+ test -z 3
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_GatewayRouteBusiness/lastBuild/buildNumber
+ c=3
+ test -z 3
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_LendBusiness/lastBuild/buildNumber
+ c=53
+ test -z 53
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_MaiMaiTiBusiness/lastBuild/buildNumber
+ c=8
+ test -z 8
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_MediaCenter/lastBuild/buildNumber
+ c=10
+ test -z 10
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_MediaMonitor/lastBuild/buildNumber
+ c=5
+ test -z 5
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_MerchantCenter/lastBuild/buildNumber
+ c=145
+ test -z 145
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_NewBusinessBus/lastBuild/buildNumber
+ c=5
+ test -z 5
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_overdueBusiness/lastBuild/buildNumber
+ c=15
+ test -z 15
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_StageOrderBossService/lastBuild/buildNumber
+ c=7
+ test -z 7
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_StageOrderService/lastBuild/buildNumber
+ c=99
+ test -z 99
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_StageProductBossManager/lastBuild/buildNumber
+ c=28
+ test -z 28
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_StageProductBossService/lastBuild/buildNumber
+ c=30
+ test -z 30
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_StageRiskCenter/lastBuild/buildNumber
+ c=9
+ test -z 9
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_StageStore/lastBuild/buildNumber
+ c=19
+ test -z 19
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_StageStoreApi/lastBuild/buildNumber
+ c=3
+ test -z 3
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_StageWechatCenter/lastBuild/buildNumber
+ c=67
+ test -z 67
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_SupCCBusiness/lastBuild/buildNumber
+ c=12
+ test -z 12
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_WEB_UserCredit/lastBuild/buildNumber
+ c=24
+ test -z 24
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_MAVEN_ZIP_CloudLoanH5Client_Stage/lastBuild/buildNumber
+ c=1
+ test -z 1
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_TASK_AccountApp/lastBuild/buildNumber
+ c=10
+ test -z 10
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_WEB_AccountManager/lastBuild/buildNumber
+ c=3
+ test -z 3
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_WEB_MerchantCenter/lastBuild/buildNumber
+ c=16
+ test -z 16
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_WEB_PocketBusiness/lastBuild/buildNumber
+ c=17
+ test -z 17
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/12_WEB_WebSiteBusiness/lastBuild/buildNumber
+ c=6
+ test -z 6
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/139_MAVEN_WEB_businessPropertyManager/lastBuild/buildNumber
+ c=22
+ test -z 22
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/139_MAVEN_WEB_projectResourcesManager/lastBuild/buildNumber
+ c=87
+ test -z 87
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/13_mvn_lib_dflib_mall/lastBuild/buildNumber
+ c=9
+ test -z 9
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/13_mvn_srv_MallBusiness/lastBuild/buildNumber
+ c=9
+ test -z 9
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/13_mvn_srv_MallBuyerBusiness/lastBuild/buildNumber
+ c=29
+ test -z 29
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/13_MVN_SRV_MallManageGoodsBusiness/lastBuild/buildNumber
+ c=6
+ test -z 6
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/13_MVN_SRV_MallManageOrderBusiness/lastBuild/buildNumber
+ c=20
+ test -z 20
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/13_mvn_srv_MallManageOutAccessBusiness/lastBuild/buildNumber
+ c=11
+ test -z 11
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/13_mvn_srv_MallManageStockBusiness/lastBuild/buildNumber
+ c=6
+ test -z 6
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/13_MVN_SRV_MallManageStorageBusiness/lastBuild/buildNumber
+ c=10
+ test -z 10
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/13_MVN_SRV_MallRefundBusiness/lastBuild/buildNumber
+ c=7
+ test -z 7
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/13_mvn_task_MallTaskBusiness/lastBuild/buildNumber
+ c=41
+ test -z 41
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/13_mvn_web_MallManageAccessBusiness/lastBuild/buildNumber
+ c=7
+ test -z 7
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/13_MVN_WEB_MallManagerNew/lastBuild/buildNumber
+ c=36
+ test -z 36
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/153_MAVEN_WEB_ApplyBorrowTask/lastBuild/buildNumber
+ c=
+ test -z ''
+ clean-jenkins-workspace
+ echo 153_MAVEN_WEB_ApplyBorrowTask
+ echo 372233
+ sudo rm -rf /root/.jenkins/jobs/153_MAVEN_WEB_ApplyBorrowTask
+ unset PROMPT_COMMAND
+ exec sudo -E env 'PATH=/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/bin:/home/qishanqing/.rvm/gems/ruby-2.4.1@global/bin:/home/qishanqing/.rvm/rubies/ruby-2.4.1/bin:/home/qishanqing/external/bin/Linux/ext/debug:/home/qishanqing/system-config/bin/overide:/home/qishanqing/src/github/guilt:/usr/lib/jvm/java-8-openjdk-amd64/bin:/home/qishanqing/external/bin/Linux/ext/x86_64:/home/qishanqing/external/bin/Linux/ext:/home/qishanqing/system-config/bin/Linux:/home/qishanqing/src/github/private-config/bin:/home/qishanqing/system-config/bin:/home/qishanqing/testbed/bin:/home/qishanqing/external/eclipse:/usr/local/bin:/home/qishanqing/external/bin/Linux/ext/android-sdk-linux/tools/ndk/android-ndk-r4b:/home/qishanqing/external/bin/Linux/ext/ndk:/bin:/usr/bin:/usr/local/games:/usr/games:/home/qishanqing/external/bin/Linux/ext/arm-eabi-4.4.0/bin:/home/qishanqing/external/bin/Linux/ext/arm-2010q1/bin:/home/qishanqing/external/bin/Linux/ext/arm-linux-4.1.1/bin:/home/qishanqing/external/bin/Linux/ext/android-sdk-linux/tools:/home/qishanqing/external/bin/Linux/ext/android-sdk-linux/platform-tools:/sbin:/usr/sbin:/usr/local/sbin:/home/qishanqing/src/android/prebuilts/gcc/linux-x86/arm/arm-eabi-4.7/bin:/home/qishanqing/src/github/smartcm:/home/qishanqing/src/github/private-config/tests:/home/qishanqing/system-config/bin/Linux/missing:/home/qishanqing/external/local/bin:/home/qishanqing/external/local/sbin:/home/qishanqing/system-config/bin/windows:/usr/local/jdk1.7.0_65/bin:/usr/local/apache-ant-1.9.6/bin:/usr/local/apache-maven-3.3.9//bin:/usr/local/jdk1.7.0_65/jre/bin:/usr/local/DS-5_v5.23.1/sw/ARMCompiler5.06u1/bin/:/pkg/qct/software/arm/RVDS/5.01bld94/bin64:/pkg/qct/software/arm/RVDS/5.01bld94/bin:~/myscript/sh:/home/qishanqing/.rvm/bin:/home/qishanqing/bin' rm -rf /root/.jenkins/jobs/153_MAVEN_WEB_ApplyBorrowTask
sudo：抱歉，您必须拥有一个终端来执行 sudo
+ java -jar /home/qishanqing/myscript/jenkins/jenkins-cli.jar -s http://192.168.0.232:8080/ delete-job 153_MAVEN_WEB_ApplyBorrowTask
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/153_MAVEN_WEB_Borrow/lastBuild/buildNumber
+ c=3
+ test -z 3
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/153_MAVEN_WEB_cmsStageCenter/lastBuild/buildNumber
+ c=10
+ test -z 10
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/153_MAVEN_WEB_cmsStageManager/lastBuild/buildNumber
+ c=11
+ test -z 11
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/153_MAVEN_WEB_MerchantCenter/lastBuild/buildNumber
+ c=6
+ test -z 6
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/153_MAVEN_WEB_OrderTimeoutCancelTask/lastBuild/buildNumber
+ c=2
+ test -z 2
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/153_MAVEN_WEB_StageBossService/lastBuild/buildNumber
+ c=7
+ test -z 7
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/153_MAVEN_WEB_StageCenter/lastBuild/buildNumber
+ c=20
+ test -z 20
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/153_MAVEN_WEB_StageLoanTask/lastBuild/buildNumber
+ c=
+ test -z ''
+ clean-jenkins-workspace
+ echo 372233
+ sudo rm -rf /root/.jenkins/jobs/153_MAVEN_WEB_StageLoanTask
+ echo 153_MAVEN_WEB_StageLoanTask
+ unset PROMPT_COMMAND
+ exec sudo -E env 'PATH=/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/bin:/home/qishanqing/.rvm/gems/ruby-2.4.1@global/bin:/home/qishanqing/.rvm/rubies/ruby-2.4.1/bin:/home/qishanqing/external/bin/Linux/ext/debug:/home/qishanqing/system-config/bin/overide:/home/qishanqing/src/github/guilt:/usr/lib/jvm/java-8-openjdk-amd64/bin:/home/qishanqing/external/bin/Linux/ext/x86_64:/home/qishanqing/external/bin/Linux/ext:/home/qishanqing/system-config/bin/Linux:/home/qishanqing/src/github/private-config/bin:/home/qishanqing/system-config/bin:/home/qishanqing/testbed/bin:/home/qishanqing/external/eclipse:/usr/local/bin:/home/qishanqing/external/bin/Linux/ext/android-sdk-linux/tools/ndk/android-ndk-r4b:/home/qishanqing/external/bin/Linux/ext/ndk:/bin:/usr/bin:/usr/local/games:/usr/games:/home/qishanqing/external/bin/Linux/ext/arm-eabi-4.4.0/bin:/home/qishanqing/external/bin/Linux/ext/arm-2010q1/bin:/home/qishanqing/external/bin/Linux/ext/arm-linux-4.1.1/bin:/home/qishanqing/external/bin/Linux/ext/android-sdk-linux/tools:/home/qishanqing/external/bin/Linux/ext/android-sdk-linux/platform-tools:/sbin:/usr/sbin:/usr/local/sbin:/home/qishanqing/src/android/prebuilts/gcc/linux-x86/arm/arm-eabi-4.7/bin:/home/qishanqing/src/github/smartcm:/home/qishanqing/src/github/private-config/tests:/home/qishanqing/system-config/bin/Linux/missing:/home/qishanqing/external/local/bin:/home/qishanqing/external/local/sbin:/home/qishanqing/system-config/bin/windows:/usr/local/jdk1.7.0_65/bin:/usr/local/apache-ant-1.9.6/bin:/usr/local/apache-maven-3.3.9//bin:/usr/local/jdk1.7.0_65/jre/bin:/usr/local/DS-5_v5.23.1/sw/ARMCompiler5.06u1/bin/:/pkg/qct/software/arm/RVDS/5.01bld94/bin64:/pkg/qct/software/arm/RVDS/5.01bld94/bin:~/myscript/sh:/home/qishanqing/.rvm/bin:/home/qishanqing/bin' rm -rf /root/.jenkins/jobs/153_MAVEN_WEB_StageLoanTask
sudo：抱歉，您必须拥有一个终端来执行 sudo
+ java -jar /home/qishanqing/myscript/jenkins/jenkins-cli.jar -s http://192.168.0.232:8080/ delete-job 153_MAVEN_WEB_StageLoanTask
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/153_MAVEN_WEB_StageManager/lastBuild/buildNumber
+ c=22
+ test -z 22
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/153_MAVEN_WEB_StageMerchantService/lastBuild/buildNumber
+ c=11
+ test -z 11
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/153_MAVEN_WEB_StageMobile/lastBuild/buildNumber
+ c=12
+ test -z 12
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/153_MAVEN_WEB_StageOrderBossService/lastBuild/buildNumber
+ c=1
+ test -z 1
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/153_MAVEN_WEB_StageOrderService/lastBuild/buildNumber
+ c=9
+ test -z 9
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/153_MAVEN_WEB_StageProductBossManager/lastBuild/buildNumber
+ c=9
+ test -z 9
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/153_MAVEN_WEB_StageProductBossService/lastBuild/buildNumber
+ c=5
+ test -z 5
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/153_MAVEN_WEB_StageProductService/lastBuild/buildNumber
+ c=8
+ test -z 8
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/153_MAVEN_WEB_StageRiskCenter/lastBuild/buildNumber
+ c=
+ test -z ''
+ clean-jenkins-workspace
+ echo 372233
+ sudo rm -rf /root/.jenkins/jobs/153_MAVEN_WEB_StageRiskCenter
+ echo 153_MAVEN_WEB_StageRiskCenter
+ unset PROMPT_COMMAND
+ exec sudo -E env 'PATH=/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/bin:/home/qishanqing/.rvm/gems/ruby-2.4.1@global/bin:/home/qishanqing/.rvm/rubies/ruby-2.4.1/bin:/home/qishanqing/external/bin/Linux/ext/debug:/home/qishanqing/system-config/bin/overide:/home/qishanqing/src/github/guilt:/usr/lib/jvm/java-8-openjdk-amd64/bin:/home/qishanqing/external/bin/Linux/ext/x86_64:/home/qishanqing/external/bin/Linux/ext:/home/qishanqing/system-config/bin/Linux:/home/qishanqing/src/github/private-config/bin:/home/qishanqing/system-config/bin:/home/qishanqing/testbed/bin:/home/qishanqing/external/eclipse:/usr/local/bin:/home/qishanqing/external/bin/Linux/ext/android-sdk-linux/tools/ndk/android-ndk-r4b:/home/qishanqing/external/bin/Linux/ext/ndk:/bin:/usr/bin:/usr/local/games:/usr/games:/home/qishanqing/external/bin/Linux/ext/arm-eabi-4.4.0/bin:/home/qishanqing/external/bin/Linux/ext/arm-2010q1/bin:/home/qishanqing/external/bin/Linux/ext/arm-linux-4.1.1/bin:/home/qishanqing/external/bin/Linux/ext/android-sdk-linux/tools:/home/qishanqing/external/bin/Linux/ext/android-sdk-linux/platform-tools:/sbin:/usr/sbin:/usr/local/sbin:/home/qishanqing/src/android/prebuilts/gcc/linux-x86/arm/arm-eabi-4.7/bin:/home/qishanqing/src/github/smartcm:/home/qishanqing/src/github/private-config/tests:/home/qishanqing/system-config/bin/Linux/missing:/home/qishanqing/external/local/bin:/home/qishanqing/external/local/sbin:/home/qishanqing/system-config/bin/windows:/usr/local/jdk1.7.0_65/bin:/usr/local/apache-ant-1.9.6/bin:/usr/local/apache-maven-3.3.9//bin:/usr/local/jdk1.7.0_65/jre/bin:/usr/local/DS-5_v5.23.1/sw/ARMCompiler5.06u1/bin/:/pkg/qct/software/arm/RVDS/5.01bld94/bin64:/pkg/qct/software/arm/RVDS/5.01bld94/bin:~/myscript/sh:/home/qishanqing/.rvm/bin:/home/qishanqing/bin' rm -rf /root/.jenkins/jobs/153_MAVEN_WEB_StageRiskCenter
sudo：抱歉，您必须拥有一个终端来执行 sudo
+ java -jar /home/qishanqing/myscript/jenkins/jenkins-cli.jar -s http://192.168.0.232:8080/ delete-job 153_MAVEN_WEB_StageRiskCenter
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/153_MAVEN_WEB_StageStore/lastBuild/buildNumber
+ c=2
+ test -z 2
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/153_MAVEN_WEB_StageWechatCenter/lastBuild/buildNumber
+ c=4
+ test -z 4
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/16_EasyLoanGateway/lastBuild/buildNumber
+ c=22
+ test -z 22
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/198_MAVEN_WEB_DFPBorrowBusiness/lastBuild/buildNumber
+ c=18
+ test -z 18
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/198_MAVEN_WEB_LendBusiness/lastBuild/buildNumber
+ c=31
+ test -z 31
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/198_MAVEN_WEB_LendManager/lastBuild/buildNumber
+ c=21
+ test -z 21
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/65_MAVEN_WEB_LendManager/lastBuild/buildNumber
+ c=1
+ test -z 1
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/borrow.dafy.service/lastBuild/buildNumber
+ c=
+ test -z ''
+ clean-jenkins-workspace
+ echo 372233
+ echo borrow.dafy.service
+ sudo rm -rf /root/.jenkins/jobs/borrow.dafy.service
+ unset PROMPT_COMMAND
+ exec sudo -E env 'PATH=/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/bin:/home/qishanqing/.rvm/gems/ruby-2.4.1@global/bin:/home/qishanqing/.rvm/rubies/ruby-2.4.1/bin:/home/qishanqing/external/bin/Linux/ext/debug:/home/qishanqing/system-config/bin/overide:/home/qishanqing/src/github/guilt:/usr/lib/jvm/java-8-openjdk-amd64/bin:/home/qishanqing/external/bin/Linux/ext/x86_64:/home/qishanqing/external/bin/Linux/ext:/home/qishanqing/system-config/bin/Linux:/home/qishanqing/src/github/private-config/bin:/home/qishanqing/system-config/bin:/home/qishanqing/testbed/bin:/home/qishanqing/external/eclipse:/usr/local/bin:/home/qishanqing/external/bin/Linux/ext/android-sdk-linux/tools/ndk/android-ndk-r4b:/home/qishanqing/external/bin/Linux/ext/ndk:/bin:/usr/bin:/usr/local/games:/usr/games:/home/qishanqing/external/bin/Linux/ext/arm-eabi-4.4.0/bin:/home/qishanqing/external/bin/Linux/ext/arm-2010q1/bin:/home/qishanqing/external/bin/Linux/ext/arm-linux-4.1.1/bin:/home/qishanqing/external/bin/Linux/ext/android-sdk-linux/tools:/home/qishanqing/external/bin/Linux/ext/android-sdk-linux/platform-tools:/sbin:/usr/sbin:/usr/local/sbin:/home/qishanqing/src/android/prebuilts/gcc/linux-x86/arm/arm-eabi-4.7/bin:/home/qishanqing/src/github/smartcm:/home/qishanqing/src/github/private-config/tests:/home/qishanqing/system-config/bin/Linux/missing:/home/qishanqing/external/local/bin:/home/qishanqing/external/local/sbin:/home/qishanqing/system-config/bin/windows:/usr/local/jdk1.7.0_65/bin:/usr/local/apache-ant-1.9.6/bin:/usr/local/apache-maven-3.3.9//bin:/usr/local/jdk1.7.0_65/jre/bin:/usr/local/DS-5_v5.23.1/sw/ARMCompiler5.06u1/bin/:/pkg/qct/software/arm/RVDS/5.01bld94/bin64:/pkg/qct/software/arm/RVDS/5.01bld94/bin:~/myscript/sh:/home/qishanqing/.rvm/bin:/home/qishanqing/bin' rm -rf /root/.jenkins/jobs/borrow.dafy.service
sudo：抱歉，您必须拥有一个终端来执行 sudo
+ java -jar /home/qishanqing/myscript/jenkins/jenkins-cli.jar -s http://192.168.0.232:8080/ delete-job borrow.dafy.service
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/cmsStageManager/lastBuild/buildNumber
+ c=27
+ test -z 27
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/ExportRepayRecordData360/lastBuild/buildNumber
+ c=
+ test -z ''
+ clean-jenkins-workspace
+ echo ExportRepayRecordData360
+ sudo rm -rf /root/.jenkins/jobs/ExportRepayRecordData360
+ echo 372233
+ unset PROMPT_COMMAND
+ exec sudo -E env 'PATH=/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/bin:/home/qishanqing/.rvm/gems/ruby-2.4.1@global/bin:/home/qishanqing/.rvm/rubies/ruby-2.4.1/bin:/home/qishanqing/external/bin/Linux/ext/debug:/home/qishanqing/system-config/bin/overide:/home/qishanqing/src/github/guilt:/usr/lib/jvm/java-8-openjdk-amd64/bin:/home/qishanqing/external/bin/Linux/ext/x86_64:/home/qishanqing/external/bin/Linux/ext:/home/qishanqing/system-config/bin/Linux:/home/qishanqing/src/github/private-config/bin:/home/qishanqing/system-config/bin:/home/qishanqing/testbed/bin:/home/qishanqing/external/eclipse:/usr/local/bin:/home/qishanqing/external/bin/Linux/ext/android-sdk-linux/tools/ndk/android-ndk-r4b:/home/qishanqing/external/bin/Linux/ext/ndk:/bin:/usr/bin:/usr/local/games:/usr/games:/home/qishanqing/external/bin/Linux/ext/arm-eabi-4.4.0/bin:/home/qishanqing/external/bin/Linux/ext/arm-2010q1/bin:/home/qishanqing/external/bin/Linux/ext/arm-linux-4.1.1/bin:/home/qishanqing/external/bin/Linux/ext/android-sdk-linux/tools:/home/qishanqing/external/bin/Linux/ext/android-sdk-linux/platform-tools:/sbin:/usr/sbin:/usr/local/sbin:/home/qishanqing/src/android/prebuilts/gcc/linux-x86/arm/arm-eabi-4.7/bin:/home/qishanqing/src/github/smartcm:/home/qishanqing/src/github/private-config/tests:/home/qishanqing/system-config/bin/Linux/missing:/home/qishanqing/external/local/bin:/home/qishanqing/external/local/sbin:/home/qishanqing/system-config/bin/windows:/usr/local/jdk1.7.0_65/bin:/usr/local/apache-ant-1.9.6/bin:/usr/local/apache-maven-3.3.9//bin:/usr/local/jdk1.7.0_65/jre/bin:/usr/local/DS-5_v5.23.1/sw/ARMCompiler5.06u1/bin/:/pkg/qct/software/arm/RVDS/5.01bld94/bin64:/pkg/qct/software/arm/RVDS/5.01bld94/bin:~/myscript/sh:/home/qishanqing/.rvm/bin:/home/qishanqing/bin' rm -rf /root/.jenkins/jobs/ExportRepayRecordData360
sudo：抱歉，您必须拥有一个终端来执行 sudo
+ java -jar /home/qishanqing/myscript/jenkins/jenkins-cli.jar -s http://192.168.0.232:8080/ delete-job ExportRepayRecordData360
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/MaiMaiTiBusiness/lastBuild/buildNumber
+ c=1
+ test -z 1
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/StageBossService/lastBuild/buildNumber
+ c=40
+ test -z 40
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/StageCenter/lastBuild/buildNumber
+ c=204
+ test -z 204
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/StageManager/lastBuild/buildNumber
+ c=97
+ test -z 97
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/StageMerchantService/lastBuild/buildNumber
+ c=43
+ test -z 43
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/StageMobile/lastBuild/buildNumber
+ c=81
+ test -z 81
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/StageProductService/lastBuild/buildNumber
+ c=170
+ test -z 170
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/TechMonitor/lastBuild/buildNumber
+ c=18
+ test -z 18
+ for x in '$j'
++ curl --user qishanqing:372233 --silent -f http://192.168.0.232:8080/job/uploads-rolling-232/lastBuild/buildNumber
+ c=356
+ test -z 356
+ break
+ job-info
+ cat
+ mails-cm -i $'jenkinszombie\345\267\262\346\270\205\347\220\206'
++ cat /home/qishanqing/tmp/jenkins/output.9210
++ wc -l
++ java -jar /home/qishanqing/myscript/jenkins/jenkins-cli.jar -s http://192.168.0.232:8080/ list-jobs
+ rm -rf /home/qishanqing/tmp/jenkins/output.9210
  Rendering jenkins/new.html.erb within layouts/application
  Rendering jenkins/new.html.erb within layouts/application
  Rendered jenkins/new.html.erb within layouts/application (0.7ms)
  Rendered jenkins/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 56961ms (Views: 101.6ms)


Completed 200 OK in 56961ms (Views: 101.6ms)


Started GET "/jenkins/index" for 192.168.5.26 at 2017-08-25 14:19:02 +0800
Started GET "/jenkins/index" for 192.168.5.26 at 2017-08-25 14:19:02 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by JenkinsController#index as HTML
Processing by JenkinsController#index as HTML
  Rendering jenkins/index.html.erb within layouts/application
  Rendering jenkins/index.html.erb within layouts/application
  Rendered jenkins/index.html.erb within layouts/application (65.0ms)
  Rendered jenkins/index.html.erb within layouts/application (65.0ms)
Completed 200 OK in 403ms (Views: 334.0ms)


Completed 200 OK in 403ms (Views: 334.0ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-25 14:33:14 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-25 14:33:14 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.3ms)
  Rendered builder/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 69ms (Views: 67.1ms)


Completed 200 OK in 69ms (Views: 67.1ms)


Started POST "/start" for 192.168.5.26 at 2017-08-25 14:33:18 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-25 14:33:18 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170707-理财线上快速授信", "branch"=>"20170707-理财线上快速授信", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"V5pItog/pynu58mruo358gsABnmTDCMv1mmX/rpFNevF7dYJueWTOEQ+NVjP3h5LPkNIVBMjALOa/J9WFLMHNQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170707-理财线上快速授信", "branch"=>"20170707-理财线上快速授信", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"V5pItog/pynu58mruo358gsABnmTDCMv1mmX/rpFNevF7dYJueWTOEQ+NVjP3h5LPkNIVBMjALOa/J9WFLMHNQ=="}
pid is 10280
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241' -e qishanqing@dafy.com -E '' -b $'20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170707-理财线上快速授信'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170707-理财线上快速授信'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170707-理财线上快速授信'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170707-理财线上快速授信'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241' -e qishanqing@dafy.com -E '' -b $'20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170707-理财线上快速授信: command not found
++ for y in '$trunk'
++ echo $'20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241'
+ trunks=$'20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241'
+ test del = add
+ delbranch
+ '[' -z $'20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170825
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708251433
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170825-20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708251433-20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170825-20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241/Develop/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241'
++ awk -F / '{print $7}'
+ br=$'20170825-20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241'
+ access=$'20170825-20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708251433-20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.10280
+ echo $'https://192.168.0.220/svn/tech/Branch/20170707-\347\220\206\350\264\242\347\272\277\344\270\212\345\277\253\351\200\237\346\216\210\344\277\241'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170707-理财线上快速授信%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170707-理财线上快速授信%'\'';'
+ cat /tmp/cmdb.db.10280
+ rm -f /tmp/cmdb.db.10280
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 3542ms (Views: 116.2ms)


Completed 200 OK in 3542ms (Views: 116.2ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-25 16:43:44 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-25 16:43:45 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (250.2ms)
  Rendered builder/index.html.erb within layouts/application (250.2ms)
Completed 200 OK in 1685ms (Views: 1369.4ms)


Completed 200 OK in 1685ms (Views: 1369.4ms)


Started POST "/start" for 192.168.5.26 at 2017-08-25 16:45:05 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-25 16:45:05 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"lideyao@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "branch"=>"新海尔资金方", "user"=>"lideyao lihaihan songzhiyu", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"rSpGJBMTWhz3SbLzs667BsjOtmalUUucYsjRgJVk1ZM/XdibIsluDV2QTgDG/Vy//Y34SyV+aAAuXdkoO5LnTQ=="}
  Parameters: {"email"=>"lideyao@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "branch"=>"新海尔资金方", "user"=>"lideyao lihaihan songzhiyu", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"rSpGJBMTWhz3SbLzs667BsjOtmalUUucYsjRgJVk1ZM/XdibIsluDV2QTgDG/Vy//Y34SyV+aAAuXdkoO5LnTQ=="}
pid is 16613
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'lideyao lihaihan songzhiyu' -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -e lideyao@dafy.com -E '' -b $'\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271' -T add -d ''
+ TEMP=' -u '\''lideyao lihaihan songzhiyu'\'' -t '\''前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -e '\''lideyao@dafy.com'\'' -E '\'''\'' -b '\''新海尔资金方'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''lideyao lihaihan songzhiyu'\'' -t '\''前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -e '\''lideyao@dafy.com'\'' -E '\'''\'' -b '\''新海尔资金方'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'lideyao lihaihan songzhiyu' -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -e lideyao@dafy.com -E '' -b $'\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271' -T add -d '' --
+ true
+ case "$1" in
+ user='lideyao lihaihan songzhiyu'
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ shift 2
+ true
+ case "$1" in
+ email=lideyao@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=lideyao@dafy.com '
+ SMARTCM_EXTRA_MAIL='lideyao@dafy.com '
++ lideyao lihaihan songzhiyu
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: lideyao: command not found
++ for x in '$user'
++ echo lideyao=rw
++ for x in '$user'
++ echo lihaihan=rw
++ for x in '$user'
++ echo songzhiyu=rw
+ users='lideyao=rw
lihaihan=rw
songzhiyu=rw'
++ $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ trunks=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' ']'
+ '[' -z $'\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170825
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708251645
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708251645-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F / '{print $7}'
+ br=$'20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271'
+ access=$'20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' $'https://192.168.0.220/svn/tech/Branch/20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.16613
+ echo $'https://192.168.0.220/svn/tech/Branch/20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'', '\''https://192.168.0.220/svn/tech/Branch/20170825-新海尔资金方/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'',now(),'\''lideyao'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'', '\''https://192.168.0.220/svn/tech/Branch/20170825-新海尔资金方/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'',now(),'\''lideyao'\'');'
+ cat /tmp/cmdb.db.16613
+ rm -f /tmp/cmdb.db.16613
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170825-新海尔资金方] /svn/authz.conf'
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z 'lideyao=rw
lihaihan=rw
songzhiyu=rw'
+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (102.4ms)
  Rendered builder/new.html.erb within layouts/application (102.4ms)
Completed 200 OK in 16045ms (Views: 241.6ms)


Completed 200 OK in 16045ms (Views: 241.6ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-25 17:28:41 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-25 17:28:41 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.3ms)
  Rendered builder/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 86ms (Views: 70.9ms)


Completed 200 OK in 86ms (Views: 70.9ms)


Started POST "/start" for 192.168.5.26 at 2017-08-25 17:28:44 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-25 17:28:44 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170825-新海尔资金方", "branch"=>"20170825-新海尔资金方", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"BjeLVOfWP1u42dcQyXXbVcvFLUiN5Yesi/J0XGgiYRCUQBXr1gwLShIAK+O8Jjzs/oZjZQ3KpDDHZ3z0xtRTzg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170825-新海尔资金方", "branch"=>"20170825-新海尔资金方", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"BjeLVOfWP1u42dcQyXXbVcvFLUiN5Yesi/J0XGgiYRCUQBXr1gwLShIAK+O8Jjzs/oZjZQ3KpDDHZ3z0xtRTzg=="}
pid is 18104
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271' -e qishanqing@dafy.com -E '' -b $'20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170825-新海尔资金方'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170825-新海尔资金方'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170825-新海尔资金方'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170825-新海尔资金方'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271' -e qishanqing@dafy.com -E '' -b $'20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170825-新海尔资金方: command not found
++ for y in '$trunk'
++ echo $'20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271'
+ trunks=$'20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271'
+ test del = add
+ delbranch
+ '[' -z $'20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170825
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708251728
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170825-20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271/Develop/20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708251728-20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170825-20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271/Develop/20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271'
++ awk -F / '{print $7}'
+ br=$'20170825-20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271'
+ access=$'20170825-20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708251728-20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.18104
+ echo $'https://192.168.0.220/svn/tech/Branch/20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170825-新海尔资金方%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170825-新海尔资金方%'\'';'
+ cat /tmp/cmdb.db.18104
+ rm -f /tmp/cmdb.db.18104
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (19.4ms)
  Rendered builder/new.html.erb within layouts/application (19.4ms)
Completed 200 OK in 2328ms (Views: 1294.4ms)


Completed 200 OK in 2328ms (Views: 1294.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-25 17:28:51 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-25 17:28:51 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (18.4ms)
  Rendered builder/index.html.erb within layouts/application (18.4ms)
Completed 200 OK in 82ms (Views: 79.7ms)


Completed 200 OK in 82ms (Views: 79.7ms)


Started POST "/start" for 192.168.5.26 at 2017-08-25 17:29:32 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-25 17:29:32 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "branch"=>"新海尔资金方", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"rKXgG5RGzkdXkohSb/PRdyY0K497XCXFCelnmuc32WA+0n6kpZz6Vv1LdKEaoDbOE3dlovtzBllFfG8yScHrvg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "branch"=>"新海尔资金方", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"rKXgG5RGzkdXkohSb/PRdyY0K497XCXFCelnmuc32WA+0n6kpZz6Vv1LdKEaoDbOE3dlovtzBllFfG8yScHrvg=="}
pid is 18155
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -e qishanqing@dafy.com -E '' -b $'\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271' -T add -d ''
+ TEMP=' -u '\'''\'' -t '\''前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''新海尔资金方'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''新海尔资金方'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u '' -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -e qishanqing@dafy.com -E '' -b $'\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271' -T add -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ trunks=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' ']'
+ '[' -z $'\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170825
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708251729
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708251729-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F / '{print $7}'
+ br=$'20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271'
+ access=$'20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' $'https://192.168.0.220/svn/tech/Branch/20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.18155
+ echo $'https://192.168.0.220/svn/tech/Branch/20170825-\346\226\260\346\265\267\345\260\224\350\265\204\351\207\221\346\226\271/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'', '\''https://192.168.0.220/svn/tech/Branch/20170825-新海尔资金方/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'',now(),'\''qishanqing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'', '\''https://192.168.0.220/svn/tech/Branch/20170825-新海尔资金方/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'',now(),'\''qishanqing'\'');'
+ cat /tmp/cmdb.db.18155
+ rm -f /tmp/cmdb.db.18155
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170825-新海尔资金方] /svn/authz.conf'
+ read num
+ '[' 1 -eq 0 ']'
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.5ms)
  Rendered builder/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 2203ms (Views: 896.9ms)


Completed 200 OK in 2203ms (Views: 896.9ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-25 17:31:41 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-25 17:31:41 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (103.5ms)
  Rendered builder/index.html.erb within layouts/application (103.5ms)
Completed 200 OK in 1332ms (Views: 1169.9ms)


Completed 200 OK in 1332ms (Views: 1169.9ms)


Started POST "/start" for 192.168.5.26 at 2017-08-25 17:32:12 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-25 17:32:12 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170810-首页第改版", "branch"=>"20170810-首页第改版", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"uGsB80BbPooRU8oL8WAOqaxpMg+YrtfX+gMiuZGYhE0qHJ9McYEKm7uKNviEM+kQmSp8IhiB9Eu2lioRP262kw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170810-首页第改版", "branch"=>"20170810-首页第改版", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"uGsB80BbPooRU8oL8WAOqaxpMg+YrtfX+gMiuZGYhE0qHJ9McYEKm7uKNviEM+kQmSp8IhiB9Eu2lioRP262kw=="}
pid is 18270
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170810-\351\246\226\351\241\265\347\254\254\346\224\271\347\211\210' -e qishanqing@dafy.com -E '' -b $'20170810-\351\246\226\351\241\265\347\254\254\346\224\271\347\211\210' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170810-首页第改版'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170810-首页第改版'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170810-首页第改版'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170810-首页第改版'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170810-\351\246\226\351\241\265\347\254\254\346\224\271\347\211\210' -e qishanqing@dafy.com -E '' -b $'20170810-\351\246\226\351\241\265\347\254\254\346\224\271\347\211\210' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170810-\351\246\226\351\241\265\347\254\254\346\224\271\347\211\210'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170810-\351\246\226\351\241\265\347\254\254\346\224\271\347\211\210'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170810-\351\246\226\351\241\265\347\254\254\346\224\271\347\211\210'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170810-首页第改版: command not found
++ for y in '$trunk'
++ echo $'20170810-\351\246\226\351\241\265\347\254\254\346\224\271\347\211\210'
+ trunks=$'20170810-\351\246\226\351\241\265\347\254\254\346\224\271\347\211\210'
+ test del = add
+ delbranch
+ '[' -z $'20170810-\351\246\226\351\241\265\347\254\254\346\224\271\347\211\210' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170825
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708251732
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170810-\351\246\226\351\241\265\347\254\254\346\224\271\347\211\210'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170825-20170810-\351\246\226\351\241\265\347\254\254\346\224\271\347\211\210/Develop/20170810-\351\246\226\351\241\265\347\254\254\346\224\271\347\211\210'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170810-\351\246\226\351\241\265\347\254\254\346\224\271\347\211\210'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708251732-20170810-\351\246\226\351\241\265\347\254\254\346\224\271\347\211\210'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170825-20170810-\351\246\226\351\241\265\347\254\254\346\224\271\347\211\210/Develop/20170810-\351\246\226\351\241\265\347\254\254\346\224\271\347\211\210'
++ awk -F / '{print $7}'
+ br=$'20170825-20170810-\351\246\226\351\241\265\347\254\254\346\224\271\347\211\210'
+ access=$'20170825-20170810-\351\246\226\351\241\265\347\254\254\346\224\271\347\211\210'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170810-\351\246\226\351\241\265\347\254\254\346\224\271\347\211\210' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708251732-20170810-\351\246\226\351\241\265\347\254\254\346\224\271\347\211\210' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.18270
+ echo $'https://192.168.0.220/svn/tech/Branch/20170810-\351\246\226\351\241\265\347\254\254\346\224\271\347\211\210'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170810-首页第改版%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170810-首页第改版%'\'';'
+ cat /tmp/cmdb.db.18270
+ rm -f /tmp/cmdb.db.18270
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.3ms)
  Rendered builder/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 5625ms (Views: 718.6ms)


Completed 200 OK in 5625ms (Views: 718.6ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-28 09:44:27 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-28 09:44:27 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-28 09:44:27 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-28 09:44:27 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (34.6ms)
  Rendered builder/index.html.erb within layouts/application (34.6ms)
  Rendered merge/index.html.erb within layouts/application (467.3ms)
  Rendered merge/index.html.erb within layouts/application (467.3ms)
Completed 200 OK in 1793ms (Views: 1554.6ms)


Completed 200 OK in 1793ms (Views: 1554.6ms)


Completed 200 OK in 1729ms (Views: 1631.5ms)


Completed 200 OK in 1729ms (Views: 1631.5ms)


Started POST "/start" for 192.168.5.26 at 2017-08-28 10:10:02 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-28 10:10:02 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"luxuewei@dafy.com", "types"=>"add", "trunk"=>"催收/Task/ExportOverdueData", "branch"=>"360XCD导出优化", "user"=>"luxuewei", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"JSU9IG9S/wV0Y78XXoV4GaU2ZeStP/xPC1QYKTOMPea3UqOfXojLFN66Q+Qr1p+gkHUryS0Q39NHwRCBnXoPOA=="}
  Parameters: {"email"=>"luxuewei@dafy.com", "types"=>"add", "trunk"=>"催收/Task/ExportOverdueData", "branch"=>"360XCD导出优化", "user"=>"luxuewei", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"JSU9IG9S/wV0Y78XXoV4GaU2ZeStP/xPC1QYKTOMPea3UqOfXojLFN66Q+Qr1p+gkHUryS0Q39NHwRCBnXoPOA=="}
pid is 21554
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u luxuewei -t $'\345\202\254\346\224\266/Task/ExportOverdueData' -e luxuewei@dafy.com -E '' -b $'360XCD\345\257\274\345\207\272\344\274\230\345\214\226' -T add -d ''
+ TEMP=' -u '\''luxuewei'\'' -t '\''催收/Task/ExportOverdueData'\'' -e '\''luxuewei@dafy.com'\'' -E '\'''\'' -b '\''360XCD导出优化'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''luxuewei'\'' -t '\''催收/Task/ExportOverdueData'\'' -e '\''luxuewei@dafy.com'\'' -E '\'''\'' -b '\''360XCD导出优化'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u luxuewei -t $'\345\202\254\346\224\266/Task/ExportOverdueData' -e luxuewei@dafy.com -E '' -b $'360XCD\345\257\274\345\207\272\344\274\230\345\214\226' -T add -d '' --
+ true
+ case "$1" in
+ user=luxuewei
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\202\254\346\224\266/Task/ExportOverdueData'
+ shift 2
+ true
+ case "$1" in
+ email=luxuewei@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'360XCD\345\257\274\345\207\272\344\274\230\345\214\226'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=luxuewei@dafy.com '
+ SMARTCM_EXTRA_MAIL='luxuewei@dafy.com '
++ luxuewei
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: luxuewei: command not found
++ for x in '$user'
++ echo luxuewei=rw
+ users=luxuewei=rw
++ $'\345\202\254\346\224\266/Task/ExportOverdueData'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 催收/Task/ExportOverdueData: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\202\254\346\224\266/Task/ExportOverdueData'
+ trunks=$'\345\202\254\346\224\266/Task/ExportOverdueData'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\202\254\346\224\266/Task/ExportOverdueData' ']'
+ '[' -z $'360XCD\345\257\274\345\207\272\344\274\230\345\214\226' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170828
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708281010
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\202\254\346\224\266/Task/ExportOverdueData'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170828-360XCD\345\257\274\345\207\272\344\274\230\345\214\226/Develop/\345\202\254\346\224\266/Task/ExportOverdueData'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/360XCD\345\257\274\345\207\272\344\274\230\345\214\226'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708281010-360XCD\345\257\274\345\207\272\344\274\230\345\214\226'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170828-360XCD\345\257\274\345\207\272\344\274\230\345\214\226/Develop/\345\202\254\346\224\266/Task/ExportOverdueData'
++ awk -F / '{print $7}'
+ br=$'20170828-360XCD\345\257\274\345\207\272\344\274\230\345\214\226'
+ access=$'20170828-360XCD\345\257\274\345\207\272\344\274\230\345\214\226'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\202\254\346\224\266/Task/ExportOverdueData' $'https://192.168.0.220/svn/tech/Branch/20170828-360XCD\345\257\274\345\207\272\344\274\230\345\214\226/Develop/\345\202\254\346\224\266/Task/ExportOverdueData' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.21554
+ echo $'https://192.168.0.220/svn/tech/Branch/20170828-360XCD\345\257\274\345\207\272\344\274\230\345\214\226/Develop/\345\202\254\346\224\266/Task/ExportOverdueData'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/催收/Task/ExportOverdueData'\'', '\''https://192.168.0.220/svn/tech/Branch/20170828-360XCD导出优化/Develop/催收/Task/ExportOverdueData'\'',now(),'\''luxuewei'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/催收/Task/ExportOverdueData'\'', '\''https://192.168.0.220/svn/tech/Branch/20170828-360XCD导出优化/Develop/催收/Task/ExportOverdueData'\'',now(),'\''luxuewei'\'');'
+ cat /tmp/cmdb.db.21554
+ rm -f /tmp/cmdb.db.21554
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170828-360XCD导出优化] /svn/authz.conf'
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z luxuewei=rw
+ cat
+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (60.2ms)
  Rendered builder/new.html.erb within layouts/application (60.2ms)
Completed 200 OK in 11106ms (Views: 245.2ms)


Completed 200 OK in 11106ms (Views: 245.2ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-28 10:13:33 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-28 10:13:33 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170825-海尔发送类型修改/Develop/分期商城/分期商城3.0/MallTaskBusiness", "task"=>"http://192.168.0.221/zentao/task-view-45257.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"Wm6uYVdBtdPikLmekIfVecZ1xXXMzWZZlUYc2aViIPzIGTDeZpuBwkhJRW3l1DLA8zaLWEziRcXZ0xRxC5QSIg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170825-海尔发送类型修改/Develop/分期商城/分期商城3.0/MallTaskBusiness", "task"=>"http://192.168.0.221/zentao/task-view-45257.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"Wm6uYVdBtdPikLmekIfVecZ1xXXMzWZZlUYc2aViIPzIGTDeZpuBwkhJRW3l1DLA8zaLWEziRcXZ0xRxC5QSIg=="}
pid is 21840
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45257.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170825-\346\265\267\345\260\224\345\217\221\351\200\201\347\261\273\345\236\213\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45257.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170825-海尔发送类型修改/Develop/分期商城/分期商城3.0/MallTaskBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45257.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170825-海尔发送类型修改/Develop/分期商城/分期商城3.0/MallTaskBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45257.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170825-\346\265\267\345\260\224\345\217\221\351\200\201\347\261\273\345\236\213\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45257.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170825-\346\265\267\345\260\224\345\217\221\351\200\201\347\261\273\345\236\213\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170825-\346\265\267\345\260\224\345\217\221\351\200\201\347\261\273\345\236\213\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170825-海尔发送类型修改/Develop/分期商城/分期商城3.0/MallTaskBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170825-\346\265\267\345\260\224\345\217\221\351\200\201\347\261\273\345\236\213\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170825-\346\265\267\345\260\224\345\217\221\351\200\201\347\261\273\345\236\213\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170825-\346\265\267\345\260\224\345\217\221\351\200\201\347\261\273\345\236\213\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170825-\346\265\267\345\260\224\345\217\221\351\200\201\347\261\273\345\236\213\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.21840
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170825-\346\265\267\345\260\224\345\217\221\351\200\201\347\261\273\345\236\213\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170825-海尔发送类型修改/Develop/分期商城/分期商城3.0/MallTaskBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ grep '^r'
++ grep -C 3 $'Branch/20170825-\346\265\267\345\260\224\345\217\221\351\200\201\347\261\273\345\236\213\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ svn log
++ head -n 4
++ awk -F '|' '{print$1}'
+ revision=
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170825-\346\265\267\345\260\224\345\217\221\351\200\201\347\261\273\345\236\213\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ head='r141130 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170825-\346\265\267\345\260\224\345\217\221\351\200\201\347\261\273\345\236\213\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ tail -n 4
+ revision='r141079 '
+ '[' '!' -z r141079 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170825-\346\265\267\345\260\224\345\217\221\351\200\201\347\261\273\345\236\213\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness@r141079' $'https://192.168.0.220/svn/tech/Branch/20170825-\346\265\267\345\260\224\345\217\221\351\200\201\347\261\273\345\236\213\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170825-\346\265\267\345\260\224\345\217\221\351\200\201\347\261\273\345\236\213\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness@r141079' $'https://192.168.0.220/svn/tech/Branch/20170825-\346\265\267\345\260\224\345\217\221\351\200\201\347\261\273\345\236\213\344\277\256\346\224\271/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45257.html
Merged revision(s) r141079 -r141130   from Branch/20170825-海尔发送类型修改/Develop/分期商城/分期商城3.0/MallTaskBusiness' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (36.6ms)
  Rendered merge/new.html.erb within layouts/application (36.6ms)
Completed 200 OK in 41561ms (Views: 386.8ms)


Completed 200 OK in 41561ms (Views: 386.8ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-28 10:15:02 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-28 10:15:02 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (5.5ms)
  Rendered merge/index.html.erb within layouts/application (5.5ms)
Completed 200 OK in 109ms (Views: 105.3ms)


Completed 200 OK in 109ms (Views: 105.3ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-28 10:15:08 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-28 10:15:08 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170718-石嘴山项目优化/Develop/外部业务/P2P/Business/SZSBusiness", "task"=>"http://192.168.0.221/zentao/task-view-45230.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"xEDHqHxsRFL2RlPWweoCc1xQ75xRxAExnXKzsnqTDqhWN1kXTbZwQ1yfryW0ueXKaROhsdHrIq3R57sa1GU8dg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170718-石嘴山项目优化/Develop/外部业务/P2P/Business/SZSBusiness", "task"=>"http://192.168.0.221/zentao/task-view-45230.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"xEDHqHxsRFL2RlPWweoCc1xQ75xRxAExnXKzsnqTDqhWN1kXTbZwQ1yfryW0ueXKaROhsdHrIq3R57sa1GU8dg=="}
pid is 21930
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45230.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45230.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170718-石嘴山项目优化/Develop/外部业务/P2P/Business/SZSBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45230.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170718-石嘴山项目优化/Develop/外部业务/P2P/Business/SZSBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45230.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45230.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170718-石嘴山项目优化/Develop/外部业务/P2P/Business/SZSBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.21930
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170718-石嘴山项目优化/Develop/外部业务/P2P/Business/SZSBusiness'
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r141025 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r141219 '
+ '[' '!' -z r141025 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness@r141025' $'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness@r141025' $'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45230.html
Merged revision(s) r141025 -r141219   from Branch/20170718-石嘴山项目优化/Develop/外部业务/P2P/Business/SZSBusiness' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.3ms)
  Rendered merge/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 18495ms (Views: 122.2ms)


Completed 200 OK in 18495ms (Views: 122.2ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-28 10:18:30 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-28 10:18:30 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.1ms)
  Rendered builder/index.html.erb within layouts/application (4.1ms)
Completed 200 OK in 365ms (Views: 360.1ms)


Completed 200 OK in 365ms (Views: 360.1ms)


Started POST "/start" for 192.168.5.26 at 2017-08-28 10:18:34 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-28 10:18:34 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170825-海尔发送类型修改", "branch"=>"20170825-海尔发送类型修改", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"I3aTp2s/fs7eMIej0O4DtR1sdLr+G8/2sZwEdU/muXSxAQ0YWuVK33Tpe1ClveQMKC86l3407Gr9CQzd4RCLqg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170825-海尔发送类型修改", "branch"=>"20170825-海尔发送类型修改", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"I3aTp2s/fs7eMIej0O4DtR1sdLr+G8/2sZwEdU/muXSxAQ0YWuVK33Tpe1ClveQMKC86l3407Gr9CQzd4RCLqg=="}
pid is 22047
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170825-\346\265\267\345\260\224\345\217\221\351\200\201\347\261\273\345\236\213\344\277\256\346\224\271' -e qishanqing@dafy.com -E '' -b $'20170825-\346\265\267\345\260\224\345\217\221\351\200\201\347\261\273\345\236\213\344\277\256\346\224\271' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170825-海尔发送类型修改'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170825-海尔发送类型修改'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170825-海尔发送类型修改'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170825-海尔发送类型修改'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170825-\346\265\267\345\260\224\345\217\221\351\200\201\347\261\273\345\236\213\344\277\256\346\224\271' -e qishanqing@dafy.com -E '' -b $'20170825-\346\265\267\345\260\224\345\217\221\351\200\201\347\261\273\345\236\213\344\277\256\346\224\271' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170825-\346\265\267\345\260\224\345\217\221\351\200\201\347\261\273\345\236\213\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170825-\346\265\267\345\260\224\345\217\221\351\200\201\347\261\273\345\236\213\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170825-\346\265\267\345\260\224\345\217\221\351\200\201\347\261\273\345\236\213\344\277\256\346\224\271'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170825-海尔发送类型修改: command not found
++ for y in '$trunk'
++ echo $'20170825-\346\265\267\345\260\224\345\217\221\351\200\201\347\261\273\345\236\213\344\277\256\346\224\271'
+ trunks=$'20170825-\346\265\267\345\260\224\345\217\221\351\200\201\347\261\273\345\236\213\344\277\256\346\224\271'
+ test del = add
+ delbranch
+ '[' -z $'20170825-\346\265\267\345\260\224\345\217\221\351\200\201\347\261\273\345\236\213\344\277\256\346\224\271' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170828
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708281018
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170825-\346\265\267\345\260\224\345\217\221\351\200\201\347\261\273\345\236\213\344\277\256\346\224\271'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170828-20170825-\346\265\267\345\260\224\345\217\221\351\200\201\347\261\273\345\236\213\344\277\256\346\224\271/Develop/20170825-\346\265\267\345\260\224\345\217\221\351\200\201\347\261\273\345\236\213\344\277\256\346\224\271'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170825-\346\265\267\345\260\224\345\217\221\351\200\201\347\261\273\345\236\213\344\277\256\346\224\271'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708281018-20170825-\346\265\267\345\260\224\345\217\221\351\200\201\347\261\273\345\236\213\344\277\256\346\224\271'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170828-20170825-\346\265\267\345\260\224\345\217\221\351\200\201\347\261\273\345\236\213\344\277\256\346\224\271/Develop/20170825-\346\265\267\345\260\224\345\217\221\351\200\201\347\261\273\345\236\213\344\277\256\346\224\271'
++ awk -F / '{print $7}'
+ br=$'20170828-20170825-\346\265\267\345\260\224\345\217\221\351\200\201\347\261\273\345\236\213\344\277\256\346\224\271'
+ access=$'20170828-20170825-\346\265\267\345\260\224\345\217\221\351\200\201\347\261\273\345\236\213\344\277\256\346\224\271'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170825-\346\265\267\345\260\224\345\217\221\351\200\201\347\261\273\345\236\213\344\277\256\346\224\271' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708281018-20170825-\346\265\267\345\260\224\345\217\221\351\200\201\347\261\273\345\236\213\344\277\256\346\224\271' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.22047
+ echo $'https://192.168.0.220/svn/tech/Branch/20170825-\346\265\267\345\260\224\345\217\221\351\200\201\347\261\273\345\236\213\344\277\256\346\224\271'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170825-海尔发送类型修改%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170825-海尔发送类型修改%'\'';'
+ cat /tmp/cmdb.db.22047
+ rm -f /tmp/cmdb.db.22047
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.8ms)
  Rendered builder/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 3426ms (Views: 816.5ms)


Completed 200 OK in 3426ms (Views: 816.5ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-28 10:18:51 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-28 10:18:51 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (9.5ms)
  Rendered merge/index.html.erb within layouts/application (9.5ms)
Completed 200 OK in 99ms (Views: 95.8ms)


Completed 200 OK in 99ms (Views: 95.8ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-28 10:18:58 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-28 10:18:58 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170718-石嘴山项目优化/Develop/外部业务/P2P/Business/SZSBusiness", "task"=>"http://192.168.0.221/zentao/task-view-45269.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"VM2laRQDOcijISprNys2Bgs+bShjhb+nQ8ZhxYCOCijGujvWJdkN2Qn41phCeNG/Pn0jBeOqnDsPU2ltLng49g=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170718-石嘴山项目优化/Develop/外部业务/P2P/Business/SZSBusiness", "task"=>"http://192.168.0.221/zentao/task-view-45269.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"VM2laRQDOcijISprNys2Bgs+bShjhb+nQ8ZhxYCOCijGujvWJdkN2Qn41phCeNG/Pn0jBeOqnDsPU2ltLng49g=="}
pid is 22075
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45269.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45269.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170718-石嘴山项目优化/Develop/外部业务/P2P/Business/SZSBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45269.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170718-石嘴山项目优化/Develop/外部业务/P2P/Business/SZSBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45269.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45269.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170718-石嘴山项目优化/Develop/外部业务/P2P/Business/SZSBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.22075
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170718-石嘴山项目优化/Develop/外部业务/P2P/Business/SZSBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r141586 '
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
++ grep '^r'
+ head='r141219 '
+ '[' '!' -z r141586 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness@r141586' $'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness@r141586' $'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45269.html
Merged revision(s) r141586 -r141219   from Branch/20170718-石嘴山项目优化/Develop/外部业务/P2P/Business/SZSBusiness' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (2.6ms)
  Rendered merge/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 15165ms (Views: 2901.0ms)


Completed 200 OK in 15165ms (Views: 2901.0ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-28 10:19:35 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-28 10:19:35 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.6ms)
  Rendered merge/index.html.erb within layouts/application (4.6ms)
Completed 200 OK in 149ms (Views: 146.4ms)


Completed 200 OK in 149ms (Views: 146.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-28 10:19:43 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-28 10:19:43 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170825-首页背景图更换/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-45273.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"YGh3ccaMvRkD4o0CFEBvzSbsiQx/1SCy5Sx4udCzaGDyH+nO91aJCKk7cfFhE4h0E6/HIf/6Ay6puXARfkVavg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170825-首页背景图更换/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-45273.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"YGh3ccaMvRkD4o0CFEBvzSbsiQx/1SCy5Sx4udCzaGDyH+nO91aJCKk7cfFhE4h0E6/HIf/6Ay6puXARfkVavg=="}
pid is 22138
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45273.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170825-\351\246\226\351\241\265\350\203\214\346\231\257\345\233\276\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45273.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170825-首页背景图更换/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45273.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170825-首页背景图更换/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45273.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170825-\351\246\226\351\241\265\350\203\214\346\231\257\345\233\276\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45273.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170825-\351\246\226\351\241\265\350\203\214\346\231\257\345\233\276\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170825-\351\246\226\351\241\265\350\203\214\346\231\257\345\233\276\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170825-首页背景图更换/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170825-\351\246\226\351\241\265\350\203\214\346\231\257\345\233\276\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170825-\351\246\226\351\241\265\350\203\214\346\231\257\345\233\276\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170825-\351\246\226\351\241\265\350\203\214\346\231\257\345\233\276\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170825-\351\246\226\351\241\265\350\203\214\346\231\257\345\233\276\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ rm -f /home/qishanqing/tmp/merged/output.22138
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170825-\351\246\226\351\241\265\350\203\214\346\231\257\345\233\276\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ mails-cm -i 'code merged from Branch/20170825-首页背景图更换/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ head -n 4
++ awk -F '|' '{print$1}'
++ grep -C 3 $'Branch/20170825-\351\246\226\351\241\265\350\203\214\346\231\257\345\233\276\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ revision=
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170825-\351\246\226\351\241\265\350\203\214\346\231\257\345\233\276\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ head='r141237 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170825-\351\246\226\351\241\265\350\203\214\346\231\257\345\233\276\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ revision='r141224 '
+ '[' '!' -z r141224 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170825-\351\246\226\351\241\265\350\203\214\346\231\257\345\233\276\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r141224' $'https://192.168.0.220/svn/tech/Branch/20170825-\351\246\226\351\241\265\350\203\214\346\231\257\345\233\276\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170825-\351\246\226\351\241\265\350\203\214\346\231\257\345\233\276\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r141224' $'https://192.168.0.220/svn/tech/Branch/20170825-\351\246\226\351\241\265\350\203\214\346\231\257\345\233\276\346\233\264\346\215\242/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45273.html
Merged revision(s) r141224 -r141237   from Branch/20170825-首页背景图更换/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (13.1ms)
  Rendered merge/new.html.erb within layouts/application (13.1ms)
Completed 200 OK in 42957ms (Views: 4447.3ms)


Completed 200 OK in 42957ms (Views: 4447.3ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-28 10:22:06 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-28 10:22:06 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (5.1ms)
  Rendered merge/index.html.erb within layouts/application (5.1ms)
Completed 200 OK in 115ms (Views: 104.4ms)


Completed 200 OK in 115ms (Views: 104.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-28 10:22:25 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-28 10:22:25 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170825-包银协议修改/Develop/基础业务/用户中心/PDFFactory", "task"=>"http://192.168.0.221/zentao/task-view-45284.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"DfAb7ARtD1PzO38oD2SeltT37MlxKPyvBYZGJyJ1OPOfh4VTNbc7Qlnig9t6N3kv4bSi5PEH3zNJE06PjIMKLQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170825-包银协议修改/Develop/基础业务/用户中心/PDFFactory", "task"=>"http://192.168.0.221/zentao/task-view-45284.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"DfAb7ARtD1PzO38oD2SeltT37MlxKPyvBYZGJyJ1OPOfh4VTNbc7Qlnig9t6N3kv4bSi5PEH3zNJE06PjIMKLQ=="}
pid is 22246
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45284.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170825-包银协议修改/Develop/基础业务/用户中心/PDFFactory' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45284.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170825-包银协议修改/Develop/基础业务/用户中心/PDFFactory'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45284.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170825-包银协议修改/Develop/基础业务/用户中心/PDFFactory'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45284.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170825-包银协议修改/Develop/基础业务/用户中心/PDFFactory' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45284.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170825-包银协议修改/Develop/基础业务/用户中心/PDFFactory'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' $'https://192.168.0.220/svn/tech/Branch/20170825-\345\214\205\351\223\266\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170825-\345\214\205\351\223\266\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite
https://192.168.0.220/svn/tech/Branch/20170825-包银协议修改/Develop/基础业务/用户中心/PDFFactory'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ rm -f /home/qishanqing/tmp/merged/output.22246
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ mails-cm -i 'code merged from Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ head -n 4
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ awk -F '|' '{print$1}'
+ revision='r140969 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r141565 '
+ '[' '!' -z r140969 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r140969' $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r140969' $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45284.html
Merged revision(s) r140969 -r141565   from Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170825-\345\214\205\351\223\266\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170825-\345\214\205\351\223\266\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ rm -f /home/qishanqing/tmp/merged/output.22246
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170825-\345\214\205\351\223\266\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170825-包银协议修改/Develop/基础业务/用户中心/PDFFactory'
+ svn cleanup .
Started GET "/builder" for 192.168.5.26 at 2017-08-28 10:23:40 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-28 10:23:40 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.8ms)
  Rendered builder/index.html.erb within layouts/application (3.8ms)
Completed 200 OK in 164ms (Views: 159.5ms)


Completed 200 OK in 164ms (Views: 159.5ms)


Started POST "/start" for 192.168.5.26 at 2017-08-28 10:23:44 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-28 10:23:44 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170825-首页背景图更换", "branch"=>"20170825-首页背景图更换", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"FQ0pq0tSZ9nLocjLcleuSaYpSYAFjsC/1f6wcupfuSuHercUeohTyGF4NDgHBEnwk2oHrYWh4yOZa7jaRKmL9Q=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170825-首页背景图更换", "branch"=>"20170825-首页背景图更换", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"FQ0pq0tSZ9nLocjLcleuSaYpSYAFjsC/1f6wcupfuSuHercUeohTyGF4NDgHBEnwk2oHrYWh4yOZa7jaRKmL9Q=="}
pid is 22328
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170825-\351\246\226\351\241\265\350\203\214\346\231\257\345\233\276\346\233\264\346\215\242' -e qishanqing@dafy.com -E '' -b $'20170825-\351\246\226\351\241\265\350\203\214\346\231\257\345\233\276\346\233\264\346\215\242' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170825-首页背景图更换'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170825-首页背景图更换'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170825-首页背景图更换'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170825-首页背景图更换'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170825-\351\246\226\351\241\265\350\203\214\346\231\257\345\233\276\346\233\264\346\215\242' -e qishanqing@dafy.com -E '' -b $'20170825-\351\246\226\351\241\265\350\203\214\346\231\257\345\233\276\346\233\264\346\215\242' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170825-\351\246\226\351\241\265\350\203\214\346\231\257\345\233\276\346\233\264\346\215\242'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170825-\351\246\226\351\241\265\350\203\214\346\231\257\345\233\276\346\233\264\346\215\242'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170825-\351\246\226\351\241\265\350\203\214\346\231\257\345\233\276\346\233\264\346\215\242'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170825-首页背景图更换: command not found
++ for y in '$trunk'
++ echo $'20170825-\351\246\226\351\241\265\350\203\214\346\231\257\345\233\276\346\233\264\346\215\242'
+ trunks=$'20170825-\351\246\226\351\241\265\350\203\214\346\231\257\345\233\276\346\233\264\346\215\242'
+ test del = add
+ delbranch
+ '[' -z $'20170825-\351\246\226\351\241\265\350\203\214\346\231\257\345\233\276\346\233\264\346\215\242' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170828
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708281023
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170825-\351\246\226\351\241\265\350\203\214\346\231\257\345\233\276\346\233\264\346\215\242'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170828-20170825-\351\246\226\351\241\265\350\203\214\346\231\257\345\233\276\346\233\264\346\215\242/Develop/20170825-\351\246\226\351\241\265\350\203\214\346\231\257\345\233\276\346\233\264\346\215\242'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170825-\351\246\226\351\241\265\350\203\214\346\231\257\345\233\276\346\233\264\346\215\242'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708281023-20170825-\351\246\226\351\241\265\350\203\214\346\231\257\345\233\276\346\233\264\346\215\242'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170828-20170825-\351\246\226\351\241\265\350\203\214\346\231\257\345\233\276\346\233\264\346\215\242/Develop/20170825-\351\246\226\351\241\265\350\203\214\346\231\257\345\233\276\346\233\264\346\215\242'
++ awk -F / '{print $7}'
+ br=$'20170828-20170825-\351\246\226\351\241\265\350\203\214\346\231\257\345\233\276\346\233\264\346\215\242'
+ access=$'20170828-20170825-\351\246\226\351\241\265\350\203\214\346\231\257\345\233\276\346\233\264\346\215\242'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170825-\351\246\226\351\241\265\350\203\214\346\231\257\345\233\276\346\233\264\346\215\242' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708281023-20170825-\351\246\226\351\241\265\350\203\214\346\231\257\345\233\276\346\233\264\346\215\242' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ rm -f /home/qishanqing/tmp/output.22328
+ echo $'https://192.168.0.220/svn/tech/Branch/20170825-\351\246\226\351\241\265\350\203\214\346\231\257\345\233\276\346\233\264\346\215\242'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170825-首页背景图更换%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170825-首页背景图更换%'\'';'
+ svn up .
+ cat /tmp/cmdb.db.22328
+ rm -f /tmp/cmdb.db.22328
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.6ms)
  Rendered builder/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 805ms (Views: 75.5ms)


Completed 200 OK in 805ms (Views: 75.5ms)


++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170825-\345\214\205\351\223\266\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170825-\345\214\205\351\223\266\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r141559 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170825-\345\214\205\351\223\266\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ revision='r141074 '
+ '[' '!' -z r141074 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170825-\345\214\205\351\223\266\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory@r141074' $'https://192.168.0.220/svn/tech/Branch/20170825-\345\214\205\351\223\266\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170825-\345\214\205\351\223\266\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory@r141074' $'https://192.168.0.220/svn/tech/Branch/20170825-\345\214\205\351\223\266\345\215\217\350\256\256\344\277\256\346\224\271/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/PDFFactory'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45284.html
Merged revision(s) r141074 -r141559   from Branch/20170825-包银协议修改/Develop/基础业务/用户中心/PDFFactory' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (9.2ms)
  Rendered merge/new.html.erb within layouts/application (9.2ms)
Completed 200 OK in 86517ms (Views: 98.9ms)


Completed 200 OK in 86517ms (Views: 98.9ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-28 10:24:28 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-28 10:24:28 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.4ms)
  Rendered merge/index.html.erb within layouts/application (3.4ms)
Completed 200 OK in 500ms (Views: 495.6ms)


Completed 200 OK in 500ms (Views: 495.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-28 10:24:35 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-28 10:24:35 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170824-催收逾期数据/Develop/催收/服务/overdueBusiness", "task"=>"http://192.168.0.221/zentao/task-view-45277.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"JIAPqZDtUKRb0bvoEm5CIwNRpE13TkIOKY/1IE8TPyG295EWoTdktfEIRxtnPaWaNhLqYPdhYZJlGv2I4eUN/w=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170824-催收逾期数据/Develop/催收/服务/overdueBusiness", "task"=>"http://192.168.0.221/zentao/task-view-45277.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"JIAPqZDtUKRb0bvoEm5CIwNRpE13TkIOKY/1IE8TPyG295EWoTdktfEIRxtnPaWaNhLqYPdhYZJlGv2I4eUN/w=="}
pid is 22407
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45277.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170824-\345\202\254\346\224\266\351\200\276\346\234\237\346\225\260\346\215\256/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45277.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170824-催收逾期数据/Develop/催收/服务/overdueBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45277.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170824-催收逾期数据/Develop/催收/服务/overdueBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45277.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170824-\345\202\254\346\224\266\351\200\276\346\234\237\346\225\260\346\215\256/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45277.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170824-\345\202\254\346\224\266\351\200\276\346\234\237\346\225\260\346\215\256/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170824-\345\202\254\346\224\266\351\200\276\346\234\237\346\225\260\346\215\256/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170824-催收逾期数据/Develop/催收/服务/overdueBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170824-\345\202\254\346\224\266\351\200\276\346\234\237\346\225\260\346\215\256/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170824-\345\202\254\346\224\266\351\200\276\346\234\237\346\225\260\346\215\256/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170824-\345\202\254\346\224\266\351\200\276\346\234\237\346\225\260\346\215\256/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170824-\345\202\254\346\224\266\351\200\276\346\234\237\346\225\260\346\215\256/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.22407
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170824-\345\202\254\346\224\266\351\200\276\346\234\237\346\225\260\346\215\256/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness'
+ mails-cm -i 'code merged from Branch/20170824-催收逾期数据/Develop/催收/服务/overdueBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ awk -F '|' '{print$1}'
++ grep -C 3 $'Branch/20170824-\345\202\254\346\224\266\351\200\276\346\234\237\346\225\260\346\215\256/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness'
++ head -n 4
+ revision='r141078 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170824-\345\202\254\346\224\266\351\200\276\346\234\237\346\225\260\346\215\256/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r141298 '
+ '[' '!' -z r141078 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170824-\345\202\254\346\224\266\351\200\276\346\234\237\346\225\260\346\215\256/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness@r141078' $'https://192.168.0.220/svn/tech/Branch/20170824-\345\202\254\346\224\266\351\200\276\346\234\237\346\225\260\346\215\256/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170824-\345\202\254\346\224\266\351\200\276\346\234\237\346\225\260\346\215\256/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness@r141078' $'https://192.168.0.220/svn/tech/Branch/20170824-\345\202\254\346\224\266\351\200\276\346\234\237\346\225\260\346\215\256/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45277.html
Merged revision(s) r141078 -r141298   from Branch/20170824-催收逾期数据/Develop/催收/服务/overdueBusiness' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (24.5ms)
  Rendered merge/new.html.erb within layouts/application (24.5ms)
Completed 200 OK in 18720ms (Views: 153.2ms)


Completed 200 OK in 18720ms (Views: 153.2ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-28 10:25:19 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-28 10:25:19 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.9ms)
  Rendered builder/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 606ms (Views: 584.9ms)


Completed 200 OK in 606ms (Views: 584.9ms)


Started POST "/start" for 192.168.5.26 at 2017-08-28 10:25:23 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-28 10:25:23 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170825-包银协议修改", "branch"=>"20170825-包银协议修改", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"UCyUHESUP2TBJzdOQlyKYR8WUGyUQy3sMMnm1IHdKhXCWwqjdU4LdWv+y703D23YKlUeQRRsDnB8XO58LysYyw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170825-包银协议修改", "branch"=>"20170825-包银协议修改", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"UCyUHESUP2TBJzdOQlyKYR8WUGyUQy3sMMnm1IHdKhXCWwqjdU4LdWv+y703D23YKlUeQRRsDnB8XO58LysYyw=="}
pid is 22489
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170825-\345\214\205\351\223\266\345\215\217\350\256\256\344\277\256\346\224\271' -e qishanqing@dafy.com -E '' -b $'20170825-\345\214\205\351\223\266\345\215\217\350\256\256\344\277\256\346\224\271' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170825-包银协议修改'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170825-包银协议修改'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170825-包银协议修改'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170825-包银协议修改'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170825-\345\214\205\351\223\266\345\215\217\350\256\256\344\277\256\346\224\271' -e qishanqing@dafy.com -E '' -b $'20170825-\345\214\205\351\223\266\345\215\217\350\256\256\344\277\256\346\224\271' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170825-\345\214\205\351\223\266\345\215\217\350\256\256\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170825-\345\214\205\351\223\266\345\215\217\350\256\256\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170825-\345\214\205\351\223\266\345\215\217\350\256\256\344\277\256\346\224\271'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170825-包银协议修改: command not found
++ for y in '$trunk'
++ echo $'20170825-\345\214\205\351\223\266\345\215\217\350\256\256\344\277\256\346\224\271'
+ trunks=$'20170825-\345\214\205\351\223\266\345\215\217\350\256\256\344\277\256\346\224\271'
+ test del = add
+ delbranch
+ '[' -z $'20170825-\345\214\205\351\223\266\345\215\217\350\256\256\344\277\256\346\224\271' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170828
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708281025
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170825-\345\214\205\351\223\266\345\215\217\350\256\256\344\277\256\346\224\271'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170828-20170825-\345\214\205\351\223\266\345\215\217\350\256\256\344\277\256\346\224\271/Develop/20170825-\345\214\205\351\223\266\345\215\217\350\256\256\344\277\256\346\224\271'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170825-\345\214\205\351\223\266\345\215\217\350\256\256\344\277\256\346\224\271'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708281025-20170825-\345\214\205\351\223\266\345\215\217\350\256\256\344\277\256\346\224\271'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170828-20170825-\345\214\205\351\223\266\345\215\217\350\256\256\344\277\256\346\224\271/Develop/20170825-\345\214\205\351\223\266\345\215\217\350\256\256\344\277\256\346\224\271'
++ awk -F / '{print $7}'
+ br=$'20170828-20170825-\345\214\205\351\223\266\345\215\217\350\256\256\344\277\256\346\224\271'
+ access=$'20170828-20170825-\345\214\205\351\223\266\345\215\217\350\256\256\344\277\256\346\224\271'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170825-\345\214\205\351\223\266\345\215\217\350\256\256\344\277\256\346\224\271' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708281025-20170825-\345\214\205\351\223\266\345\215\217\350\256\256\344\277\256\346\224\271' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.22489
+ echo $'https://192.168.0.220/svn/tech/Branch/20170825-\345\214\205\351\223\266\345\215\217\350\256\256\344\277\256\346\224\271'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170825-包银协议修改%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170825-包银协议修改%'\'';'
+ cat /tmp/cmdb.db.22489
+ rm -f /tmp/cmdb.db.22489
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.1ms)
  Rendered builder/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 2031ms (Views: 192.2ms)


Completed 200 OK in 2031ms (Views: 192.2ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-28 10:27:12 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-28 10:27:12 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (8.6ms)
  Rendered merge/index.html.erb within layouts/application (8.6ms)
Completed 200 OK in 165ms (Views: 134.8ms)


Completed 200 OK in 165ms (Views: 134.8ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-28 10:27:19 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-28 10:27:19 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/hubeicfc_9", "task"=>"http://192.168.0.221/zentao/task-view-45311.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"kMDSRabi+m/CkhX/nqETMNmSz4POqTfZV1FImsrHaz0Ct0z6lzjOfmhL6Qzr8vSJ7NGBrk6GFEUbxEAyZDFZ4w=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/hubeicfc_9", "task"=>"http://192.168.0.221/zentao/task-view-45311.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"kMDSRabi+m/CkhX/nqETMNmSz4POqTfZV1FImsrHaz0Ct0z6lzjOfmhL6Qzr8vSJ7NGBrk6GFEUbxEAyZDFZ4w=="}
pid is 22568
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45311.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hubeicfc_9' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45311.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/hubeicfc_9'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45311.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/hubeicfc_9'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45311.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hubeicfc_9' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45311.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hubeicfc_9'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hubeicfc_9'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/hubeicfc_9: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hubeicfc_9'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hubeicfc_9'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hubeicfc_9'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hubeicfc_9'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hubeicfc_9'
+ rm -f /home/qishanqing/tmp/merged/output.22568
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hubeicfc_9'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hubeicfc_9'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hubeicfc_9'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/hubeicfc_9'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hubeicfc_9'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ svn st
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ awk -F '|' '{print$1}'
++ head -n 4
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hubeicfc_9'
+ revision='r137730 '
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hubeicfc_9'
++ grep '^r'
+ head='r141495 '
+ '[' '!' -z r137730 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hubeicfc_9@r137730' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hubeicfc_9' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hubeicfc_9@r137730' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hubeicfc_9'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45311.html
Merged revision(s) r137730 -r141495   from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/hubeicfc_9' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.1ms)
  Rendered merge/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 27755ms (Views: 52.3ms)


Completed 200 OK in 27755ms (Views: 52.3ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-28 10:32:36 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-28 10:32:36 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (50.6ms)
  Rendered merge/index.html.erb within layouts/application (50.6ms)
Completed 200 OK in 582ms (Views: 578.8ms)


Completed 200 OK in 582ms (Views: 578.8ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-28 10:32:44 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-28 10:32:44 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170621-项目报表/Develop/外部业务/P2P/Business/FDPReport", "task"=>"http://192.168.0.221/zentao/task-view-45370.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"Pv4fmoGM2HXmciO+g0OOGuOx3nknQCDJxCz6RzJiMgWsiYElsFbsZEyr3032EGmj1vKQVKdvA1WIufLvnJQA2w=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170621-项目报表/Develop/外部业务/P2P/Business/FDPReport", "task"=>"http://192.168.0.221/zentao/task-view-45370.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"Pv4fmoGM2HXmciO+g0OOGuOx3nknQCDJxCz6RzJiMgWsiYElsFbsZEyr3032EGmj1vKQVKdvA1WIufLvnJQA2w=="}
pid is 23153
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45370.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170621-\351\241\271\347\233\256\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45370.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170621-项目报表/Develop/外部业务/P2P/Business/FDPReport'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45370.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170621-项目报表/Develop/外部业务/P2P/Business/FDPReport'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45370.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170621-\351\241\271\347\233\256\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45370.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170621-\351\241\271\347\233\256\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170621-\351\241\271\347\233\256\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170621-项目报表/Develop/外部业务/P2P/Business/FDPReport: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170621-\351\241\271\347\233\256\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170621-\351\241\271\347\233\256\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170621-\351\241\271\347\233\256\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170621-\351\241\271\347\233\256\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ rm -f /home/qishanqing/tmp/merged/output.23153
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170621-\351\241\271\347\233\256\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170621-项目报表/Develop/外部业务/P2P/Business/FDPReport'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170621-\351\241\271\347\233\256\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r141042 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170621-\351\241\271\347\233\256\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r141464 '
+ '[' '!' -z r141042 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170621-\351\241\271\347\233\256\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport@r141042' $'https://192.168.0.220/svn/tech/Branch/20170621-\351\241\271\347\233\256\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170621-\351\241\271\347\233\256\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport@r141042' $'https://192.168.0.220/svn/tech/Branch/20170621-\351\241\271\347\233\256\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45370.html
Merged revision(s) r141042 -r141464   from Branch/20170621-项目报表/Develop/外部业务/P2P/Business/FDPReport' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.2ms)
  Rendered merge/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 16301ms (Views: 117.7ms)


Completed 200 OK in 16301ms (Views: 117.7ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-28 10:39:21 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-28 10:39:21 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.6ms)
  Rendered merge/index.html.erb within layouts/application (4.6ms)
Completed 200 OK in 123ms (Views: 119.6ms)


Completed 200 OK in 123ms (Views: 119.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-28 10:41:52 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-28 10:41:52 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageCenter https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageOrderService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/MerchantCenter https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/MerchantFundTransferApp https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/ProductGroupOnTask https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/OrderTimeoutCancelTask https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/StageLoanTask", "task"=>"http://192.168.0.221/zentao/task-view-45091.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"3ECib7HVs0RwlmgRAevP2mUfOvh3HP5vL+ONn95U7dhONzzQgA+HVdpPlOJ0uChjUFx01fcz3fNjdoU3cKLfBg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageCenter https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageOrderService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/MerchantCenter https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/MerchantFundTransferApp https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/ProductGroupOnTask https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/OrderTimeoutCancelTask https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/StageLoanTask", "task"=>"http://192.168.0.221/zentao/task-view-45091.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"3ECib7HVs0RwlmgRAevP2mUfOvh3HP5vL+ONn95U7dhONzzQgA+HVdpPlOJ0uChjUFx01fcz3fNjdoU3cKLfBg=="}
pid is 23642
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45091.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageCenter https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageOrderService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/MerchantCenter https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/MerchantFundTransferApp https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/ProductGroupOnTask https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/OrderTimeoutCancelTask https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/StageLoanTask' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45091.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageCenter https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageOrderService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/MerchantCenter https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/MerchantFundTransferApp https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/ProductGroupOnTask https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/OrderTimeoutCancelTask https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/StageLoanTask'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45091.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageCenter https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageOrderService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/MerchantCenter https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/MerchantFundTransferApp https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/ProductGroupOnTask https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/OrderTimeoutCancelTask https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/StageLoanTask'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45091.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageCenter https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageOrderService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/MerchantCenter https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/MerchantFundTransferApp https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/ProductGroupOnTask https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/OrderTimeoutCancelTask https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/StageLoanTask' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45091.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageCenter https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageOrderService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/MerchantCenter https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/MerchantFundTransferApp https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/ProductGroupOnTask https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/OrderTimeoutCancelTask https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/StageLoanTask'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/MerchantCenter' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/MerchantFundTransferApp' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/ProductGroupOnTask' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/StageLoanTask'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageCenter: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/MerchantCenter'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/MerchantFundTransferApp'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/ProductGroupOnTask'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/StageLoanTask'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageCenter
https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageManager
https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule
https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageOrderService
https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/MerchantCenter
https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/MerchantFundTransferApp
https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/ProductGroupOnTask
https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/OrderTimeoutCancelTask
https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/StageLoanTask'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ rm -f /home/qishanqing/tmp/merged/output.23642
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageCenter'
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ head -n 4
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r141531 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
++ tail -n 4
+ revision='r133140 '
+ '[' '!' -z r133140 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter@r133140' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：2'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2322' ']'
+ die 'Svn merged conflicts the r133140 -r141531  from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageCenter'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r133140 -r141531  from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageCenter'
+ test -e /home/qishanqing/tmp/merged/output.23642
+ rm -f /home/qishanqing/tmp/merged/output.23642
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45091.html
Merged revision(s) r133140 -r141531   from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageCenter' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ rm -f /home/qishanqing/tmp/merged/output.23642
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ mails-cm -i 'code merged from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageManager'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ awk -F '|' '{print$1}'
++ grep -C 3 $'Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
++ head -n 4
+ revision=
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ head='r141579 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r133140 '
+ '[' '!' -z r133140 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager@r133140' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：14'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\23214' ']'
+ die 'Svn merged conflicts the r133140 -r141579  from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageManager'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r133140 -r141579  from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageManager'
+ test -e /home/qishanqing/tmp/merged/output.23642
+ rm -f /home/qishanqing/tmp/merged/output.23642
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45091.html
Merged revision(s) r133140 -r141579   from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageManager' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule'
+ rm -f /home/qishanqing/tmp/merged/output.23642
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule'
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r141534 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r133140 '
+ '[' '!' -z r133140 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule@r133140' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：6'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2326' ']'
+ die 'Svn merged conflicts the r133140 -r141534  from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r133140 -r141534  from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule'
+ test -e /home/qishanqing/tmp/merged/output.23642
+ rm -f /home/qishanqing/tmp/merged/output.23642
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45091.html
Merged revision(s) r133140 -r141534   from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
+ rm -f /home/qishanqing/tmp/merged/output.23642
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageOrderService'
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ svn st
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ head -n 4
++ grep '^r'
++ svn log
++ grep -C 3 $'Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
++ awk -F '|' '{print$1}'
+ revision=
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
+ head='r141542 '
+ '[' '!' -z ']'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
+ revision='r133140 '
+ '[' '!' -z r133140 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService@r133140' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：2'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2322' ']'
+ die 'Svn merged conflicts the r133140 -r141542  from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageOrderService'
+ echo 'Svn merged conflicts the r133140 -r141542  from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageOrderService'
+ test -e /home/qishanqing/tmp/merged/output.23642
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.23642
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45091.html
Merged revision(s) r133140 -r141542   from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageOrderService' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/MerchantCenter'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/MerchantCenter'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/MerchantCenter'
+ rm -f /home/qishanqing/tmp/merged/output.23642
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/MerchantCenter'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/MerchantCenter'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/MerchantCenter'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/MerchantCenter'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/MerchantCenter'
+ xargs rm -rf
+ svn st
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ awk -F '|' '{print$1}'
++ grep '^r'
++ head -n 4
++ svn log
++ grep -C 3 $'Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/MerchantCenter'
+ revision=
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/MerchantCenter'
++ grep '^r'
+ head='r141432 '
+ '[' '!' -z ']'
++ grep '^r'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/MerchantCenter'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r133140 '
+ '[' '!' -z r133140 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/MerchantCenter@r133140' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/MerchantCenter' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/MerchantCenter@r133140' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/MerchantCenter'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45091.html
Merged revision(s) r133140 -r141432   from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/MerchantCenter' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/MerchantFundTransferApp'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/MerchantFundTransferApp'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/MerchantFundTransferApp'
+ rm -f /home/qishanqing/tmp/merged/output.23642
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/MerchantFundTransferApp'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/MerchantFundTransferApp'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/MerchantFundTransferApp'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/MerchantFundTransferApp'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/MerchantFundTransferApp'
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ head -n 4
++ grep -C 3 $'Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/MerchantFundTransferApp'
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/MerchantFundTransferApp'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r140680 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/MerchantFundTransferApp'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r133140 '
+ '[' '!' -z r133140 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/MerchantFundTransferApp@r133140' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/MerchantFundTransferApp' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/MerchantFundTransferApp@r133140' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/MerchantFundTransferApp'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45091.html
Merged revision(s) r133140 -r140680   from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/MerchantFundTransferApp' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/ProductGroupOnTask'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/ProductGroupOnTask'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/ProductGroupOnTask'
+ rm -f /home/qishanqing/tmp/merged/output.23642
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/ProductGroupOnTask'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/ProductGroupOnTask'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/ProductGroupOnTask'
+ svn_from_tb_merged
+ mails-cm -i 'code merged from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/ProductGroupOnTask'
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/ProductGroupOnTask'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ awk -F '|' '{print$1}'
++ grep -C 3 $'Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/ProductGroupOnTask'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/ProductGroupOnTask'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r136519 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/ProductGroupOnTask'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r133140 '
+ '[' '!' -z r133140 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/ProductGroupOnTask@r133140' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/ProductGroupOnTask' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/ProductGroupOnTask@r133140' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/ProductGroupOnTask'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45091.html
Merged revision(s) r133140 -r136519   from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/ProductGroupOnTask' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask'
+ rm -f /home/qishanqing/tmp/merged/output.23642
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/OrderTimeoutCancelTask'
+ svn cleanup .
+ grep '^?'
+ xargs rm -rf
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ head -n 4
++ grep -C 3 $'Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask'
++ svn log
++ grep '^r'
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r141343 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r133140 '
+ '[' '!' -z r133140 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask@r133140' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask@r133140' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/OrderTimeoutCancelTask'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45091.html
Merged revision(s) r133140 -r141343   from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/OrderTimeoutCancelTask' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/StageLoanTask'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/StageLoanTask'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/StageLoanTask'
+ rm -f /home/qishanqing/tmp/merged/output.23642
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/StageLoanTask'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/StageLoanTask'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/StageLoanTask'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/StageLoanTask'
+ mails-cm -i 'code merged from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/StageLoanTask'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/StageLoanTask'
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/StageLoanTask'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r137641 '
+ '[' '!' -z ']'
++ awk -F '|' '{print$1}'
++ grep '^r'
++ tail -n 4
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/StageLoanTask'
+ revision='r133140 '
+ '[' '!' -z r133140 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/StageLoanTask@r133140' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/StageLoanTask' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/StageLoanTask@r133140' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/StageLoanTask'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45091.html
Merged revision(s) r133140 -r137641   from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/StageLoanTask' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (2.5ms)
  Rendered merge/new.html.erb within layouts/application (2.5ms)
Completed 200 OK in 258313ms (Views: 117.2ms)


Completed 200 OK in 258313ms (Views: 117.2ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-28 10:56:05 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-28 10:56:05 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.8ms)
  Rendered merge/index.html.erb within layouts/application (3.8ms)
Completed 200 OK in 69ms (Views: 65.5ms)


Completed 200 OK in 69ms (Views: 65.5ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-28 10:58:27 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-28 10:58:27 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.3ms)
  Rendered builder/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 141ms (Views: 117.0ms)


Completed 200 OK in 141ms (Views: 117.0ms)


Started POST "/start" for 192.168.5.26 at 2017-08-28 10:59:17 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-28 10:59:17 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"wanghaixin@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "branch"=>"首页改版banner图接口优化", "user"=>"wanghaixin liuxueqin", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"WeRU/qh2WmyeK6ow7jbscf5l9S+Nx94UMva0DX5y7lHLk8pBmaxufTTyVsObZQvIyya7Ag3o/Yh+Y7yl0ITcjw=="}
  Parameters: {"email"=>"wanghaixin@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "branch"=>"首页改版banner图接口优化", "user"=>"wanghaixin liuxueqin", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"WeRU/qh2WmyeK6ow7jbscf5l9S+Nx94UMva0DX5y7lHLk8pBmaxufTTyVsObZQvIyya7Ag3o/Yh+Y7yl0ITcjw=="}
pid is 24816
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'wanghaixin liuxueqin' -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -e wanghaixin@dafy.com -E '' -b $'\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226' -T add -d ''
+ TEMP=' -u '\''wanghaixin liuxueqin'\'' -t '\''前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -e '\''wanghaixin@dafy.com'\'' -E '\'''\'' -b '\''首页改版banner图接口优化'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''wanghaixin liuxueqin'\'' -t '\''前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -e '\''wanghaixin@dafy.com'\'' -E '\'''\'' -b '\''首页改版banner图接口优化'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'wanghaixin liuxueqin' -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -e wanghaixin@dafy.com -E '' -b $'\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226' -T add -d '' --
+ true
+ case "$1" in
+ user='wanghaixin liuxueqin'
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ shift 2
+ true
+ case "$1" in
+ email=wanghaixin@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=wanghaixin@dafy.com '
+ SMARTCM_EXTRA_MAIL='wanghaixin@dafy.com '
++ wanghaixin liuxueqin
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: wanghaixin: command not found
++ for x in '$user'
++ echo wanghaixin=rw
++ for x in '$user'
++ echo liuxueqin=rw
+ users='wanghaixin=rw
liuxueqin=rw'
++ $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ trunks=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' ']'
+ '[' -z $'\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170828
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708281059
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170828-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708281059-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170828-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F / '{print $7}'
+ br=$'20170828-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226'
+ access=$'20170828-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' $'https://192.168.0.220/svn/tech/Branch/20170828-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.24816
+ echo $'https://192.168.0.220/svn/tech/Branch/20170828-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'', '\''https://192.168.0.220/svn/tech/Branch/20170828-首页改版banner图接口优化/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'',now(),'\''wanghaixin'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'', '\''https://192.168.0.220/svn/tech/Branch/20170828-首页改版banner图接口优化/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'',now(),'\''wanghaixin'\'');'
+ cat /tmp/cmdb.db.24816
+ rm -f /tmp/cmdb.db.24816
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170828-首页改版banner图接口优化] /svn/authz.conf'
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z 'wanghaixin=rw
liuxueqin=rw'
+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.6ms)
  Rendered builder/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 8714ms (Views: 78.5ms)


Completed 200 OK in 8714ms (Views: 78.5ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-28 11:02:15 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-28 11:02:15 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossManager https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageBossService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageMerchantService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageMobile", "task"=>"http://192.168.0.221/zentao/task-view-45383.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"9sKCi5O51CmtEqdyvRgNg2J3ve5yOBOz4xPeyV6gA/BktRw0omPgOAfLW4HIS+o6VzTzw/IXMC+vhtZh8FYxLg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossManager https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageBossService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageMerchantService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageMobile", "task"=>"http://192.168.0.221/zentao/task-view-45383.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"9sKCi5O51CmtEqdyvRgNg2J3ve5yOBOz4xPeyV6gA/BktRw0omPgOAfLW4HIS+o6VzTzw/IXMC+vhtZh8FYxLg=="}
pid is 24937
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45383.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossManager https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageBossService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageMerchantService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageMobile' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45383.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossManager https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageBossService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageMerchantService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageMobile'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45383.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossManager https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageBossService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageMerchantService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageMobile'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45383.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossManager https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageBossService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageMerchantService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageMobile' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45383.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossManager https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageBossService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageMerchantService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageMobile'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossManager' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMerchantService' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductService: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMerchantService'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductService
https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossService
https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossManager
https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageBossService
https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageMerchantService
https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageMobile'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService'
+ rm -f /home/qishanqing/tmp/merged/output.24937
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService'
+ mails-cm -i 'code merged from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductService'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r141491 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService'
++ tail -n 4
+ revision='r133140 '
+ '[' '!' -z r133140 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService@r133140' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService@r133140' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45383.html
Merged revision(s) r133140 -r141491   from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductService' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
+ rm -f /home/qishanqing/tmp/merged/output.24937
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossService'
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
++ awk -F '|' '{print$1}'
+ revision=
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
++ grep '^r'
+ head='r140785 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r133140 '
+ '[' '!' -z r133140 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService@r133140' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService@r133140' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45383.html
Merged revision(s) r133140 -r140785   from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossService' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossManager'
+ rm -f /home/qishanqing/tmp/merged/output.24937
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossManager'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossManager'
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ head -n 4
++ grep -C 3 $'Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossManager'
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossManager'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r140786 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossManager'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r133140 '
+ '[' '!' -z r133140 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossManager@r133140' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossManager' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossManager@r133140' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossManager'
+ echo tc
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45383.html
Merged revision(s) r133140 -r140786   from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossManager' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
+ rm -f /home/qishanqing/tmp/merged/output.24937
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
+ svn_from_tb_merged
+ mails-cm -i 'code merged from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageBossService'
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
++ head -n 4
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r141626 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r133140 '
+ '[' '!' -z r133140 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService@r133140' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService' .
+ st='  树冲突：4'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2324' ']'
+ die 'Svn merged conflicts the r133140 -r141626  from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageBossService'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r133140 -r141626  from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageBossService'
+ test -e /home/qishanqing/tmp/merged/output.24937
+ rm -f /home/qishanqing/tmp/merged/output.24937
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45383.html
Merged revision(s) r133140 -r141626   from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageBossService' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMerchantService'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMerchantService'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMerchantService'
+ rm -f /home/qishanqing/tmp/merged/output.24937
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMerchantService'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMerchantService'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMerchantService'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMerchantService'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageMerchantService'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMerchantService'
++ head -n 4
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMerchantService'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r141478 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMerchantService'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r133140 '
+ '[' '!' -z r133140 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMerchantService@r133140' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMerchantService' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMerchantService@r133140' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMerchantService'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45383.html
Merged revision(s) r133140 -r141478   from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageMerchantService' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ rm -f /home/qishanqing/tmp/merged/output.24937
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ mails-cm -i 'code merged from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageMobile'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
++ awk -F '|' '{print$1}'
+ revision=
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ head='r141490 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
++ tail -n 4
+ revision='r133140 '
+ '[' '!' -z r133140 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile@r133140' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：2'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2322' ']'
+ die 'Svn merged conflicts the r133140 -r141490  from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageMobile'
+ echo 'Svn merged conflicts the r133140 -r141490  from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageMobile'
+ test -e /home/qishanqing/tmp/merged/output.24937
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.24937
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45383.html
Merged revision(s) r133140 -r141490   from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageMobile' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (2.1ms)
  Rendered merge/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 82382ms (Views: 101.3ms)


Completed 200 OK in 82382ms (Views: 101.3ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-28 11:36:20 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-28 11:36:20 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (18.6ms)
  Rendered merge/index.html.erb within layouts/application (18.6ms)
Completed 200 OK in 1009ms (Views: 996.9ms)


Completed 200 OK in 1009ms (Views: 996.9ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-28 11:36:59 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-28 11:36:59 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170821-达分期团购退款/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170821-达分期团购退款/Develop/外部业务/P2P/Business/RepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170801-配置文件新增服务/Develop/自如/后台服务管理/MobileWalletCenter ", "task"=>"http://192.168.0.221/zentao/task-view-45383.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"K9BUY64vqlb+Mrq8fGJM+fIoCnX/cv1TjH7EJOs69hK5p8rcn/WeR1TrRk8JMatAx2tEWH9d3s/A68yMRczEzA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170821-达分期团购退款/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170821-达分期团购退款/Develop/外部业务/P2P/Business/RepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170801-配置文件新增服务/Develop/自如/后台服务管理/MobileWalletCenter ", "task"=>"http://192.168.0.221/zentao/task-view-45383.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"K9BUY64vqlb+Mrq8fGJM+fIoCnX/cv1TjH7EJOs69hK5p8rcn/WeR1TrRk8JMatAx2tEWH9d3s/A68yMRczEzA=="}
pid is 6330
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45383.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170821-达分期团购退款/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170821-达分期团购退款/Develop/外部业务/P2P/Business/RepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170801-配置文件新增服务/Develop/自如/后台服务管理/MobileWalletCenter ' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45383.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170821-达分期团购退款/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170821-达分期团购退款/Develop/外部业务/P2P/Business/RepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170801-配置文件新增服务/Develop/自如/后台服务管理/MobileWalletCenter '\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45383.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170821-达分期团购退款/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170821-达分期团购退款/Develop/外部业务/P2P/Business/RepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170801-配置文件新增服务/Develop/自如/后台服务管理/MobileWalletCenter '\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45383.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170821-达分期团购退款/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170821-达分期团购退款/Develop/外部业务/P2P/Business/RepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170801-配置文件新增服务/Develop/自如/后台服务管理/MobileWalletCenter ' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45383.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170821-达分期团购退款/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170821-达分期团购退款/Develop/外部业务/P2P/Business/RepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170801-配置文件新增服务/Develop/自如/后台服务管理/MobileWalletCenter '
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness' $'https://192.168.0.220/svn/tech/Branch/20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness' $'https://192.168.0.220/svn/tech/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170821-达分期团购退款/Develop/外部业务/P2P/Business/BorrowBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170821-达分期团购退款/Develop/外部业务/P2P/Business/BorrowBusiness
https://192.168.0.220/svn/tech/Branch/20170821-达分期团购退款/Develop/外部业务/P2P/Business/RepaymentBusiness
https://192.168.0.220/svn/tech/Branch/20170801-配置文件新增服务/Develop/自如/后台服务管理/MobileWalletCenter'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.6330
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ mails-cm -i 'code merged from Branch/20170821-达分期团购退款/Develop/外部业务/P2P/Business/BorrowBusiness'
+ clean_workspace
+ svn cleanup .
+ grep '^?'
+ xargs rm -rf
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ head='r141523 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ tail -n 4
+ revision='r139187 '
+ '[' '!' -z r139187 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness@r139187' $'https://192.168.0.220/svn/tech/Branch/20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness@r139187' $'https://192.168.0.220/svn/tech/Branch/20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45383.html
Merged revision(s) r139187 -r141523   from Branch/20170821-达分期团购退款/Develop/外部业务/P2P/Business/BorrowBusiness' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.6330
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ svn_from_tb_merged
+ mails-cm -i 'code merged from Branch/20170821-达分期团购退款/Develop/外部业务/P2P/Business/RepaymentBusiness'
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ clean_workspace
+ svn cleanup .
+ grep '^?'
+ svn st
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ awk -F '|' '{print$1}'
++ head -n 4
++ grep -C 3 $'Branch/20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
++ grep '^r'
++ svn log
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r141484 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r141480 '
+ '[' '!' -z r141480 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness@r141480' $'https://192.168.0.220/svn/tech/Branch/20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness@r141480' $'https://192.168.0.220/svn/tech/Branch/20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45383.html
Merged revision(s) r141480 -r141484   from Branch/20170821-达分期团购退款/Develop/外部业务/P2P/Business/RepaymentBusiness' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ rm -f /home/qishanqing/tmp/merged/output.6330
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ mails-cm -i 'code merged from Branch/20170801-配置文件新增服务/Develop/自如/后台服务管理/MobileWalletCenter'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
++ awk -F '|' '{print$1}'
+ revision='r140993 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r141525 '
+ '[' '!' -z r140993 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter@r140993' $'https://192.168.0.220/svn/tech/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter@r140993' $'https://192.168.0.220/svn/tech/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45383.html
Merged revision(s) r140993 -r141525   from Branch/20170801-配置文件新增服务/Develop/自如/后台服务管理/MobileWalletCenter' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.3ms)
  Rendered merge/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 99813ms (Views: 185.2ms)


Completed 200 OK in 99813ms (Views: 185.2ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-28 11:51:09 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-28 11:51:09 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (6.9ms)
  Rendered builder/index.html.erb within layouts/application (6.9ms)
Completed 200 OK in 1211ms (Views: 1204.5ms)


Completed 200 OK in 1211ms (Views: 1204.5ms)


Started POST "/start" for 192.168.5.26 at 2017-08-28 11:51:14 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-28 11:51:14 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170821-达分期团购退款", "branch"=>"20170821-达分期团购退款", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"XQnCtPROllbYErta60F1hI/JFZNlMg+sXGNrmwevIADPflwLxZSiR3LLR6meEpI9uopbvuUdLDAQ9mMzqVkS3g=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170821-达分期团购退款", "branch"=>"20170821-达分期团购退款", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"XQnCtPROllbYErta60F1hI/JFZNlMg+sXGNrmwevIADPflwLxZSiR3LLR6meEpI9uopbvuUdLDAQ9mMzqVkS3g=="}
pid is 9968
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276' -e qishanqing@dafy.com -E '' -b $'20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170821-达分期团购退款'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170821-达分期团购退款'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170821-达分期团购退款'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170821-达分期团购退款'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276' -e qishanqing@dafy.com -E '' -b $'20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170821-达分期团购退款: command not found
++ for y in '$trunk'
++ echo $'20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276'
+ trunks=$'20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276'
+ test del = add
+ delbranch
+ '[' -z $'20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170828
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708281151
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170828-20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276/Develop/20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708281151-20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170828-20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276/Develop/20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276'
++ awk -F / '{print $7}'
+ br=$'20170828-20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276'
+ access=$'20170828-20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708281151-20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.9968
+ echo $'https://192.168.0.220/svn/tech/Branch/20170821-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\255\351\200\200\346\254\276'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170821-达分期团购退款%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170821-达分期团购退款%'\'';'
+ cat /tmp/cmdb.db.9968
+ rm -f /tmp/cmdb.db.9968
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.1ms)
  Rendered builder/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 1693ms (Views: 102.0ms)


Completed 200 OK in 1693ms (Views: 102.0ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-28 11:51:18 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-28 11:51:18 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.2ms)
  Rendered builder/index.html.erb within layouts/application (4.2ms)
Completed 200 OK in 65ms (Views: 61.8ms)


Completed 200 OK in 65ms (Views: 61.8ms)


Started POST "/start" for 192.168.5.26 at 2017-08-28 14:58:23 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-28 14:58:23 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"sunyankui@dafy.com", "types"=>"add", "trunk"=>"基础业务/用户中心/UserMongoBusiness", "branch"=>"UserMongoBusiness", "user"=>"sunyankui", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"CkVacnOVx2N9/ABE15G7F6Gg9Em7wPXW4wOtbRx4rnmYMsTNQk/zctcl/LeiwlyulOO6ZDvv1kqvlqXFso6cpw=="}
  Parameters: {"email"=>"sunyankui@dafy.com", "types"=>"add", "trunk"=>"基础业务/用户中心/UserMongoBusiness", "branch"=>"UserMongoBusiness", "user"=>"sunyankui", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"CkVacnOVx2N9/ABE15G7F6Gg9Em7wPXW4wOtbRx4rnmYMsTNQk/zctcl/LeiwlyulOO6ZDvv1kqvlqXFso6cpw=="}
pid is 17738
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u sunyankui -t $'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserMongoBusiness' -e sunyankui@dafy.com -E '' -b UserMongoBusiness -T add -d ''
+ TEMP=' -u '\''sunyankui'\'' -t '\''基础业务/用户中心/UserMongoBusiness'\'' -e '\''sunyankui@dafy.com'\'' -E '\'''\'' -b '\''UserMongoBusiness'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''sunyankui'\'' -t '\''基础业务/用户中心/UserMongoBusiness'\'' -e '\''sunyankui@dafy.com'\'' -E '\'''\'' -b '\''UserMongoBusiness'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u sunyankui -t $'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserMongoBusiness' -e sunyankui@dafy.com -E '' -b UserMongoBusiness -T add -d '' --
+ true
+ case "$1" in
+ user=sunyankui
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserMongoBusiness'
+ shift 2
+ true
+ case "$1" in
+ email=sunyankui@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=UserMongoBusiness
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=sunyankui@dafy.com '
+ SMARTCM_EXTRA_MAIL='sunyankui@dafy.com '
++ sunyankui
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: sunyankui: command not found
++ for x in '$user'
++ echo sunyankui=rw
+ users=sunyankui=rw
++ $'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserMongoBusiness'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 基础业务/用户中心/UserMongoBusiness: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserMongoBusiness'
+ trunks=$'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserMongoBusiness'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserMongoBusiness' ']'
+ '[' -z UserMongoBusiness ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170828
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708281458
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserMongoBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170828-UserMongoBusiness/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserMongoBusiness'
+ source_name=https://192.168.0.220/svn/tech/Branch/UserMongoBusiness
+ dest_name=https://192.168.0.220/svn/tech/Branch/Closed/--close+201708281458-UserMongoBusiness
++ echo $'https://192.168.0.220/svn/tech/Branch/20170828-UserMongoBusiness/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserMongoBusiness'
++ awk -F / '{print $7}'
+ br=20170828-UserMongoBusiness
+ access=20170828-UserMongoBusiness
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserMongoBusiness' $'https://192.168.0.220/svn/tech/Branch/20170828-UserMongoBusiness/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserMongoBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.17738
+ echo $'https://192.168.0.220/svn/tech/Branch/20170828-UserMongoBusiness/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserMongoBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/基础业务/用户中心/UserMongoBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170828-UserMongoBusiness/Develop/基础业务/用户中心/UserMongoBusiness'\'',now(),'\''sunyankui'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/基础业务/用户中心/UserMongoBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170828-UserMongoBusiness/Develop/基础业务/用户中心/UserMongoBusiness'\'',now(),'\''sunyankui'\'');'
+ cat /tmp/cmdb.db.17738
+ rm -f /tmp/cmdb.db.17738
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170828-UserMongoBusiness] /svn/authz.conf'
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z sunyankui=rw
+ cat
+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (2.5ms)
  Rendered builder/new.html.erb within layouts/application (2.5ms)
Completed 200 OK in 6058ms (Views: 530.0ms)


Completed 200 OK in 6058ms (Views: 530.0ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-28 16:14:10 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-28 16:14:10 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (20.9ms)
  Rendered builder/index.html.erb within layouts/application (20.9ms)
Completed 200 OK in 403ms (Views: 352.7ms)


Completed 200 OK in 403ms (Views: 352.7ms)


Started POST "/start" for 192.168.5.26 at 2017-08-28 16:14:34 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-28 16:14:34 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/BorrowBusiness 外部业务/P2P/P2PManager", "branch"=>"海尔审核中数据状态排查后台", "user"=>"haochao", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"Av0i4s0dvsCcwjXrueftQmrsZ4MWLxjZT0R59nZv8dKQirxd/MeK0TYbyRjMtAr7X68prpYAO0UD0XFe2JnDDA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/BorrowBusiness 外部业务/P2P/P2PManager", "branch"=>"海尔审核中数据状态排查后台", "user"=>"haochao", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"Av0i4s0dvsCcwjXrueftQmrsZ4MWLxjZT0R59nZv8dKQirxd/MeK0TYbyRjMtAr7X68prpYAO0UD0XFe2JnDDA=="}
pid is 20799
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u haochao -t '外部业务/P2P/Business/BorrowBusiness 外部业务/P2P/P2PManager' -e qishanqing@dafy.com -E '' -b $'\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260' -T add -d ''
+ TEMP=' -u '\''haochao'\'' -t '\''外部业务/P2P/Business/BorrowBusiness 外部业务/P2P/P2PManager'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''海尔审核中数据状态排查后台'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''haochao'\'' -t '\''外部业务/P2P/Business/BorrowBusiness 外部业务/P2P/P2PManager'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''海尔审核中数据状态排查后台'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u haochao -t '外部业务/P2P/Business/BorrowBusiness 外部业务/P2P/P2PManager' -e qishanqing@dafy.com -E '' -b $'\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260' -T add -d '' --
+ true
+ case "$1" in
+ user=haochao
+ shift 2
+ true
+ case "$1" in
+ trunk='外部业务/P2P/Business/BorrowBusiness 外部业务/P2P/P2PManager'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
++ haochao
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: haochao: command not found
++ for x in '$user'
++ echo haochao=rw
+ users=haochao=rw
++ $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness' $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 外部业务/P2P/Business/BorrowBusiness: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ trunks='外部业务/P2P/Business/BorrowBusiness
外部业务/P2P/P2PManager'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness' ']'
+ '[' -z $'\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170828
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708281614
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708281614-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ awk -F / '{print $7}'
+ br=$'20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260'
+ access=$'20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness' $'https://192.168.0.220/svn/tech/Branch/20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.20799
+ echo $'https://192.168.0.220/svn/tech/Branch/20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BorrowBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170828-海尔审核中数据状态排查后台/Develop/外部业务/P2P/Business/BorrowBusiness'\'',now(),'\''qishanqing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/BorrowBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170828-海尔审核中数据状态排查后台/Develop/外部业务/P2P/Business/BorrowBusiness'\'',now(),'\''qishanqing'\'');'
+ cat /tmp/cmdb.db.20799
+ rm -f /tmp/cmdb.db.20799
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170828-海尔审核中数据状态排查后台] /svn/authz.conf'
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z haochao=rw
+ cat
+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager' ']'
+ '[' -z $'\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170828
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708281614
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708281614-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ awk -F / '{print $7}'
+ br=$'20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260'
+ access=$'20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager' $'https://192.168.0.220/svn/tech/Branch/20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.20799
+ echo $'https://192.168.0.220/svn/tech/Branch/20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/P2PManager'\'', '\''https://192.168.0.220/svn/tech/Branch/20170828-海尔审核中数据状态排查后台/Develop/外部业务/P2P/P2PManager'\'',now(),'\''qishanqing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/P2PManager'\'', '\''https://192.168.0.220/svn/tech/Branch/20170828-海尔审核中数据状态排查后台/Develop/外部业务/P2P/P2PManager'\'',now(),'\''qishanqing'\'');'
+ cat /tmp/cmdb.db.20799
+ rm -f /tmp/cmdb.db.20799
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170828-海尔审核中数据状态排查后台] /svn/authz.conf'
+ read num
+ '[' 1 -eq 0 ']'
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.5ms)
  Rendered builder/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 5283ms (Views: 70.7ms)


Completed 200 OK in 5283ms (Views: 70.7ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-28 17:14:07 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-28 17:14:07 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (10.8ms)
  Rendered builder/index.html.erb within layouts/application (10.8ms)
Completed 200 OK in 181ms (Views: 173.1ms)


Completed 200 OK in 181ms (Views: 173.1ms)


Started POST "/start" for 192.168.5.26 at 2017-08-28 17:16:49 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-28 17:16:49 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"renshibo@dafy.com", "types"=>"add", "trunk"=>"前端业务/网站/网站中心/WebSiteManager 自如/客户端升级/客户端/Mobile/MobileUpgradeCenter", "branch"=>"升级服务新增框架MD5", "user"=>"renshibo", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"vraZnvDj0PQP0YZXmn41QqiZCOWIfBTugsu5x6Q/1dIswQchwTnk5aUIeqTvLdL7ndpGyAhTN3LOXrFvCsnnDA=="}
  Parameters: {"email"=>"renshibo@dafy.com", "types"=>"add", "trunk"=>"前端业务/网站/网站中心/WebSiteManager 自如/客户端升级/客户端/Mobile/MobileUpgradeCenter", "branch"=>"升级服务新增框架MD5", "user"=>"renshibo", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"vraZnvDj0PQP0YZXmn41QqiZCOWIfBTugsu5x6Q/1dIswQchwTnk5aUIeqTvLdL7ndpGyAhTN3LOXrFvCsnnDA=="}
pid is 22817
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u renshibo -t '前端业务/网站/网站中心/WebSiteManager 自如/客户端升级/客户端/Mobile/MobileUpgradeCenter' -e renshibo@dafy.com -E '' -b $'\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\346\241\206\346\236\266MD5' -T add -d ''
+ TEMP=' -u '\''renshibo'\'' -t '\''前端业务/网站/网站中心/WebSiteManager 自如/客户端升级/客户端/Mobile/MobileUpgradeCenter'\'' -e '\''renshibo@dafy.com'\'' -E '\'''\'' -b '\''升级服务新增框架MD5'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''renshibo'\'' -t '\''前端业务/网站/网站中心/WebSiteManager 自如/客户端升级/客户端/Mobile/MobileUpgradeCenter'\'' -e '\''renshibo@dafy.com'\'' -E '\'''\'' -b '\''升级服务新增框架MD5'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u renshibo -t '前端业务/网站/网站中心/WebSiteManager 自如/客户端升级/客户端/Mobile/MobileUpgradeCenter' -e renshibo@dafy.com -E '' -b $'\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\346\241\206\346\236\266MD5' -T add -d '' --
+ true
+ case "$1" in
+ user=renshibo
+ shift 2
+ true
+ case "$1" in
+ trunk='前端业务/网站/网站中心/WebSiteManager 自如/客户端升级/客户端/Mobile/MobileUpgradeCenter'
+ shift 2
+ true
+ case "$1" in
+ email=renshibo@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\346\241\206\346\236\266MD5'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=renshibo@dafy.com '
+ SMARTCM_EXTRA_MAIL='renshibo@dafy.com '
++ renshibo
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: renshibo: command not found
++ for x in '$user'
++ echo renshibo=rw
+ users=renshibo=rw
++ $'\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager' $'\350\207\252\345\246\202/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 前端业务/网站/网站中心/WebSiteManager: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
++ for y in '$trunk'
++ echo $'\350\207\252\345\246\202/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ trunks='前端业务/网站/网站中心/WebSiteManager
自如/客户端升级/客户端/Mobile/MobileUpgradeCenter'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager' ']'
+ '[' -z $'\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\346\241\206\346\236\266MD5' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170828
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708281716
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170828-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\346\241\206\346\236\266MD5/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\346\241\206\346\236\266MD5'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708281716-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\346\241\206\346\236\266MD5'
++ awk -F / '{print $7}'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170828-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\346\241\206\346\236\266MD5/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
+ br=$'20170828-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\346\241\206\346\236\266MD5'
+ access=$'20170828-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\346\241\206\346\236\266MD5'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager' $'https://192.168.0.220/svn/tech/Branch/20170828-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\346\241\206\346\236\266MD5/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.22817
+ echo $'https://192.168.0.220/svn/tech/Branch/20170828-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\346\241\206\346\236\266MD5/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteManager'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/网站/网站中心/WebSiteManager'\'', '\''https://192.168.0.220/svn/tech/Branch/20170828-升级服务新增框架MD5/Develop/前端业务/网站/网站中心/WebSiteManager'\'',now(),'\''renshibo'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/网站/网站中心/WebSiteManager'\'', '\''https://192.168.0.220/svn/tech/Branch/20170828-升级服务新增框架MD5/Develop/前端业务/网站/网站中心/WebSiteManager'\'',now(),'\''renshibo'\'');'
+ cat /tmp/cmdb.db.22817
+ rm -f /tmp/cmdb.db.22817
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170828-升级服务新增框架MD5] /svn/authz.conf'
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z renshibo=rw
+ cat
+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ for trunk in '${trunks[@]}'
+ '[' -z $'\350\207\252\345\246\202/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter' ']'
+ '[' -z $'\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\346\241\206\346\236\266MD5' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170828
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708281716
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170828-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\346\241\206\346\236\266MD5/Develop/\350\207\252\345\246\202/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\346\241\206\346\236\266MD5'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708281716-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\346\241\206\346\236\266MD5'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170828-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\346\241\206\346\236\266MD5/Develop/\350\207\252\345\246\202/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
++ awk -F / '{print $7}'
+ br=$'20170828-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\346\241\206\346\236\266MD5'
+ access=$'20170828-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\346\241\206\346\236\266MD5'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter' $'https://192.168.0.220/svn/tech/Branch/20170828-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\346\241\206\346\236\266MD5/Develop/\350\207\252\345\246\202/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.22817
+ echo $'https://192.168.0.220/svn/tech/Branch/20170828-\345\215\207\347\272\247\346\234\215\345\212\241\346\226\260\345\242\236\346\241\206\346\236\266MD5/Develop/\350\207\252\345\246\202/\345\256\242\346\210\267\347\253\257\345\215\207\347\272\247/\345\256\242\346\210\267\347\253\257/Mobile/MobileUpgradeCenter'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/自如/客户端升级/客户端/Mobile/MobileUpgradeCenter'\'', '\''https://192.168.0.220/svn/tech/Branch/20170828-升级服务新增框架MD5/Develop/自如/客户端升级/客户端/Mobile/MobileUpgradeCenter'\'',now(),'\''renshibo'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/自如/客户端升级/客户端/Mobile/MobileUpgradeCenter'\'', '\''https://192.168.0.220/svn/tech/Branch/20170828-升级服务新增框架MD5/Develop/自如/客户端升级/客户端/Mobile/MobileUpgradeCenter'\'',now(),'\''renshibo'\'');'
+ cat /tmp/cmdb.db.22817
+ rm -f /tmp/cmdb.db.22817
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170828-升级服务新增框架MD5] /svn/authz.conf'
+ read num
+ '[' 1 -eq 0 ']'
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (2.8ms)
  Rendered builder/new.html.erb within layouts/application (2.8ms)
Completed 200 OK in 6300ms (Views: 196.7ms)


Completed 200 OK in 6300ms (Views: 196.7ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-28 18:47:21 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-28 18:47:21 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (31.6ms)
  Rendered builder/index.html.erb within layouts/application (31.6ms)
Completed 200 OK in 408ms (Views: 402.8ms)


Completed 200 OK in 408ms (Views: 402.8ms)


Started POST "/start" for 192.168.5.26 at 2017-08-28 18:48:03 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-28 18:48:03 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"hexiangtao@dafy.com", "types"=>"add", "trunk"=>"分期商城/分期商城3.0/MallRefundBusiness 分期商城/分期商城3.0/MallManager", "branch"=>"退货审核增加导出", "user"=>"houdi hexiangtao zhangruiqiang", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"li1keWlDFcY5eVKruJAbTQhojwic//tipluZor+7wVUEWvrGWJkh15OgrljNw/z0PSvBJRzQ2P7qzpEKEU3ziw=="}
  Parameters: {"email"=>"hexiangtao@dafy.com", "types"=>"add", "trunk"=>"分期商城/分期商城3.0/MallRefundBusiness 分期商城/分期商城3.0/MallManager", "branch"=>"退货审核增加导出", "user"=>"houdi hexiangtao zhangruiqiang", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"li1keWlDFcY5eVKruJAbTQhojwic//tipluZor+7wVUEWvrGWJkh15OgrljNw/z0PSvBJRzQ2P7qzpEKEU3ziw=="}
pid is 27960
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'houdi hexiangtao zhangruiqiang' -t '分期商城/分期商城3.0/MallRefundBusiness 分期商城/分期商城3.0/MallManager' -e hexiangtao@dafy.com -E '' -b $'\351\200\200\350\264\247\345\256\241\346\240\270\345\242\236\345\212\240\345\257\274\345\207\272' -T add -d ''
+ TEMP=' -u '\''houdi hexiangtao zhangruiqiang'\'' -t '\''分期商城/分期商城3.0/MallRefundBusiness 分期商城/分期商城3.0/MallManager'\'' -e '\''hexiangtao@dafy.com'\'' -E '\'''\'' -b '\''退货审核增加导出'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''houdi hexiangtao zhangruiqiang'\'' -t '\''分期商城/分期商城3.0/MallRefundBusiness 分期商城/分期商城3.0/MallManager'\'' -e '\''hexiangtao@dafy.com'\'' -E '\'''\'' -b '\''退货审核增加导出'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'houdi hexiangtao zhangruiqiang' -t '分期商城/分期商城3.0/MallRefundBusiness 分期商城/分期商城3.0/MallManager' -e hexiangtao@dafy.com -E '' -b $'\351\200\200\350\264\247\345\256\241\346\240\270\345\242\236\345\212\240\345\257\274\345\207\272' -T add -d '' --
+ true
+ case "$1" in
+ user='houdi hexiangtao zhangruiqiang'
+ shift 2
+ true
+ case "$1" in
+ trunk='分期商城/分期商城3.0/MallRefundBusiness 分期商城/分期商城3.0/MallManager'
+ shift 2
+ true
+ case "$1" in
+ email=hexiangtao@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\351\200\200\350\264\247\345\256\241\346\240\270\345\242\236\345\212\240\345\257\274\345\207\272'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=hexiangtao@dafy.com '
+ SMARTCM_EXTRA_MAIL='hexiangtao@dafy.com '
++ houdi hexiangtao zhangruiqiang
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: houdi: command not found
++ for x in '$user'
++ echo houdi=rw
++ for x in '$user'
++ echo hexiangtao=rw
++ for x in '$user'
++ echo zhangruiqiang=rw
+ users='houdi=rw
hexiangtao=rw
zhangruiqiang=rw'
++ $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness' $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 分期商城/分期商城3.0/MallRefundBusiness: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
++ for y in '$trunk'
++ echo $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ trunks='分期商城/分期商城3.0/MallRefundBusiness
分期商城/分期商城3.0/MallManager'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness' ']'
+ '[' -z $'\351\200\200\350\264\247\345\256\241\346\240\270\345\242\236\345\212\240\345\257\274\345\207\272' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170828
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708281848
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170828-\351\200\200\350\264\247\345\256\241\346\240\270\345\242\236\345\212\240\345\257\274\345\207\272/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\351\200\200\350\264\247\345\256\241\346\240\270\345\242\236\345\212\240\345\257\274\345\207\272'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708281848-\351\200\200\350\264\247\345\256\241\346\240\270\345\242\236\345\212\240\345\257\274\345\207\272'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170828-\351\200\200\350\264\247\345\256\241\346\240\270\345\242\236\345\212\240\345\257\274\345\207\272/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
++ awk -F / '{print $7}'
+ br=$'20170828-\351\200\200\350\264\247\345\256\241\346\240\270\345\242\236\345\212\240\345\257\274\345\207\272'
+ access=$'20170828-\351\200\200\350\264\247\345\256\241\346\240\270\345\242\236\345\212\240\345\257\274\345\207\272'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness' $'https://192.168.0.220/svn/tech/Branch/20170828-\351\200\200\350\264\247\345\256\241\346\240\270\345\242\236\345\212\240\345\257\274\345\207\272/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.27960
+ echo $'https://192.168.0.220/svn/tech/Branch/20170828-\351\200\200\350\264\247\345\256\241\346\240\270\345\242\236\345\212\240\345\257\274\345\207\272/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallRefundBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallRefundBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170828-退货审核增加导出/Develop/分期商城/分期商城3.0/MallRefundBusiness'\'',now(),'\''hexiangtao'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallRefundBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170828-退货审核增加导出/Develop/分期商城/分期商城3.0/MallRefundBusiness'\'',now(),'\''hexiangtao'\'');'
+ cat /tmp/cmdb.db.27960
+ rm -f /tmp/cmdb.db.27960
+ check-acces
+ read num
+ ssh root@192.168.0.220 'grep -c 20170828-退货审核增加导出] /svn/authz.conf'
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z 'houdi=rw
hexiangtao=rw
zhangruiqiang=rw'
+ cat
+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
+ read num
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ cat
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' ']'
+ '[' -z $'\351\200\200\350\264\247\345\256\241\346\240\270\345\242\236\345\212\240\345\257\274\345\207\272' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170828
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708281848
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170828-\351\200\200\350\264\247\345\256\241\346\240\270\345\242\236\345\212\240\345\257\274\345\207\272/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\351\200\200\350\264\247\345\256\241\346\240\270\345\242\236\345\212\240\345\257\274\345\207\272'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708281848-\351\200\200\350\264\247\345\256\241\346\240\270\345\242\236\345\212\240\345\257\274\345\207\272'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170828-\351\200\200\350\264\247\345\256\241\346\240\270\345\242\236\345\212\240\345\257\274\345\207\272/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F / '{print $7}'
+ br=$'20170828-\351\200\200\350\264\247\345\256\241\346\240\270\345\242\236\345\212\240\345\257\274\345\207\272'
+ access=$'20170828-\351\200\200\350\264\247\345\256\241\346\240\270\345\242\236\345\212\240\345\257\274\345\207\272'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' $'https://192.168.0.220/svn/tech/Branch/20170828-\351\200\200\350\264\247\345\256\241\346\240\270\345\242\236\345\212\240\345\257\274\345\207\272/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.27960
+ echo $'https://192.168.0.220/svn/tech/Branch/20170828-\351\200\200\350\264\247\345\256\241\346\240\270\345\242\236\345\212\240\345\257\274\345\207\272/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallManager'\'', '\''https://192.168.0.220/svn/tech/Branch/20170828-退货审核增加导出/Develop/分期商城/分期商城3.0/MallManager'\'',now(),'\''hexiangtao'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城3.0/MallManager'\'', '\''https://192.168.0.220/svn/tech/Branch/20170828-退货审核增加导出/Develop/分期商城/分期商城3.0/MallManager'\'',now(),'\''hexiangtao'\'');'
+ cat /tmp/cmdb.db.27960
+ rm -f /tmp/cmdb.db.27960
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170828-退货审核增加导出] /svn/authz.conf'
+ read num
+ '[' 1 -eq 0 ']'
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (18.2ms)
  Rendered builder/new.html.erb within layouts/application (18.2ms)
Completed 200 OK in 6439ms (Views: 112.8ms)


Completed 200 OK in 6439ms (Views: 112.8ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-29 09:20:52 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-29 09:20:52 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (102.1ms)
  Rendered builder/index.html.erb within layouts/application (102.1ms)
Completed 200 OK in 1040ms (Views: 949.5ms)


Completed 200 OK in 1040ms (Views: 949.5ms)


Started POST "/start" for 192.168.5.26 at 2017-08-29 09:21:17 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-29 09:21:17 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"anliguo@dafy.com", "types"=>"add", "trunk"=>"事事分期/StageAll/MerchantCenter", "branch"=>"达分期商户充值问题处理", "user"=>"anliguo", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"sU2M5V/w0AoL104OvIwAEAZ4OZ+uT9oQzQMkhoQnXo4jOhJabirkG6EOsv3J3+epMzt3si5g+YyBliwuKtFsUA=="}
  Parameters: {"email"=>"anliguo@dafy.com", "types"=>"add", "trunk"=>"事事分期/StageAll/MerchantCenter", "branch"=>"达分期商户充值问题处理", "user"=>"anliguo", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"sU2M5V/w0AoL104OvIwAEAZ4OZ+uT9oQzQMkhoQnXo4jOhJabirkG6EOsv3J3+epMzt3si5g+YyBliwuKtFsUA=="}
pid is 30679
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u anliguo -t $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/MerchantCenter' -e anliguo@dafy.com -E '' -b $'\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\345\205\205\345\200\274\351\227\256\351\242\230\345\244\204\347\220\206' -T add -d ''
+ TEMP=' -u '\''anliguo'\'' -t '\''事事分期/StageAll/MerchantCenter'\'' -e '\''anliguo@dafy.com'\'' -E '\'''\'' -b '\''达分期商户充值问题处理'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''anliguo'\'' -t '\''事事分期/StageAll/MerchantCenter'\'' -e '\''anliguo@dafy.com'\'' -E '\'''\'' -b '\''达分期商户充值问题处理'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u anliguo -t $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/MerchantCenter' -e anliguo@dafy.com -E '' -b $'\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\345\205\205\345\200\274\351\227\256\351\242\230\345\244\204\347\220\206' -T add -d '' --
+ true
+ case "$1" in
+ user=anliguo
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/MerchantCenter'
+ shift 2
+ true
+ case "$1" in
+ email=anliguo@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\345\205\205\345\200\274\351\227\256\351\242\230\345\244\204\347\220\206'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=anliguo@dafy.com '
+ SMARTCM_EXTRA_MAIL='anliguo@dafy.com '
++ anliguo
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: anliguo: command not found
++ for x in '$user'
++ echo anliguo=rw
+ users=anliguo=rw
++ $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/MerchantCenter'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 事事分期/StageAll/MerchantCenter: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/MerchantCenter'
+ trunks=$'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/MerchantCenter'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/MerchantCenter' ']'
+ '[' -z $'\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\345\205\205\345\200\274\351\227\256\351\242\230\345\244\204\347\220\206' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170829
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708290921
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/MerchantCenter'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170829-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\345\205\205\345\200\274\351\227\256\351\242\230\345\244\204\347\220\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/MerchantCenter'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\345\205\205\345\200\274\351\227\256\351\242\230\345\244\204\347\220\206'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708290921-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\345\205\205\345\200\274\351\227\256\351\242\230\345\244\204\347\220\206'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170829-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\345\205\205\345\200\274\351\227\256\351\242\230\345\244\204\347\220\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/MerchantCenter'
++ awk -F / '{print $7}'
+ br=$'20170829-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\345\205\205\345\200\274\351\227\256\351\242\230\345\244\204\347\220\206'
+ access=$'20170829-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\345\205\205\345\200\274\351\227\256\351\242\230\345\244\204\347\220\206'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/MerchantCenter' $'https://192.168.0.220/svn/tech/Branch/20170829-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\345\205\205\345\200\274\351\227\256\351\242\230\345\244\204\347\220\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/MerchantCenter' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.30679
+ echo $'https://192.168.0.220/svn/tech/Branch/20170829-\350\276\276\345\210\206\346\234\237\345\225\206\346\210\267\345\205\205\345\200\274\351\227\256\351\242\230\345\244\204\347\220\206/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/MerchantCenter'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/事事分期/StageAll/MerchantCenter'\'', '\''https://192.168.0.220/svn/tech/Branch/20170829-达分期商户充值问题处理/Develop/事事分期/StageAll/MerchantCenter'\'',now(),'\''anliguo'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/事事分期/StageAll/MerchantCenter'\'', '\''https://192.168.0.220/svn/tech/Branch/20170829-达分期商户充值问题处理/Develop/事事分期/StageAll/MerchantCenter'\'',now(),'\''anliguo'\'');'
+ cat /tmp/cmdb.db.30679
+ rm -f /tmp/cmdb.db.30679
+ check-acces
+ read num
+ ssh root@192.168.0.220 'grep -c 20170829-达分期商户充值问题处理] /svn/authz.conf'
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z anliguo=rw
+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.5ms)
  Rendered builder/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 9720ms (Views: 135.6ms)


Completed 200 OK in 9720ms (Views: 135.6ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-29 09:41:09 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-29 09:41:09 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (47.6ms)
  Rendered merge/index.html.erb within layouts/application (47.6ms)
Completed 200 OK in 165ms (Views: 129.5ms)


Completed 200 OK in 165ms (Views: 129.5ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-29 09:41:19 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-29 09:41:19 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170809-项目分支/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170809-项目分支/Develop/基础业务/用户中心/UserBusiness", "task"=>"http://192.168.0.221/zentao/task-view-45477.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"6n0CppyEha23ZcwYqdrShhCWXDXIPlQt9LzpbL+MMAB4CpwZrV6xvB28MOvciTU/JdUSGEgRd7G4KeHEEXoC3g=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170809-项目分支/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170809-项目分支/Develop/基础业务/用户中心/UserBusiness", "task"=>"http://192.168.0.221/zentao/task-view-45477.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"6n0CppyEha23ZcwYqdrShhCWXDXIPlQt9LzpbL+MMAB4CpwZrV6xvB28MOvciTU/JdUSGEgRd7G4KeHEEXoC3g=="}
pid is 31224
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45477.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170809-项目分支/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170809-项目分支/Develop/基础业务/用户中心/UserBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45477.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170809-项目分支/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170809-项目分支/Develop/基础业务/用户中心/UserBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45477.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170809-项目分支/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170809-项目分支/Develop/基础业务/用户中心/UserBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45477.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170809-项目分支/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170809-项目分支/Develop/基础业务/用户中心/UserBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45477.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170809-项目分支/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170809-项目分支/Develop/基础业务/用户中心/UserBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170809-\351\241\271\347\233\256\345\210\206\346\224\257/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' $'https://192.168.0.220/svn/tech/Branch/20170809-\351\241\271\347\233\256\345\210\206\346\224\257/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170809-项目分支/Develop/老系统/新达飞贷/网站中心/BossSite: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170809-\351\241\271\347\233\256\345\210\206\346\224\257/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170809-\351\241\271\347\233\256\345\210\206\346\224\257/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170809-项目分支/Develop/老系统/新达飞贷/网站中心/BossSite
https://192.168.0.220/svn/tech/Branch/20170809-项目分支/Develop/基础业务/用户中心/UserBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170809-\351\241\271\347\233\256\345\210\206\346\224\257/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170809-\351\241\271\347\233\256\345\210\206\346\224\257/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ rm -f /home/qishanqing/tmp/merged/output.31224
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170809-\351\241\271\347\233\256\345\210\206\346\224\257/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170809-项目分支/Develop/老系统/新达飞贷/网站中心/BossSite'
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ head -n 4
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170809-\351\241\271\347\233\256\345\210\206\346\224\257/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170809-\351\241\271\347\233\256\345\210\206\346\224\257/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r139225 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170809-\351\241\271\347\233\256\345\210\206\346\224\257/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r135405 '
+ '[' '!' -z r135405 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170809-\351\241\271\347\233\256\345\210\206\346\224\257/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r135405' $'https://192.168.0.220/svn/tech/Branch/20170809-\351\241\271\347\233\256\345\210\206\346\224\257/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170809-\351\241\271\347\233\256\345\210\206\346\224\257/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r135405' $'https://192.168.0.220/svn/tech/Branch/20170809-\351\241\271\347\233\256\345\210\206\346\224\257/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45477.html
Merged revision(s) r135405 -r139225   from Branch/20170809-项目分支/Develop/老系统/新达飞贷/网站中心/BossSite' --username qishanqing --password 372233
svn: E155015: 提交失败(细节如下): 
svn: E155015: 提交终止: “/home/qishanqing/workspace/code/Trunk/老系统/新达飞贷/网站中心/BossSite/config/TransFilter.xml” 处于冲突状态
+ die 'Svn merged conflicts the reasons for failure are as follows'
+ echo 'Svn merged conflicts the reasons for failure are as follows'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.31224
+ echo
+ cat /home/qishanqing/tmp/merged/output.31224
+ rm -f /home/qishanqing/tmp/merged/output.31224
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170809-\351\241\271\347\233\256\345\210\206\346\224\257/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170809-\351\241\271\347\233\256\345\210\206\346\224\257/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.31224
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170809-\351\241\271\347\233\256\345\210\206\346\224\257/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170809-项目分支/Develop/基础业务/用户中心/UserBusiness'
+ svn cleanup .
+ xargs rm -rf
+ svn st
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170809-\351\241\271\347\233\256\345\210\206\346\224\257/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170809-\351\241\271\347\233\256\345\210\206\346\224\257/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r135401 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170809-\351\241\271\347\233\256\345\210\206\346\224\257/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r135401 '
+ '[' '!' -z r135401 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170809-\351\241\271\347\233\256\345\210\206\346\224\257/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness@r135401' $'https://192.168.0.220/svn/tech/Branch/20170809-\351\241\271\347\233\256\345\210\206\346\224\257/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170809-\351\241\271\347\233\256\345\210\206\346\224\257/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness@r135401' $'https://192.168.0.220/svn/tech/Branch/20170809-\351\241\271\347\233\256\345\210\206\346\224\257/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45477.html
Merged revision(s) r135401 -r135401   from Branch/20170809-项目分支/Develop/基础业务/用户中心/UserBusiness' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (340.8ms)
  Rendered merge/new.html.erb within layouts/application (340.8ms)
Completed 200 OK in 85460ms (Views: 991.3ms)


Completed 200 OK in 85460ms (Views: 991.3ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-29 09:43:03 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-29 09:43:04 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (81.4ms)
  Rendered merge/index.html.erb within layouts/application (81.4ms)
Completed 200 OK in 306ms (Views: 303.3ms)


Completed 200 OK in 306ms (Views: 303.3ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-29 09:43:11 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-29 09:43:11 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170828-首页改版banner图接口优化/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-45481.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"Ml13RUg806fF8jLQpcbDePoVPEbI6L3xZvmYWr+yIO2gKun6eebntm8rziPQlSTBz1Zya0jHnm0qbJDyEUQSMw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170828-首页改版banner图接口优化/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-45481.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"Ml13RUg806fF8jLQpcbDePoVPEbI6L3xZvmYWr+yIO2gKun6eebntm8rziPQlSTBz1Zya0jHnm0qbJDyEUQSMw=="}
pid is 31364
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45481.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170828-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45481.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170828-首页改版banner图接口优化/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45481.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170828-首页改版banner图接口优化/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45481.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170828-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45481.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170828-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170828-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170828-首页改版banner图接口优化/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170828-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170828-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170828-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170828-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ rm -f /home/qishanqing/tmp/merged/output.31364
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170828-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170828-首页改版banner图接口优化/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170828-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170828-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r141780 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170828-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r141630 '
+ '[' '!' -z r141630 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170828-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r141630' $'https://192.168.0.220/svn/tech/Branch/20170828-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170828-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r141630' $'https://192.168.0.220/svn/tech/Branch/20170828-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45481.html
Merged revision(s) r141630 -r141780   from Branch/20170828-首页改版banner图接口优化/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.6ms)
  Rendered merge/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 49589ms (Views: 155.1ms)


Completed 200 OK in 49589ms (Views: 155.1ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-29 09:44:52 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-29 09:44:52 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.0ms)
  Rendered merge/index.html.erb within layouts/application (4.0ms)
Completed 200 OK in 76ms (Views: 73.0ms)


Completed 200 OK in 76ms (Views: 73.0ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-29 09:44:59 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-29 09:44:59 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170801-配置文件新增服务/Develop/自如/后台服务管理/MobileCashierCenter", "task"=>"http://192.168.0.221/zentao/task-view-45464.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"C6+1puSl4yFVhVOiD5LxDV3cf0ACqtvsyV9OLjeaeauZ2CsZ1X/XMP9cr1F6wRa0aJ8xbYKF+HCFykaGmWxLdQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170801-配置文件新增服务/Develop/自如/后台服务管理/MobileCashierCenter", "task"=>"http://192.168.0.221/zentao/task-view-45464.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"C6+1puSl4yFVhVOiD5LxDV3cf0ACqtvsyV9OLjeaeauZ2CsZ1X/XMP9cr1F6wRa0aJ8xbYKF+HCFykaGmWxLdQ=="}
pid is 31442
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45464.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileCashierCenter' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45464.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170801-配置文件新增服务/Develop/自如/后台服务管理/MobileCashierCenter'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45464.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170801-配置文件新增服务/Develop/自如/后台服务管理/MobileCashierCenter'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45464.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileCashierCenter' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45464.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileCashierCenter'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileCashierCenter'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170801-配置文件新增服务/Develop/自如/后台服务管理/MobileCashierCenter: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileCashierCenter'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileCashierCenter'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileCashierCenter'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileCashierCenter'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileCashierCenter'
+ rm -f /home/qishanqing/tmp/merged/output.31442
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileCashierCenter'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170801-\351\205\215\347\275\256\346\226\207\344\273\266\346\226\260\345\242\236\346\234\215\345\212\241/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileCashierCenter'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileCashierCenter'
+ die '自如/后台服务管理/MobileCashierCenter  project code no found'
+ echo '自如/后台服务管理/MobileCashierCenter  project code no found'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.31442
+ rm -f /home/qishanqing/tmp/merged/output.31442
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.7ms)
  Rendered merge/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 237ms (Views: 79.4ms)


Completed 200 OK in 237ms (Views: 79.4ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-29 09:45:24 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-29 09:45:24 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (111.5ms)
  Rendered merge/index.html.erb within layouts/application (111.5ms)
Completed 200 OK in 1545ms (Views: 1447.6ms)


Completed 200 OK in 1545ms (Views: 1447.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-29 09:45:34 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-29 09:45:34 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170828-360XCD导出优化/Develop/催收/Task/ExportOverdueData", "task"=>"http://192.168.0.221/zentao/task-view-45490.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"NDmnAkKZSp8f8eoEAYfn9fnP6h/qAbvKynzBeXcceC+mTjm9c0N+jrUoFvd01ABMzIykMmoumFaG6cnR2epK8Q=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170828-360XCD导出优化/Develop/催收/Task/ExportOverdueData", "task"=>"http://192.168.0.221/zentao/task-view-45490.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"NDmnAkKZSp8f8eoEAYfn9fnP6h/qAbvKynzBeXcceC+mTjm9c0N+jrUoFvd01ABMzIykMmoumFaG6cnR2epK8Q=="}
pid is 31483
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45490.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170828-360XCD\345\257\274\345\207\272\344\274\230\345\214\226/Develop/\345\202\254\346\224\266/Task/ExportOverdueData' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45490.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170828-360XCD导出优化/Develop/催收/Task/ExportOverdueData'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45490.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170828-360XCD导出优化/Develop/催收/Task/ExportOverdueData'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45490.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170828-360XCD\345\257\274\345\207\272\344\274\230\345\214\226/Develop/\345\202\254\346\224\266/Task/ExportOverdueData' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45490.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170828-360XCD\345\257\274\345\207\272\344\274\230\345\214\226/Develop/\345\202\254\346\224\266/Task/ExportOverdueData'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170828-360XCD\345\257\274\345\207\272\344\274\230\345\214\226/Develop/\345\202\254\346\224\266/Task/ExportOverdueData'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170828-360XCD导出优化/Develop/催收/Task/ExportOverdueData: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170828-360XCD\345\257\274\345\207\272\344\274\230\345\214\226/Develop/\345\202\254\346\224\266/Task/ExportOverdueData'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170828-360XCD\345\257\274\345\207\272\344\274\230\345\214\226/Develop/\345\202\254\346\224\266/Task/ExportOverdueData'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170828-360XCD\345\257\274\345\207\272\344\274\230\345\214\226/Develop/\345\202\254\346\224\266/Task/ExportOverdueData'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\202\254\346\224\266/Task/ExportOverdueData'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170828-360XCD\345\257\274\345\207\272\344\274\230\345\214\226/Develop/\345\202\254\346\224\266/Task/ExportOverdueData'
+ rm -f /home/qishanqing/tmp/merged/output.31483
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\202\254\346\224\266/Task/ExportOverdueData'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170828-360XCD\345\257\274\345\207\272\344\274\230\345\214\226/Develop/\345\202\254\346\224\266/Task/ExportOverdueData'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\202\254\346\224\266/Task/ExportOverdueData'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\202\254\346\224\266/Task/ExportOverdueData'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170828-360XCD导出优化/Develop/催收/Task/ExportOverdueData'
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170828-360XCD\345\257\274\345\207\272\344\274\230\345\214\226/Develop/\345\202\254\346\224\266/Task/ExportOverdueData'
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170828-360XCD\345\257\274\345\207\272\344\274\230\345\214\226/Develop/\345\202\254\346\224\266/Task/ExportOverdueData'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r141871 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170828-360XCD\345\257\274\345\207\272\344\274\230\345\214\226/Develop/\345\202\254\346\224\266/Task/ExportOverdueData'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r141578 '
+ '[' '!' -z r141578 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170828-360XCD\345\257\274\345\207\272\344\274\230\345\214\226/Develop/\345\202\254\346\224\266/Task/ExportOverdueData@r141578' $'https://192.168.0.220/svn/tech/Branch/20170828-360XCD\345\257\274\345\207\272\344\274\230\345\214\226/Develop/\345\202\254\346\224\266/Task/ExportOverdueData' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170828-360XCD\345\257\274\345\207\272\344\274\230\345\214\226/Develop/\345\202\254\346\224\266/Task/ExportOverdueData@r141578' $'https://192.168.0.220/svn/tech/Branch/20170828-360XCD\345\257\274\345\207\272\344\274\230\345\214\226/Develop/\345\202\254\346\224\266/Task/ExportOverdueData'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45490.html
Merged revision(s) r141578 -r141871   from Branch/20170828-360XCD导出优化/Develop/催收/Task/ExportOverdueData' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (0.9ms)
  Rendered merge/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 16946ms (Views: 985.3ms)


Completed 200 OK in 16946ms (Views: 985.3ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-29 09:46:16 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-29 09:46:16 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (262.4ms)
  Rendered builder/index.html.erb within layouts/application (262.4ms)
Completed 200 OK in 836ms (Views: 800.9ms)


Completed 200 OK in 836ms (Views: 800.9ms)


Started POST "/start" for 192.168.5.26 at 2017-08-29 09:46:21 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-29 09:46:21 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170828-360XCD导出优化", "branch"=>"20170828-360XCD导出优化", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"SlkBpgZiCKOfo2KviLkKIgOSa2V52T1A2JqpNCXgkw/YLp8ZN7g8sjV6nlz96u2bNtElSPn2HtyUD6Gcixah0Q=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170828-360XCD导出优化", "branch"=>"20170828-360XCD导出优化", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"SlkBpgZiCKOfo2KviLkKIgOSa2V52T1A2JqpNCXgkw/YLp8ZN7g8sjV6nlz96u2bNtElSPn2HtyUD6Gcixah0Q=="}
pid is 31543
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170828-360XCD\345\257\274\345\207\272\344\274\230\345\214\226' -e qishanqing@dafy.com -E '' -b $'20170828-360XCD\345\257\274\345\207\272\344\274\230\345\214\226' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170828-360XCD导出优化'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170828-360XCD导出优化'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170828-360XCD导出优化'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170828-360XCD导出优化'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170828-360XCD\345\257\274\345\207\272\344\274\230\345\214\226' -e qishanqing@dafy.com -E '' -b $'20170828-360XCD\345\257\274\345\207\272\344\274\230\345\214\226' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170828-360XCD\345\257\274\345\207\272\344\274\230\345\214\226'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170828-360XCD\345\257\274\345\207\272\344\274\230\345\214\226'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170828-360XCD\345\257\274\345\207\272\344\274\230\345\214\226'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170828-360XCD导出优化: command not found
++ for y in '$trunk'
++ echo $'20170828-360XCD\345\257\274\345\207\272\344\274\230\345\214\226'
+ trunks=$'20170828-360XCD\345\257\274\345\207\272\344\274\230\345\214\226'
+ test del = add
+ delbranch
+ '[' -z $'20170828-360XCD\345\257\274\345\207\272\344\274\230\345\214\226' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170829
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708290946
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170828-360XCD\345\257\274\345\207\272\344\274\230\345\214\226'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170829-20170828-360XCD\345\257\274\345\207\272\344\274\230\345\214\226/Develop/20170828-360XCD\345\257\274\345\207\272\344\274\230\345\214\226'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170828-360XCD\345\257\274\345\207\272\344\274\230\345\214\226'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708290946-20170828-360XCD\345\257\274\345\207\272\344\274\230\345\214\226'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170829-20170828-360XCD\345\257\274\345\207\272\344\274\230\345\214\226/Develop/20170828-360XCD\345\257\274\345\207\272\344\274\230\345\214\226'
++ awk -F / '{print $7}'
+ br=$'20170829-20170828-360XCD\345\257\274\345\207\272\344\274\230\345\214\226'
+ access=$'20170829-20170828-360XCD\345\257\274\345\207\272\344\274\230\345\214\226'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170828-360XCD\345\257\274\345\207\272\344\274\230\345\214\226' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708290946-20170828-360XCD\345\257\274\345\207\272\344\274\230\345\214\226' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.31543
+ echo $'https://192.168.0.220/svn/tech/Branch/20170828-360XCD\345\257\274\345\207\272\344\274\230\345\214\226'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170828-360XCD导出优化%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170828-360XCD导出优化%'\'';'
+ cat /tmp/cmdb.db.31543
+ rm -f /tmp/cmdb.db.31543
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (21.9ms)
  Rendered builder/new.html.erb within layouts/application (21.9ms)
Completed 200 OK in 656ms (Views: 77.5ms)


Completed 200 OK in 656ms (Views: 77.5ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-29 09:47:12 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-29 09:47:12 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.4ms)
  Rendered builder/index.html.erb within layouts/application (3.4ms)
Completed 200 OK in 88ms (Views: 85.7ms)


Completed 200 OK in 88ms (Views: 85.7ms)


Started POST "/start" for 192.168.5.26 at 2017-08-29 09:47:15 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-29 09:47:15 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170828-首页改版banner图接口优化", "branch"=>"20170828-首页改版banner图接口优化", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"tS3nW1fiWRIKTroTSLgdZKa+qgi7HDYlun1imOnqXRgnWnnkZjhtA6CXRuA96/rdk/3kJTszFbn26GowRxxvxg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170828-首页改版banner图接口优化", "branch"=>"20170828-首页改版banner图接口优化", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"tS3nW1fiWRIKTroTSLgdZKa+qgi7HDYlun1imOnqXRgnWnnkZjhtA6CXRuA96/rdk/3kJTszFbn26GowRxxvxg=="}
pid is 31602
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170828-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226' -e qishanqing@dafy.com -E '' -b $'20170828-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170828-首页改版banner图接口优化'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170828-首页改版banner图接口优化'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170828-首页改版banner图接口优化'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170828-首页改版banner图接口优化'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170828-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226' -e qishanqing@dafy.com -E '' -b $'20170828-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170828-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170828-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170828-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170828-首页改版banner图接口优化: command not found
++ for y in '$trunk'
++ echo $'20170828-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226'
+ trunks=$'20170828-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226'
+ test del = add
+ delbranch
+ '[' -z $'20170828-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170829
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708290947
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170828-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170829-20170828-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226/Develop/20170828-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170828-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708290947-20170828-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170829-20170828-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226/Develop/20170828-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226'
++ awk -F / '{print $7}'
+ br=$'20170829-20170828-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226'
+ access=$'20170829-20170828-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170828-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708290947-20170828-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.31602
+ echo $'https://192.168.0.220/svn/tech/Branch/20170828-\351\246\226\351\241\265\346\224\271\347\211\210banner\345\233\276\346\216\245\345\217\243\344\274\230\345\214\226'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170828-首页改版banner图接口优化%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170828-首页改版banner图接口优化%'\'';'
+ cat /tmp/cmdb.db.31602
+ rm -f /tmp/cmdb.db.31602
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (14.9ms)
  Rendered builder/new.html.erb within layouts/application (14.9ms)
Completed 200 OK in 1002ms (Views: 114.1ms)


Completed 200 OK in 1002ms (Views: 114.1ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-29 09:47:44 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-29 09:47:44 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (54.7ms)
  Rendered merge/index.html.erb within layouts/application (54.7ms)
Completed 200 OK in 157ms (Views: 149.1ms)


Completed 200 OK in 157ms (Views: 149.1ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-29 09:48:01 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-29 09:48:01 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter", "task"=>"http://192.168.0.221/zentao/task-view-45505.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"i8EdHD7wIaXL7MWrVaw2rjNY/jcIwVyYDX5fGdHjsrMZtoOjDyoVtGE1OVgg/9EXBhuwGojufwRB61exfxWAbQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter", "task"=>"http://192.168.0.221/zentao/task-view-45505.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"i8EdHD7wIaXL7MWrVaw2rjNY/jcIwVyYDX5fGdHjsrMZtoOjDyoVtGE1OVgg/9EXBhuwGojufwRB61exfxWAbQ=="}
pid is 31638
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45505.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45505.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45505.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45505.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45505.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client
https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ rm -f /home/qishanqing/tmp/merged/output.31638
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ mails-cm -i 'code merged from Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r140998 '
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ head='r141931 '
+ '[' '!' -z r140998 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r140998' $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r140998' $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45505.html
Merged revision(s) r140998 -r141931   from Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ rm -f /home/qishanqing/tmp/merged/output.31638
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter'
+ grep '^?'
+ xargs rm -rf
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r141928 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r133140 '
+ '[' '!' -z r133140 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter@r133140' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：8'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2328' ']'
+ die 'Svn merged conflicts the r133140 -r141928  from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter'
+ echo 'Svn merged conflicts the r133140 -r141928  from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter'
+ test -e /home/qishanqing/tmp/merged/output.31638
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.31638
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45505.html
Merged revision(s) r133140 -r141928   from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (2.3ms)
  Rendered merge/new.html.erb within layouts/application (2.3ms)
Completed 200 OK in 56534ms (Views: 72.0ms)


Completed 200 OK in 56534ms (Views: 72.0ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-29 09:51:49 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-29 09:51:49 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.8ms)
  Rendered builder/index.html.erb within layouts/application (3.8ms)
Completed 200 OK in 73ms (Views: 68.8ms)


Completed 200 OK in 73ms (Views: 68.8ms)


Started POST "/start" for 192.168.5.26 at 2017-08-29 09:51:53 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-29 09:51:53 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170809-项目分支", "branch"=>"20170809-项目分支", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"Y1zv5PYtxs9cgYGjWkPX4JuqL2UXyfbm/dMxI81oM2PxK3Fbx/fy3vZYfVAvEDBZrulhSJfm1XqxRjmLY54BvQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170809-项目分支", "branch"=>"20170809-项目分支", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"Y1zv5PYtxs9cgYGjWkPX4JuqL2UXyfbm/dMxI81oM2PxK3Fbx/fy3vZYfVAvEDBZrulhSJfm1XqxRjmLY54BvQ=="}
pid is 31817
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170809-\351\241\271\347\233\256\345\210\206\346\224\257' -e qishanqing@dafy.com -E '' -b $'20170809-\351\241\271\347\233\256\345\210\206\346\224\257' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170809-项目分支'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170809-项目分支'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170809-项目分支'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170809-项目分支'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170809-\351\241\271\347\233\256\345\210\206\346\224\257' -e qishanqing@dafy.com -E '' -b $'20170809-\351\241\271\347\233\256\345\210\206\346\224\257' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170809-\351\241\271\347\233\256\345\210\206\346\224\257'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170809-\351\241\271\347\233\256\345\210\206\346\224\257'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170809-\351\241\271\347\233\256\345\210\206\346\224\257'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170809-项目分支: command not found
++ for y in '$trunk'
++ echo $'20170809-\351\241\271\347\233\256\345\210\206\346\224\257'
+ trunks=$'20170809-\351\241\271\347\233\256\345\210\206\346\224\257'
+ test del = add
+ delbranch
+ '[' -z $'20170809-\351\241\271\347\233\256\345\210\206\346\224\257' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170829
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708290951
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170809-\351\241\271\347\233\256\345\210\206\346\224\257'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170829-20170809-\351\241\271\347\233\256\345\210\206\346\224\257/Develop/20170809-\351\241\271\347\233\256\345\210\206\346\224\257'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170809-\351\241\271\347\233\256\345\210\206\346\224\257'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708290951-20170809-\351\241\271\347\233\256\345\210\206\346\224\257'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170829-20170809-\351\241\271\347\233\256\345\210\206\346\224\257/Develop/20170809-\351\241\271\347\233\256\345\210\206\346\224\257'
++ awk -F / '{print $7}'
+ br=$'20170829-20170809-\351\241\271\347\233\256\345\210\206\346\224\257'
+ access=$'20170829-20170809-\351\241\271\347\233\256\345\210\206\346\224\257'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170809-\351\241\271\347\233\256\345\210\206\346\224\257' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708290951-20170809-\351\241\271\347\233\256\345\210\206\346\224\257' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.31817
+ echo $'https://192.168.0.220/svn/tech/Branch/20170809-\351\241\271\347\233\256\345\210\206\346\224\257'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170809-项目分支%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170809-项目分支%'\'';'
+ cat /tmp/cmdb.db.31817
+ rm -f /tmp/cmdb.db.31817
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.4ms)
  Rendered builder/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 560ms (Views: 77.4ms)


Completed 200 OK in 560ms (Views: 77.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-29 10:23:16 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-29 10:23:16 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.5ms)
  Rendered builder/index.html.erb within layouts/application (3.5ms)
Completed 200 OK in 210ms (Views: 207.9ms)


Completed 200 OK in 210ms (Views: 207.9ms)


Started POST "/start" for 192.168.5.26 at 2017-08-29 10:24:33 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-29 10:24:33 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"liuxueqin@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "branch"=>"首页把默认图去掉", "user"=>"chenhangzheng \tliuxueqin wanghaixin", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"I6ccVD9OsuqH1Y9brAb4r3gsiNx6skAI4YBFCulrnNCx0ILrDpSG+y0Mc6jZVR8WTW/G8fqdY5StFU2iR52uDg=="}
  Parameters: {"email"=>"liuxueqin@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "branch"=>"首页把默认图去掉", "user"=>"chenhangzheng \tliuxueqin wanghaixin", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"I6ccVD9OsuqH1Y9brAb4r3gsiNx6skAI4YBFCulrnNCx0ILrDpSG+y0Mc6jZVR8WTW/G8fqdY5StFU2iR52uDg=="}
pid is 752
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'chenhangzheng 	liuxueqin wanghaixin' -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -e liuxueqin@dafy.com -E '' -b $'\351\246\226\351\241\265\346\212\212\351\273\230\350\256\244\345\233\276\345\216\273\346\216\211' -T add -d ''
+ TEMP=' -u '\''chenhangzheng 	liuxueqin wanghaixin'\'' -t '\''前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -e '\''liuxueqin@dafy.com'\'' -E '\'''\'' -b '\''首页把默认图去掉'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''chenhangzheng 	liuxueqin wanghaixin'\'' -t '\''前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -e '\''liuxueqin@dafy.com'\'' -E '\'''\'' -b '\''首页把默认图去掉'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'chenhangzheng 	liuxueqin wanghaixin' -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -e liuxueqin@dafy.com -E '' -b $'\351\246\226\351\241\265\346\212\212\351\273\230\350\256\244\345\233\276\345\216\273\346\216\211' -T add -d '' --
+ true
+ case "$1" in
+ user='chenhangzheng 	liuxueqin wanghaixin'
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ shift 2
+ true
+ case "$1" in
+ email=liuxueqin@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\351\246\226\351\241\265\346\212\212\351\273\230\350\256\244\345\233\276\345\216\273\346\216\211'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=liuxueqin@dafy.com '
+ SMARTCM_EXTRA_MAIL='liuxueqin@dafy.com '
++ chenhangzheng liuxueqin wanghaixin
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: chenhangzheng: command not found
++ for x in '$user'
++ echo chenhangzheng=rw
++ for x in '$user'
++ echo liuxueqin=rw
++ for x in '$user'
++ echo wanghaixin=rw
+ users='chenhangzheng=rw
liuxueqin=rw
wanghaixin=rw'
++ $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ trunks=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' ']'
+ '[' -z $'\351\246\226\351\241\265\346\212\212\351\273\230\350\256\244\345\233\276\345\216\273\346\216\211' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170829
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708291024
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170829-\351\246\226\351\241\265\346\212\212\351\273\230\350\256\244\345\233\276\345\216\273\346\216\211/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\351\246\226\351\241\265\346\212\212\351\273\230\350\256\244\345\233\276\345\216\273\346\216\211'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708291024-\351\246\226\351\241\265\346\212\212\351\273\230\350\256\244\345\233\276\345\216\273\346\216\211'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170829-\351\246\226\351\241\265\346\212\212\351\273\230\350\256\244\345\233\276\345\216\273\346\216\211/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F / '{print $7}'
+ br=$'20170829-\351\246\226\351\241\265\346\212\212\351\273\230\350\256\244\345\233\276\345\216\273\346\216\211'
+ access=$'20170829-\351\246\226\351\241\265\346\212\212\351\273\230\350\256\244\345\233\276\345\216\273\346\216\211'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' $'https://192.168.0.220/svn/tech/Branch/20170829-\351\246\226\351\241\265\346\212\212\351\273\230\350\256\244\345\233\276\345\216\273\346\216\211/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.752
+ echo $'https://192.168.0.220/svn/tech/Branch/20170829-\351\246\226\351\241\265\346\212\212\351\273\230\350\256\244\345\233\276\345\216\273\346\216\211/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'', '\''https://192.168.0.220/svn/tech/Branch/20170829-首页把默认图去掉/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'',now(),'\''liuxueqin'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'', '\''https://192.168.0.220/svn/tech/Branch/20170829-首页把默认图去掉/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'',now(),'\''liuxueqin'\'');'
+ cat /tmp/cmdb.db.752
+ rm -f /tmp/cmdb.db.752
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170829-首页把默认图去掉] /svn/authz.conf'
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z 'chenhangzheng=rw
liuxueqin=rw
wanghaixin=rw'
+ cat
+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.4ms)
  Rendered builder/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 5166ms (Views: 71.0ms)


Completed 200 OK in 5166ms (Views: 71.0ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-29 10:24:42 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-29 10:24:42 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (5.0ms)
  Rendered builder/index.html.erb within layouts/application (5.0ms)
Completed 200 OK in 239ms (Views: 236.0ms)


Completed 200 OK in 239ms (Views: 236.0ms)


Started POST "/start" for 192.168.5.26 at 2017-08-29 10:25:03 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-29 10:25:03 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"liuxueqin@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "branch"=>"", "user"=>"chenhangzheng \tliuxueqin", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"o86DHaTFca3mRH0MG8xK495joLDwbgo9XMdeMDjeBxMxuR2ilR9FvEydgf9un61a6yDunXBBKaEQUlaYlig1zQ=="}
  Parameters: {"email"=>"liuxueqin@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "branch"=>"", "user"=>"chenhangzheng \tliuxueqin", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"o86DHaTFca3mRH0MG8xK495joLDwbgo9XMdeMDjeBxMxuR2ilR9FvEydgf9un61a6yDunXBBKaEQUlaYlig1zQ=="}
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.3ms)
  Rendered builder/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 95ms (Views: 92.9ms)


Completed 200 OK in 95ms (Views: 92.9ms)


Started POST "/start" for 192.168.5.26 at 2017-08-29 10:25:18 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-29 10:25:18 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "branch"=>"", "user"=>"chenhangzheng \tliuxueqin", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"zpm9m+RXcIjsb8pTHtnu73Rwd/Vo2719oORYTovqZKJc7iMk1Y1EmUa2NqBriglWQTM52Oj0nuHscVDmJRxWfA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "branch"=>"", "user"=>"chenhangzheng \tliuxueqin", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"zpm9m+RXcIjsb8pTHtnu73Rwd/Vo2719oORYTovqZKJc7iMk1Y1EmUa2NqBriglWQTM52Oj0nuHscVDmJRxWfA=="}
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.9ms)
  Rendered builder/index.html.erb within layouts/application (4.9ms)
Completed 200 OK in 93ms (Views: 85.3ms)


Completed 200 OK in 93ms (Views: 85.3ms)


Started POST "/start" for 192.168.5.26 at 2017-08-29 10:25:30 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-29 10:25:30 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "branch"=>"用户推荐改版", "user"=>"chenhangzheng \tliuxueqin", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"g09O8g1WLLRKaXcNpAuTUtjPmXH3M87U3+DTlUUu0lYRONBNPIwYpeCwi/7RWHTr7YzXXHcc7UiTdds969jgiA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "branch"=>"用户推荐改版", "user"=>"chenhangzheng \tliuxueqin", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"g09O8g1WLLRKaXcNpAuTUtjPmXH3M87U3+DTlUUu0lYRONBNPIwYpeCwi/7RWHTr7YzXXHcc7UiTdds969jgiA=="}
pid is 840
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'chenhangzheng 	liuxueqin' -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -e qishanqing@dafy.com -E '' -b $'\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210' -T add -d ''
+ TEMP=' -u '\''chenhangzheng 	liuxueqin'\'' -t '\''前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''用户推荐改版'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''chenhangzheng 	liuxueqin'\'' -t '\''前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''用户推荐改版'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'chenhangzheng 	liuxueqin' -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -e qishanqing@dafy.com -E '' -b $'\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210' -T add -d '' --
+ true
+ case "$1" in
+ user='chenhangzheng 	liuxueqin'
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
++ chenhangzheng liuxueqin
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: chenhangzheng: command not found
++ for x in '$user'
++ echo chenhangzheng=rw
++ for x in '$user'
++ echo liuxueqin=rw
+ users='chenhangzheng=rw
liuxueqin=rw'
++ $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ trunks=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' ']'
+ '[' -z $'\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170829
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708291025
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708291025-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210'
++ awk -F / '{print $7}'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ br=$'20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210'
+ access=$'20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.840
+ echo $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'', '\''https://192.168.0.220/svn/tech/Branch/20170829-用户推荐改版/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'',now(),'\''qishanqing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'', '\''https://192.168.0.220/svn/tech/Branch/20170829-用户推荐改版/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'',now(),'\''qishanqing'\'');'
+ cat /tmp/cmdb.db.840
+ rm -f /tmp/cmdb.db.840
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170829-用户推荐改版] /svn/authz.conf'
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z 'chenhangzheng=rw
liuxueqin=rw'
+ cat
+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (2.6ms)
  Rendered builder/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 6951ms (Views: 92.6ms)


Completed 200 OK in 6951ms (Views: 92.6ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-29 10:25:39 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-29 10:25:39 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.7ms)
  Rendered builder/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 357ms (Views: 354.4ms)


Completed 200 OK in 357ms (Views: 354.4ms)


Started POST "/start" for 192.168.5.26 at 2017-08-29 10:26:49 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-29 10:26:49 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"liuxueqin@dafy.com", "types"=>"add", "trunk"=>"自如/后台服务管理/ShareWebCenter", "branch"=>"用户推荐改版", "user"=>"chenhangzheng \tliuxueqin", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"EWogZsbAfRXqZQj9VznaCRjJRXmFqEYyK3rofHO6OcaDHb7Z9xpJBEC89A4iaj2wLYoLVAWHZa5n7+DU3UwLGA=="}
  Parameters: {"email"=>"liuxueqin@dafy.com", "types"=>"add", "trunk"=>"自如/后台服务管理/ShareWebCenter", "branch"=>"用户推荐改版", "user"=>"chenhangzheng \tliuxueqin", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"EWogZsbAfRXqZQj9VznaCRjJRXmFqEYyK3rofHO6OcaDHb7Z9xpJBEC89A4iaj2wLYoLVAWHZa5n7+DU3UwLGA=="}
pid is 1116
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'chenhangzheng 	liuxueqin' -t $'\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/ShareWebCenter' -e liuxueqin@dafy.com -E '' -b $'\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210' -T add -d ''
+ TEMP=' -u '\''chenhangzheng 	liuxueqin'\'' -t '\''自如/后台服务管理/ShareWebCenter'\'' -e '\''liuxueqin@dafy.com'\'' -E '\'''\'' -b '\''用户推荐改版'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''chenhangzheng 	liuxueqin'\'' -t '\''自如/后台服务管理/ShareWebCenter'\'' -e '\''liuxueqin@dafy.com'\'' -E '\'''\'' -b '\''用户推荐改版'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'chenhangzheng 	liuxueqin' -t $'\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/ShareWebCenter' -e liuxueqin@dafy.com -E '' -b $'\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210' -T add -d '' --
+ true
+ case "$1" in
+ user='chenhangzheng 	liuxueqin'
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/ShareWebCenter'
+ shift 2
+ true
+ case "$1" in
+ email=liuxueqin@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=liuxueqin@dafy.com '
+ SMARTCM_EXTRA_MAIL='liuxueqin@dafy.com '
++ chenhangzheng liuxueqin
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: chenhangzheng: command not found
++ for x in '$user'
++ echo chenhangzheng=rw
++ for x in '$user'
++ echo liuxueqin=rw
+ users='chenhangzheng=rw
liuxueqin=rw'
++ $'\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/ShareWebCenter'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 自如/后台服务管理/ShareWebCenter: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/ShareWebCenter'
+ trunks=$'\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/ShareWebCenter'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/ShareWebCenter' ']'
+ '[' -z $'\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170829
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708291026
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/ShareWebCenter'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/ShareWebCenter'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708291026-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/ShareWebCenter'
++ awk -F / '{print $7}'
+ br=$'20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210'
+ access=$'20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/ShareWebCenter' $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/ShareWebCenter' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.1116
+ echo $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/ShareWebCenter'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/自如/后台服务管理/ShareWebCenter'\'', '\''https://192.168.0.220/svn/tech/Branch/20170829-用户推荐改版/Develop/自如/后台服务管理/ShareWebCenter'\'',now(),'\''liuxueqin'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/自如/后台服务管理/ShareWebCenter'\'', '\''https://192.168.0.220/svn/tech/Branch/20170829-用户推荐改版/Develop/自如/后台服务管理/ShareWebCenter'\'',now(),'\''liuxueqin'\'');'
+ cat /tmp/cmdb.db.1116
+ rm -f /tmp/cmdb.db.1116
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170829-用户推荐改版] /svn/authz.conf'
+ read num
+ '[' 1 -eq 0 ']'
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.5ms)
  Rendered builder/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 620ms (Views: 113.1ms)


Completed 200 OK in 620ms (Views: 113.1ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-29 10:51:25 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-29 10:51:25 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (15.0ms)
  Rendered merge/index.html.erb within layouts/application (15.0ms)
Completed 200 OK in 381ms (Views: 378.2ms)


Completed 200 OK in 381ms (Views: 378.2ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-29 10:51:32 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-29 10:51:32 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170822-添加查询接口/Develop/基础业务/账户中心/HaierGateway/HaierGateway", "task"=>"http://192.168.0.221/zentao/task-view-44824.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"+NmnVQJfJ3DbhIOgrK+91E6eIeHxXF/nhqxd22dD2D9qrjnqM4UTYXFdf1PZ/Fpte91vzHFzfHvKOVVzybXq4Q=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170822-添加查询接口/Develop/基础业务/账户中心/HaierGateway/HaierGateway", "task"=>"http://192.168.0.221/zentao/task-view-44824.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"+NmnVQJfJ3DbhIOgrK+91E6eIeHxXF/nhqxd22dD2D9qrjnqM4UTYXFdf1PZ/Fpte91vzHFzfHvKOVVzybXq4Q=="}
pid is 3055
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-44824.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170822-\346\267\273\345\212\240\346\237\245\350\257\242\346\216\245\345\217\243/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/HaierGateway/HaierGateway' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-44824.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170822-添加查询接口/Develop/基础业务/账户中心/HaierGateway/HaierGateway'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-44824.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170822-添加查询接口/Develop/基础业务/账户中心/HaierGateway/HaierGateway'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-44824.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170822-\346\267\273\345\212\240\346\237\245\350\257\242\346\216\245\345\217\243/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/HaierGateway/HaierGateway' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-44824.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170822-\346\267\273\345\212\240\346\237\245\350\257\242\346\216\245\345\217\243/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/HaierGateway/HaierGateway'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170822-\346\267\273\345\212\240\346\237\245\350\257\242\346\216\245\345\217\243/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/HaierGateway/HaierGateway'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170822-添加查询接口/Develop/基础业务/账户中心/HaierGateway/HaierGateway: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170822-\346\267\273\345\212\240\346\237\245\350\257\242\346\216\245\345\217\243/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/HaierGateway/HaierGateway'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170822-\346\267\273\345\212\240\346\237\245\350\257\242\346\216\245\345\217\243/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/HaierGateway/HaierGateway'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170822-\346\267\273\345\212\240\346\237\245\350\257\242\346\216\245\345\217\243/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/HaierGateway/HaierGateway'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/HaierGateway/HaierGateway'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170822-\346\267\273\345\212\240\346\237\245\350\257\242\346\216\245\345\217\243/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/HaierGateway/HaierGateway'
+ rm -f /home/qishanqing/tmp/merged/output.3055
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/HaierGateway/HaierGateway'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170822-\346\267\273\345\212\240\346\237\245\350\257\242\346\216\245\345\217\243/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/HaierGateway/HaierGateway'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/HaierGateway/HaierGateway'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/HaierGateway/HaierGateway'
+ mails-cm -i 'code merged from Branch/20170822-添加查询接口/Develop/基础业务/账户中心/HaierGateway/HaierGateway'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ head -n 4
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170822-\346\267\273\345\212\240\346\237\245\350\257\242\346\216\245\345\217\243/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/HaierGateway/HaierGateway'
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170822-\346\267\273\345\212\240\346\237\245\350\257\242\346\216\245\345\217\243/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/HaierGateway/HaierGateway'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r140000 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170822-\346\267\273\345\212\240\346\237\245\350\257\242\346\216\245\345\217\243/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/HaierGateway/HaierGateway'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r139937 '
+ '[' '!' -z r139937 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170822-\346\267\273\345\212\240\346\237\245\350\257\242\346\216\245\345\217\243/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/HaierGateway/HaierGateway@r139937' $'https://192.168.0.220/svn/tech/Branch/20170822-\346\267\273\345\212\240\346\237\245\350\257\242\346\216\245\345\217\243/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/HaierGateway/HaierGateway' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170822-\346\267\273\345\212\240\346\237\245\350\257\242\346\216\245\345\217\243/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/HaierGateway/HaierGateway@r139937' $'https://192.168.0.220/svn/tech/Branch/20170822-\346\267\273\345\212\240\346\237\245\350\257\242\346\216\245\345\217\243/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/HaierGateway/HaierGateway'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-44824.html
Merged revision(s) r139937 -r140000   from Branch/20170822-添加查询接口/Develop/基础业务/账户中心/HaierGateway/HaierGateway' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.9ms)
  Rendered merge/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 26605ms (Views: 69.4ms)


Completed 200 OK in 26605ms (Views: 69.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-29 10:53:20 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-29 10:53:20 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (4.5ms)
  Rendered builder/index.html.erb within layouts/application (4.5ms)
Completed 200 OK in 210ms (Views: 207.0ms)


Completed 200 OK in 210ms (Views: 207.0ms)


Started POST "/start" for 192.168.5.26 at 2017-08-29 10:53:24 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-29 10:53:24 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170822-添加查询接口", "branch"=>"20170822-添加查询接口", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"F1KDLMsWcBH6VJsV3wDcI9ShOQj55nehsAVsB1GqRQiFJR2T+sxEAFCNZ+aqUzua4eJ3JXnJVD38kGSv/1x31g=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170822-添加查询接口", "branch"=>"20170822-添加查询接口", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"F1KDLMsWcBH6VJsV3wDcI9ShOQj55nehsAVsB1GqRQiFJR2T+sxEAFCNZ+aqUzua4eJ3JXnJVD38kGSv/1x31g=="}
pid is 3139
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170822-\346\267\273\345\212\240\346\237\245\350\257\242\346\216\245\345\217\243' -e qishanqing@dafy.com -E '' -b $'20170822-\346\267\273\345\212\240\346\237\245\350\257\242\346\216\245\345\217\243' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170822-添加查询接口'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170822-添加查询接口'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170822-添加查询接口'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170822-添加查询接口'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170822-\346\267\273\345\212\240\346\237\245\350\257\242\346\216\245\345\217\243' -e qishanqing@dafy.com -E '' -b $'20170822-\346\267\273\345\212\240\346\237\245\350\257\242\346\216\245\345\217\243' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170822-\346\267\273\345\212\240\346\237\245\350\257\242\346\216\245\345\217\243'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170822-\346\267\273\345\212\240\346\237\245\350\257\242\346\216\245\345\217\243'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170822-\346\267\273\345\212\240\346\237\245\350\257\242\346\216\245\345\217\243'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170822-添加查询接口: command not found
++ for y in '$trunk'
++ echo $'20170822-\346\267\273\345\212\240\346\237\245\350\257\242\346\216\245\345\217\243'
+ trunks=$'20170822-\346\267\273\345\212\240\346\237\245\350\257\242\346\216\245\345\217\243'
+ test del = add
+ delbranch
+ '[' -z $'20170822-\346\267\273\345\212\240\346\237\245\350\257\242\346\216\245\345\217\243' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170829
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708291053
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170822-\346\267\273\345\212\240\346\237\245\350\257\242\346\216\245\345\217\243'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170829-20170822-\346\267\273\345\212\240\346\237\245\350\257\242\346\216\245\345\217\243/Develop/20170822-\346\267\273\345\212\240\346\237\245\350\257\242\346\216\245\345\217\243'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170822-\346\267\273\345\212\240\346\237\245\350\257\242\346\216\245\345\217\243'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708291053-20170822-\346\267\273\345\212\240\346\237\245\350\257\242\346\216\245\345\217\243'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170829-20170822-\346\267\273\345\212\240\346\237\245\350\257\242\346\216\245\345\217\243/Develop/20170822-\346\267\273\345\212\240\346\237\245\350\257\242\346\216\245\345\217\243'
++ awk -F / '{print $7}'
+ br=$'20170829-20170822-\346\267\273\345\212\240\346\237\245\350\257\242\346\216\245\345\217\243'
+ access=$'20170829-20170822-\346\267\273\345\212\240\346\237\245\350\257\242\346\216\245\345\217\243'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170822-\346\267\273\345\212\240\346\237\245\350\257\242\346\216\245\345\217\243' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708291053-20170822-\346\267\273\345\212\240\346\237\245\350\257\242\346\216\245\345\217\243' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.3139
+ echo $'https://192.168.0.220/svn/tech/Branch/20170822-\346\267\273\345\212\240\346\237\245\350\257\242\346\216\245\345\217\243'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170822-添加查询接口%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170822-添加查询接口%'\'';'
+ cat /tmp/cmdb.db.3139
+ rm -f /tmp/cmdb.db.3139
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.6ms)
  Rendered builder/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 4727ms (Views: 64.6ms)


Completed 200 OK in 4727ms (Views: 64.6ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-29 10:55:57 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-29 10:55:57 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.9ms)
  Rendered builder/index.html.erb within layouts/application (3.9ms)
Completed 200 OK in 130ms (Views: 127.2ms)


Completed 200 OK in 130ms (Views: 127.2ms)


Started POST "/start" for 192.168.5.26 at 2017-08-29 10:56:27 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-29 10:56:27 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"songxinyu@dafy.com", "types"=>"add", "trunk"=>"基础业务/账户中心/HaierGateway/HaierGateway", "branch"=>"进件风控接口", "user"=>"songxinyu", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"9gFQYVjkBq0j5mC3gv7nzSx3Tl5ZdrIa12bREki+Lntkds7eaT4yvIk/nET3rQB0GTQAc9lZkYab89m65kgcpQ=="}
  Parameters: {"email"=>"songxinyu@dafy.com", "types"=>"add", "trunk"=>"基础业务/账户中心/HaierGateway/HaierGateway", "branch"=>"进件风控接口", "user"=>"songxinyu", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"9gFQYVjkBq0j5mC3gv7nzSx3Tl5ZdrIa12bREki+Lntkds7eaT4yvIk/nET3rQB0GTQAc9lZkYab89m65kgcpQ=="}
pid is 3244
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u songxinyu -t $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/HaierGateway/HaierGateway' -e songxinyu@dafy.com -E '' -b $'\350\277\233\344\273\266\351\243\216\346\216\247\346\216\245\345\217\243' -T add -d ''
+ TEMP=' -u '\''songxinyu'\'' -t '\''基础业务/账户中心/HaierGateway/HaierGateway'\'' -e '\''songxinyu@dafy.com'\'' -E '\'''\'' -b '\''进件风控接口'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''songxinyu'\'' -t '\''基础业务/账户中心/HaierGateway/HaierGateway'\'' -e '\''songxinyu@dafy.com'\'' -E '\'''\'' -b '\''进件风控接口'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u songxinyu -t $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/HaierGateway/HaierGateway' -e songxinyu@dafy.com -E '' -b $'\350\277\233\344\273\266\351\243\216\346\216\247\346\216\245\345\217\243' -T add -d '' --
+ true
+ case "$1" in
+ user=songxinyu
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/HaierGateway/HaierGateway'
+ shift 2
+ true
+ case "$1" in
+ email=songxinyu@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\350\277\233\344\273\266\351\243\216\346\216\247\346\216\245\345\217\243'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=songxinyu@dafy.com '
+ SMARTCM_EXTRA_MAIL='songxinyu@dafy.com '
++ songxinyu
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: songxinyu: command not found
++ for x in '$user'
++ echo songxinyu=rw
+ users=songxinyu=rw
++ $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/HaierGateway/HaierGateway'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 基础业务/账户中心/HaierGateway/HaierGateway: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/HaierGateway/HaierGateway'
+ trunks=$'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/HaierGateway/HaierGateway'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/HaierGateway/HaierGateway' ']'
+ '[' -z $'\350\277\233\344\273\266\351\243\216\346\216\247\346\216\245\345\217\243' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170829
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708291056
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/HaierGateway/HaierGateway'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170829-\350\277\233\344\273\266\351\243\216\346\216\247\346\216\245\345\217\243/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/HaierGateway/HaierGateway'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\350\277\233\344\273\266\351\243\216\346\216\247\346\216\245\345\217\243'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708291056-\350\277\233\344\273\266\351\243\216\346\216\247\346\216\245\345\217\243'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170829-\350\277\233\344\273\266\351\243\216\346\216\247\346\216\245\345\217\243/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/HaierGateway/HaierGateway'
++ awk -F / '{print $7}'
+ br=$'20170829-\350\277\233\344\273\266\351\243\216\346\216\247\346\216\245\345\217\243'
+ access=$'20170829-\350\277\233\344\273\266\351\243\216\346\216\247\346\216\245\345\217\243'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/HaierGateway/HaierGateway' $'https://192.168.0.220/svn/tech/Branch/20170829-\350\277\233\344\273\266\351\243\216\346\216\247\346\216\245\345\217\243/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/HaierGateway/HaierGateway' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.3244
+ echo $'https://192.168.0.220/svn/tech/Branch/20170829-\350\277\233\344\273\266\351\243\216\346\216\247\346\216\245\345\217\243/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/HaierGateway/HaierGateway'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/基础业务/账户中心/HaierGateway/HaierGateway'\'', '\''https://192.168.0.220/svn/tech/Branch/20170829-进件风控接口/Develop/基础业务/账户中心/HaierGateway/HaierGateway'\'',now(),'\''songxinyu'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/基础业务/账户中心/HaierGateway/HaierGateway'\'', '\''https://192.168.0.220/svn/tech/Branch/20170829-进件风控接口/Develop/基础业务/账户中心/HaierGateway/HaierGateway'\'',now(),'\''songxinyu'\'');'
+ cat /tmp/cmdb.db.3244
+ rm -f /tmp/cmdb.db.3244
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170829-进件风控接口] /svn/authz.conf'
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z songxinyu=rw
+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (264.0ms)
  Rendered builder/new.html.erb within layouts/application (264.0ms)
Completed 200 OK in 5524ms (Views: 332.3ms)


Completed 200 OK in 5524ms (Views: 332.3ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-29 11:43:08 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-29 11:43:08 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (79.2ms)
  Rendered merge/index.html.erb within layouts/application (79.2ms)
Completed 200 OK in 1256ms (Views: 1082.6ms)


Completed 200 OK in 1256ms (Views: 1082.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-29 11:43:17 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-29 11:43:17 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/基础业务/用户中心/UserBusiness", "task"=>"http://192.168.0.221/zentao/task-view-45534.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"LUCZIu/8IvhX17NxqHSVlq7b9ccYsU+8ktKqCbTwJwO/Nwed3iYW6f0OT4LdJ3Ivm5i76piebCDeR6KhGgYV3Q=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/基础业务/用户中心/UserBusiness", "task"=>"http://192.168.0.221/zentao/task-view-45534.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"LUCZIu/8IvhX17NxqHSVlq7b9ccYsU+8ktKqCbTwJwO/Nwed3iYW6f0OT4LdJ3Ivm5i76piebCDeR6KhGgYV3Q=="}
pid is 5245
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45534.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45534.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/基础业务/用户中心/UserBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45534.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/基础业务/用户中心/UserBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45534.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45534.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/基础业务/用户中心/UserBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.5245
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170824-借款协议改造/Develop/基础业务/用户中心/UserBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ head -n 4
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ awk -F '|' '{print$1}'
+ revision=
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ head='r142033 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
++ tail -n 4
+ revision='r140483 '
+ '[' '!' -z r140483 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness@r140483' $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness@r140483' $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45534.html
Merged revision(s) r140483 -r142033   from Branch/20170824-借款协议改造/Develop/基础业务/用户中心/UserBusiness' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.6ms)
  Rendered merge/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 42242ms (Views: 317.4ms)


Completed 200 OK in 42242ms (Views: 317.4ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-29 11:56:44 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-29 11:56:45 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (63.8ms)
  Rendered builder/index.html.erb within layouts/application (63.8ms)
Completed 200 OK in 593ms (Views: 539.2ms)


Completed 200 OK in 593ms (Views: 539.2ms)


Started POST "/start" for 192.168.5.26 at 2017-08-29 11:57:04 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-29 11:57:04 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"zhanghui@dafy.com", "types"=>"add", "trunk"=>"催收/服务/overdueBusiness", "branch"=>"催收逾期数据上传回钱快接口", "user"=>"zhanghui", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"kjngHoTzE284+XHGiuHfAVq2GCwCQLd5rVs5vypNaVgATn6htSknfpIgjTX/sji4b/VWAYJvlOXhzjEXhLtbhg=="}
  Parameters: {"email"=>"zhanghui@dafy.com", "types"=>"add", "trunk"=>"催收/服务/overdueBusiness", "branch"=>"催收逾期数据上传回钱快接口", "user"=>"zhanghui", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"kjngHoTzE284+XHGiuHfAVq2GCwCQLd5rVs5vypNaVgATn6htSknfpIgjTX/sji4b/VWAYJvlOXhzjEXhLtbhg=="}
pid is 6310
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u zhanghui -t $'\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness' -e zhanghui@dafy.com -E '' -b $'\345\202\254\346\224\266\351\200\276\346\234\237\346\225\260\346\215\256\344\270\212\344\274\240\345\233\236\351\222\261\345\277\253\346\216\245\345\217\243' -T add -d ''
+ TEMP=' -u '\''zhanghui'\'' -t '\''催收/服务/overdueBusiness'\'' -e '\''zhanghui@dafy.com'\'' -E '\'''\'' -b '\''催收逾期数据上传回钱快接口'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''zhanghui'\'' -t '\''催收/服务/overdueBusiness'\'' -e '\''zhanghui@dafy.com'\'' -E '\'''\'' -b '\''催收逾期数据上传回钱快接口'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u zhanghui -t $'\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness' -e zhanghui@dafy.com -E '' -b $'\345\202\254\346\224\266\351\200\276\346\234\237\346\225\260\346\215\256\344\270\212\344\274\240\345\233\236\351\222\261\345\277\253\346\216\245\345\217\243' -T add -d '' --
+ true
+ case "$1" in
+ user=zhanghui
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness'
+ shift 2
+ true
+ case "$1" in
+ email=zhanghui@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\345\202\254\346\224\266\351\200\276\346\234\237\346\225\260\346\215\256\344\270\212\344\274\240\345\233\236\351\222\261\345\277\253\346\216\245\345\217\243'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=zhanghui@dafy.com '
+ SMARTCM_EXTRA_MAIL='zhanghui@dafy.com '
++ zhanghui
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: zhanghui: command not found
++ for x in '$user'
++ echo zhanghui=rw
+ users=zhanghui=rw
++ $'\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 催收/服务/overdueBusiness: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness'
+ trunks=$'\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness' ']'
+ '[' -z $'\345\202\254\346\224\266\351\200\276\346\234\237\346\225\260\346\215\256\344\270\212\344\274\240\345\233\236\351\222\261\345\277\253\346\216\245\345\217\243' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170829
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708291157
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170829-\345\202\254\346\224\266\351\200\276\346\234\237\346\225\260\346\215\256\344\270\212\344\274\240\345\233\236\351\222\261\345\277\253\346\216\245\345\217\243/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\202\254\346\224\266\351\200\276\346\234\237\346\225\260\346\215\256\344\270\212\344\274\240\345\233\236\351\222\261\345\277\253\346\216\245\345\217\243'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708291157-\345\202\254\346\224\266\351\200\276\346\234\237\346\225\260\346\215\256\344\270\212\344\274\240\345\233\236\351\222\261\345\277\253\346\216\245\345\217\243'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170829-\345\202\254\346\224\266\351\200\276\346\234\237\346\225\260\346\215\256\344\270\212\344\274\240\345\233\236\351\222\261\345\277\253\346\216\245\345\217\243/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness'
++ awk -F / '{print $7}'
+ br=$'20170829-\345\202\254\346\224\266\351\200\276\346\234\237\346\225\260\346\215\256\344\270\212\344\274\240\345\233\236\351\222\261\345\277\253\346\216\245\345\217\243'
+ access=$'20170829-\345\202\254\346\224\266\351\200\276\346\234\237\346\225\260\346\215\256\344\270\212\344\274\240\345\233\236\351\222\261\345\277\253\346\216\245\345\217\243'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness' $'https://192.168.0.220/svn/tech/Branch/20170829-\345\202\254\346\224\266\351\200\276\346\234\237\346\225\260\346\215\256\344\270\212\344\274\240\345\233\236\351\222\261\345\277\253\346\216\245\345\217\243/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.6310
+ echo $'https://192.168.0.220/svn/tech/Branch/20170829-\345\202\254\346\224\266\351\200\276\346\234\237\346\225\260\346\215\256\344\270\212\344\274\240\345\233\236\351\222\261\345\277\253\346\216\245\345\217\243/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/overdueBusiness'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/催收/服务/overdueBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170829-催收逾期数据上传回钱快接口/Develop/催收/服务/overdueBusiness'\'',now(),'\''zhanghui'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/催收/服务/overdueBusiness'\'', '\''https://192.168.0.220/svn/tech/Branch/20170829-催收逾期数据上传回钱快接口/Develop/催收/服务/overdueBusiness'\'',now(),'\''zhanghui'\'');'
+ cat /tmp/cmdb.db.6310
+ rm -f /tmp/cmdb.db.6310
+ check-acces
+ read num
+ ssh root@192.168.0.220 'grep -c 20170829-催收逾期数据上传回钱快接口] /svn/authz.conf'
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z zhanghui=rw
+ cat
+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (24.4ms)
  Rendered builder/new.html.erb within layouts/application (24.4ms)
Completed 200 OK in 6780ms (Views: 107.5ms)


Completed 200 OK in 6780ms (Views: 107.5ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-29 14:33:44 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-29 14:33:45 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (169.9ms)
  Rendered builder/index.html.erb within layouts/application (169.9ms)
Completed 200 OK in 2707ms (Views: 2244.3ms)


Completed 200 OK in 2707ms (Views: 2244.3ms)


Started POST "/start" for 192.168.5.26 at 2017-08-29 14:35:13 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-29 14:35:13 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"xupengyue@dafy.com", "types"=>"add", "trunk"=>"自如/后台服务管理/MobileWalletCenter 自如/后台服务管理/MobileCashierCenter", "branch"=>"收银台新增信用卡支付", "user"=>"chenhangzheng renshibo xupengyue", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"Tdf3LX647Aynln34i9IB471CSatEnkcmmyVpfOEcE1PfoGmST2LYHQ1PgQv+geZaiAEHhsSxZLrXsGHUT+ohjQ=="}
  Parameters: {"email"=>"xupengyue@dafy.com", "types"=>"add", "trunk"=>"自如/后台服务管理/MobileWalletCenter 自如/后台服务管理/MobileCashierCenter", "branch"=>"收银台新增信用卡支付", "user"=>"chenhangzheng renshibo xupengyue", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"Tdf3LX647Aynln34i9IB471CSatEnkcmmyVpfOEcE1PfoGmST2LYHQ1PgQv+geZaiAEHhsSxZLrXsGHUT+ohjQ=="}
pid is 12279
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'chenhangzheng renshibo xupengyue' -t '自如/后台服务管理/MobileWalletCenter 自如/后台服务管理/MobileCashierCenter' -e xupengyue@dafy.com -E '' -b $'\346\224\266\351\223\266\345\217\260\346\226\260\345\242\236\344\277\241\347\224\250\345\215\241\346\224\257\344\273\230' -T add -d ''
+ TEMP=' -u '\''chenhangzheng renshibo xupengyue'\'' -t '\''自如/后台服务管理/MobileWalletCenter 自如/后台服务管理/MobileCashierCenter'\'' -e '\''xupengyue@dafy.com'\'' -E '\'''\'' -b '\''收银台新增信用卡支付'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''chenhangzheng renshibo xupengyue'\'' -t '\''自如/后台服务管理/MobileWalletCenter 自如/后台服务管理/MobileCashierCenter'\'' -e '\''xupengyue@dafy.com'\'' -E '\'''\'' -b '\''收银台新增信用卡支付'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'chenhangzheng renshibo xupengyue' -t '自如/后台服务管理/MobileWalletCenter 自如/后台服务管理/MobileCashierCenter' -e xupengyue@dafy.com -E '' -b $'\346\224\266\351\223\266\345\217\260\346\226\260\345\242\236\344\277\241\347\224\250\345\215\241\346\224\257\344\273\230' -T add -d '' --
+ true
+ case "$1" in
+ user='chenhangzheng renshibo xupengyue'
+ shift 2
+ true
+ case "$1" in
+ trunk='自如/后台服务管理/MobileWalletCenter 自如/后台服务管理/MobileCashierCenter'
+ shift 2
+ true
+ case "$1" in
+ email=xupengyue@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\346\224\266\351\223\266\345\217\260\346\226\260\345\242\236\344\277\241\347\224\250\345\215\241\346\224\257\344\273\230'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=xupengyue@dafy.com '
+ SMARTCM_EXTRA_MAIL='xupengyue@dafy.com '
++ chenhangzheng renshibo xupengyue
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: chenhangzheng: command not found
++ for x in '$user'
++ echo chenhangzheng=rw
++ for x in '$user'
++ echo renshibo=rw
++ for x in '$user'
++ echo xupengyue=rw
+ users='chenhangzheng=rw
renshibo=rw
xupengyue=rw'
++ $'\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter' $'\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileCashierCenter'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 自如/后台服务管理/MobileWalletCenter: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
++ for y in '$trunk'
++ echo $'\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileCashierCenter'
+ trunks='自如/后台服务管理/MobileWalletCenter
自如/后台服务管理/MobileCashierCenter'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter' ']'
+ '[' -z $'\346\224\266\351\223\266\345\217\260\346\226\260\345\242\236\344\277\241\347\224\250\345\215\241\346\224\257\344\273\230' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170829
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708291435
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170829-\346\224\266\351\223\266\345\217\260\346\226\260\345\242\236\344\277\241\347\224\250\345\215\241\346\224\257\344\273\230/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\346\224\266\351\223\266\345\217\260\346\226\260\345\242\236\344\277\241\347\224\250\345\215\241\346\224\257\344\273\230'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708291435-\346\224\266\351\223\266\345\217\260\346\226\260\345\242\236\344\277\241\347\224\250\345\215\241\346\224\257\344\273\230'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170829-\346\224\266\351\223\266\345\217\260\346\226\260\345\242\236\344\277\241\347\224\250\345\215\241\346\224\257\344\273\230/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
++ awk -F / '{print $7}'
+ br=$'20170829-\346\224\266\351\223\266\345\217\260\346\226\260\345\242\236\344\277\241\347\224\250\345\215\241\346\224\257\344\273\230'
+ access=$'20170829-\346\224\266\351\223\266\345\217\260\346\226\260\345\242\236\344\277\241\347\224\250\345\215\241\346\224\257\344\273\230'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter' $'https://192.168.0.220/svn/tech/Branch/20170829-\346\224\266\351\223\266\345\217\260\346\226\260\345\242\236\344\277\241\347\224\250\345\215\241\346\224\257\344\273\230/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.12279
+ echo $'https://192.168.0.220/svn/tech/Branch/20170829-\346\224\266\351\223\266\345\217\260\346\226\260\345\242\236\344\277\241\347\224\250\345\215\241\346\224\257\344\273\230/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileWalletCenter'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/自如/后台服务管理/MobileWalletCenter'\'', '\''https://192.168.0.220/svn/tech/Branch/20170829-收银台新增信用卡支付/Develop/自如/后台服务管理/MobileWalletCenter'\'',now(),'\''xupengyue'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/自如/后台服务管理/MobileWalletCenter'\'', '\''https://192.168.0.220/svn/tech/Branch/20170829-收银台新增信用卡支付/Develop/自如/后台服务管理/MobileWalletCenter'\'',now(),'\''xupengyue'\'');'
+ cat /tmp/cmdb.db.12279
+ rm -f /tmp/cmdb.db.12279
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170829-收银台新增信用卡支付] /svn/authz.conf'
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z 'chenhangzheng=rw
renshibo=rw
xupengyue=rw'
+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ for trunk in '${trunks[@]}'
+ '[' -z $'\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileCashierCenter' ']'
+ '[' -z $'\346\224\266\351\223\266\345\217\260\346\226\260\345\242\236\344\277\241\347\224\250\345\215\241\346\224\257\344\273\230' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170829
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708291435
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileCashierCenter'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170829-\346\224\266\351\223\266\345\217\260\346\226\260\345\242\236\344\277\241\347\224\250\345\215\241\346\224\257\344\273\230/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileCashierCenter'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\346\224\266\351\223\266\345\217\260\346\226\260\345\242\236\344\277\241\347\224\250\345\215\241\346\224\257\344\273\230'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708291435-\346\224\266\351\223\266\345\217\260\346\226\260\345\242\236\344\277\241\347\224\250\345\215\241\346\224\257\344\273\230'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170829-\346\224\266\351\223\266\345\217\260\346\226\260\345\242\236\344\277\241\347\224\250\345\215\241\346\224\257\344\273\230/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileCashierCenter'
++ awk -F / '{print $7}'
+ br=$'20170829-\346\224\266\351\223\266\345\217\260\346\226\260\345\242\236\344\277\241\347\224\250\345\215\241\346\224\257\344\273\230'
+ access=$'20170829-\346\224\266\351\223\266\345\217\260\346\226\260\345\242\236\344\277\241\347\224\250\345\215\241\346\224\257\344\273\230'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileCashierCenter' $'https://192.168.0.220/svn/tech/Branch/20170829-\346\224\266\351\223\266\345\217\260\346\226\260\345\242\236\344\277\241\347\224\250\345\215\241\346\224\257\344\273\230/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileCashierCenter' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.12279
+ echo $'https://192.168.0.220/svn/tech/Branch/20170829-\346\224\266\351\223\266\345\217\260\346\226\260\345\242\236\344\277\241\347\224\250\345\215\241\346\224\257\344\273\230/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/MobileCashierCenter'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/自如/后台服务管理/MobileCashierCenter'\'', '\''https://192.168.0.220/svn/tech/Branch/20170829-收银台新增信用卡支付/Develop/自如/后台服务管理/MobileCashierCenter'\'',now(),'\''xupengyue'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/自如/后台服务管理/MobileCashierCenter'\'', '\''https://192.168.0.220/svn/tech/Branch/20170829-收银台新增信用卡支付/Develop/自如/后台服务管理/MobileCashierCenter'\'',now(),'\''xupengyue'\'');'
+ cat /tmp/cmdb.db.12279
+ rm -f /tmp/cmdb.db.12279
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170829-收银台新增信用卡支付] /svn/authz.conf'
+ read num
+ '[' 1 -eq 0 ']'
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.0ms)
  Rendered builder/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 15566ms (Views: 66.5ms)


Completed 200 OK in 15566ms (Views: 66.5ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-29 16:15:06 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-29 16:15:06 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.1ms)
  Rendered merge/index.html.erb within layouts/application (4.1ms)
Completed 200 OK in 125ms (Views: 85.5ms)


Completed 200 OK in 125ms (Views: 85.5ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-29 16:15:11 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-29 16:15:11 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170718-石嘴山项目优化/Develop/外部业务/P2P/Business/SZSBusiness", "task"=>"http://192.168.0.221/zentao/task-view-45595.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"55c8D45salmbpvCHwJbmrXSmIoBdI5Jn4br8KqSea6N14KKwv7ZeSDF/DHS1xQEUQeVsrd0MsfutL/SCCmhZfQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170718-石嘴山项目优化/Develop/外部业务/P2P/Business/SZSBusiness", "task"=>"http://192.168.0.221/zentao/task-view-45595.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"55c8D45salmbpvCHwJbmrXSmIoBdI5Jn4br8KqSea6N14KKwv7ZeSDF/DHS1xQEUQeVsrd0MsfutL/SCCmhZfQ=="}
pid is 15750
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45595.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45595.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170718-石嘴山项目优化/Develop/外部业务/P2P/Business/SZSBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45595.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170718-石嘴山项目优化/Develop/外部业务/P2P/Business/SZSBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45595.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45595.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170718-石嘴山项目优化/Develop/外部业务/P2P/Business/SZSBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.15750
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170718-石嘴山项目优化/Develop/外部业务/P2P/Business/SZSBusiness'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
++ head -n 4
++ awk -F '|' '{print$1}'
+ revision='r141586 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r142141 '
+ '[' '!' -z r141586 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness@r141586' $'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness@r141586' $'https://192.168.0.220/svn/tech/Branch/20170718-\347\237\263\345\230\264\345\261\261\351\241\271\347\233\256\344\274\230\345\214\226/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/SZSBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45595.html
Merged revision(s) r141586 -r142141   from Branch/20170718-石嘴山项目优化/Develop/外部业务/P2P/Business/SZSBusiness' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (990.8ms)
  Rendered merge/new.html.erb within layouts/application (990.8ms)
Completed 200 OK in 24938ms (Views: 1025.8ms)


Completed 200 OK in 24938ms (Views: 1025.8ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-08-29 16:23:19 +0800
Started GET "/merge/new" for 192.168.5.26 at 2017-08-29 16:23:19 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
Filter chain halted as #<Proc:0x007ff4a4025ff8@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Filter chain halted as #<Proc:0x007ff4a4025ff8@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Completed 401 Unauthorized in 22ms


Completed 401 Unauthorized in 22ms


Started GET "/start" for 192.168.5.26 at 2017-08-29 16:23:19 +0800
Started GET "/start" for 192.168.5.26 at 2017-08-29 16:23:19 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Started GET "/jenkins/index" for 192.168.5.26 at 2017-08-29 16:23:19 +0800
Started GET "/jenkins/index" for 192.168.5.26 at 2017-08-29 16:23:19 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  
  
ActionController::RoutingError (No route matches [GET] "/start"):
ActionController::RoutingError (No route matches [GET] "/start"):
  
  
Processing by JenkinsController#index as HTML
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Processing by JenkinsController#index as HTML
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering jenkins/index.html.erb within layouts/application
  Rendering jenkins/index.html.erb within layouts/application
  Rendered jenkins/index.html.erb within layouts/application (77.4ms)
  Rendered jenkins/index.html.erb within layouts/application (77.4ms)
Completed 200 OK in 532ms (Views: 340.0ms)


Completed 200 OK in 532ms (Views: 340.0ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-08-29 16:27:19 +0800
Started GET "/merge/new" for 192.168.5.26 at 2017-08-29 16:27:19 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (2.2ms)
  Rendered merge/index.html.erb within layouts/application (2.2ms)
Completed 200 OK in 37ms (Views: 35.8ms)


Completed 200 OK in 37ms (Views: 35.8ms)


Started GET "/" for 192.168.5.26 at 2017-08-29 16:27:24 +0800
Started GET "/" for 192.168.5.26 at 2017-08-29 16:27:24 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.2ms)
Started GET "/" for 192.168.5.26 at 2017-08-29 16:27:24 +0800
  Rendered builder/index.html.erb within layouts/application (2.2ms)
Started GET "/" for 192.168.5.26 at 2017-08-29 16:27:24 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (2.3ms)
  Rendered builder/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 185ms (Views: 183.7ms)


Completed 200 OK in 185ms (Views: 183.7ms)


Completed 200 OK in 156ms (Views: 154.9ms)


Completed 200 OK in 156ms (Views: 154.9ms)


Started GET "/merge/new" for 192.168.5.26 at 2017-08-30 10:10:58 +0800
Started GET "/merge/new" for 192.168.5.26 at 2017-08-30 10:10:58 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
Filter chain halted as #<Proc:0x007ff4a4025ff8@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Filter chain halted as #<Proc:0x007ff4a4025ff8@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Completed 401 Unauthorized in 34ms


Completed 401 Unauthorized in 34ms


Started GET "/merge/new" for 192.168.5.26 at 2017-08-30 10:11:00 +0800
Started GET "/merge/new" for 192.168.5.26 at 2017-08-30 10:11:00 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (98.6ms)
  Rendered merge/index.html.erb within layouts/application (98.6ms)
Completed 200 OK in 877ms (Views: 839.2ms)


Completed 200 OK in 877ms (Views: 839.2ms)


Started GET "/" for 192.168.5.26 at 2017-08-30 10:11:03 +0800
Started GET "/" for 192.168.5.26 at 2017-08-30 10:11:03 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.3ms)
  Rendered builder/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 186ms (Views: 139.8ms)


Completed 200 OK in 186ms (Views: 139.8ms)


Started POST "/start" for 192.168.5.26 at 2017-08-30 10:11:37 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-30 10:11:37 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"zhanghui@dafy.com", "types"=>"add", "trunk"=>"公共/CuckooManager", "branch"=>"监控中心", "user"=>"zhanghui", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"/+MYqa4ImyOzjh0/7mtISCQgAkeM5o+E8s5lkKgLWNLiBHNA4LJEquWokgVTV8Ms/wqENpteijdo9oSqdO4/IA=="}
  Parameters: {"email"=>"zhanghui@dafy.com", "types"=>"add", "trunk"=>"公共/CuckooManager", "branch"=>"监控中心", "user"=>"zhanghui", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"/+MYqa4ImyOzjh0/7mtISCQgAkeM5o+E8s5lkKgLWNLiBHNA4LJEquWokgVTV8Ms/wqENpteijdo9oSqdO4/IA=="}
Filter chain halted as #<Proc:0x00000003c96870@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Filter chain halted as #<Proc:0x00000003c96870@/home/qishanqing/.rvm/gems/ruby-2.4.1@rails5/gems/actionpack-5.1.1/lib/action_controller/metal/http_authentication.rb:70> rendered or redirected
Completed 401 Unauthorized in 2ms


Completed 401 Unauthorized in 2ms


Started POST "/start" for 192.168.5.26 at 2017-08-30 10:11:37 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-30 10:11:37 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"zhanghui@dafy.com", "types"=>"add", "trunk"=>"公共/CuckooManager", "branch"=>"监控中心", "user"=>"zhanghui", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"/+MYqa4ImyOzjh0/7mtISCQgAkeM5o+E8s5lkKgLWNLiBHNA4LJEquWokgVTV8Ms/wqENpteijdo9oSqdO4/IA=="}
  Parameters: {"email"=>"zhanghui@dafy.com", "types"=>"add", "trunk"=>"公共/CuckooManager", "branch"=>"监控中心", "user"=>"zhanghui", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"/+MYqa4ImyOzjh0/7mtISCQgAkeM5o+E8s5lkKgLWNLiBHNA4LJEquWokgVTV8Ms/wqENpteijdo9oSqdO4/IA=="}
pid is 12401
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u zhanghui -t $'\345\205\254\345\205\261/CuckooManager' -e zhanghui@dafy.com -E '' -b $'\347\233\221\346\216\247\344\270\255\345\277\203' -T add -d ''
+ TEMP=' -u '\''zhanghui'\'' -t '\''公共/CuckooManager'\'' -e '\''zhanghui@dafy.com'\'' -E '\'''\'' -b '\''监控中心'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''zhanghui'\'' -t '\''公共/CuckooManager'\'' -e '\''zhanghui@dafy.com'\'' -E '\'''\'' -b '\''监控中心'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u zhanghui -t $'\345\205\254\345\205\261/CuckooManager' -e zhanghui@dafy.com -E '' -b $'\347\233\221\346\216\247\344\270\255\345\277\203' -T add -d '' --
+ true
+ case "$1" in
+ user=zhanghui
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\205\254\345\205\261/CuckooManager'
+ shift 2
+ true
+ case "$1" in
+ email=zhanghui@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\347\233\221\346\216\247\344\270\255\345\277\203'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=zhanghui@dafy.com '
+ SMARTCM_EXTRA_MAIL='zhanghui@dafy.com '
++ zhanghui
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: zhanghui: command not found
++ for x in '$user'
++ echo zhanghui=rw
+ users=zhanghui=rw
++ $'\345\205\254\345\205\261/CuckooManager'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 公共/CuckooManager: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\205\254\345\205\261/CuckooManager'
+ trunks=$'\345\205\254\345\205\261/CuckooManager'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\205\254\345\205\261/CuckooManager' ']'
+ '[' -z $'\347\233\221\346\216\247\344\270\255\345\277\203' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170830
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708301011
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\205\254\345\205\261/CuckooManager'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170830-\347\233\221\346\216\247\344\270\255\345\277\203/Develop/\345\205\254\345\205\261/CuckooManager'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\347\233\221\346\216\247\344\270\255\345\277\203'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708301011-\347\233\221\346\216\247\344\270\255\345\277\203'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170830-\347\233\221\346\216\247\344\270\255\345\277\203/Develop/\345\205\254\345\205\261/CuckooManager'
++ awk -F / '{print $7}'
+ br=$'20170830-\347\233\221\346\216\247\344\270\255\345\277\203'
+ access=$'20170830-\347\233\221\346\216\247\344\270\255\345\277\203'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\205\254\345\205\261/CuckooManager' $'https://192.168.0.220/svn/tech/Branch/20170830-\347\233\221\346\216\247\344\270\255\345\277\203/Develop/\345\205\254\345\205\261/CuckooManager' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.12401
+ echo $'https://192.168.0.220/svn/tech/Branch/20170830-\347\233\221\346\216\247\344\270\255\345\277\203/Develop/\345\205\254\345\205\261/CuckooManager'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/公共/CuckooManager'\'', '\''https://192.168.0.220/svn/tech/Branch/20170830-监控中心/Develop/公共/CuckooManager'\'',now(),'\''zhanghui'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/公共/CuckooManager'\'', '\''https://192.168.0.220/svn/tech/Branch/20170830-监控中心/Develop/公共/CuckooManager'\'',now(),'\''zhanghui'\'');'
+ cat /tmp/cmdb.db.12401
+ rm -f /tmp/cmdb.db.12401
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170830-监控中心] /svn/authz.conf'
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z zhanghui=rw
+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
+ cat
+ read num
+ mails-cm -i 'svnbranch-add from svn branch create web'
+ cat
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.1ms)
  Rendered builder/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 13692ms (Views: 50.4ms)


Completed 200 OK in 13692ms (Views: 50.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-30 10:12:59 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-30 10:12:59 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170822-首付减免/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170822-首付减免/Develop/分期商城/分期商城3.0/MallManageOrderBusiness", "task"=>"http://192.168.0.221/zentao/task-view-45570.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"bxO8dO6/Z4MswYLn7h0bb8KK7ygPCH0tvR8jbx+Rvmdy9NedoAW4CnrnDd1TIZALGaBpWRiweJ4nJ8JVw3TZlQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170822-首付减免/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170822-首付减免/Develop/分期商城/分期商城3.0/MallManageOrderBusiness", "task"=>"http://192.168.0.221/zentao/task-view-45570.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"bxO8dO6/Z4MswYLn7h0bb8KK7ygPCH0tvR8jbx+Rvmdy9NedoAW4CnrnDd1TIZALGaBpWRiweJ4nJ8JVw3TZlQ=="}
pid is 12460
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45570.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170822-首付减免/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170822-首付减免/Develop/分期商城/分期商城3.0/MallManageOrderBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45570.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170822-首付减免/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170822-首付减免/Develop/分期商城/分期商城3.0/MallManageOrderBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45570.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170822-首付减免/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170822-首付减免/Develop/分期商城/分期商城3.0/MallManageOrderBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45570.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170822-首付减免/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170822-首付减免/Develop/分期商城/分期商城3.0/MallManageOrderBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45570.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170822-首付减免/Develop/分期商城/分期商城3.0/MallManager https://192.168.0.220/svn/tech/Branch/20170822-首付减免/Develop/分期商城/分期商城3.0/MallManageOrderBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170822-\351\246\226\344\273\230\345\207\217\345\205\215/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' $'https://192.168.0.220/svn/tech/Branch/20170822-\351\246\226\344\273\230\345\207\217\345\205\215/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170822-首付减免/Develop/分期商城/分期商城3.0/MallManager: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170822-\351\246\226\344\273\230\345\207\217\345\205\215/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170822-\351\246\226\344\273\230\345\207\217\345\205\215/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170822-首付减免/Develop/分期商城/分期商城3.0/MallManager
https://192.168.0.220/svn/tech/Branch/20170822-首付减免/Develop/分期商城/分期商城3.0/MallManageOrderBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170822-\351\246\226\344\273\230\345\207\217\345\205\215/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170822-\351\246\226\344\273\230\345\207\217\345\205\215/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ rm -f /home/qishanqing/tmp/merged/output.12460
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170822-\351\246\226\344\273\230\345\207\217\345\205\215/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170822-首付减免/Develop/分期商城/分期商城3.0/MallManager'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ head -n 4
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170822-\351\246\226\344\273\230\345\207\217\345\205\215/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170822-\351\246\226\344\273\230\345\207\217\345\205\215/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r142136 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170822-\351\246\226\344\273\230\345\207\217\345\205\215/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r139735 '
+ '[' '!' -z r139735 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170822-\351\246\226\344\273\230\345\207\217\345\205\215/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager@r139735' $'https://192.168.0.220/svn/tech/Branch/20170822-\351\246\226\344\273\230\345\207\217\345\205\215/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManager' .
+ st='  树冲突：6'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2326' ']'
+ die 'Svn merged conflicts the r139735 -r142136  from Branch/20170822-首付减免/Develop/分期商城/分期商城3.0/MallManager'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r139735 -r142136  from Branch/20170822-首付减免/Develop/分期商城/分期商城3.0/MallManager'
+ test -e /home/qishanqing/tmp/merged/output.12460
+ rm -f /home/qishanqing/tmp/merged/output.12460
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45570.html
Merged revision(s) r139735 -r142136   from Branch/20170822-首付减免/Develop/分期商城/分期商城3.0/MallManager' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170822-\351\246\226\344\273\230\345\207\217\345\205\215/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170822-\351\246\226\344\273\230\345\207\217\345\205\215/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.12460
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170822-\351\246\226\344\273\230\345\207\217\345\205\215/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170822-首付减免/Develop/分期商城/分期商城3.0/MallManageOrderBusiness'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170822-\351\246\226\344\273\230\345\207\217\345\205\215/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170822-\351\246\226\344\273\230\345\207\217\345\205\215/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r142085 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170822-\351\246\226\344\273\230\345\207\217\345\205\215/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r139738 '
+ '[' '!' -z r139738 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170822-\351\246\226\344\273\230\345\207\217\345\205\215/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness@r139738' $'https://192.168.0.220/svn/tech/Branch/20170822-\351\246\226\344\273\230\345\207\217\345\205\215/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170822-\351\246\226\344\273\230\345\207\217\345\205\215/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness@r139738' $'https://192.168.0.220/svn/tech/Branch/20170822-\351\246\226\344\273\230\345\207\217\345\205\215/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallManageOrderBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45570.html
Merged revision(s) r139738 -r142085   from Branch/20170822-首付减免/Develop/分期商城/分期商城3.0/MallManageOrderBusiness' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.4ms)
  Rendered merge/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 53567ms (Views: 80.0ms)


Completed 200 OK in 53567ms (Views: 80.0ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-30 10:14:48 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-30 10:14:48 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (11.8ms)
  Rendered merge/index.html.erb within layouts/application (11.8ms)
Completed 200 OK in 113ms (Views: 109.2ms)


Completed 200 OK in 113ms (Views: 109.2ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-30 10:14:59 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-30 10:14:59 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/mindai_38", "task"=>"http://192.168.0.221/zentao/task-view-45557.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"AVdCwb1dmxHvwF+crTJders77agzx+7to3jpmEWs+AIcsCko8+dEmLnm0KYQDtYeYBFr2SR/6145QAiimUmf8A=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/mindai_38", "task"=>"http://192.168.0.221/zentao/task-view-45557.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"AVdCwb1dmxHvwF+crTJders77agzx+7to3jpmEWs+AIcsCko8+dEmLnm0KYQDtYeYBFr2SR/6145QAiimUmf8A=="}
pid is 12726
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45557.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45557.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/mindai_38'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45557.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/mindai_38'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45557.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45557.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/mindai_38: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38'
+ rm -f /home/qishanqing/tmp/merged/output.12726
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38'
+ mails-cm -i 'code merged from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/mindai_38'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ grep '^r'
++ head -n 4
++ grep -C 3 $'Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38'
++ awk -F '|' '{print$1}'
++ svn log
+ revision='r140115 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r142180 '
+ '[' '!' -z r140115 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38@r140115' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38@r140115' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/mindai_38'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45557.html
Merged revision(s) r140115 -r142180   from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/mindai_38' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.2ms)
  Rendered merge/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 19534ms (Views: 54.1ms)


Completed 200 OK in 19534ms (Views: 54.1ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-30 10:16:07 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-30 10:16:07 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (18.5ms)
  Rendered merge/index.html.erb within layouts/application (18.5ms)
Completed 200 OK in 158ms (Views: 155.6ms)


Completed 200 OK in 158ms (Views: 155.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-30 10:16:14 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-30 10:16:14 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170626-额度开放暂存/Develop/基础业务/用户中心/UserCredit", "task"=>"http://192.168.0.221/zentao/task-view-45612.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"pPGFNHUnnWvzr2tVeGlv5P8NB+j5NOSnx+gGJKls0XW5Fu7dO51C4qWJ5G/FVeSAJCeBme6M4RRd0OcedYm2hw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170626-额度开放暂存/Develop/基础业务/用户中心/UserCredit", "task"=>"http://192.168.0.221/zentao/task-view-45612.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"pPGFNHUnnWvzr2tVeGlv5P8NB+j5NOSnx+gGJKls0XW5Fu7dO51C4qWJ5G/FVeSAJCeBme6M4RRd0OcedYm2hw=="}
pid is 12839
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45612.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170626-\351\242\235\345\272\246\345\274\200\346\224\276\346\232\202\345\255\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserCredit' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45612.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170626-额度开放暂存/Develop/基础业务/用户中心/UserCredit'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45612.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170626-额度开放暂存/Develop/基础业务/用户中心/UserCredit'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45612.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170626-\351\242\235\345\272\246\345\274\200\346\224\276\346\232\202\345\255\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserCredit' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45612.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170626-\351\242\235\345\272\246\345\274\200\346\224\276\346\232\202\345\255\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserCredit'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170626-\351\242\235\345\272\246\345\274\200\346\224\276\346\232\202\345\255\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserCredit'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170626-额度开放暂存/Develop/基础业务/用户中心/UserCredit: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170626-\351\242\235\345\272\246\345\274\200\346\224\276\346\232\202\345\255\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserCredit'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170626-\351\242\235\345\272\246\345\274\200\346\224\276\346\232\202\345\255\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserCredit'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170626-\351\242\235\345\272\246\345\274\200\346\224\276\346\232\202\345\255\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserCredit'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserCredit'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170626-\351\242\235\345\272\246\345\274\200\346\224\276\346\232\202\345\255\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserCredit'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ test -e /home/qishanqing/tmp/merged/output.12839
+ echo
+ cat /home/qishanqing/tmp/merged/output.12839
+ rm -f /home/qishanqing/tmp/merged/output.12839
+ rm -f /home/qishanqing/tmp/merged/output.12839
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserCredit'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170626-\351\242\235\345\272\246\345\274\200\346\224\276\346\232\202\345\255\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserCredit'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserCredit'
+ svn_from_tb_merged
+ mails-cm -i 'code merged from Branch/20170626-额度开放暂存/Develop/基础业务/用户中心/UserCredit'
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserCredit'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ svn st
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ awk -F '|' '{print$1}'
++ head -n 4
++ svn log
++ grep -C 3 $'Branch/20170626-\351\242\235\345\272\246\345\274\200\346\224\276\346\232\202\345\255\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserCredit'
++ grep '^r'
+ revision='r142007 '
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170626-\351\242\235\345\272\246\345\274\200\346\224\276\346\232\202\345\255\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserCredit'
++ grep '^r'
svn: E160013: 找不到路径 “/svn/tech/!svn/rvr/142386/Branch/20170626-%E9%A2%9D%E5%BA%A6%E5%BC%80%E6%94%BE%E6%9A%82%E5%AD%98/Develop/%E5%9F%BA%E7%A1%80%E4%B8%9A%E5%8A%A1/%E7%94%A8%E6%88%B7%E4%B8%AD%E5%BF%83/UserCredit”
+ head=
+ '[' '!' -z r142007 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170626-\351\242\235\345\272\246\345\274\200\346\224\276\346\232\202\345\255\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserCredit@r142007' $'https://192.168.0.220/svn/tech/Branch/20170626-\351\242\235\345\272\246\345\274\200\346\224\276\346\232\202\345\255\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserCredit' .
++ grep -Ei 'conflicts|树冲突'
svn: E160013: 找不到路径 “/svn/tech/!svn/rvr/142386/Branch/20170626-%E9%A2%9D%E5%BA%A6%E5%BC%80%E6%94%BE%E6%9A%82%E5%AD%98/Develop/%E5%9F%BA%E7%A1%80%E4%B8%9A%E5%8A%A1/%E7%94%A8%E6%88%B7%E4%B8%AD%E5%BF%83/UserCredit”
+ st=
+ '[' -z ']'
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170626-\351\242\235\345\272\246\345\274\200\346\224\276\346\232\202\345\255\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserCredit@r142007' $'https://192.168.0.220/svn/tech/Branch/20170626-\351\242\235\345\272\246\345\274\200\346\224\276\346\232\202\345\255\230/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserCredit'
+ echo tc
svn: E160013: 找不到路径 “/svn/tech/!svn/rvr/142386/Branch/20170626-%E9%A2%9D%E5%BA%A6%E5%BC%80%E6%94%BE%E6%9A%82%E5%AD%98/Develop/%E5%9F%BA%E7%A1%80%E4%B8%9A%E5%8A%A1/%E7%94%A8%E6%88%B7%E4%B8%AD%E5%BF%83/UserCredit”
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45612.html
Merged revision(s) r142007 -  from Branch/20170626-额度开放暂存/Develop/基础业务/用户中心/UserCredit' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.1ms)
  Rendered merge/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 13213ms (Views: 62.4ms)


Completed 200 OK in 13213ms (Views: 62.4ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-30 10:17:34 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-30 10:17:34 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.2ms)
  Rendered merge/index.html.erb within layouts/application (4.2ms)
Completed 200 OK in 94ms (Views: 92.2ms)


Completed 200 OK in 94ms (Views: 92.2ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-30 10:17:40 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-30 10:17:41 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170703-交易拆分/Develop/基础业务/账户中心/AccountTradeSpliter", "task"=>"http://192.168.0.221/zentao/task-view-45622.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"uweTvxqBPz0pRSbiNJF6hvdxc/GHuVWgaKrhIXsnC7Gm4PhWVDvgtH9jqdiJrfHiLFv1gJABUBPykgAbp8JsQw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170703-交易拆分/Develop/基础业务/账户中心/AccountTradeSpliter", "task"=>"http://192.168.0.221/zentao/task-view-45622.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"uweTvxqBPz0pRSbiNJF6hvdxc/GHuVWgaKrhIXsnC7Gm4PhWVDvgtH9jqdiJrfHiLFv1gJABUBPykgAbp8JsQw=="}
pid is 12948
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45622.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170703-\344\272\244\346\230\223\346\213\206\345\210\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountTradeSpliter' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45622.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170703-交易拆分/Develop/基础业务/账户中心/AccountTradeSpliter'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45622.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170703-交易拆分/Develop/基础业务/账户中心/AccountTradeSpliter'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45622.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170703-\344\272\244\346\230\223\346\213\206\345\210\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountTradeSpliter' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45622.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170703-\344\272\244\346\230\223\346\213\206\345\210\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountTradeSpliter'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170703-\344\272\244\346\230\223\346\213\206\345\210\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountTradeSpliter'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170703-交易拆分/Develop/基础业务/账户中心/AccountTradeSpliter: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170703-\344\272\244\346\230\223\346\213\206\345\210\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountTradeSpliter'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170703-\344\272\244\346\230\223\346\213\206\345\210\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountTradeSpliter'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170703-\344\272\244\346\230\223\346\213\206\345\210\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountTradeSpliter'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountTradeSpliter'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170703-\344\272\244\346\230\223\346\213\206\345\210\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountTradeSpliter'
+ rm -f /home/qishanqing/tmp/merged/output.12948
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountTradeSpliter'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170703-\344\272\244\346\230\223\346\213\206\345\210\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountTradeSpliter'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountTradeSpliter'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountTradeSpliter'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170703-交易拆分/Develop/基础业务/账户中心/AccountTradeSpliter'
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ head -n 4
++ grep '^r'
++ svn log
++ grep -C 3 $'Branch/20170703-\344\272\244\346\230\223\346\213\206\345\210\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountTradeSpliter'
++ awk -F '|' '{print$1}'
+ revision='r136081 '
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170703-\344\272\244\346\230\223\346\213\206\345\210\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountTradeSpliter'
+ head='r142064 '
+ '[' '!' -z r136081 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170703-\344\272\244\346\230\223\346\213\206\345\210\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountTradeSpliter@r136081' $'https://192.168.0.220/svn/tech/Branch/20170703-\344\272\244\346\230\223\346\213\206\345\210\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountTradeSpliter' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170703-\344\272\244\346\230\223\346\213\206\345\210\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountTradeSpliter@r136081' $'https://192.168.0.220/svn/tech/Branch/20170703-\344\272\244\346\230\223\346\213\206\345\210\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountTradeSpliter'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45622.html
Merged revision(s) r136081 -r142064   from Branch/20170703-交易拆分/Develop/基础业务/账户中心/AccountTradeSpliter' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (28.6ms)
  Rendered merge/new.html.erb within layouts/application (28.6ms)
Completed 200 OK in 11443ms (Views: 125.1ms)


Completed 200 OK in 11443ms (Views: 125.1ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-30 10:21:23 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-30 10:21:23 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.4ms)
  Rendered builder/index.html.erb within layouts/application (3.4ms)
Completed 200 OK in 117ms (Views: 93.2ms)


Completed 200 OK in 117ms (Views: 93.2ms)


Started POST "/start" for 192.168.5.26 at 2017-08-30 10:21:27 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-30 10:21:27 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170703-交易拆分", "branch"=>"20170703-交易拆分", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"dBpsGBE4tIyCZIkorZs1Xy7p9UW4pi2wpZiYUG2K211p/QfxX4JrBdRCBhIQp7479cNzNK8eKAM/oHlqsW+8rw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170703-交易拆分", "branch"=>"20170703-交易拆分", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"dBpsGBE4tIyCZIkorZs1Xy7p9UW4pi2wpZiYUG2K211p/QfxX4JrBdRCBhIQp7479cNzNK8eKAM/oHlqsW+8rw=="}
pid is 13094
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170703-\344\272\244\346\230\223\346\213\206\345\210\206' -e qishanqing@dafy.com -E '' -b $'20170703-\344\272\244\346\230\223\346\213\206\345\210\206' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170703-交易拆分'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170703-交易拆分'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170703-交易拆分'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170703-交易拆分'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170703-\344\272\244\346\230\223\346\213\206\345\210\206' -e qishanqing@dafy.com -E '' -b $'20170703-\344\272\244\346\230\223\346\213\206\345\210\206' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170703-\344\272\244\346\230\223\346\213\206\345\210\206'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170703-\344\272\244\346\230\223\346\213\206\345\210\206'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170703-\344\272\244\346\230\223\346\213\206\345\210\206'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170703-交易拆分: command not found
++ for y in '$trunk'
++ echo $'20170703-\344\272\244\346\230\223\346\213\206\345\210\206'
+ trunks=$'20170703-\344\272\244\346\230\223\346\213\206\345\210\206'
+ test del = add
+ delbranch
+ '[' -z $'20170703-\344\272\244\346\230\223\346\213\206\345\210\206' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170830
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708301021
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170703-\344\272\244\346\230\223\346\213\206\345\210\206'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170830-20170703-\344\272\244\346\230\223\346\213\206\345\210\206/Develop/20170703-\344\272\244\346\230\223\346\213\206\345\210\206'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170703-\344\272\244\346\230\223\346\213\206\345\210\206'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708301021-20170703-\344\272\244\346\230\223\346\213\206\345\210\206'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170830-20170703-\344\272\244\346\230\223\346\213\206\345\210\206/Develop/20170703-\344\272\244\346\230\223\346\213\206\345\210\206'
++ awk -F / '{print $7}'
+ br=$'20170830-20170703-\344\272\244\346\230\223\346\213\206\345\210\206'
+ access=$'20170830-20170703-\344\272\244\346\230\223\346\213\206\345\210\206'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170703-\344\272\244\346\230\223\346\213\206\345\210\206' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708301021-20170703-\344\272\244\346\230\223\346\213\206\345\210\206' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.13094
+ echo $'https://192.168.0.220/svn/tech/Branch/20170703-\344\272\244\346\230\223\346\213\206\345\210\206'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170703-交易拆分%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170703-交易拆分%'\'';'
+ cat /tmp/cmdb.db.13094
+ rm -f /tmp/cmdb.db.13094
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (2.0ms)
  Rendered builder/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 1114ms (Views: 65.9ms)


Completed 200 OK in 1114ms (Views: 65.9ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-30 10:21:49 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-30 10:21:49 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.7ms)
  Rendered merge/index.html.erb within layouts/application (4.7ms)
Completed 200 OK in 85ms (Views: 82.5ms)


Completed 200 OK in 85ms (Views: 82.5ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-30 10:21:58 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-30 10:21:58 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170821-纵横360/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170821-纵横360/Develop/催收/服务/collectionBusiness", "task"=>"http://192.168.0.221/zentao/task-view-45607.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"tdTX2auRwj662TaNR+vk1q8kQlJVxS1nMKelhRdaihKoM7ww5Ssdt+z/ubf612+ydA7EI0J9KNSqn0S/y7/t4A=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170821-纵横360/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170821-纵横360/Develop/催收/服务/collectionBusiness", "task"=>"http://192.168.0.221/zentao/task-view-45607.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"tdTX2auRwj662TaNR+vk1q8kQlJVxS1nMKelhRdaihKoM7ww5Ssdt+z/ubf612+ydA7EI0J9KNSqn0S/y7/t4A=="}
pid is 13122
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45607.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170821-纵横360/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170821-纵横360/Develop/催收/服务/collectionBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45607.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170821-纵横360/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170821-纵横360/Develop/催收/服务/collectionBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45607.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170821-纵横360/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170821-纵横360/Develop/催收/服务/collectionBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45607.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170821-纵横360/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170821-纵横360/Develop/催收/服务/collectionBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45607.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170821-纵横360/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170821-纵横360/Develop/催收/服务/collectionBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170821-\347\272\265\346\250\252360/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager' $'https://192.168.0.220/svn/tech/Branch/20170821-\347\272\265\346\250\252360/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/collectionBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170821-纵横360/Develop/外部业务/P2P/P2PManager: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170821-\347\272\265\346\250\252360/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170821-\347\272\265\346\250\252360/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/collectionBusiness'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170821-纵横360/Develop/外部业务/P2P/P2PManager
https://192.168.0.220/svn/tech/Branch/20170821-纵横360/Develop/催收/服务/collectionBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170821-\347\272\265\346\250\252360/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170821-\347\272\265\346\250\252360/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ rm -f /home/qishanqing/tmp/merged/output.13122
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170821-\347\272\265\346\250\252360/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ mails-cm -i 'code merged from Branch/20170821-纵横360/Develop/外部业务/P2P/P2PManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep -C 3 $'Branch/20170821-\347\272\265\346\250\252360/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ grep '^r'
++ head -n 4
++ awk -F '|' '{print$1}'
+ revision=
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170821-\347\272\265\346\250\252360/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ head='r142056 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170821-\347\272\265\346\250\252360/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r139202 '
+ '[' '!' -z r139202 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170821-\347\272\265\346\250\252360/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager@r139202' $'https://192.168.0.220/svn/tech/Branch/20170821-\347\272\265\346\250\252360/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：4'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2324' ']'
+ die 'Svn merged conflicts the r139202 -r142056  from Branch/20170821-纵横360/Develop/外部业务/P2P/P2PManager'
+ echo 'Svn merged conflicts the r139202 -r142056  from Branch/20170821-纵横360/Develop/外部业务/P2P/P2PManager'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.13122
+ rm -f /home/qishanqing/tmp/merged/output.13122
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45607.html
Merged revision(s) r139202 -r142056   from Branch/20170821-纵横360/Develop/外部业务/P2P/P2PManager' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170821-\347\272\265\346\250\252360/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/collectionBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\202\254\346\224\266/\346\234\215\345\212\241/collectionBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170821-\347\272\265\346\250\252360/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/collectionBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.13122
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\202\254\346\224\266/\346\234\215\345\212\241/collectionBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170821-\347\272\265\346\250\252360/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/collectionBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\202\254\346\224\266/\346\234\215\345\212\241/collectionBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170821-纵横360/Develop/催收/服务/collectionBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\202\254\346\224\266/\346\234\215\345\212\241/collectionBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170821-\347\272\265\346\250\252360/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/collectionBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170821-\347\272\265\346\250\252360/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/collectionBusiness'
++ grep '^r'
+ head='r142260 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170821-\347\272\265\346\250\252360/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/collectionBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r139201 '
+ '[' '!' -z r139201 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170821-\347\272\265\346\250\252360/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/collectionBusiness@r139201' $'https://192.168.0.220/svn/tech/Branch/20170821-\347\272\265\346\250\252360/Develop/\345\202\254\346\224\266/\346\234\215\345\212\241/collectionBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：9'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2329' ']'
+ die 'Svn merged conflicts the r139201 -r142260  from Branch/20170821-纵横360/Develop/催收/服务/collectionBusiness'
+ echo 'Svn merged conflicts the r139201 -r142260  from Branch/20170821-纵横360/Develop/催收/服务/collectionBusiness'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.13122
+ rm -f /home/qishanqing/tmp/merged/output.13122
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45607.html
Merged revision(s) r139201 -r142260   from Branch/20170821-纵横360/Develop/催收/服务/collectionBusiness' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.5ms)
  Rendered merge/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 61577ms (Views: 66.5ms)


Completed 200 OK in 61577ms (Views: 66.5ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-30 10:23:59 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-30 10:23:59 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (5.1ms)
  Rendered merge/index.html.erb within layouts/application (5.1ms)
Completed 200 OK in 202ms (Views: 199.1ms)


Completed 200 OK in 202ms (Views: 199.1ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-30 10:24:07 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-30 10:24:07 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170828-法务诉讼条件/Develop/外部业务/P2P/Business/BossBusiness", "task"=>"http://192.168.0.221/zentao/task-view-45494.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"AosDqRGaiS2tr4BHNjIQy/hNe91aeYwMLnajGoTywZofbGhAXyBWpPuJD32LDpuvI2f9rE3Bib+0TkIgWBemaA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170828-法务诉讼条件/Develop/外部业务/P2P/Business/BossBusiness", "task"=>"http://192.168.0.221/zentao/task-view-45494.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"AosDqRGaiS2tr4BHNjIQy/hNe91aeYwMLnajGoTywZofbGhAXyBWpPuJD32LDpuvI2f9rE3Bib+0TkIgWBemaA=="}
pid is 13285
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45494.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170828-\346\263\225\345\212\241\350\257\211\350\256\274\346\235\241\344\273\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45494.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170828-法务诉讼条件/Develop/外部业务/P2P/Business/BossBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45494.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170828-法务诉讼条件/Develop/外部业务/P2P/Business/BossBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45494.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170828-\346\263\225\345\212\241\350\257\211\350\256\274\346\235\241\344\273\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45494.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170828-\346\263\225\345\212\241\350\257\211\350\256\274\346\235\241\344\273\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170828-\346\263\225\345\212\241\350\257\211\350\256\274\346\235\241\344\273\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170828-法务诉讼条件/Develop/外部业务/P2P/Business/BossBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170828-\346\263\225\345\212\241\350\257\211\350\256\274\346\235\241\344\273\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170828-\346\263\225\345\212\241\350\257\211\350\256\274\346\235\241\344\273\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170828-\346\263\225\345\212\241\350\257\211\350\256\274\346\235\241\344\273\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170828-\346\263\225\345\212\241\350\257\211\350\256\274\346\235\241\344\273\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.13285
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170828-\346\263\225\345\212\241\350\257\211\350\256\274\346\235\241\344\273\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170828-法务诉讼条件/Develop/外部业务/P2P/Business/BossBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170828-\346\263\225\345\212\241\350\257\211\350\256\274\346\235\241\344\273\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
++ awk -F '|' '{print$1}'
+ revision=
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170828-\346\263\225\345\212\241\350\257\211\350\256\274\346\235\241\344\273\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ head='r142280 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170828-\346\263\225\345\212\241\350\257\211\350\256\274\346\235\241\344\273\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ revision='r141847 '
+ '[' '!' -z r141847 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170828-\346\263\225\345\212\241\350\257\211\350\256\274\346\235\241\344\273\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness@r141847' $'https://192.168.0.220/svn/tech/Branch/20170828-\346\263\225\345\212\241\350\257\211\350\256\274\346\235\241\344\273\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170828-\346\263\225\345\212\241\350\257\211\350\256\274\346\235\241\344\273\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness@r141847' $'https://192.168.0.220/svn/tech/Branch/20170828-\346\263\225\345\212\241\350\257\211\350\256\274\346\235\241\344\273\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45494.html
Merged revision(s) r141847 -r142280   from Branch/20170828-法务诉讼条件/Develop/外部业务/P2P/Business/BossBusiness' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.8ms)
  Rendered merge/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 14663ms (Views: 98.3ms)


Completed 200 OK in 14663ms (Views: 98.3ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-30 10:24:55 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-30 10:24:55 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (5.3ms)
  Rendered builder/index.html.erb within layouts/application (5.3ms)
Completed 200 OK in 91ms (Views: 88.7ms)


Completed 200 OK in 91ms (Views: 88.7ms)


Started POST "/start" for 192.168.5.26 at 2017-08-30 10:24:58 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-30 10:24:58 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170828-法务诉讼条件", "branch"=>"20170828-法务诉讼条件", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"1ezKotpY3EjPXba3/6S+HkNKTojgVnnIvlN086McHlrIC6FLlOIDwZl7OY1CmDV6mGDI+ffufHska5XJf/l5qA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170828-法务诉讼条件", "branch"=>"20170828-法务诉讼条件", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"1ezKotpY3EjPXba3/6S+HkNKTojgVnnIvlN086McHlrIC6FLlOIDwZl7OY1CmDV6mGDI+ffufHska5XJf/l5qA=="}
pid is 13330
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170828-\346\263\225\345\212\241\350\257\211\350\256\274\346\235\241\344\273\266' -e qishanqing@dafy.com -E '' -b $'20170828-\346\263\225\345\212\241\350\257\211\350\256\274\346\235\241\344\273\266' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170828-法务诉讼条件'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170828-法务诉讼条件'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170828-法务诉讼条件'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170828-法务诉讼条件'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170828-\346\263\225\345\212\241\350\257\211\350\256\274\346\235\241\344\273\266' -e qishanqing@dafy.com -E '' -b $'20170828-\346\263\225\345\212\241\350\257\211\350\256\274\346\235\241\344\273\266' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170828-\346\263\225\345\212\241\350\257\211\350\256\274\346\235\241\344\273\266'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170828-\346\263\225\345\212\241\350\257\211\350\256\274\346\235\241\344\273\266'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170828-\346\263\225\345\212\241\350\257\211\350\256\274\346\235\241\344\273\266'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170828-法务诉讼条件: command not found
++ for y in '$trunk'
++ echo $'20170828-\346\263\225\345\212\241\350\257\211\350\256\274\346\235\241\344\273\266'
+ trunks=$'20170828-\346\263\225\345\212\241\350\257\211\350\256\274\346\235\241\344\273\266'
+ test del = add
+ delbranch
+ '[' -z $'20170828-\346\263\225\345\212\241\350\257\211\350\256\274\346\235\241\344\273\266' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170830
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708301024
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170828-\346\263\225\345\212\241\350\257\211\350\256\274\346\235\241\344\273\266'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170830-20170828-\346\263\225\345\212\241\350\257\211\350\256\274\346\235\241\344\273\266/Develop/20170828-\346\263\225\345\212\241\350\257\211\350\256\274\346\235\241\344\273\266'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170828-\346\263\225\345\212\241\350\257\211\350\256\274\346\235\241\344\273\266'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708301024-20170828-\346\263\225\345\212\241\350\257\211\350\256\274\346\235\241\344\273\266'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170830-20170828-\346\263\225\345\212\241\350\257\211\350\256\274\346\235\241\344\273\266/Develop/20170828-\346\263\225\345\212\241\350\257\211\350\256\274\346\235\241\344\273\266'
++ awk -F / '{print $7}'
+ br=$'20170830-20170828-\346\263\225\345\212\241\350\257\211\350\256\274\346\235\241\344\273\266'
+ access=$'20170830-20170828-\346\263\225\345\212\241\350\257\211\350\256\274\346\235\241\344\273\266'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170828-\346\263\225\345\212\241\350\257\211\350\256\274\346\235\241\344\273\266' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708301024-20170828-\346\263\225\345\212\241\350\257\211\350\256\274\346\235\241\344\273\266' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.13330
+ echo $'https://192.168.0.220/svn/tech/Branch/20170828-\346\263\225\345\212\241\350\257\211\350\256\274\346\235\241\344\273\266'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170828-法务诉讼条件%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170828-法务诉讼条件%'\'';'
+ cat /tmp/cmdb.db.13330
+ rm -f /tmp/cmdb.db.13330
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.1ms)
  Rendered builder/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 604ms (Views: 56.2ms)


Completed 200 OK in 604ms (Views: 56.2ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-30 10:25:44 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-30 10:25:44 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.5ms)
  Rendered merge/index.html.erb within layouts/application (4.5ms)
Completed 200 OK in 98ms (Views: 95.1ms)


Completed 200 OK in 98ms (Views: 95.1ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-30 10:25:51 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-30 10:25:51 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/hubeicfc_9", "task"=>"http://192.168.0.221/zentao/task-view-45621.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"cEcCgrMZ5Q9JdqYE3RJMzhxmt2pnHTt5RiCPaf+d8LltoGlr/aM6hh9QKT5gLseqx0wxG3ClPsrcGG5TI3iXSw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/hubeicfc_9", "task"=>"http://192.168.0.221/zentao/task-view-45621.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"cEcCgrMZ5Q9JdqYE3RJMzhxmt2pnHTt5RiCPaf+d8LltoGlr/aM6hh9QKT5gLseqx0wxG3ClPsrcGG5TI3iXSw=="}
pid is 13381
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45621.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hubeicfc_9' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45621.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/hubeicfc_9'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45621.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/hubeicfc_9'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45621.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hubeicfc_9' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45621.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hubeicfc_9'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hubeicfc_9'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/hubeicfc_9: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hubeicfc_9'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hubeicfc_9'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hubeicfc_9'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hubeicfc_9'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hubeicfc_9'
+ rm -f /home/qishanqing/tmp/merged/output.13381
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hubeicfc_9'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hubeicfc_9'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hubeicfc_9'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/hubeicfc_9'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hubeicfc_9'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hubeicfc_9'
++ awk -F '|' '{print$1}'
+ revision='r141602 '
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hubeicfc_9'
+ head='r142241 '
+ '[' '!' -z r141602 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hubeicfc_9@r141602' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hubeicfc_9' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hubeicfc_9@r141602' $'https://192.168.0.220/svn/tech/Branch/20170407-\345\214\205\351\223\266/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/basefundprovider/hubeicfc_9'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45621.html
Merged revision(s) r141602 -r142241   from Branch/20170407-包银/Develop/外部业务/P2P/Business/basefundprovider/hubeicfc_9' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (12.2ms)
  Rendered merge/new.html.erb within layouts/application (12.2ms)
Completed 200 OK in 43926ms (Views: 490.3ms)


Completed 200 OK in 43926ms (Views: 490.3ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-30 10:29:27 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-30 10:29:27 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (35.0ms)
  Rendered merge/index.html.erb within layouts/application (35.0ms)
Completed 200 OK in 152ms (Views: 127.1ms)


Completed 200 OK in 152ms (Views: 127.1ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-30 10:29:33 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-30 10:29:33 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter", "task"=>"http://192.168.0.221/zentao/task-view-45631.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"MYXrx3aUH927iKjylTMIEloVTFnMh5hs5GIRVVZTwh8sYoAuOC7AVO2uJ8goD4N2gT/KKNs/nd9+WvBviral7Q=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter", "task"=>"http://192.168.0.221/zentao/task-view-45631.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"MYXrx3aUH927iKjylTMIEloVTFnMh5hs5GIRVVZTwh8sYoAuOC7AVO2uJ8goD4N2gT/KKNs/nd9+WvBviral7Q=="}
pid is 13515
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45631.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45631.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45631.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45631.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45631.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ rm -f /home/qishanqing/tmp/merged/output.13515
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter'
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ clean_workspace
+ svn cleanup .
+ grep '^?'
+ svn st
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ head -n 4
++ grep -C 3 $'Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
++ awk -F '|' '{print$1}'
+ revision='r141979 '
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ head='r142337 '
+ '[' '!' -z r141979 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter@r141979' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter@r141979' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45631.html
Merged revision(s) r141979 -r142337   from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.0ms)
  Rendered merge/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 14302ms (Views: 49.0ms)


Completed 200 OK in 14302ms (Views: 49.0ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-30 10:31:07 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-30 10:31:07 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.0ms)
  Rendered merge/index.html.erb within layouts/application (4.0ms)
Completed 200 OK in 102ms (Views: 99.4ms)


Completed 200 OK in 102ms (Views: 99.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-30 10:32:32 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-30 10:32:32 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/StageLoanTask https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossManager https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageOrderService", "task"=>"http://192.168.0.221/zentao/task-view-45664.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"TpE549I398fUIk1b8fgQMwFbi1VWnxnAmCcEEAtQeppTdlIKnI0oToIEwmFMxJtX2nENJEEnHHMCH+Uq17UdaA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/StageLoanTask https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossManager https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageOrderService", "task"=>"http://192.168.0.221/zentao/task-view-45664.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"TpE549I398fUIk1b8fgQMwFbi1VWnxnAmCcEEAtQeppTdlIKnI0oToIEwmFMxJtX2nENJEEnHHMCH+Uq17UdaA=="}
pid is 13629
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45664.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/StageLoanTask https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossManager https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageOrderService' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45664.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/StageLoanTask https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossManager https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageOrderService'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45664.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/StageLoanTask https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossManager https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageOrderService'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45664.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/StageLoanTask https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossManager https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageOrderService' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45664.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/StageLoanTask https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossManager https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageOrderService'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/StageLoanTask' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossManager' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/StageLoanTask: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/StageLoanTask'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/StageLoanTask
https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossService
https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossManager
https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageOrderService'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/StageLoanTask'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/StageLoanTask'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/StageLoanTask'
+ rm -f /home/qishanqing/tmp/merged/output.13629
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/StageLoanTask'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/StageLoanTask'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/StageLoanTask'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/StageLoanTask'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/StageLoanTask'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/StageLoanTask'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r141622 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/StageLoanTask'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r142313 '
+ '[' '!' -z r141622 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/StageLoanTask@r141622' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/StageLoanTask' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/StageLoanTask@r141622' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/Task/StageLoanTask'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45664.html
Merged revision(s) r141622 -r142313   from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/Task/StageLoanTask' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
+ rm -f /home/qishanqing/tmp/merged/output.13629
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossService'
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
++ awk -F '|' '{print$1}'
+ revision='r141633 '
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
+ head='r142296 '
+ '[' '!' -z r141633 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService@r141633' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService@r141633' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45664.html
Merged revision(s) r141633 -r142296   from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossService' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossManager'
+ rm -f /home/qishanqing/tmp/merged/output.13629
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossManager'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossManager'
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossManager'
++ awk -F '|' '{print$1}'
+ revision='r141634 '
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossManager'
++ awk -F '|' '{print$1}'
+ head='r142113 '
+ '[' '!' -z r141634 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossManager@r141634' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossManager' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossManager@r141634' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossManager'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45664.html
Merged revision(s) r141634 -r142113   from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossManager' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
+ rm -f /home/qishanqing/tmp/merged/output.13629
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
+ mails-cm -i 'code merged from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageOrderService'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ head -n 4
++ awk -F '|' '{print$1}'
++ grep -C 3 $'Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
+ revision='r141648 '
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
++ awk -F '|' '{print$1}'
+ head='r142336 '
+ '[' '!' -z r141648 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService@r141648' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService@r141648' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageOrderService'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45664.html
Merged revision(s) r141648 -r142336   from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageOrderService' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.9ms)
  Rendered merge/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 57938ms (Views: 116.9ms)


Completed 200 OK in 57938ms (Views: 116.9ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-30 10:43:27 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-30 10:43:27 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (18.7ms)
  Rendered merge/index.html.erb within layouts/application (18.7ms)
Completed 200 OK in 242ms (Views: 195.7ms)


Completed 200 OK in 242ms (Views: 195.7ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-30 10:44:47 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-30 10:44:47 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageCenter https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageMobile https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageBossService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/MerchantCenter https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter https://192.168.0.220/svn/tech/Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage", "task"=>"http://192.168.0.221/zentao/task-view-45671.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"U+X0p+/Nxx61UmzE6r/cTgyZzjL0yRnBRZiuQVmkwFVOAp9OoXcYl+N04/5Xg1cq17NIQ+NxHHLfoE97hUGnpw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageCenter https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageMobile https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageBossService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/MerchantCenter https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter https://192.168.0.220/svn/tech/Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage", "task"=>"http://192.168.0.221/zentao/task-view-45671.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"U+X0p+/Nxx61UmzE6r/cTgyZzjL0yRnBRZiuQVmkwFVOAp9OoXcYl+N04/5Xg1cq17NIQ+NxHHLfoE97hUGnpw=="}
pid is 14410
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45671.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageCenter https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageMobile https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageBossService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/MerchantCenter https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter https://192.168.0.220/svn/tech/Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45671.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageCenter https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageMobile https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageBossService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/MerchantCenter https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter https://192.168.0.220/svn/tech/Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45671.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageCenter https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageMobile https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageBossService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/MerchantCenter https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter https://192.168.0.220/svn/tech/Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45671.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageCenter https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageMobile https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageBossService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/MerchantCenter https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter https://192.168.0.220/svn/tech/Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45671.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageCenter https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageMobile https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageManager https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageBossService https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/MerchantCenter https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter https://192.168.0.220/svn/tech/Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/MerchantCenter' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter' $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageCenter: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/MerchantCenter'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageCenter
https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageMobile
https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageManager
https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductService
https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageBossService
https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/MerchantCenter
https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter
https://192.168.0.220/svn/tech/Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ rm -f /home/qishanqing/tmp/merged/output.14410
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageCenter'
+ xargs rm -rf
+ svn st
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
++ awk -F '|' '{print$1}'
+ revision='r141649 '
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter'
+ head='r142362 '
+ '[' '!' -z r141649 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter@r141649' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageCenter' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：2'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2322' ']'
+ die 'Svn merged conflicts the r141649 -r142362  from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageCenter'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r141649 -r142362  from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageCenter'
+ test -e /home/qishanqing/tmp/merged/output.14410
+ rm -f /home/qishanqing/tmp/merged/output.14410
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45671.html
Merged revision(s) r141649 -r142362   from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageCenter' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ rm -f /home/qishanqing/tmp/merged/output.14410
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageMobile'
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
++ awk -F '|' '{print$1}'
+ revision='r141647 '
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ head='r141892 '
+ '[' '!' -z r141647 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile@r141647' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile@r141647' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageMobile'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45671.html
Merged revision(s) r141647 -r141892   from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageMobile' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ rm -f /home/qishanqing/tmp/merged/output.14410
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ mails-cm -i 'code merged from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
++ head -n 4
++ awk -F '|' '{print$1}'
+ revision='r141700 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r142354 '
+ '[' '!' -z r141700 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager@r141700' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager@r141700' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageManager'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45671.html
Merged revision(s) r141700 -r142354   from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageManager' --username qishanqing --password 372233
svn: E155015: 提交失败(细节如下): 
svn: E155015: 提交终止: “/home/qishanqing/workspace/code/Trunk/事事分期/StageAll/StageManager/WebRoot/paycontrol/addcitypaycontrol.htm” 处于冲突状态
+ die 'Svn merged conflicts the reasons for failure are as follows'
+ echo 'Svn merged conflicts the reasons for failure are as follows'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.14410
+ echo
+ cat /home/qishanqing/tmp/merged/output.14410
+ rm -f /home/qishanqing/tmp/merged/output.14410
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService'
+ rm -f /home/qishanqing/tmp/merged/output.14410
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductService'
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ awk -F '|' '{print$1}'
++ grep -C 3 $'Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService'
++ head -n 4
+ revision='r141632 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r141823 '
+ '[' '!' -z r141632 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService@r141632' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService@r141632' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45671.html
Merged revision(s) r141632 -r141823   from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductService' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
+ rm -f /home/qishanqing/tmp/merged/output.14410
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageBossService'
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
+ clean_workspace
+ svn cleanup .
+ grep '^?'
+ xargs rm -rf
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
++ awk -F '|' '{print$1}'
+ revision='r141646 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r142311 '
+ '[' '!' -z r141646 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService@r141646' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageBossService' .
+ st='  树冲突：3'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2323' ']'
+ die 'Svn merged conflicts the r141646 -r142311  from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageBossService'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r141646 -r142311  from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageBossService'
+ test -e /home/qishanqing/tmp/merged/output.14410
+ rm -f /home/qishanqing/tmp/merged/output.14410
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45671.html
Merged revision(s) r141646 -r142311   from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageBossService' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/MerchantCenter'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/MerchantCenter'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/MerchantCenter'
+ rm -f /home/qishanqing/tmp/merged/output.14410
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/MerchantCenter'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/MerchantCenter'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/MerchantCenter'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/MerchantCenter'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/MerchantCenter'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ head -n 4
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/MerchantCenter'
++ awk -F '|' '{print$1}'
+ revision='r141618 '
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/MerchantCenter'
+ head='r142365 '
+ '[' '!' -z r141618 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/MerchantCenter@r141618' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/MerchantCenter' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/MerchantCenter@r141618' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/MerchantCenter'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45671.html
Merged revision(s) r141618 -r142365   from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/MerchantCenter' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ rm -f /home/qishanqing/tmp/merged/output.14410
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter'
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ svn st
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ awk -F '|' '{print$1}'
++ grep -C 3 $'Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
++ head -n 4
+ revision='r142402 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r142337 '
+ '[' '!' -z r142402 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter@r142402' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter@r142402' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45671.html
Merged revision(s) r142402 -r142337   from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ rm -f /home/qishanqing/tmp/merged/output.14410
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ svn_from_tb_merged
+ mails-cm -i 'code merged from Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ awk -F '|' '{print$1}'
++ grep -C 3 $'Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r142355 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r134880 '
+ '[' '!' -z r134880 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage@r134880' $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client/lineStage' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：114'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\232114' ']'
+ die 'Svn merged conflicts the r134880 -r142355  from Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'
+ echo 'Svn merged conflicts the r134880 -r142355  from Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage'
+ test -e /home/qishanqing/tmp/merged/output.14410
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.14410
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45671.html
Merged revision(s) r134880 -r142355   from Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (2.4ms)
  Rendered merge/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 202205ms (Views: 446.5ms)


Completed 200 OK in 202205ms (Views: 446.5ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-30 11:40:42 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-30 11:40:42 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (45.8ms)
  Rendered builder/index.html.erb within layouts/application (45.8ms)
Completed 200 OK in 230ms (Views: 200.8ms)


Completed 200 OK in 230ms (Views: 200.8ms)


Started POST "/start" for 192.168.5.26 at 2017-08-30 11:41:34 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-30 11:41:34 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"wanghaixin@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "branch"=>"用户推荐二期", "user"=>"chenhangzheng \tyangxiaoxia wanghaixin", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"kn0ETLxTqtEN4xgvVwM2o3u312mPPC8C8Uxf9aK6oaePmm+l8ul1WFvFlxXqP73HoJ1RGJiEKrFrdL7Pfl/GVQ=="}
  Parameters: {"email"=>"wanghaixin@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "branch"=>"用户推荐二期", "user"=>"chenhangzheng \tyangxiaoxia wanghaixin", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"kn0ETLxTqtEN4xgvVwM2o3u312mPPC8C8Uxf9aK6oaePmm+l8ul1WFvFlxXqP73HoJ1RGJiEKrFrdL7Pfl/GVQ=="}
pid is 17407
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'chenhangzheng 	yangxiaoxia wanghaixin' -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -e wanghaixin@dafy.com -E '' -b $'\347\224\250\346\210\267\346\216\250\350\215\220\344\272\214\346\234\237' -T add -d ''
+ TEMP=' -u '\''chenhangzheng 	yangxiaoxia wanghaixin'\'' -t '\''前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -e '\''wanghaixin@dafy.com'\'' -E '\'''\'' -b '\''用户推荐二期'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''chenhangzheng 	yangxiaoxia wanghaixin'\'' -t '\''前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -e '\''wanghaixin@dafy.com'\'' -E '\'''\'' -b '\''用户推荐二期'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'chenhangzheng 	yangxiaoxia wanghaixin' -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -e wanghaixin@dafy.com -E '' -b $'\347\224\250\346\210\267\346\216\250\350\215\220\344\272\214\346\234\237' -T add -d '' --
+ true
+ case "$1" in
+ user='chenhangzheng 	yangxiaoxia wanghaixin'
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ shift 2
+ true
+ case "$1" in
+ email=wanghaixin@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\347\224\250\346\210\267\346\216\250\350\215\220\344\272\214\346\234\237'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=wanghaixin@dafy.com '
+ SMARTCM_EXTRA_MAIL='wanghaixin@dafy.com '
++ chenhangzheng yangxiaoxia wanghaixin
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: chenhangzheng: command not found
++ for x in '$user'
++ echo chenhangzheng=rw
++ for x in '$user'
++ echo yangxiaoxia=rw
++ for x in '$user'
++ echo wanghaixin=rw
+ users='chenhangzheng=rw
yangxiaoxia=rw
wanghaixin=rw'
++ $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ trunks=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' ']'
+ '[' -z $'\347\224\250\346\210\267\346\216\250\350\215\220\344\272\214\346\234\237' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170830
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708301141
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170830-\347\224\250\346\210\267\346\216\250\350\215\220\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\347\224\250\346\210\267\346\216\250\350\215\220\344\272\214\346\234\237'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708301141-\347\224\250\346\210\267\346\216\250\350\215\220\344\272\214\346\234\237'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170830-\347\224\250\346\210\267\346\216\250\350\215\220\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F / '{print $7}'
+ br=$'20170830-\347\224\250\346\210\267\346\216\250\350\215\220\344\272\214\346\234\237'
+ access=$'20170830-\347\224\250\346\210\267\346\216\250\350\215\220\344\272\214\346\234\237'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' $'https://192.168.0.220/svn/tech/Branch/20170830-\347\224\250\346\210\267\346\216\250\350\215\220\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.17407
+ echo $'https://192.168.0.220/svn/tech/Branch/20170830-\347\224\250\346\210\267\346\216\250\350\215\220\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'', '\''https://192.168.0.220/svn/tech/Branch/20170830-用户推荐二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'',now(),'\''wanghaixin'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'', '\''https://192.168.0.220/svn/tech/Branch/20170830-用户推荐二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'',now(),'\''wanghaixin'\'');'
+ cat /tmp/cmdb.db.17407
+ rm -f /tmp/cmdb.db.17407
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170830-用户推荐二期] /svn/authz.conf'
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z 'chenhangzheng=rw
yangxiaoxia=rw
wanghaixin=rw'
+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.3ms)
  Rendered builder/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 5924ms (Views: 54.0ms)


Completed 200 OK in 5924ms (Views: 54.0ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-30 14:27:47 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-30 14:27:47 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (24.8ms)
  Rendered builder/index.html.erb within layouts/application (24.8ms)
Completed 200 OK in 2644ms (Views: 2618.8ms)


Completed 200 OK in 2644ms (Views: 2618.8ms)


Started POST "/start" for 192.168.5.26 at 2017-08-30 14:28:28 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-30 14:28:28 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"wanghaixin@dafy.com", "types"=>"add", "trunk"=>"自如/后台服务管理/ShareWebCenter", "branch"=>"用户推荐二期注册", "user"=>"chenhangzheng \tyangxiaoxia wanghaixin", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"7zsGDSn9SGH8ey+36dDvvcq2STzBiXIKLyOgpaOCgtLy3G3kZ0eX6KpdoI1U7GTZEZzPTdYxd7m1G0Gff2flIA=="}
  Parameters: {"email"=>"wanghaixin@dafy.com", "types"=>"add", "trunk"=>"自如/后台服务管理/ShareWebCenter", "branch"=>"用户推荐二期注册", "user"=>"chenhangzheng \tyangxiaoxia wanghaixin", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"7zsGDSn9SGH8ey+36dDvvcq2STzBiXIKLyOgpaOCgtLy3G3kZ0eX6KpdoI1U7GTZEZzPTdYxd7m1G0Gff2flIA=="}
pid is 22393
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'chenhangzheng 	yangxiaoxia wanghaixin' -t $'\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/ShareWebCenter' -e wanghaixin@dafy.com -E '' -b $'\347\224\250\346\210\267\346\216\250\350\215\220\344\272\214\346\234\237\346\263\250\345\206\214' -T add -d ''
+ TEMP=' -u '\''chenhangzheng 	yangxiaoxia wanghaixin'\'' -t '\''自如/后台服务管理/ShareWebCenter'\'' -e '\''wanghaixin@dafy.com'\'' -E '\'''\'' -b '\''用户推荐二期注册'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''chenhangzheng 	yangxiaoxia wanghaixin'\'' -t '\''自如/后台服务管理/ShareWebCenter'\'' -e '\''wanghaixin@dafy.com'\'' -E '\'''\'' -b '\''用户推荐二期注册'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'chenhangzheng 	yangxiaoxia wanghaixin' -t $'\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/ShareWebCenter' -e wanghaixin@dafy.com -E '' -b $'\347\224\250\346\210\267\346\216\250\350\215\220\344\272\214\346\234\237\346\263\250\345\206\214' -T add -d '' --
+ true
+ case "$1" in
+ user='chenhangzheng 	yangxiaoxia wanghaixin'
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/ShareWebCenter'
+ shift 2
+ true
+ case "$1" in
+ email=wanghaixin@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\347\224\250\346\210\267\346\216\250\350\215\220\344\272\214\346\234\237\346\263\250\345\206\214'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=wanghaixin@dafy.com '
+ SMARTCM_EXTRA_MAIL='wanghaixin@dafy.com '
++ chenhangzheng yangxiaoxia wanghaixin
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: chenhangzheng: command not found
++ for x in '$user'
++ echo chenhangzheng=rw
++ for x in '$user'
++ echo yangxiaoxia=rw
++ for x in '$user'
++ echo wanghaixin=rw
+ users='chenhangzheng=rw
yangxiaoxia=rw
wanghaixin=rw'
++ $'\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/ShareWebCenter'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 自如/后台服务管理/ShareWebCenter: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/ShareWebCenter'
+ trunks=$'\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/ShareWebCenter'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/ShareWebCenter' ']'
+ '[' -z $'\347\224\250\346\210\267\346\216\250\350\215\220\344\272\214\346\234\237\346\263\250\345\206\214' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170830
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708301428
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/ShareWebCenter'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170830-\347\224\250\346\210\267\346\216\250\350\215\220\344\272\214\346\234\237\346\263\250\345\206\214/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/ShareWebCenter'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\347\224\250\346\210\267\346\216\250\350\215\220\344\272\214\346\234\237\346\263\250\345\206\214'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708301428-\347\224\250\346\210\267\346\216\250\350\215\220\344\272\214\346\234\237\346\263\250\345\206\214'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170830-\347\224\250\346\210\267\346\216\250\350\215\220\344\272\214\346\234\237\346\263\250\345\206\214/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/ShareWebCenter'
++ awk -F / '{print $7}'
+ br=$'20170830-\347\224\250\346\210\267\346\216\250\350\215\220\344\272\214\346\234\237\346\263\250\345\206\214'
+ access=$'20170830-\347\224\250\346\210\267\346\216\250\350\215\220\344\272\214\346\234\237\346\263\250\345\206\214'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/ShareWebCenter' $'https://192.168.0.220/svn/tech/Branch/20170830-\347\224\250\346\210\267\346\216\250\350\215\220\344\272\214\346\234\237\346\263\250\345\206\214/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/ShareWebCenter' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.22393
+ echo $'https://192.168.0.220/svn/tech/Branch/20170830-\347\224\250\346\210\267\346\216\250\350\215\220\344\272\214\346\234\237\346\263\250\345\206\214/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/ShareWebCenter'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/自如/后台服务管理/ShareWebCenter'\'', '\''https://192.168.0.220/svn/tech/Branch/20170830-用户推荐二期注册/Develop/自如/后台服务管理/ShareWebCenter'\'',now(),'\''wanghaixin'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/自如/后台服务管理/ShareWebCenter'\'', '\''https://192.168.0.220/svn/tech/Branch/20170830-用户推荐二期注册/Develop/自如/后台服务管理/ShareWebCenter'\'',now(),'\''wanghaixin'\'');'
+ cat /tmp/cmdb.db.22393
+ rm -f /tmp/cmdb.db.22393
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170830-用户推荐二期注册] /svn/authz.conf'
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z 'chenhangzheng=rw
yangxiaoxia=rw
wanghaixin=rw'
+ cat
+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (2.2ms)
  Rendered builder/new.html.erb within layouts/application (2.2ms)
Completed 200 OK in 9202ms (Views: 1655.8ms)


Completed 200 OK in 9202ms (Views: 1655.8ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-30 17:44:31 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-30 17:44:31 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (32.0ms)
  Rendered merge/index.html.erb within layouts/application (32.0ms)
Completed 200 OK in 3139ms (Views: 899.3ms)


Completed 200 OK in 3139ms (Views: 899.3ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-30 17:44:40 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-30 17:44:40 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170828-删除虚拟额度文字/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-45475.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"IQa9vl5Iiw1G/5pDXcqANSSoTejM7yVxEECgQzZBb+084dZXEPJUhBDZFXng9gtR/4LLmdtXIMKKeEF56qQIHw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170828-删除虚拟额度文字/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-45475.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"IQa9vl5Iiw1G/5pDXcqANSSoTejM7yVxEECgQzZBb+084dZXEPJUhBDZFXng9gtR/4LLmdtXIMKKeEF56qQIHw=="}
pid is 28281
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45475.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170828-\345\210\240\351\231\244\350\231\232\346\213\237\351\242\235\345\272\246\346\226\207\345\255\227/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45475.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170828-删除虚拟额度文字/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45475.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170828-删除虚拟额度文字/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45475.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170828-\345\210\240\351\231\244\350\231\232\346\213\237\351\242\235\345\272\246\346\226\207\345\255\227/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45475.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170828-\345\210\240\351\231\244\350\231\232\346\213\237\351\242\235\345\272\246\346\226\207\345\255\227/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170828-\345\210\240\351\231\244\350\231\232\346\213\237\351\242\235\345\272\246\346\226\207\345\255\227/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170828-删除虚拟额度文字/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170828-\345\210\240\351\231\244\350\231\232\346\213\237\351\242\235\345\272\246\346\226\207\345\255\227/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170828-\345\210\240\351\231\244\350\231\232\346\213\237\351\242\235\345\272\246\346\226\207\345\255\227/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170828-\345\210\240\351\231\244\350\231\232\346\213\237\351\242\235\345\272\246\346\226\207\345\255\227/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170828-\345\210\240\351\231\244\350\231\232\346\213\237\351\242\235\345\272\246\346\226\207\345\255\227/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ rm -f /home/qishanqing/tmp/merged/output.28281
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170828-\345\210\240\351\231\244\350\231\232\346\213\237\351\242\235\345\272\246\346\226\207\345\255\227/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170828-删除虚拟额度文字/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170828-\345\210\240\351\231\244\350\231\232\346\213\237\351\242\235\345\272\246\346\226\207\345\255\227/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170828-\345\210\240\351\231\244\350\231\232\346\213\237\351\242\235\345\272\246\346\226\207\345\255\227/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r141839 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170828-\345\210\240\351\231\244\350\231\232\346\213\237\351\242\235\345\272\246\346\226\207\345\255\227/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r141590 '
+ '[' '!' -z r141590 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170828-\345\210\240\351\231\244\350\231\232\346\213\237\351\242\235\345\272\246\346\226\207\345\255\227/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r141590' $'https://192.168.0.220/svn/tech/Branch/20170828-\345\210\240\351\231\244\350\231\232\346\213\237\351\242\235\345\272\246\346\226\207\345\255\227/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' .
+ st='  树冲突：1'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2321' ']'
+ die 'Svn merged conflicts the r141590 -r141839  from Branch/20170828-删除虚拟额度文字/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r141590 -r141839  from Branch/20170828-删除虚拟额度文字/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ test -e /home/qishanqing/tmp/merged/output.28281
+ rm -f /home/qishanqing/tmp/merged/output.28281
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45475.html
Merged revision(s) r141590 -r141839   from Branch/20170828-删除虚拟额度文字/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (134.5ms)
  Rendered merge/new.html.erb within layouts/application (134.5ms)
Completed 200 OK in 65074ms (Views: 3532.6ms)


Completed 200 OK in 65074ms (Views: 3532.6ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-30 17:54:49 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-30 17:54:49 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (5.1ms)
  Rendered builder/index.html.erb within layouts/application (5.1ms)
Completed 200 OK in 244ms (Views: 185.5ms)


Completed 200 OK in 244ms (Views: 185.5ms)


Started POST "/start" for 192.168.5.26 at 2017-08-30 17:54:52 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-30 17:54:52 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170828-删除虚拟额度文字", "branch"=>"20170828-删除虚拟额度文字", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"IhfjmpQirgiYEdCGok8ZfUGD7+8qUkPZArkj7T7eP+s/8Ihz2phxgc43X7wfc5IZmqlpnj3qRmqYgcLX4jtYGQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170828-删除虚拟额度文字", "branch"=>"20170828-删除虚拟额度文字", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"IhfjmpQirgiYEdCGok8ZfUGD7+8qUkPZArkj7T7eP+s/8Ihz2phxgc43X7wfc5IZmqlpnj3qRmqYgcLX4jtYGQ=="}
pid is 28580
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170828-\345\210\240\351\231\244\350\231\232\346\213\237\351\242\235\345\272\246\346\226\207\345\255\227' -e qishanqing@dafy.com -E '' -b $'20170828-\345\210\240\351\231\244\350\231\232\346\213\237\351\242\235\345\272\246\346\226\207\345\255\227' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170828-删除虚拟额度文字'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170828-删除虚拟额度文字'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170828-删除虚拟额度文字'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170828-删除虚拟额度文字'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170828-\345\210\240\351\231\244\350\231\232\346\213\237\351\242\235\345\272\246\346\226\207\345\255\227' -e qishanqing@dafy.com -E '' -b $'20170828-\345\210\240\351\231\244\350\231\232\346\213\237\351\242\235\345\272\246\346\226\207\345\255\227' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170828-\345\210\240\351\231\244\350\231\232\346\213\237\351\242\235\345\272\246\346\226\207\345\255\227'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170828-\345\210\240\351\231\244\350\231\232\346\213\237\351\242\235\345\272\246\346\226\207\345\255\227'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170828-\345\210\240\351\231\244\350\231\232\346\213\237\351\242\235\345\272\246\346\226\207\345\255\227'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170828-删除虚拟额度文字: command not found
++ for y in '$trunk'
++ echo $'20170828-\345\210\240\351\231\244\350\231\232\346\213\237\351\242\235\345\272\246\346\226\207\345\255\227'
+ trunks=$'20170828-\345\210\240\351\231\244\350\231\232\346\213\237\351\242\235\345\272\246\346\226\207\345\255\227'
+ test del = add
+ delbranch
+ '[' -z $'20170828-\345\210\240\351\231\244\350\231\232\346\213\237\351\242\235\345\272\246\346\226\207\345\255\227' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170830
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708301754
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170828-\345\210\240\351\231\244\350\231\232\346\213\237\351\242\235\345\272\246\346\226\207\345\255\227'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170830-20170828-\345\210\240\351\231\244\350\231\232\346\213\237\351\242\235\345\272\246\346\226\207\345\255\227/Develop/20170828-\345\210\240\351\231\244\350\231\232\346\213\237\351\242\235\345\272\246\346\226\207\345\255\227'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170828-\345\210\240\351\231\244\350\231\232\346\213\237\351\242\235\345\272\246\346\226\207\345\255\227'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708301754-20170828-\345\210\240\351\231\244\350\231\232\346\213\237\351\242\235\345\272\246\346\226\207\345\255\227'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170830-20170828-\345\210\240\351\231\244\350\231\232\346\213\237\351\242\235\345\272\246\346\226\207\345\255\227/Develop/20170828-\345\210\240\351\231\244\350\231\232\346\213\237\351\242\235\345\272\246\346\226\207\345\255\227'
++ awk -F / '{print $7}'
+ br=$'20170830-20170828-\345\210\240\351\231\244\350\231\232\346\213\237\351\242\235\345\272\246\346\226\207\345\255\227'
+ access=$'20170830-20170828-\345\210\240\351\231\244\350\231\232\346\213\237\351\242\235\345\272\246\346\226\207\345\255\227'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170828-\345\210\240\351\231\244\350\231\232\346\213\237\351\242\235\345\272\246\346\226\207\345\255\227' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708301754-20170828-\345\210\240\351\231\244\350\231\232\346\213\237\351\242\235\345\272\246\346\226\207\345\255\227' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.28580
+ echo $'https://192.168.0.220/svn/tech/Branch/20170828-\345\210\240\351\231\244\350\231\232\346\213\237\351\242\235\345\272\246\346\226\207\345\255\227'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170828-删除虚拟额度文字%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170828-删除虚拟额度文字%'\'';'
+ cat /tmp/cmdb.db.28580
+ rm -f /tmp/cmdb.db.28580
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (50.2ms)
  Rendered builder/new.html.erb within layouts/application (50.2ms)
Completed 200 OK in 1118ms (Views: 99.1ms)


Completed 200 OK in 1118ms (Views: 99.1ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-30 18:09:27 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-30 18:09:27 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (6.3ms)
  Rendered builder/index.html.erb within layouts/application (6.3ms)
Completed 200 OK in 144ms (Views: 135.1ms)


Completed 200 OK in 144ms (Views: 135.1ms)


Started POST "/start" for 192.168.5.26 at 2017-08-30 18:10:11 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-30 18:10:11 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"lqishanqing@dafy.com", "types"=>"add", "trunk"=>"前端业务/营销活动/卡卷系统/CardVoucherBusinessCenter", "branch"=>"卡券平台生成券页面优化", "user"=>"", "extra_mails"=>"", "riqi"=>"20170824", "authenticity_token"=>"k7tuM8658beiPOY1awR9R0o0xBAImtbvczGbGvGSpFmOXAXagAMuPvQaaQ/WOPYjkR5CYR8i01zpCXogLXfDqw=="}
  Parameters: {"email"=>"lqishanqing@dafy.com", "types"=>"add", "trunk"=>"前端业务/营销活动/卡卷系统/CardVoucherBusinessCenter", "branch"=>"卡券平台生成券页面优化", "user"=>"", "extra_mails"=>"", "riqi"=>"20170824", "authenticity_token"=>"k7tuM8658beiPOY1awR9R0o0xBAImtbvczGbGvGSpFmOXAXagAMuPvQaaQ/WOPYjkR5CYR8i01zpCXogLXfDqw=="}
pid is 29136
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessCenter' -e lqishanqing@dafy.com -E '' -b $'\345\215\241\345\210\270\345\271\263\345\217\260\347\224\237\346\210\220\345\210\270\351\241\265\351\235\242\344\274\230\345\214\226' -T add -d 20170824
+ TEMP=' -u '\'''\'' -t '\''前端业务/营销活动/卡卷系统/CardVoucherBusinessCenter'\'' -e '\''lqishanqing@dafy.com'\'' -E '\'''\'' -b '\''卡券平台生成券页面优化'\'' -T '\''add'\'' -d '\''20170824'\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''前端业务/营销活动/卡卷系统/CardVoucherBusinessCenter'\'' -e '\''lqishanqing@dafy.com'\'' -E '\'''\'' -b '\''卡券平台生成券页面优化'\'' -T '\''add'\'' -d '\''20170824'\'' --'
++ set -- -u '' -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessCenter' -e lqishanqing@dafy.com -E '' -b $'\345\215\241\345\210\270\345\271\263\345\217\260\347\224\237\346\210\220\345\210\270\351\241\265\351\235\242\344\274\230\345\214\226' -T add -d 20170824 --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessCenter'
+ shift 2
+ true
+ case "$1" in
+ email=lqishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\345\215\241\345\210\270\345\271\263\345\217\260\347\224\237\346\210\220\345\210\270\351\241\265\351\235\242\344\274\230\345\214\226'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=20170824
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=lqishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='lqishanqing@dafy.com '
+ users=
++ $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessCenter'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 前端业务/营销活动/卡卷系统/CardVoucherBusinessCenter: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessCenter'
+ trunks=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessCenter'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessCenter' ']'
+ '[' -z $'\345\215\241\345\210\270\345\271\263\345\217\260\347\224\237\346\210\220\345\210\270\351\241\265\351\235\242\344\274\230\345\214\226' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170830
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708301810
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessCenter'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170824-\345\215\241\345\210\270\345\271\263\345\217\260\347\224\237\346\210\220\345\210\270\351\241\265\351\235\242\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessCenter'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\215\241\345\210\270\345\271\263\345\217\260\347\224\237\346\210\220\345\210\270\351\241\265\351\235\242\344\274\230\345\214\226'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708301810-\345\215\241\345\210\270\345\271\263\345\217\260\347\224\237\346\210\220\345\210\270\351\241\265\351\235\242\344\274\230\345\214\226'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170824-\345\215\241\345\210\270\345\271\263\345\217\260\347\224\237\346\210\220\345\210\270\351\241\265\351\235\242\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessCenter'
++ awk -F / '{print $7}'
+ br=$'20170824-\345\215\241\345\210\270\345\271\263\345\217\260\347\224\237\346\210\220\345\210\270\351\241\265\351\235\242\344\274\230\345\214\226'
+ access=$'20170824-\345\215\241\345\210\270\345\271\263\345\217\260\347\224\237\346\210\220\345\210\270\351\241\265\351\235\242\344\274\230\345\214\226'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessCenter' $'https://192.168.0.220/svn/tech/Branch/20170824-\345\215\241\345\210\270\345\271\263\345\217\260\347\224\237\346\210\220\345\210\270\351\241\265\351\235\242\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessCenter' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.29136
+ echo $'https://192.168.0.220/svn/tech/Branch/20170824-\345\215\241\345\210\270\345\271\263\345\217\260\347\224\237\346\210\220\345\210\270\351\241\265\351\235\242\344\274\230\345\214\226/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessCenter'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/营销活动/卡卷系统/CardVoucherBusinessCenter'\'', '\''https://192.168.0.220/svn/tech/Branch/20170824-卡券平台生成券页面优化/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusinessCenter'\'',now(),'\''lqishanqing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/营销活动/卡卷系统/CardVoucherBusinessCenter'\'', '\''https://192.168.0.220/svn/tech/Branch/20170824-卡券平台生成券页面优化/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusinessCenter'\'',now(),'\''lqishanqing'\'');'
+ cat /tmp/cmdb.db.29136
+ rm -f /tmp/cmdb.db.29136
+ check-acces
+ read num
+ ssh root@192.168.0.220 'grep -c 20170824-卡券平台生成券页面优化] /svn/authz.conf'
+ '[' 1 -eq 0 ']'
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (2.9ms)
  Rendered builder/new.html.erb within layouts/application (2.9ms)
Completed 200 OK in 844ms (Views: 285.4ms)


Completed 200 OK in 844ms (Views: 285.4ms)


smtp-server: 550 User not found: lqishanqing@dafy.com
. . . message not sent.
Started GET "/builder" for 192.168.5.26 at 2017-08-30 18:11:14 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-30 18:11:14 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (21.6ms)
  Rendered builder/index.html.erb within layouts/application (21.6ms)
Completed 200 OK in 106ms (Views: 102.0ms)


Completed 200 OK in 106ms (Views: 102.0ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-31 09:44:39 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-31 09:44:40 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (564.8ms)
  Rendered merge/index.html.erb within layouts/application (564.8ms)
Completed 200 OK in 5463ms (Views: 4846.6ms)


Completed 200 OK in 5463ms (Views: 4846.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-31 09:46:21 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-31 09:46:21 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170725-达飞小助手/Develop/前端业务/口袋助手3.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper", "task"=>"http://192.168.0.221/zentao/task-view-45763.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"3btqhmgAHoOJk+rGv1I/RJCo1F2GymGO6P1eTqiKD/bAXAFvJrrBCt+1ZfwCbrQgS4JSLJFyZD1yxb90dG9oBA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170725-达飞小助手/Develop/前端业务/口袋助手3.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper", "task"=>"http://192.168.0.221/zentao/task-view-45763.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"3btqhmgAHoOJk+rGv1I/RJCo1F2GymGO6P1eTqiKD/bAXAFvJrrBCt+1ZfwCbrQgS4JSLJFyZD1yxb90dG9oBA=="}
pid is 24268
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45763.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170725-\350\276\276\351\243\236\345\260\217\345\212\251\346\211\213/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45763.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170725-达飞小助手/Develop/前端业务/口袋助手3.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45763.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170725-达飞小助手/Develop/前端业务/口袋助手3.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45763.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170725-\350\276\276\351\243\236\345\260\217\345\212\251\346\211\213/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45763.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170725-\350\276\276\351\243\236\345\260\217\345\212\251\346\211\213/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170725-\350\276\276\351\243\236\345\260\217\345\212\251\346\211\213/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170725-达飞小助手/Develop/前端业务/口袋助手3.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170725-\350\276\276\351\243\236\345\260\217\345\212\251\346\211\213/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170725-\350\276\276\351\243\236\345\260\217\345\212\251\346\211\213/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170725-\350\276\276\351\243\236\345\260\217\345\212\251\346\211\213/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170725-\350\276\276\351\243\236\345\260\217\345\212\251\346\211\213/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ test -e /home/qishanqing/tmp/merged/output.24268
+ mails-cm -i 'svn merged faild'
+ echo
+ cat /home/qishanqing/tmp/merged/output.24268
+ rm -f /home/qishanqing/tmp/merged/output.24268
+ rm -f /home/qishanqing/tmp/merged/output.24268
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170725-\350\276\276\351\243\236\345\260\217\345\212\251\346\211\213/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170725-达飞小助手/Develop/前端业务/口袋助手3.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'
+ grep '^?'
+ xargs rm -rf
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170725-\350\276\276\351\243\236\345\260\217\345\212\251\346\211\213/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r142616 '
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170725-\350\276\276\351\243\236\345\260\217\345\212\251\346\211\213/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'
svn: E160013: 找不到路径 “/svn/tech/!svn/rvr/142749/Branch/20170725-%E8%BE%BE%E9%A3%9E%E5%B0%8F%E5%8A%A9%E6%89%8B/Develop/%E5%89%8D%E7%AB%AF%E4%B8%9A%E5%8A%A1/%E5%8F%A3%E8%A2%8B%E5%8A%A9%E6%89%8B3.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper”
+ head=
+ '[' '!' -z r142616 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170725-\350\276\276\351\243\236\345\260\217\345\212\251\346\211\213/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper@r142616' $'https://192.168.0.220/svn/tech/Branch/20170725-\350\276\276\351\243\236\345\260\217\345\212\251\346\211\213/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper' .
++ grep -Ei 'conflicts|树冲突'
svn: E160013: 找不到路径 “/svn/tech/!svn/rvr/142749/Branch/20170725-%E8%BE%BE%E9%A3%9E%E5%B0%8F%E5%8A%A9%E6%89%8B/Develop/%E5%89%8D%E7%AB%AF%E4%B8%9A%E5%8A%A1/%E5%8F%A3%E8%A2%8B%E5%8A%A9%E6%89%8B3.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper”
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170725-\350\276\276\351\243\236\345\260\217\345\212\251\346\211\213/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper@r142616' $'https://192.168.0.220/svn/tech/Branch/20170725-\350\276\276\351\243\236\345\260\217\345\212\251\346\211\213/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\217\243\350\242\213\345\212\251\346\211\2133.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper'
svn: E160013: 找不到路径 “/svn/tech/!svn/rvr/142749/Branch/20170725-%E8%BE%BE%E9%A3%9E%E5%B0%8F%E5%8A%A9%E6%89%8B/Develop/%E5%89%8D%E7%AB%AF%E4%B8%9A%E5%8A%A1/%E5%8F%A3%E8%A2%8B%E5%8A%A9%E6%89%8B3.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper”
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45763.html
Merged revision(s) r142616 -  from Branch/20170725-达飞小助手/Develop/前端业务/口袋助手3.0/MobileWallet/Android/SalemanApp/Branch/DafyHelper' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.2ms)
  Rendered merge/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 30635ms (Views: 2240.1ms)


Completed 200 OK in 30635ms (Views: 2240.1ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-31 09:48:51 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-31 09:48:51 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (77.3ms)
  Rendered merge/index.html.erb within layouts/application (77.3ms)
Completed 200 OK in 155ms (Views: 151.7ms)


Completed 200 OK in 155ms (Views: 151.7ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-31 09:49:01 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-31 09:49:01 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/基础业务/用户中心/BossSite https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/基础业务/用户中心/UserBusiness", "task"=>"http://192.168.0.221/zentao/task-view-45772.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"M0HQOWRyNe9DpFa/vAP/6do145u6udSfme33sVVaDNcuprvQKsjqZhWC2YUBP3SNAR9l6q0B0SwD1RaLib9rJQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/基础业务/用户中心/BossSite https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/基础业务/用户中心/UserBusiness", "task"=>"http://192.168.0.221/zentao/task-view-45772.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"M0HQOWRyNe9DpFa/vAP/6do145u6udSfme33sVVaDNcuprvQKsjqZhWC2YUBP3SNAR9l6q0B0SwD1RaLib9rJQ=="}
pid is 24452
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45772.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/基础业务/用户中心/BossSite https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/基础业务/用户中心/UserBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45772.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/基础业务/用户中心/BossSite https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/基础业务/用户中心/UserBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45772.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/基础业务/用户中心/BossSite https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/基础业务/用户中心/UserBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45772.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/基础业务/用户中心/BossSite https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/基础业务/用户中心/UserBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45772.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/基础业务/用户中心/BossSite https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/基础业务/用户中心/UserBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/BossSite' $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/基础业务/用户中心/BossSite: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/BossSite'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/基础业务/用户中心/BossSite
https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/基础业务/用户中心/UserBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/BossSite'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/BossSite'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/BossSite'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.24452
+ echo
+ cat /home/qishanqing/tmp/merged/output.24452
+ rm -f /home/qishanqing/tmp/merged/output.24452
+ rm -f /home/qishanqing/tmp/merged/output.24452
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/BossSite'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/BossSite'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/BossSite'
+ die '基础业务/用户中心/BossSite  project code no found'
+ echo '基础业务/用户中心/BossSite  project code no found'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.24452
+ rm -f /home/qishanqing/tmp/merged/output.24452
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.24452
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ mails-cm -i 'code merged from Branch/20170824-借款协议改造/Develop/基础业务/用户中心/UserBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ awk -F '|' '{print$1}'
+ revision='r142035 '
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ grep '^r'
+ head='r142033 '
+ '[' '!' -z r142035 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness@r142035' $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness@r142035' $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45772.html
Merged revision(s) r142035 -r142033   from Branch/20170824-借款协议改造/Develop/基础业务/用户中心/UserBusiness' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (16.6ms)
  Rendered merge/new.html.erb within layouts/application (16.6ms)
Completed 200 OK in 18808ms (Views: 110.1ms)


Completed 200 OK in 18808ms (Views: 110.1ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-31 09:52:48 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-31 09:52:48 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (5.0ms)
  Rendered merge/index.html.erb within layouts/application (5.0ms)
Completed 200 OK in 110ms (Views: 107.5ms)


Completed 200 OK in 110ms (Views: 107.5ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-31 09:52:54 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-31 09:52:54 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossService", "task"=>"http://192.168.0.221/zentao/task-view-45765.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"7CwSSEwwpqNMlzb6fKvAur4kIjrIwDV6ECxmKmLhv4/xy3mhAop5KhqxucDBl0veZQ6kS994MMmKFIcQvgTYfQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossService", "task"=>"http://192.168.0.221/zentao/task-view-45765.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"7CwSSEwwpqNMlzb6fKvAur4kIjrIwDV6ECxmKmLhv4/xy3mhAop5KhqxucDBl0veZQ6kS994MMmKFIcQvgTYfQ=="}
pid is 24608
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45765.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45765.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossService'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45765.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossService'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45765.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45765.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossService: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
+ rm -f /home/qishanqing/tmp/merged/output.24608
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossService'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
++ head -n 4
++ awk -F '|' '{print$1}'
+ revision='r142406 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r142547 '
+ '[' '!' -z r142406 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService@r142406' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService@r142406' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45765.html
Merged revision(s) r142406 -r142547   from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossService' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (2.2ms)
  Rendered merge/new.html.erb within layouts/application (2.2ms)
Completed 200 OK in 11746ms (Views: 93.3ms)


Completed 200 OK in 11746ms (Views: 93.3ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-31 09:54:36 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-31 09:54:36 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (18.0ms)
  Rendered merge/index.html.erb within layouts/application (18.0ms)
Completed 200 OK in 94ms (Views: 91.4ms)


Completed 200 OK in 94ms (Views: 91.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-31 09:54:45 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-31 09:54:45 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170525-工具/Develop/前端业务/工具/网站中心/ToolBusiness https://192.168.0.220/svn/tech/Branch/20170622-WebSite公共广告/Develop/前端业务/网站/网站中心/WebSiteBusiness", "task"=>"http://192.168.0.221/zentao/task-view-45787.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"ISvOL3PPk4JsoRMeute/KpvVXb5A0evFT+pc3RlVNv48zKXGPXVMCzqHnCQH6zROQP/bz1dp7nbV0r3nxbBRDA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170525-工具/Develop/前端业务/工具/网站中心/ToolBusiness https://192.168.0.220/svn/tech/Branch/20170622-WebSite公共广告/Develop/前端业务/网站/网站中心/WebSiteBusiness", "task"=>"http://192.168.0.221/zentao/task-view-45787.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"ISvOL3PPk4JsoRMeute/KpvVXb5A0evFT+pc3RlVNv48zKXGPXVMCzqHnCQH6zROQP/bz1dp7nbV0r3nxbBRDA=="}
pid is 24695
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45787.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170525-工具/Develop/前端业务/工具/网站中心/ToolBusiness https://192.168.0.220/svn/tech/Branch/20170622-WebSite公共广告/Develop/前端业务/网站/网站中心/WebSiteBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45787.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170525-工具/Develop/前端业务/工具/网站中心/ToolBusiness https://192.168.0.220/svn/tech/Branch/20170622-WebSite公共广告/Develop/前端业务/网站/网站中心/WebSiteBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45787.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170525-工具/Develop/前端业务/工具/网站中心/ToolBusiness https://192.168.0.220/svn/tech/Branch/20170622-WebSite公共广告/Develop/前端业务/网站/网站中心/WebSiteBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45787.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170525-工具/Develop/前端业务/工具/网站中心/ToolBusiness https://192.168.0.220/svn/tech/Branch/20170622-WebSite公共广告/Develop/前端业务/网站/网站中心/WebSiteBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45787.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170525-工具/Develop/前端业务/工具/网站中心/ToolBusiness https://192.168.0.220/svn/tech/Branch/20170622-WebSite公共广告/Develop/前端业务/网站/网站中心/WebSiteBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170525-\345\267\245\345\205\267/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolBusiness' $'https://192.168.0.220/svn/tech/Branch/20170622-WebSite\345\205\254\345\205\261\345\271\277\345\221\212/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170525-工具/Develop/前端业务/工具/网站中心/ToolBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170525-\345\267\245\345\205\267/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170622-WebSite\345\205\254\345\205\261\345\271\277\345\221\212/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteBusiness'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170525-工具/Develop/前端业务/工具/网站中心/ToolBusiness
https://192.168.0.220/svn/tech/Branch/20170622-WebSite公共广告/Develop/前端业务/网站/网站中心/WebSiteBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170525-\345\267\245\345\205\267/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170525-\345\267\245\345\205\267/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.24695
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170525-\345\267\245\345\205\267/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolBusiness'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170525-工具/Develop/前端业务/工具/网站中心/ToolBusiness'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170525-\345\267\245\345\205\267/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolBusiness'
++ awk -F '|' '{print$1}'
+ revision='r141584 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170525-\345\267\245\345\205\267/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r141562 '
+ '[' '!' -z r141584 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170525-\345\267\245\345\205\267/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolBusiness@r141584' $'https://192.168.0.220/svn/tech/Branch/20170525-\345\267\245\345\205\267/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170525-\345\267\245\345\205\267/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolBusiness@r141584' $'https://192.168.0.220/svn/tech/Branch/20170525-\345\267\245\345\205\267/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\345\267\245\345\205\267/\347\275\221\347\253\231\344\270\255\345\277\203/ToolBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45787.html
Merged revision(s) r141584 -r141562   from Branch/20170525-工具/Develop/前端业务/工具/网站中心/ToolBusiness' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170622-WebSite\345\205\254\345\205\261\345\271\277\345\221\212/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170622-WebSite\345\205\254\345\205\261\345\271\277\345\221\212/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.24695
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170622-WebSite\345\205\254\345\205\261\345\271\277\345\221\212/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteBusiness'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170622-WebSite公共广告/Develop/前端业务/网站/网站中心/WebSiteBusiness'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170622-WebSite\345\205\254\345\205\261\345\271\277\345\221\212/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r126430 '
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170622-WebSite\345\205\254\345\205\261\345\271\277\345\221\212/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteBusiness'
+ head='r125043 '
+ '[' '!' -z r126430 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170622-WebSite\345\205\254\345\205\261\345\271\277\345\221\212/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteBusiness@r126430' $'https://192.168.0.220/svn/tech/Branch/20170622-WebSite\345\205\254\345\205\261\345\271\277\345\221\212/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170622-WebSite\345\205\254\345\205\261\345\271\277\345\221\212/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteBusiness@r126430' $'https://192.168.0.220/svn/tech/Branch/20170622-WebSite\345\205\254\345\205\261\345\271\277\345\221\212/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\347\275\221\347\253\231/\347\275\221\347\253\231\344\270\255\345\277\203/WebSiteBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45787.html
Merged revision(s) r126430 -r125043   from Branch/20170622-WebSite公共广告/Develop/前端业务/网站/网站中心/WebSiteBusiness' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.5ms)
  Rendered merge/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 24238ms (Views: 108.1ms)


Completed 200 OK in 24238ms (Views: 108.1ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-31 09:57:48 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-31 09:57:48 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.9ms)
  Rendered merge/index.html.erb within layouts/application (3.9ms)
Completed 200 OK in 270ms (Views: 266.8ms)


Completed 200 OK in 270ms (Views: 266.8ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-31 09:58:15 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-31 09:58:15 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170828-同步冻结/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-45749.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"zKTzx7WfjBPpKCbDx3CT3qUdaTHI4YUEt0anosuNDf3RQ5gu+yVTmr8Oqfl6TBi6fjfvQN9ZgLctfkaYF2hqDw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170828-同步冻结/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-45749.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"zKTzx7WfjBPpKCbDx3CT3qUdaTHI4YUEt0anosuNDf3RQ5gu+yVTmr8Oqfl6TBi6fjfvQN9ZgLctfkaYF2hqDw=="}
pid is 24879
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45749.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170828-\345\220\214\346\255\245\345\206\273\347\273\223/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45749.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170828-同步冻结/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45749.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170828-同步冻结/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45749.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170828-\345\220\214\346\255\245\345\206\273\347\273\223/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45749.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170828-\345\220\214\346\255\245\345\206\273\347\273\223/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170828-\345\220\214\346\255\245\345\206\273\347\273\223/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170828-同步冻结/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170828-\345\220\214\346\255\245\345\206\273\347\273\223/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170828-\345\220\214\346\255\245\345\206\273\347\273\223/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170828-\345\220\214\346\255\245\345\206\273\347\273\223/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170828-\345\220\214\346\255\245\345\206\273\347\273\223/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ rm -f /home/qishanqing/tmp/merged/output.24879
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170828-\345\220\214\346\255\245\345\206\273\347\273\223/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170828-同步冻结/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170828-\345\220\214\346\255\245\345\206\273\347\273\223/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170828-\345\220\214\346\255\245\345\206\273\347\273\223/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r142583 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170828-\345\220\214\346\255\245\345\206\273\347\273\223/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r141805 '
+ '[' '!' -z r141805 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170828-\345\220\214\346\255\245\345\206\273\347\273\223/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r141805' $'https://192.168.0.220/svn/tech/Branch/20170828-\345\220\214\346\255\245\345\206\273\347\273\223/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170828-\345\220\214\346\255\245\345\206\273\347\273\223/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r141805' $'https://192.168.0.220/svn/tech/Branch/20170828-\345\220\214\346\255\245\345\206\273\347\273\223/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45749.html
Merged revision(s) r141805 -r142583   from Branch/20170828-同步冻结/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.0ms)
  Rendered merge/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 38843ms (Views: 62.2ms)


Completed 200 OK in 38843ms (Views: 62.2ms)


Started POST "/start" for 192.168.5.26 at 2017-08-31 10:01:42 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-31 10:01:42 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170828-同步冻结", "branch"=>"20170828-同步冻结", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"/r3+PhhptCMid5wzrlstzoLk7IgFvsTCHOaQTadwpJvjWpXXVtNrqnRREwkTZ6aqWc5q+RIGwXGG3nF3e5XDaQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170828-同步冻结", "branch"=>"20170828-同步冻结", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"/r3+PhhptCMid5wzrlstzoLk7IgFvsTCHOaQTadwpJvjWpXXVtNrqnRREwkTZ6aqWc5q+RIGwXGG3nF3e5XDaQ=="}
pid is 25010
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170828-\345\220\214\346\255\245\345\206\273\347\273\223' -e qishanqing@dafy.com -E '' -b $'20170828-\345\220\214\346\255\245\345\206\273\347\273\223' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170828-同步冻结'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170828-同步冻结'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170828-同步冻结'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170828-同步冻结'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170828-\345\220\214\346\255\245\345\206\273\347\273\223' -e qishanqing@dafy.com -E '' -b $'20170828-\345\220\214\346\255\245\345\206\273\347\273\223' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170828-\345\220\214\346\255\245\345\206\273\347\273\223'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170828-\345\220\214\346\255\245\345\206\273\347\273\223'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170828-\345\220\214\346\255\245\345\206\273\347\273\223'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170828-同步冻结: command not found
++ for y in '$trunk'
++ echo $'20170828-\345\220\214\346\255\245\345\206\273\347\273\223'
+ trunks=$'20170828-\345\220\214\346\255\245\345\206\273\347\273\223'
+ test del = add
+ delbranch
+ '[' -z $'20170828-\345\220\214\346\255\245\345\206\273\347\273\223' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170831
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708311001
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170828-\345\220\214\346\255\245\345\206\273\347\273\223'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170831-20170828-\345\220\214\346\255\245\345\206\273\347\273\223/Develop/20170828-\345\220\214\346\255\245\345\206\273\347\273\223'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170828-\345\220\214\346\255\245\345\206\273\347\273\223'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708311001-20170828-\345\220\214\346\255\245\345\206\273\347\273\223'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170831-20170828-\345\220\214\346\255\245\345\206\273\347\273\223/Develop/20170828-\345\220\214\346\255\245\345\206\273\347\273\223'
++ awk -F / '{print $7}'
+ br=$'20170831-20170828-\345\220\214\346\255\245\345\206\273\347\273\223'
+ access=$'20170831-20170828-\345\220\214\346\255\245\345\206\273\347\273\223'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170828-\345\220\214\346\255\245\345\206\273\347\273\223' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708311001-20170828-\345\220\214\346\255\245\345\206\273\347\273\223' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.25010
+ echo $'https://192.168.0.220/svn/tech/Branch/20170828-\345\220\214\346\255\245\345\206\273\347\273\223'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170828-同步冻结%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170828-同步冻结%'\'';'
+ cat /tmp/cmdb.db.25010
+ rm -f /tmp/cmdb.db.25010
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (2.1ms)
  Rendered builder/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 2026ms (Views: 109.2ms)


Completed 200 OK in 2026ms (Views: 109.2ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-31 10:02:14 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-31 10:02:14 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (10.0ms)
  Rendered merge/index.html.erb within layouts/application (10.0ms)
Completed 200 OK in 126ms (Views: 122.2ms)


Completed 200 OK in 126ms (Views: 122.2ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-31 10:02:37 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-31 10:02:37 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter https://192.168.0.220/svn/tech/Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-45798.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"JbFP6cKDZVfzANhHQzvSp5NhpJ5P3cNaKeDL/I41TKo4ViQAjDm63qUmV33+B1nDSEsi71hlxumz2CrGUtArWA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter https://192.168.0.220/svn/tech/Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-45798.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"JbFP6cKDZVfzANhHQzvSp5NhpJ5P3cNaKeDL/I41TKo4ViQAjDm63qUmV33+B1nDSEsi71hlxumz2CrGUtArWA=="}
pid is 25061
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45798.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter https://192.168.0.220/svn/tech/Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45798.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter https://192.168.0.220/svn/tech/Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45798.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter https://192.168.0.220/svn/tech/Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45798.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter https://192.168.0.220/svn/tech/Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45798.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter https://192.168.0.220/svn/tech/Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter' $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter
https://192.168.0.220/svn/tech/Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ rm -f /home/qishanqing/tmp/merged/output.25061
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r142402 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r142727 '
+ '[' '!' -z r142402 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter@r142402' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter@r142402' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45798.html
Merged revision(s) r142402 -r142727   from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ rm -f /home/qishanqing/tmp/merged/output.25061
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
+ revision='r142465 '
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ head='r142726 '
+ '[' '!' -z r142465 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r142465' $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r142465' $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ echo tc
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45798.html
Merged revision(s) r142465 -r142726   from Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.6ms)
  Rendered merge/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 50271ms (Views: 208.9ms)


Completed 200 OK in 50271ms (Views: 208.9ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-31 10:07:01 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-31 10:07:01 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (10.6ms)
  Rendered merge/index.html.erb within layouts/application (10.6ms)
Completed 200 OK in 137ms (Views: 131.6ms)


Completed 200 OK in 137ms (Views: 131.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-31 10:07:07 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-31 10:07:07 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductService", "task"=>"http://192.168.0.221/zentao/task-view-45793.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"r2MbXrq1PxqrXpZHSSH5GvXFbNsst3zBuvgUp2/uTCyyhHC39A/gk/14GX30HXJ+Lu/qqjsPeXIgwPWdswsr3g=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductService", "task"=>"http://192.168.0.221/zentao/task-view-45793.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"r2MbXrq1PxqrXpZHSSH5GvXFbNsst3zBuvgUp2/uTCyyhHC39A/gk/14GX30HXJ+Lu/qqjsPeXIgwPWdswsr3g=="}
pid is 25270
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45793.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45793.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductService'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45793.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductService'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45793.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45793.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductService: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService'
+ rm -f /home/qishanqing/tmp/merged/output.25270
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService'
+ mails-cm -i 'code merged from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductService'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService'
++ awk -F '|' '{print$1}'
+ revision='r142418 '
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService'
+ head='r142593 '
+ '[' '!' -z r142418 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService@r142418' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService@r142418' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductService'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45793.html
Merged revision(s) r142418 -r142593   from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductService' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.3ms)
  Rendered merge/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 12373ms (Views: 172.8ms)


Completed 200 OK in 12373ms (Views: 172.8ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-31 10:16:43 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-31 10:16:43 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (7.9ms)
  Rendered builder/index.html.erb within layouts/application (7.9ms)
Completed 200 OK in 1083ms (Views: 1035.6ms)


Completed 200 OK in 1083ms (Views: 1035.6ms)


Started POST "/start" for 192.168.5.26 at 2017-08-31 10:18:34 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-31 10:18:34 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"zhouwei@dafy.com", "types"=>"add", "trunk"=>"自如/MobileWallet/iOSNew/DafyYunDai/Trunk/Card2Card", "branch"=>"理财合规", "user"=>"chenhangzheng zhouwei zhanggaobo", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"msGStngCmk0nKYaYTU4iXqWweCFybBL9XnztjGoZLUKHJvlfNrhFxHEPCaLwcqk6fpr+UGXUF07ERAy2tvxKsA=="}
  Parameters: {"email"=>"zhouwei@dafy.com", "types"=>"add", "trunk"=>"自如/MobileWallet/iOSNew/DafyYunDai/Trunk/Card2Card", "branch"=>"理财合规", "user"=>"chenhangzheng zhouwei zhanggaobo", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"msGStngCmk0nKYaYTU4iXqWweCFybBL9XnztjGoZLUKHJvlfNrhFxHEPCaLwcqk6fpr+UGXUF07ERAy2tvxKsA=="}
pid is 25921
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'chenhangzheng zhouwei zhanggaobo' -t $'\350\207\252\345\246\202/MobileWallet/iOSNew/DafyYunDai/Trunk/Card2Card' -e zhouwei@dafy.com -E '' -b $'\347\220\206\350\264\242\345\220\210\350\247\204' -T add -d ''
+ TEMP=' -u '\''chenhangzheng zhouwei zhanggaobo'\'' -t '\''自如/MobileWallet/iOSNew/DafyYunDai/Trunk/Card2Card'\'' -e '\''zhouwei@dafy.com'\'' -E '\'''\'' -b '\''理财合规'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''chenhangzheng zhouwei zhanggaobo'\'' -t '\''自如/MobileWallet/iOSNew/DafyYunDai/Trunk/Card2Card'\'' -e '\''zhouwei@dafy.com'\'' -E '\'''\'' -b '\''理财合规'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'chenhangzheng zhouwei zhanggaobo' -t $'\350\207\252\345\246\202/MobileWallet/iOSNew/DafyYunDai/Trunk/Card2Card' -e zhouwei@dafy.com -E '' -b $'\347\220\206\350\264\242\345\220\210\350\247\204' -T add -d '' --
+ true
+ case "$1" in
+ user='chenhangzheng zhouwei zhanggaobo'
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\350\207\252\345\246\202/MobileWallet/iOSNew/DafyYunDai/Trunk/Card2Card'
+ shift 2
+ true
+ case "$1" in
+ email=zhouwei@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\347\220\206\350\264\242\345\220\210\350\247\204'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=zhouwei@dafy.com '
+ SMARTCM_EXTRA_MAIL='zhouwei@dafy.com '
++ chenhangzheng zhouwei zhanggaobo
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: chenhangzheng: command not found
++ for x in '$user'
++ echo chenhangzheng=rw
++ for x in '$user'
++ echo zhouwei=rw
++ for x in '$user'
++ echo zhanggaobo=rw
+ users='chenhangzheng=rw
zhouwei=rw
zhanggaobo=rw'
++ $'\350\207\252\345\246\202/MobileWallet/iOSNew/DafyYunDai/Trunk/Card2Card'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 自如/MobileWallet/iOSNew/DafyYunDai/Trunk/Card2Card: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\350\207\252\345\246\202/MobileWallet/iOSNew/DafyYunDai/Trunk/Card2Card'
+ trunks=$'\350\207\252\345\246\202/MobileWallet/iOSNew/DafyYunDai/Trunk/Card2Card'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\350\207\252\345\246\202/MobileWallet/iOSNew/DafyYunDai/Trunk/Card2Card' ']'
+ '[' -z $'\347\220\206\350\264\242\345\220\210\350\247\204' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170831
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708311018
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/MobileWallet/iOSNew/DafyYunDai/Trunk/Card2Card'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170831-\347\220\206\350\264\242\345\220\210\350\247\204/Develop/\350\207\252\345\246\202/MobileWallet/iOSNew/DafyYunDai/Trunk/Card2Card'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\347\220\206\350\264\242\345\220\210\350\247\204'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708311018-\347\220\206\350\264\242\345\220\210\350\247\204'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170831-\347\220\206\350\264\242\345\220\210\350\247\204/Develop/\350\207\252\345\246\202/MobileWallet/iOSNew/DafyYunDai/Trunk/Card2Card'
++ awk -F / '{print $7}'
+ br=$'20170831-\347\220\206\350\264\242\345\220\210\350\247\204'
+ access=$'20170831-\347\220\206\350\264\242\345\220\210\350\247\204'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/MobileWallet/iOSNew/DafyYunDai/Trunk/Card2Card' $'https://192.168.0.220/svn/tech/Branch/20170831-\347\220\206\350\264\242\345\220\210\350\247\204/Develop/\350\207\252\345\246\202/MobileWallet/iOSNew/DafyYunDai/Trunk/Card2Card' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.25921
+ echo $'https://192.168.0.220/svn/tech/Branch/20170831-\347\220\206\350\264\242\345\220\210\350\247\204/Develop/\350\207\252\345\246\202/MobileWallet/iOSNew/DafyYunDai/Trunk/Card2Card'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/自如/MobileWallet/iOSNew/DafyYunDai/Trunk/Card2Card'\'', '\''https://192.168.0.220/svn/tech/Branch/20170831-理财合规/Develop/自如/MobileWallet/iOSNew/DafyYunDai/Trunk/Card2Card'\'',now(),'\''zhouwei'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/自如/MobileWallet/iOSNew/DafyYunDai/Trunk/Card2Card'\'', '\''https://192.168.0.220/svn/tech/Branch/20170831-理财合规/Develop/自如/MobileWallet/iOSNew/DafyYunDai/Trunk/Card2Card'\'',now(),'\''zhouwei'\'');'
+ cat /tmp/cmdb.db.25921
+ rm -f /tmp/cmdb.db.25921
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170831-理财合规] /svn/authz.conf'
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z 'chenhangzheng=rw
zhouwei=rw
zhanggaobo=rw'
+ cat
+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (12.8ms)
  Rendered builder/new.html.erb within layouts/application (12.8ms)
Completed 200 OK in 5403ms (Views: 95.5ms)


Completed 200 OK in 5403ms (Views: 95.5ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-31 10:57:48 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-31 10:57:49 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (248.2ms)
  Rendered builder/index.html.erb within layouts/application (248.2ms)
Completed 200 OK in 2420ms (Views: 1537.2ms)


Completed 200 OK in 2420ms (Views: 1537.2ms)


Started POST "/start" for 192.168.5.26 at 2017-08-31 10:58:03 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-31 10:58:03 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170831-理财合规", "branch"=>"20170831-理财合规", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"QBOv8f5GU3U3vAhQ1vBKTwdeASR/alny0Bp2FwigxW5d9MQYsPyM/GGah2przMEr3HSHVWjSXEFKIpct1EWinA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170831-理财合规", "branch"=>"20170831-理财合规", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"QBOv8f5GU3U3vAhQ1vBKTwdeASR/alny0Bp2FwigxW5d9MQYsPyM/GGah2przMEr3HSHVWjSXEFKIpct1EWinA=="}
pid is 28366
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170831-\347\220\206\350\264\242\345\220\210\350\247\204' -e qishanqing@dafy.com -E '' -b $'20170831-\347\220\206\350\264\242\345\220\210\350\247\204' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170831-理财合规'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170831-理财合规'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170831-理财合规'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170831-理财合规'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170831-\347\220\206\350\264\242\345\220\210\350\247\204' -e qishanqing@dafy.com -E '' -b $'20170831-\347\220\206\350\264\242\345\220\210\350\247\204' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170831-\347\220\206\350\264\242\345\220\210\350\247\204'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170831-\347\220\206\350\264\242\345\220\210\350\247\204'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170831-\347\220\206\350\264\242\345\220\210\350\247\204'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170831-理财合规: command not found
++ for y in '$trunk'
++ echo $'20170831-\347\220\206\350\264\242\345\220\210\350\247\204'
+ trunks=$'20170831-\347\220\206\350\264\242\345\220\210\350\247\204'
+ test del = add
+ delbranch
+ '[' -z $'20170831-\347\220\206\350\264\242\345\220\210\350\247\204' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170831
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708311058
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170831-\347\220\206\350\264\242\345\220\210\350\247\204'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170831-20170831-\347\220\206\350\264\242\345\220\210\350\247\204/Develop/20170831-\347\220\206\350\264\242\345\220\210\350\247\204'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170831-\347\220\206\350\264\242\345\220\210\350\247\204'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708311058-20170831-\347\220\206\350\264\242\345\220\210\350\247\204'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170831-20170831-\347\220\206\350\264\242\345\220\210\350\247\204/Develop/20170831-\347\220\206\350\264\242\345\220\210\350\247\204'
++ awk -F / '{print $7}'
+ br=$'20170831-20170831-\347\220\206\350\264\242\345\220\210\350\247\204'
+ access=$'20170831-20170831-\347\220\206\350\264\242\345\220\210\350\247\204'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170831-\347\220\206\350\264\242\345\220\210\350\247\204' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708311058-20170831-\347\220\206\350\264\242\345\220\210\350\247\204' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.28366
+ echo $'https://192.168.0.220/svn/tech/Branch/20170831-\347\220\206\350\264\242\345\220\210\350\247\204'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170831-理财合规%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170831-理财合规%'\'';'
+ cat /tmp/cmdb.db.28366
+ rm -f /tmp/cmdb.db.28366
+ mails-cm -i 'svnbranch-del from svn branch create web'
+ cat
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.6ms)
  Rendered builder/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 4348ms (Views: 341.6ms)


Completed 200 OK in 4348ms (Views: 341.6ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-31 10:58:09 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-31 10:58:09 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (11.9ms)
  Rendered builder/index.html.erb within layouts/application (11.9ms)
Completed 200 OK in 176ms (Views: 174.4ms)


Completed 200 OK in 176ms (Views: 174.4ms)


Started POST "/start" for 192.168.5.26 at 2017-08-31 10:58:28 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-31 10:58:28 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"自如/MobileWallet/IOS/DFCloudLoan", "branch"=>"理财合规", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"yFbAS6hr5IGgHl2w/4Efxrdu5fB+dc6k8y6cJsC+rUvVsaui5tE7CPY40opCvZSibERjgWnNyxdpFn0cHFvKuQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"自如/MobileWallet/IOS/DFCloudLoan", "branch"=>"理财合规", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"yFbAS6hr5IGgHl2w/4Efxrdu5fB+dc6k8y6cJsC+rUvVsaui5tE7CPY40opCvZSibERjgWnNyxdpFn0cHFvKuQ=="}
pid is 28402
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan' -e qishanqing@dafy.com -E '' -b $'\347\220\206\350\264\242\345\220\210\350\247\204' -T add -d ''
+ TEMP=' -u '\'''\'' -t '\''自如/MobileWallet/IOS/DFCloudLoan'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''理财合规'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''自如/MobileWallet/IOS/DFCloudLoan'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''理财合规'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u '' -t $'\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan' -e qishanqing@dafy.com -E '' -b $'\347\220\206\350\264\242\345\220\210\350\247\204' -T add -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\347\220\206\350\264\242\345\220\210\350\247\204'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 自如/MobileWallet/IOS/DFCloudLoan: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
+ trunks=$'\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan' ']'
+ '[' -z $'\347\220\206\350\264\242\345\220\210\350\247\204' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170831
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708311058
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170831-\347\220\206\350\264\242\345\220\210\350\247\204/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\347\220\206\350\264\242\345\220\210\350\247\204'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708311058-\347\220\206\350\264\242\345\220\210\350\247\204'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170831-\347\220\206\350\264\242\345\220\210\350\247\204/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
++ awk -F / '{print $7}'
+ br=$'20170831-\347\220\206\350\264\242\345\220\210\350\247\204'
+ access=$'20170831-\347\220\206\350\264\242\345\220\210\350\247\204'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan' $'https://192.168.0.220/svn/tech/Branch/20170831-\347\220\206\350\264\242\345\220\210\350\247\204/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.28402
+ echo $'https://192.168.0.220/svn/tech/Branch/20170831-\347\220\206\350\264\242\345\220\210\350\247\204/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/自如/MobileWallet/IOS/DFCloudLoan'\'', '\''https://192.168.0.220/svn/tech/Branch/20170831-理财合规/Develop/自如/MobileWallet/IOS/DFCloudLoan'\'',now(),'\''qishanqing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/自如/MobileWallet/IOS/DFCloudLoan'\'', '\''https://192.168.0.220/svn/tech/Branch/20170831-理财合规/Develop/自如/MobileWallet/IOS/DFCloudLoan'\'',now(),'\''qishanqing'\'');'
+ cat /tmp/cmdb.db.28402
+ rm -f /tmp/cmdb.db.28402
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170831-理财合规] /svn/authz.conf'
+ read num
+ '[' 1 -eq 0 ']'
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.7ms)
  Rendered builder/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 659ms (Views: 112.2ms)


Completed 200 OK in 659ms (Views: 112.2ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-31 13:46:02 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-31 13:46:02 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (206.0ms)
  Rendered merge/index.html.erb within layouts/application (206.0ms)
Completed 200 OK in 1700ms (Views: 1344.4ms)


Completed 200 OK in 1700ms (Views: 1344.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-31 13:46:18 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-31 13:46:18 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170830-部门合并功能/Develop/基础业务/用户中心/UserBusiness", "task"=>"http://192.168.0.221/zentao/task-view-45772.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"ahc6d7GRxhy6AO79DWi5pVg5ibXXicPLHjCFCNka/OZ38FGe/ysZlewmYcewVDLBgxMPxMAxxniECGQyBf+bFA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170830-部门合并功能/Develop/基础业务/用户中心/UserBusiness", "task"=>"http://192.168.0.221/zentao/task-view-45772.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"ahc6d7GRxhy6AO79DWi5pVg5ibXXicPLHjCFCNka/OZ38FGe/ysZlewmYcewVDLBgxMPxMAxxniECGQyBf+bFA=="}
pid is 1384
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45772.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170830-部门合并功能/Develop/基础业务/用户中心/UserBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45772.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170830-部门合并功能/Develop/基础业务/用户中心/UserBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45772.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170830-部门合并功能/Develop/基础业务/用户中心/UserBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45772.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170830-部门合并功能/Develop/基础业务/用户中心/UserBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45772.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170830-部门合并功能/Develop/基础业务/用户中心/UserBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' $'https://192.168.0.220/svn/tech/Branch/20170830-\351\203\250\351\227\250\345\220\210\345\271\266\345\212\237\350\203\275/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/老系统/新达飞贷/网站中心/BossSite: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170830-\351\203\250\351\227\250\345\220\210\345\271\266\345\212\237\350\203\275/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/老系统/新达飞贷/网站中心/BossSite
https://192.168.0.220/svn/tech/Branch/20170830-部门合并功能/Develop/基础业务/用户中心/UserBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ rm -f /home/qishanqing/tmp/merged/output.1384
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ mails-cm -i 'code merged from Branch/20170824-借款协议改造/Develop/老系统/新达飞贷/网站中心/BossSite'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r142754 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r140486 '
+ '[' '!' -z r140486 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r140486' $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r140486' $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45772.html
Merged revision(s) r140486 -r142754   from Branch/20170824-借款协议改造/Develop/老系统/新达飞贷/网站中心/BossSite' --username qishanqing --password 372233
svn: E155015: 提交失败(细节如下): 
svn: E155015: 提交终止: “/home/qishanqing/workspace/code/Trunk/老系统/新达飞贷/网站中心/BossSite/config/TransFilter.xml” 处于冲突状态
+ die 'Svn merged conflicts the reasons for failure are as follows'
+ echo 'Svn merged conflicts the reasons for failure are as follows'
+ test -e /home/qishanqing/tmp/merged/output.1384
+ echo
+ cat /home/qishanqing/tmp/merged/output.1384
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.1384
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170830-\351\203\250\351\227\250\345\220\210\345\271\266\345\212\237\350\203\275/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170830-\351\203\250\351\227\250\345\220\210\345\271\266\345\212\237\350\203\275/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.1384
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170830-\351\203\250\351\227\250\345\220\210\345\271\266\345\212\237\350\203\275/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ svn_from_tb_merged
+ mails-cm -i 'code merged from Branch/20170830-部门合并功能/Develop/基础业务/用户中心/UserBusiness'
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ svn st
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ awk -F '|' '{print$1}'
++ head -n 4
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170830-\351\203\250\351\227\250\345\220\210\345\271\266\345\212\237\350\203\275/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ revision=
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170830-\351\203\250\351\227\250\345\220\210\345\271\266\345\212\237\350\203\275/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ grep '^r'
+ head='r142755 '
+ '[' '!' -z ']'
++ grep '^r'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170830-\351\203\250\351\227\250\345\220\210\345\271\266\345\212\237\350\203\275/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r142574 '
+ '[' '!' -z r142574 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170830-\351\203\250\351\227\250\345\220\210\345\271\266\345\212\237\350\203\275/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness@r142574' $'https://192.168.0.220/svn/tech/Branch/20170830-\351\203\250\351\227\250\345\220\210\345\271\266\345\212\237\350\203\275/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170830-\351\203\250\351\227\250\345\220\210\345\271\266\345\212\237\350\203\275/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness@r142574' $'https://192.168.0.220/svn/tech/Branch/20170830-\351\203\250\351\227\250\345\220\210\345\271\266\345\212\237\350\203\275/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45772.html
Merged revision(s) r142574 -r142755   from Branch/20170830-部门合并功能/Develop/基础业务/用户中心/UserBusiness' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (30.7ms)
  Rendered merge/new.html.erb within layouts/application (30.7ms)
Completed 200 OK in 106911ms (Views: 734.2ms)


Completed 200 OK in 106911ms (Views: 734.2ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-31 15:31:59 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-31 15:32:00 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (70.9ms)
  Rendered builder/index.html.erb within layouts/application (70.9ms)
Completed 200 OK in 1021ms (Views: 882.4ms)


Completed 200 OK in 1021ms (Views: 882.4ms)


Started POST "/start" for 192.168.5.26 at 2017-08-31 15:32:19 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-31 15:32:19 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"lishuwei@dafy.com", "types"=>"add", "trunk"=>"分期商城/分期商城1.0/MallCenter", "branch"=>"商城1.0还款成功日志查询", "user"=>"lishuwei", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"T8E1gprIuiHEi2b9Bq5V4tIuHgKjBKtMG3DpEyjrNplSJl5r1HJlqJKt6ce7kt6GCQSYc7S8rv+BSAgp9A5Raw=="}
  Parameters: {"email"=>"lishuwei@dafy.com", "types"=>"add", "trunk"=>"分期商城/分期商城1.0/MallCenter", "branch"=>"商城1.0还款成功日志查询", "user"=>"lishuwei", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"T8E1gprIuiHEi2b9Bq5V4tIuHgKjBKtMG3DpEyjrNplSJl5r1HJlqJKt6ce7kt6GCQSYc7S8rv+BSAgp9A5Raw=="}
pid is 12370
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u lishuwei -t $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2161.0/MallCenter' -e lishuwei@dafy.com -E '' -b $'\345\225\206\345\237\2161.0\350\277\230\346\254\276\346\210\220\345\212\237\346\227\245\345\277\227\346\237\245\350\257\242' -T add -d ''
+ TEMP=' -u '\''lishuwei'\'' -t '\''分期商城/分期商城1.0/MallCenter'\'' -e '\''lishuwei@dafy.com'\'' -E '\'''\'' -b '\''商城1.0还款成功日志查询'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''lishuwei'\'' -t '\''分期商城/分期商城1.0/MallCenter'\'' -e '\''lishuwei@dafy.com'\'' -E '\'''\'' -b '\''商城1.0还款成功日志查询'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u lishuwei -t $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2161.0/MallCenter' -e lishuwei@dafy.com -E '' -b $'\345\225\206\345\237\2161.0\350\277\230\346\254\276\346\210\220\345\212\237\346\227\245\345\277\227\346\237\245\350\257\242' -T add -d '' --
+ true
+ case "$1" in
+ user=lishuwei
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2161.0/MallCenter'
+ shift 2
+ true
+ case "$1" in
+ email=lishuwei@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\345\225\206\345\237\2161.0\350\277\230\346\254\276\346\210\220\345\212\237\346\227\245\345\277\227\346\237\245\350\257\242'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=lishuwei@dafy.com '
+ SMARTCM_EXTRA_MAIL='lishuwei@dafy.com '
++ lishuwei
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: lishuwei: command not found
++ for x in '$user'
++ echo lishuwei=rw
+ users=lishuwei=rw
++ $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2161.0/MallCenter'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 分期商城/分期商城1.0/MallCenter: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2161.0/MallCenter'
+ trunks=$'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2161.0/MallCenter'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2161.0/MallCenter' ']'
+ '[' -z $'\345\225\206\345\237\2161.0\350\277\230\346\254\276\346\210\220\345\212\237\346\227\245\345\277\227\346\237\245\350\257\242' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170831
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708311532
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2161.0/MallCenter'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170831-\345\225\206\345\237\2161.0\350\277\230\346\254\276\346\210\220\345\212\237\346\227\245\345\277\227\346\237\245\350\257\242/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2161.0/MallCenter'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\225\206\345\237\2161.0\350\277\230\346\254\276\346\210\220\345\212\237\346\227\245\345\277\227\346\237\245\350\257\242'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708311532-\345\225\206\345\237\2161.0\350\277\230\346\254\276\346\210\220\345\212\237\346\227\245\345\277\227\346\237\245\350\257\242'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170831-\345\225\206\345\237\2161.0\350\277\230\346\254\276\346\210\220\345\212\237\346\227\245\345\277\227\346\237\245\350\257\242/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2161.0/MallCenter'
++ awk -F / '{print $7}'
+ br=$'20170831-\345\225\206\345\237\2161.0\350\277\230\346\254\276\346\210\220\345\212\237\346\227\245\345\277\227\346\237\245\350\257\242'
+ access=$'20170831-\345\225\206\345\237\2161.0\350\277\230\346\254\276\346\210\220\345\212\237\346\227\245\345\277\227\346\237\245\350\257\242'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2161.0/MallCenter' $'https://192.168.0.220/svn/tech/Branch/20170831-\345\225\206\345\237\2161.0\350\277\230\346\254\276\346\210\220\345\212\237\346\227\245\345\277\227\346\237\245\350\257\242/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2161.0/MallCenter' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.12370
+ echo $'https://192.168.0.220/svn/tech/Branch/20170831-\345\225\206\345\237\2161.0\350\277\230\346\254\276\346\210\220\345\212\237\346\227\245\345\277\227\346\237\245\350\257\242/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2161.0/MallCenter'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城1.0/MallCenter'\'', '\''https://192.168.0.220/svn/tech/Branch/20170831-商城1.0还款成功日志查询/Develop/分期商城/分期商城1.0/MallCenter'\'',now(),'\''lishuwei'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/分期商城/分期商城1.0/MallCenter'\'', '\''https://192.168.0.220/svn/tech/Branch/20170831-商城1.0还款成功日志查询/Develop/分期商城/分期商城1.0/MallCenter'\'',now(),'\''lishuwei'\'');'
+ cat /tmp/cmdb.db.12370
+ rm -f /tmp/cmdb.db.12370
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170831-商城1.0还款成功日志查询] /svn/authz.conf'
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z lishuwei=rw
+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (10.7ms)
  Rendered builder/new.html.erb within layouts/application (10.7ms)
Completed 200 OK in 7446ms (Views: 185.8ms)


Completed 200 OK in 7446ms (Views: 185.8ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-31 15:46:22 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-31 15:46:22 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (414.6ms)
  Rendered merge/index.html.erb within layouts/application (414.6ms)
Completed 200 OK in 2062ms (Views: 1927.3ms)


Completed 200 OK in 2062ms (Views: 1927.3ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-31 15:46:31 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-31 15:46:31 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170828-商城碎屏险/Develop/分期商城/分期商城3.0/MallTaskBusiness", "task"=>"http://192.168.0.221/zentao/task-view-45833.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"bGYxa5loF1ErPxq4u8FK5Q8F98CmiLY5H1F42wsDFqFxgVqC19LI2H0ZlYIG/cGB1C9xsbEws4qFaZnh1+ZxUw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170828-商城碎屏险/Develop/分期商城/分期商城3.0/MallTaskBusiness", "task"=>"http://192.168.0.221/zentao/task-view-45833.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"bGYxa5loF1ErPxq4u8FK5Q8F98CmiLY5H1F42wsDFqFxgVqC19LI2H0ZlYIG/cGB1C9xsbEws4qFaZnh1+ZxUw=="}
pid is 12741
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45833.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170828-\345\225\206\345\237\216\347\242\216\345\261\217\351\231\251/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45833.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170828-商城碎屏险/Develop/分期商城/分期商城3.0/MallTaskBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45833.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170828-商城碎屏险/Develop/分期商城/分期商城3.0/MallTaskBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45833.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170828-\345\225\206\345\237\216\347\242\216\345\261\217\351\231\251/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45833.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170828-\345\225\206\345\237\216\347\242\216\345\261\217\351\231\251/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170828-\345\225\206\345\237\216\347\242\216\345\261\217\351\231\251/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170828-商城碎屏险/Develop/分期商城/分期商城3.0/MallTaskBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170828-\345\225\206\345\237\216\347\242\216\345\261\217\351\231\251/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170828-\345\225\206\345\237\216\347\242\216\345\261\217\351\231\251/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170828-\345\225\206\345\237\216\347\242\216\345\261\217\351\231\251/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170828-\345\225\206\345\237\216\347\242\216\345\261\217\351\231\251/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.12741
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170828-\345\225\206\345\237\216\347\242\216\345\261\217\351\231\251/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170828-商城碎屏险/Develop/分期商城/分期商城3.0/MallTaskBusiness'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170828-\345\225\206\345\237\216\347\242\216\345\261\217\351\231\251/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170828-\345\225\206\345\237\216\347\242\216\345\261\217\351\231\251/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r142806 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170828-\345\225\206\345\237\216\347\242\216\345\261\217\351\231\251/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r141617 '
+ '[' '!' -z r141617 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170828-\345\225\206\345\237\216\347\242\216\345\261\217\351\231\251/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness@r141617' $'https://192.168.0.220/svn/tech/Branch/20170828-\345\225\206\345\237\216\347\242\216\345\261\217\351\231\251/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170828-\345\225\206\345\237\216\347\242\216\345\261\217\351\231\251/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness@r141617' $'https://192.168.0.220/svn/tech/Branch/20170828-\345\225\206\345\237\216\347\242\216\345\261\217\351\231\251/Develop/\345\210\206\346\234\237\345\225\206\345\237\216/\345\210\206\346\234\237\345\225\206\345\237\2163.0/MallTaskBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45833.html
Merged revision(s) r141617 -r142806   from Branch/20170828-商城碎屏险/Develop/分期商城/分期商城3.0/MallTaskBusiness' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (158.6ms)
  Rendered merge/new.html.erb within layouts/application (158.6ms)
Completed 200 OK in 30934ms (Views: 1211.7ms)


Completed 200 OK in 30934ms (Views: 1211.7ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-31 15:48:19 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-31 15:48:20 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (45.6ms)
  Rendered merge/index.html.erb within layouts/application (45.6ms)
Completed 200 OK in 986ms (Views: 982.8ms)


Completed 200 OK in 986ms (Views: 982.8ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-31 15:48:27 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-31 15:48:27 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport", "task"=>"http://192.168.0.221/zentao/task-view-45785.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"nQ1tyZuG5A6Pc90rRsyXgRRn3H3f1ua9YU8GmNjA+1eA6gYg1Tw7h9lVUhH78Bzlz01aDMhu4w77d+eiBCWcpQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport", "task"=>"http://192.168.0.221/zentao/task-view-45785.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"nQ1tyZuG5A6Pc90rRsyXgRRn3H3f1ua9YU8GmNjA+1eA6gYg1Tw7h9lVUhH78Bzlz01aDMhu4w77d+eiBCWcpQ=="}
pid is 12832
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45785.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45785.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45785.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45785.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45785.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ rm -f /home/qishanqing/tmp/merged/output.12832
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='repay  from Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ head='r142578 '
+ '[' '!' -z repay from $'Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport' ']'
/home/qishanqing/myscript/sh/svn-merged.sh: line 112: [: too many arguments
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r126626 '
+ '[' '!' -z r126626 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport@r126626' $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：6'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2326' ']'
+ die 'Svn merged conflicts the r126626 -r142578  from Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the r126626 -r142578  from Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport'
+ test -e /home/qishanqing/tmp/merged/output.12832
+ rm -f /home/qishanqing/tmp/merged/output.12832
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45785.html
Merged revision(s) r126626 -r142578   from Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (14.9ms)
  Rendered merge/new.html.erb within layouts/application (14.9ms)
Completed 200 OK in 24484ms (Views: 284.5ms)


Completed 200 OK in 24484ms (Views: 284.5ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-31 15:49:09 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-31 15:49:09 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (6.7ms)
  Rendered merge/index.html.erb within layouts/application (6.7ms)
Completed 200 OK in 77ms (Views: 74.4ms)


Completed 200 OK in 77ms (Views: 74.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-31 15:49:48 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-31 15:49:48 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170828-海尔审核中数据状态排查后台/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1 https://192.168.0.220/svn/tech/Branch/20170828-海尔审核中数据状态排查后台/Develop/外部业务/P2P/Business/BorrowBusiness", "task"=>"http://192.168.0.221/zentao/task-view-45844.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"HNH3foBz13XF4TKrFNeCW20ocWXlYYpLa0XSYctnK+IBNpyXzskI/JPHvZGp6wk/tgL3FPLZj/jxfTNbF4JMEA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170828-海尔审核中数据状态排查后台/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1 https://192.168.0.220/svn/tech/Branch/20170828-海尔审核中数据状态排查后台/Develop/外部业务/P2P/Business/BorrowBusiness", "task"=>"http://192.168.0.221/zentao/task-view-45844.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"HNH3foBz13XF4TKrFNeCW20ocWXlYYpLa0XSYctnK+IBNpyXzskI/JPHvZGp6wk/tgL3FPLZj/jxfTNbF4JMEA=="}
pid is 12905
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45844.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170828-海尔审核中数据状态排查后台/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1 https://192.168.0.220/svn/tech/Branch/20170828-海尔审核中数据状态排查后台/Develop/外部业务/P2P/Business/BorrowBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45844.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170828-海尔审核中数据状态排查后台/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1 https://192.168.0.220/svn/tech/Branch/20170828-海尔审核中数据状态排查后台/Develop/外部业务/P2P/Business/BorrowBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45844.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170828-海尔审核中数据状态排查后台/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1 https://192.168.0.220/svn/tech/Branch/20170828-海尔审核中数据状态排查后台/Develop/外部业务/P2P/Business/BorrowBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45844.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170828-海尔审核中数据状态排查后台/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1 https://192.168.0.220/svn/tech/Branch/20170828-海尔审核中数据状态排查后台/Develop/外部业务/P2P/Business/BorrowBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45844.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170828-海尔审核中数据状态排查后台/Develop/外部业务/P2P/P2PManager https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1 https://192.168.0.220/svn/tech/Branch/20170828-海尔审核中数据状态排查后台/Develop/外部业务/P2P/Business/BorrowBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1' $'https://192.168.0.220/svn/tech/Branch/20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170828-海尔审核中数据状态排查后台/Develop/外部业务/P2P/P2PManager: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170828-海尔审核中数据状态排查后台/Develop/外部业务/P2P/P2PManager
https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite
https://192.168.0.220/svn/tech/Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1
https://192.168.0.220/svn/tech/Branch/20170828-海尔审核中数据状态排查后台/Develop/外部业务/P2P/Business/BorrowBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ rm -f /home/qishanqing/tmp/merged/output.12905
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ mails-cm -i 'code merged from Branch/20170828-海尔审核中数据状态排查后台/Develop/外部业务/P2P/P2PManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ awk -F '|' '{print$1}'
+ revision=
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ head='r142878 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r141791 '
+ '[' '!' -z r141791 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager@r141791' $'https://192.168.0.220/svn/tech/Branch/20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager@r141791' $'https://192.168.0.220/svn/tech/Branch/20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/P2PManager'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45844.html
Merged revision(s) r141791 -r142878   from Branch/20170828-海尔审核中数据状态排查后台/Develop/外部业务/P2P/P2PManager' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ rm -f /home/qishanqing/tmp/merged/output.12905
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ mails-cm -i 'code merged from Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r142008 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r142875 '
+ '[' '!' -z r142008 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r142008' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r142008' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45844.html
Merged revision(s) r142008 -r142875   from Branch/20170512-营销管理/Develop/老系统/新达飞贷/网站中心/BossSite' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ rm -f /home/qishanqing/tmp/merged/output.12905
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ mails-cm -i 'code merged from Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ head -n 4
++ grep -C 3 $'Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
++ awk -F '|' '{print$1}'
Started GET "/builder" for 192.168.5.26 at 2017-08-31 15:51:12 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-31 15:51:12 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.6ms)
  Rendered builder/index.html.erb within layouts/application (3.6ms)
Completed 200 OK in 151ms (Views: 146.3ms)


Completed 200 OK in 151ms (Views: 146.3ms)


+ revision='r142027 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r141707 '
+ '[' '!' -z r142027 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1@r142027' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1@r142027' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\220\245\351\224\200\347\256\241\347\220\206/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/DFLib1'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45844.html
Merged revision(s) r142027 -r141707   from Branch/20170512-营销管理/Develop/基础业务/用户中心/DFLib1' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.12905
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170828-海尔审核中数据状态排查后台/Develop/外部业务/P2P/Business/BorrowBusiness'
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ awk -F '|' '{print$1}'
++ grep -C 3 $'Branch/20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ head -n 4
Started POST "/start" for 192.168.5.26 at 2017-08-31 15:51:54 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-31 15:51:54 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"wanghaixin@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "branch"=>"收银台后台增加水电燃字段", "user"=>"chenhangzheng wanghaixin", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"UeNhuEnZv1r6Py918aQ8zOv1xHuJHv5wvouOZ0UkcilMBApRB2Ng06wZoE9MmLeoMN9CCp6m+8Mks29dmcEV2w=="}
  Parameters: {"email"=>"wanghaixin@dafy.com", "types"=>"add", "trunk"=>"前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "branch"=>"收银台后台增加水电燃字段", "user"=>"chenhangzheng wanghaixin", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"UeNhuEnZv1r6Py918aQ8zOv1xHuJHv5wvouOZ0UkcilMBApRB2Ng06wZoE9MmLeoMN9CCp6m+8Mks29dmcEV2w=="}
pid is 13089
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'chenhangzheng wanghaixin' -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -e wanghaixin@dafy.com -E '' -b $'\346\224\266\351\223\266\345\217\260\345\220\216\345\217\260\345\242\236\345\212\240\346\260\264\347\224\265\347\207\203\345\255\227\346\256\265' -T add -d ''
+ TEMP=' -u '\''chenhangzheng wanghaixin'\'' -t '\''前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -e '\''wanghaixin@dafy.com'\'' -E '\'''\'' -b '\''收银台后台增加水电燃字段'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''chenhangzheng wanghaixin'\'' -t '\''前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -e '\''wanghaixin@dafy.com'\'' -E '\'''\'' -b '\''收银台后台增加水电燃字段'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'chenhangzheng wanghaixin' -t $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -e wanghaixin@dafy.com -E '' -b $'\346\224\266\351\223\266\345\217\260\345\220\216\345\217\260\345\242\236\345\212\240\346\260\264\347\224\265\347\207\203\345\255\227\346\256\265' -T add -d '' --
+ true
+ case "$1" in
+ user='chenhangzheng wanghaixin'
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ shift 2
+ true
+ case "$1" in
+ email=wanghaixin@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\346\224\266\351\223\266\345\217\260\345\220\216\345\217\260\345\242\236\345\212\240\346\260\264\347\224\265\347\207\203\345\255\227\346\256\265'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=wanghaixin@dafy.com '
+ SMARTCM_EXTRA_MAIL='wanghaixin@dafy.com '
++ chenhangzheng wanghaixin
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: chenhangzheng: command not found
++ for x in '$user'
++ echo chenhangzheng=rw
++ for x in '$user'
++ echo wanghaixin=rw
+ users='chenhangzheng=rw
wanghaixin=rw'
++ $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ trunks=$'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' ']'
+ '[' -z $'\346\224\266\351\223\266\345\217\260\345\220\216\345\217\260\345\242\236\345\212\240\346\260\264\347\224\265\347\207\203\345\255\227\346\256\265' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170831
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708311551
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170831-\346\224\266\351\223\266\345\217\260\345\220\216\345\217\260\345\242\236\345\212\240\346\260\264\347\224\265\347\207\203\345\255\227\346\256\265/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\346\224\266\351\223\266\345\217\260\345\220\216\345\217\260\345\242\236\345\212\240\346\260\264\347\224\265\347\207\203\345\255\227\346\256\265'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708311551-\346\224\266\351\223\266\345\217\260\345\220\216\345\217\260\345\242\236\345\212\240\346\260\264\347\224\265\347\207\203\345\255\227\346\256\265'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170831-\346\224\266\351\223\266\345\217\260\345\220\216\345\217\260\345\242\236\345\212\240\346\260\264\347\224\265\347\207\203\345\255\227\346\256\265/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F / '{print $7}'
+ br=$'20170831-\346\224\266\351\223\266\345\217\260\345\220\216\345\217\260\345\242\236\345\212\240\346\260\264\347\224\265\347\207\203\345\255\227\346\256\265'
+ access=$'20170831-\346\224\266\351\223\266\345\217\260\345\220\216\345\217\260\345\242\236\345\212\240\346\260\264\347\224\265\347\207\203\345\255\227\346\256\265'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' $'https://192.168.0.220/svn/tech/Branch/20170831-\346\224\266\351\223\266\345\217\260\345\220\216\345\217\260\345\242\236\345\212\240\346\260\264\347\224\265\347\207\203\345\255\227\346\256\265/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.13089
+ echo $'https://192.168.0.220/svn/tech/Branch/20170831-\346\224\266\351\223\266\345\217\260\345\220\216\345\217\260\345\242\236\345\212\240\346\260\264\347\224\265\347\207\203\345\255\227\346\256\265/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'', '\''https://192.168.0.220/svn/tech/Branch/20170831-收银台后台增加水电燃字段/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'',now(),'\''wanghaixin'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'', '\''https://192.168.0.220/svn/tech/Branch/20170831-收银台后台增加水电燃字段/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'',now(),'\''wanghaixin'\'');'
+ cat /tmp/cmdb.db.13089
+ rm -f /tmp/cmdb.db.13089
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170831-收银台后台增加水电燃字段] /svn/authz.conf'
+ read num
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r142692 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ tail -n 4
+ revision='r141790 '
+ '[' '!' -z r141790 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness@r141790' $'https://192.168.0.220/svn/tech/Branch/20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness' .
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness@r141790' $'https://192.168.0.220/svn/tech/Branch/20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45844.html
Merged revision(s) r141790 -r142692   from Branch/20170828-海尔审核中数据状态排查后台/Develop/外部业务/P2P/Business/BorrowBusiness' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.4ms)
  Rendered merge/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 129447ms (Views: 121.1ms)


Completed 200 OK in 129447ms (Views: 121.1ms)


+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
+ test -z 'chenhangzheng=rw
wanghaixin=rw'
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 5482ms (Views: 133.8ms)


Completed 200 OK in 5482ms (Views: 133.8ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-31 15:53:44 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-31 15:53:44 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (5.0ms)
  Rendered builder/index.html.erb within layouts/application (5.0ms)
Completed 200 OK in 156ms (Views: 152.5ms)


Completed 200 OK in 156ms (Views: 152.5ms)


Started POST "/start" for 192.168.5.26 at 2017-08-31 15:53:47 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-31 15:53:47 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170828-海尔审核中数据状态排查后台", "branch"=>"20170828-海尔审核中数据状态排查后台", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"SpBbnEjjp4OfPQR3ud1X7Vy3pBA1CCN5ZjEZhdkLVIxXdzB1Bll4Cskbi00E4dyJh50iYSKwJsr8Cfi/Be4zfg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170828-海尔审核中数据状态排查后台", "branch"=>"20170828-海尔审核中数据状态排查后台", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"SpBbnEjjp4OfPQR3ud1X7Vy3pBA1CCN5ZjEZhdkLVIxXdzB1Bll4Cskbi00E4dyJh50iYSKwJsr8Cfi/Be4zfg=="}
pid is 13188
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260' -e qishanqing@dafy.com -E '' -b $'20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170828-海尔审核中数据状态排查后台'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170828-海尔审核中数据状态排查后台'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170828-海尔审核中数据状态排查后台'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170828-海尔审核中数据状态排查后台'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260' -e qishanqing@dafy.com -E '' -b $'20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170828-海尔审核中数据状态排查后台: command not found
++ for y in '$trunk'
++ echo $'20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260'
+ trunks=$'20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260'
+ test del = add
+ delbranch
+ '[' -z $'20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170831
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708311553
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170831-20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260/Develop/20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708311553-20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170831-20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260/Develop/20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260'
++ awk -F / '{print $7}'
+ br=$'20170831-20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260'
+ access=$'20170831-20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708311553-20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.13188
+ echo $'https://192.168.0.220/svn/tech/Branch/20170828-\346\265\267\345\260\224\345\256\241\346\240\270\344\270\255\346\225\260\346\215\256\347\212\266\346\200\201\346\216\222\346\237\245\345\220\216\345\217\260'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170828-海尔审核中数据状态排查后台%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170828-海尔审核中数据状态排查后台%'\'';'
+ cat /tmp/cmdb.db.13188
+ rm -f /tmp/cmdb.db.13188
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (17.0ms)
  Rendered builder/new.html.erb within layouts/application (17.0ms)
Completed 200 OK in 764ms (Views: 71.2ms)


Completed 200 OK in 764ms (Views: 71.2ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-31 15:58:03 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-31 15:58:03 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (41.6ms)
  Rendered merge/index.html.erb within layouts/application (41.6ms)
Completed 200 OK in 268ms (Views: 265.4ms)


Completed 200 OK in 268ms (Views: 265.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-31 15:58:13 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-31 15:58:13 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport", "task"=>"http://192.168.0.221/zentao/task-view-45785.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"1rsRfy1etSmeRFs+vF5jrcpLPmM1Si7qe+mT0WSBrS7LXHqWY+RqoMhi1AQBYujJEWG4EiLyK1nh0XLruGTK3A=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport", "task"=>"http://192.168.0.221/zentao/task-view-45785.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"1rsRfy1etSmeRFs+vF5jrcpLPmM1Si7qe+mT0WSBrS7LXHqWY+RqoMhi1AQBYujJEWG4EiLyK1nh0XLruGTK3A=="}
pid is 13361
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45785.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45785.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45785.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45785.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45785.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ rm -f /home/qishanqing/tmp/merged/output.13361
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='repay  from Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r142578 '
+ '[' '!' -z repay from $'Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport' ']'
/home/qishanqing/myscript/sh/svn-merged.sh: line 112: [: too many arguments
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r126626 '
+ '[' '!' -z r126626 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport@r126626' $'https://192.168.0.220/svn/tech/Branch/20170710-\350\200\203\346\213\211\347\233\264\346\212\225\346\212\245\350\241\250/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/FDPReport' .
+ st='  树冲突：6'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2326' ']'
+ die 'Svn merged conflicts the r126626 -r142578  from Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport'
+ echo 'Svn merged conflicts the r126626 -r142578  from Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport'
+ test -e /home/qishanqing/tmp/merged/output.13361
+ mails-cm -i 'svn merged faild'
+ rm -f /home/qishanqing/tmp/merged/output.13361
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45785.html
Merged revision(s) r126626 -r142578   from Branch/20170710-考拉直投报表/Develop/外部业务/P2P/Business/FDPReport' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.2ms)
  Rendered merge/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 17631ms (Views: 58.1ms)


Completed 200 OK in 17631ms (Views: 58.1ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-31 16:59:52 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-31 16:59:52 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (16.5ms)
  Rendered merge/index.html.erb within layouts/application (16.5ms)
Completed 200 OK in 100ms (Views: 92.6ms)


Completed 200 OK in 100ms (Views: 92.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-31 17:00:02 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-31 17:00:02 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/老系统/新达飞贷/网站中心/BossSite", "task"=>"http://192.168.0.221/zentao/task-view-45772.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"B4V4W0qxueSZd4vS5aR66F5FKj1veOhzs+tJj/0NpR0aYhOyBAtmbc9RBOhYmPGMhW+sTHjA7cAp06i1IejC7w=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/老系统/新达飞贷/网站中心/BossSite", "task"=>"http://192.168.0.221/zentao/task-view-45772.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"B4V4W0qxueSZd4vS5aR66F5FKj1veOhzs+tJj/0NpR0aYhOyBAtmbc9RBOhYmPGMhW+sTHjA7cAp06i1IejC7w=="}
pid is 15508
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45772.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45772.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/老系统/新达飞贷/网站中心/BossSite'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45772.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/老系统/新达飞贷/网站中心/BossSite'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45772.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45772.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170824-借款协议改造/Develop/老系统/新达飞贷/网站中心/BossSite: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ rm -f /home/qishanqing/tmp/merged/output.15508
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170824-借款协议改造/Develop/老系统/新达飞贷/网站中心/BossSite'
+ xargs rm -rf
+ svn st
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep '^r'
++ grep -C 3 $'Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ awk -F '|' '{print$1}'
+ revision=
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ head='r142754 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r140486 '
+ '[' '!' -z r140486 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r140486' $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r140486' $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45772.html
Merged revision(s) r140486 -r142754   from Branch/20170824-借款协议改造/Develop/老系统/新达飞贷/网站中心/BossSite' --username qishanqing --password 372233
svn: E155015: 提交失败(细节如下): 
svn: E155015: 提交终止: “/home/qishanqing/workspace/code/Trunk/老系统/新达飞贷/网站中心/BossSite/config/TransFilter.xml” 处于冲突状态
+ die 'Svn merged conflicts the reasons for failure are as follows'
+ echo 'Svn merged conflicts the reasons for failure are as follows'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.15508
+ echo
+ cat /home/qishanqing/tmp/merged/output.15508
+ rm -f /home/qishanqing/tmp/merged/output.15508
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.7ms)
  Rendered merge/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 35356ms (Views: 148.3ms)


Completed 200 OK in 35356ms (Views: 148.3ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-31 17:17:20 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-31 17:17:20 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (6.7ms)
  Rendered merge/index.html.erb within layouts/application (6.7ms)
Completed 200 OK in 97ms (Views: 90.6ms)


Completed 200 OK in 97ms (Views: 90.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-31 17:17:44 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-31 17:17:44 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170817-云贷2.0-地理位置/Develop/自如/MobileWallet/IOS/DFCloudLoan", "task"=>"http://192.168.0.221/zentao/task-view-45104.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"ARy/KRZDnHNIeCj7D1QI/N0mcU999PMEvSxXji1CSYUc+9TAWPlD+h5ep8GyaIOYBgz3PmpM9rcnFLa08acudw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170817-云贷2.0-地理位置/Develop/自如/MobileWallet/IOS/DFCloudLoan", "task"=>"http://192.168.0.221/zentao/task-view-45104.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"ARy/KRZDnHNIeCj7D1QI/N0mcU999PMEvSxXji1CSYUc+9TAWPlD+h5ep8GyaIOYBgz3PmpM9rcnFLa08acudw=="}
pid is 16036
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45104.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170817-\344\272\221\350\264\2672.0-\345\234\260\347\220\206\344\275\215\347\275\256/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45104.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170817-云贷2.0-地理位置/Develop/自如/MobileWallet/IOS/DFCloudLoan'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45104.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170817-云贷2.0-地理位置/Develop/自如/MobileWallet/IOS/DFCloudLoan'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45104.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170817-\344\272\221\350\264\2672.0-\345\234\260\347\220\206\344\275\215\347\275\256/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45104.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170817-\344\272\221\350\264\2672.0-\345\234\260\347\220\206\344\275\215\347\275\256/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170817-\344\272\221\350\264\2672.0-\345\234\260\347\220\206\344\275\215\347\275\256/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170817-云贷2.0-地理位置/Develop/自如/MobileWallet/IOS/DFCloudLoan: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170817-\344\272\221\350\264\2672.0-\345\234\260\347\220\206\344\275\215\347\275\256/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170817-\344\272\221\350\264\2672.0-\345\234\260\347\220\206\344\275\215\347\275\256/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170817-\344\272\221\350\264\2672.0-\345\234\260\347\220\206\344\275\215\347\275\256/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170817-\344\272\221\350\264\2672.0-\345\234\260\347\220\206\344\275\215\347\275\256/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
+ rm -f /home/qishanqing/tmp/merged/output.16036
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170817-\344\272\221\350\264\2672.0-\345\234\260\347\220\206\344\275\215\347\275\256/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170817-云贷2.0-地理位置/Develop/自如/MobileWallet/IOS/DFCloudLoan'
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep -C 3 $'Branch/20170817-\344\272\221\350\264\2672.0-\345\234\260\347\220\206\344\275\215\347\275\256/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ revision='r140977 '
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170817-\344\272\221\350\264\2672.0-\345\234\260\347\220\206\344\275\215\347\275\256/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
++ awk -F '|' '{print$1}'
+ head='r141447 '
+ '[' '!' -z r140977 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170817-\344\272\221\350\264\2672.0-\345\234\260\347\220\206\344\275\215\347\275\256/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan@r140977' $'https://192.168.0.220/svn/tech/Branch/20170817-\344\272\221\350\264\2672.0-\345\234\260\347\220\206\344\275\215\347\275\256/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170817-\344\272\221\350\264\2672.0-\345\234\260\347\220\206\344\275\215\347\275\256/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan@r140977' $'https://192.168.0.220/svn/tech/Branch/20170817-\344\272\221\350\264\2672.0-\345\234\260\347\220\206\344\275\215\347\275\256/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45104.html
Merged revision(s) r140977 -r141447   from Branch/20170817-云贷2.0-地理位置/Develop/自如/MobileWallet/IOS/DFCloudLoan' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.9ms)
  Rendered merge/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 21258ms (Views: 85.5ms)


Completed 200 OK in 21258ms (Views: 85.5ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-31 17:19:18 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-31 17:19:18 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.4ms)
  Rendered builder/index.html.erb within layouts/application (3.4ms)
Completed 200 OK in 90ms (Views: 86.4ms)


Completed 200 OK in 90ms (Views: 86.4ms)


Started POST "/start" for 192.168.5.26 at 2017-08-31 17:19:43 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-31 17:19:43 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170831-理财合规", "branch"=>"20170831-理财合规", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"IyU1E4rBYXH3X4pW+gFVVY/TeMLLSvX02LARP9v5wfQ+wl76xHu++KF5BWxHPd4xVPn+s9zy8EdCiPAFBxymBg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170831-理财合规", "branch"=>"20170831-理财合规", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"IyU1E4rBYXH3X4pW+gFVVY/TeMLLSvX02LARP9v5wfQ+wl76xHu++KF5BWxHPd4xVPn+s9zy8EdCiPAFBxymBg=="}
pid is 16122
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170831-\347\220\206\350\264\242\345\220\210\350\247\204' -e qishanqing@dafy.com -E '' -b $'20170831-\347\220\206\350\264\242\345\220\210\350\247\204' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170831-理财合规'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170831-理财合规'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170831-理财合规'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170831-理财合规'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170831-\347\220\206\350\264\242\345\220\210\350\247\204' -e qishanqing@dafy.com -E '' -b $'20170831-\347\220\206\350\264\242\345\220\210\350\247\204' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170831-\347\220\206\350\264\242\345\220\210\350\247\204'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170831-\347\220\206\350\264\242\345\220\210\350\247\204'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170831-\347\220\206\350\264\242\345\220\210\350\247\204'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170831-理财合规: command not found
++ for y in '$trunk'
++ echo $'20170831-\347\220\206\350\264\242\345\220\210\350\247\204'
+ trunks=$'20170831-\347\220\206\350\264\242\345\220\210\350\247\204'
+ test del = add
+ delbranch
+ '[' -z $'20170831-\347\220\206\350\264\242\345\220\210\350\247\204' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170831
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708311719
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170831-\347\220\206\350\264\242\345\220\210\350\247\204'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170831-20170831-\347\220\206\350\264\242\345\220\210\350\247\204/Develop/20170831-\347\220\206\350\264\242\345\220\210\350\247\204'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170831-\347\220\206\350\264\242\345\220\210\350\247\204'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708311719-20170831-\347\220\206\350\264\242\345\220\210\350\247\204'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170831-20170831-\347\220\206\350\264\242\345\220\210\350\247\204/Develop/20170831-\347\220\206\350\264\242\345\220\210\350\247\204'
++ awk -F / '{print $7}'
+ br=$'20170831-20170831-\347\220\206\350\264\242\345\220\210\350\247\204'
+ access=$'20170831-20170831-\347\220\206\350\264\242\345\220\210\350\247\204'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170831-\347\220\206\350\264\242\345\220\210\350\247\204' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708311719-20170831-\347\220\206\350\264\242\345\220\210\350\247\204' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.16122
+ echo $'https://192.168.0.220/svn/tech/Branch/20170831-\347\220\206\350\264\242\345\220\210\350\247\204'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170831-理财合规%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170831-理财合规%'\'';'
+ cat /tmp/cmdb.db.16122
+ rm -f /tmp/cmdb.db.16122
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 4047ms (Views: 76.0ms)


Completed 200 OK in 4047ms (Views: 76.0ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-31 17:19:49 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-31 17:19:49 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (3.5ms)
  Rendered builder/index.html.erb within layouts/application (3.5ms)
Completed 200 OK in 96ms (Views: 93.3ms)


Completed 200 OK in 96ms (Views: 93.3ms)


Started POST "/start" for 192.168.5.26 at 2017-08-31 17:20:08 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-31 17:20:08 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"自如/MobileWallet/IOS/DFCloudLoan", "branch"=>"理财合规", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"km4vEwVfIYBsE73LV+YhdUzajG7DgrO5xvlKxG56LO+PiUT6S+X+CTo1MvHq2qoRl/AKH9Q6tgpcwav+sp9LHQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"自如/MobileWallet/IOS/DFCloudLoan", "branch"=>"理财合规", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"km4vEwVfIYBsE73LV+YhdUzajG7DgrO5xvlKxG56LO+PiUT6S+X+CTo1MvHq2qoRl/AKH9Q6tgpcwav+sp9LHQ=="}
pid is 16167
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan' -e qishanqing@dafy.com -E '' -b $'\347\220\206\350\264\242\345\220\210\350\247\204' -T add -d ''
+ TEMP=' -u '\'''\'' -t '\''自如/MobileWallet/IOS/DFCloudLoan'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''理财合规'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''自如/MobileWallet/IOS/DFCloudLoan'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''理财合规'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u '' -t $'\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan' -e qishanqing@dafy.com -E '' -b $'\347\220\206\350\264\242\345\220\210\350\247\204' -T add -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\347\220\206\350\264\242\345\220\210\350\247\204'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 自如/MobileWallet/IOS/DFCloudLoan: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
+ trunks=$'\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan' ']'
+ '[' -z $'\347\220\206\350\264\242\345\220\210\350\247\204' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170831
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708311720
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170831-\347\220\206\350\264\242\345\220\210\350\247\204/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\347\220\206\350\264\242\345\220\210\350\247\204'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708311720-\347\220\206\350\264\242\345\220\210\350\247\204'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170831-\347\220\206\350\264\242\345\220\210\350\247\204/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
++ awk -F / '{print $7}'
+ br=$'20170831-\347\220\206\350\264\242\345\220\210\350\247\204'
+ access=$'20170831-\347\220\206\350\264\242\345\220\210\350\247\204'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan' $'https://192.168.0.220/svn/tech/Branch/20170831-\347\220\206\350\264\242\345\220\210\350\247\204/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.16167
+ echo $'https://192.168.0.220/svn/tech/Branch/20170831-\347\220\206\350\264\242\345\220\210\350\247\204/Develop/\350\207\252\345\246\202/MobileWallet/IOS/DFCloudLoan'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/自如/MobileWallet/IOS/DFCloudLoan'\'', '\''https://192.168.0.220/svn/tech/Branch/20170831-理财合规/Develop/自如/MobileWallet/IOS/DFCloudLoan'\'',now(),'\''qishanqing'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/自如/MobileWallet/IOS/DFCloudLoan'\'', '\''https://192.168.0.220/svn/tech/Branch/20170831-理财合规/Develop/自如/MobileWallet/IOS/DFCloudLoan'\'',now(),'\''qishanqing'\'');'
+ cat /tmp/cmdb.db.16167
+ rm -f /tmp/cmdb.db.16167
+ check-acces
+ ssh root@192.168.0.220 'grep -c 20170831-理财合规] /svn/authz.conf'
+ read num
+ '[' 1 -eq 0 ']'
+ echo 'access authz added'
access authz added
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (2.1ms)
  Rendered builder/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 800ms (Views: 148.6ms)


Completed 200 OK in 800ms (Views: 148.6ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-31 17:20:44 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-31 17:20:44 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (105.1ms)
  Rendered builder/index.html.erb within layouts/application (105.1ms)
Completed 200 OK in 837ms (Views: 834.5ms)


Completed 200 OK in 837ms (Views: 834.5ms)


Started POST "/start" for 192.168.5.26 at 2017-08-31 17:32:35 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-31 17:32:35 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170824-借款协议改造", "branch"=>"20170824-借款协议改造", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"afVsCy1EBPiy+agvGL8+DBlTxTkCMnLA0M2CcjoNah10EgfiY/7bceTfJxWlg7VownlDSBWKd3NK9WNI5ugN7w=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170824-借款协议改造", "branch"=>"20170824-借款协议改造", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"afVsCy1EBPiy+agvGL8+DBlTxTkCMnLA0M2CcjoNah10EgfiY/7bceTfJxWlg7VownlDSBWKd3NK9WNI5ugN7w=="}
pid is 16774
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240' -e qishanqing@dafy.com -E '' -b $'20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170824-借款协议改造'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170824-借款协议改造'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170824-借款协议改造'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170824-借款协议改造'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240' -e qishanqing@dafy.com -E '' -b $'20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170824-借款协议改造: command not found
++ for y in '$trunk'
++ echo $'20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240'
+ trunks=$'20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240'
+ test del = add
+ delbranch
+ '[' -z $'20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170831
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708311732
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170831-20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708311732-20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170831-20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240/Develop/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240'
++ awk -F / '{print $7}'
+ br=$'20170831-20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240'
+ access=$'20170831-20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708311732-20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.16774
+ echo $'https://192.168.0.220/svn/tech/Branch/20170824-\345\200\237\346\254\276\345\215\217\350\256\256\346\224\271\351\200\240'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170824-借款协议改造%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170824-借款协议改造%'\'';'
+ cat /tmp/cmdb.db.16774
+ rm -f /tmp/cmdb.db.16774
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (14.8ms)
  Rendered builder/new.html.erb within layouts/application (14.8ms)
Completed 200 OK in 1076ms (Views: 522.1ms)


Completed 200 OK in 1076ms (Views: 522.1ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-31 17:33:29 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-31 17:33:29 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (8.4ms)
  Rendered builder/index.html.erb within layouts/application (8.4ms)
Completed 200 OK in 98ms (Views: 94.8ms)


Completed 200 OK in 98ms (Views: 94.8ms)


Started POST "/start" for 192.168.5.26 at 2017-08-31 17:33:32 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-31 17:33:32 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170830-部门合并功能", "branch"=>"20170830-部门合并功能", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"XPIjqF0q4lyudAeZGURNeKOMQFgvrbynATTz9hI53AhBFUhBE5A91fhSiKOkeMYceKbGKTgVuRSbDBLMzty7+g=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170830-部门合并功能", "branch"=>"20170830-部门合并功能", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"XPIjqF0q4lyudAeZGURNeKOMQFgvrbynATTz9hI53AhBFUhBE5A91fhSiKOkeMYceKbGKTgVuRSbDBLMzty7+g=="}
pid is 16829
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170830-\351\203\250\351\227\250\345\220\210\345\271\266\345\212\237\350\203\275' -e qishanqing@dafy.com -E '' -b $'20170830-\351\203\250\351\227\250\345\220\210\345\271\266\345\212\237\350\203\275' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170830-部门合并功能'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170830-部门合并功能'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170830-部门合并功能'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170830-部门合并功能'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170830-\351\203\250\351\227\250\345\220\210\345\271\266\345\212\237\350\203\275' -e qishanqing@dafy.com -E '' -b $'20170830-\351\203\250\351\227\250\345\220\210\345\271\266\345\212\237\350\203\275' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170830-\351\203\250\351\227\250\345\220\210\345\271\266\345\212\237\350\203\275'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170830-\351\203\250\351\227\250\345\220\210\345\271\266\345\212\237\350\203\275'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170830-\351\203\250\351\227\250\345\220\210\345\271\266\345\212\237\350\203\275'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170830-部门合并功能: command not found
++ for y in '$trunk'
++ echo $'20170830-\351\203\250\351\227\250\345\220\210\345\271\266\345\212\237\350\203\275'
+ trunks=$'20170830-\351\203\250\351\227\250\345\220\210\345\271\266\345\212\237\350\203\275'
+ test del = add
+ delbranch
+ '[' -z $'20170830-\351\203\250\351\227\250\345\220\210\345\271\266\345\212\237\350\203\275' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170831
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708311733
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170830-\351\203\250\351\227\250\345\220\210\345\271\266\345\212\237\350\203\275'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170831-20170830-\351\203\250\351\227\250\345\220\210\345\271\266\345\212\237\350\203\275/Develop/20170830-\351\203\250\351\227\250\345\220\210\345\271\266\345\212\237\350\203\275'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170830-\351\203\250\351\227\250\345\220\210\345\271\266\345\212\237\350\203\275'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708311733-20170830-\351\203\250\351\227\250\345\220\210\345\271\266\345\212\237\350\203\275'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170831-20170830-\351\203\250\351\227\250\345\220\210\345\271\266\345\212\237\350\203\275/Develop/20170830-\351\203\250\351\227\250\345\220\210\345\271\266\345\212\237\350\203\275'
++ awk -F / '{print $7}'
+ br=$'20170831-20170830-\351\203\250\351\227\250\345\220\210\345\271\266\345\212\237\350\203\275'
+ access=$'20170831-20170830-\351\203\250\351\227\250\345\220\210\345\271\266\345\212\237\350\203\275'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170830-\351\203\250\351\227\250\345\220\210\345\271\266\345\212\237\350\203\275' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708311733-20170830-\351\203\250\351\227\250\345\220\210\345\271\266\345\212\237\350\203\275' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.16829
+ echo $'https://192.168.0.220/svn/tech/Branch/20170830-\351\203\250\351\227\250\345\220\210\345\271\266\345\212\237\350\203\275'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170830-部门合并功能%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170830-部门合并功能%'\'';'
+ cat /tmp/cmdb.db.16829
+ rm -f /tmp/cmdb.db.16829
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (2.1ms)
  Rendered builder/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 590ms (Views: 98.8ms)


Completed 200 OK in 590ms (Views: 98.8ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-31 17:36:06 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-31 17:36:06 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (57.3ms)
  Rendered merge/index.html.erb within layouts/application (57.3ms)
Completed 200 OK in 127ms (Views: 124.6ms)


Completed 200 OK in 127ms (Views: 124.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-31 17:36:13 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-31 17:36:13 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170512-转化成maven项目/Develop/基础业务/账户中心/AccountManager", "task"=>"http://192.168.0.221/zentao/task-view-45857.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"iGiw4DFNaYLxdk5oK/jfSj/h5LThhvisbeSihZcTH2mVj9sJf/e2C6dQwVKWxFQu5MtixfY+/R/33EO/S/Z4mw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170512-转化成maven项目/Develop/基础业务/账户中心/AccountManager", "task"=>"http://192.168.0.221/zentao/task-view-45857.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"iGiw4DFNaYLxdk5oK/jfSj/h5LThhvisbeSihZcTH2mVj9sJf/e2C6dQwVKWxFQu5MtixfY+/R/33EO/S/Z4mw=="}
pid is 16918
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45857.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45857.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170512-转化成maven项目/Develop/基础业务/账户中心/AccountManager'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45857.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170512-转化成maven项目/Develop/基础业务/账户中心/AccountManager'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45857.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45857.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170512-转化成maven项目/Develop/基础业务/账户中心/AccountManager: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
+ rm -f /home/qishanqing/tmp/merged/output.16918
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170512-转化成maven项目/Develop/基础业务/账户中心/AccountManager'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r139725 '
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
+ head='r142880 '
+ '[' '!' -z r139725 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager@r139725' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager@r139725' $'https://192.168.0.220/svn/tech/Branch/20170512-\350\275\254\345\214\226\346\210\220maven\351\241\271\347\233\256/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\350\264\246\346\210\267\344\270\255\345\277\203/AccountManager'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45857.html
Merged revision(s) r139725 -r142880   from Branch/20170512-转化成maven项目/Develop/基础业务/账户中心/AccountManager' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.8ms)
  Rendered merge/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 34145ms (Views: 159.6ms)


Completed 200 OK in 34145ms (Views: 159.6ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-31 17:45:43 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-31 17:45:43 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (151.1ms)
  Rendered merge/index.html.erb within layouts/application (151.1ms)
Completed 200 OK in 536ms (Views: 282.9ms)


Completed 200 OK in 536ms (Views: 282.9ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-31 17:45:49 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-31 17:45:49 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossService", "task"=>"", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"W5Y9fhMBdwOgi3fT4HWt+o6GsTiJKXk7fRRD6w2WkHlGcVaXXbuoivat+OldSSaeVaw3SZ6RfIjnLKLR0XP3iw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossService", "task"=>"", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"W5Y9fhMBdwOgi3fT4HWt+o6GsTiJKXk7fRRD6w2WkHlGcVaXXbuoivat+OldSSaeVaw3SZ6RfIjnLKLR0XP3iw=="}
pid is 17733
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k '' -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService' -T add
+ TEMP=' -k '\'''\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossService'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\'''\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossService'\'' -T '\''add'\'' --'
++ set -- -k '' -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService' -T add --
+ true
+ case "$1" in
+ task=
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossService: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
+ rm -f /home/qishanqing/tmp/merged/output.17733
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
+ mails-cm -i 'code merged from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossService'
+ clean_workspace
+ svn cleanup .
+ grep '^?'
+ svn st
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ awk -F '|' '{print$1}'
++ head -n 4
++ grep -C 3 $'Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
++ grep '^r'
++ svn log
+ revision='r142753 '
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
++ grep '^r'
+ head='r142547 '
+ '[' '!' -z r142753 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService@r142753' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService@r142753' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule/StageProductBossService'
+ svn ci -m '
Merged revision(s) r142753 -r142547   from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule/StageProductBossService' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.7ms)
  Rendered merge/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 32506ms (Views: 2902.4ms)


Completed 200 OK in 32506ms (Views: 2902.4ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-31 17:46:55 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-31 17:46:55 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.2ms)
  Rendered merge/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 78ms (Views: 75.4ms)


Completed 200 OK in 78ms (Views: 75.4ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-31 17:46:57 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-31 17:46:57 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule", "task"=>"", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"j05E3ClEigY2dwyzO7ya0rgfl4DZArfsYVMyCXbQt1uSqS81Z/5Vj2BRg4mGgBG2YzUR8c66sl/7a9MzqjXQqQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule", "task"=>"", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"j05E3ClEigY2dwyzO7ya0rgfl4DZArfsYVMyCXbQt1uSqS81Z/5Vj2BRg4mGgBG2YzUR8c66sl/7a9MzqjXQqQ=="}
pid is 17828
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k '' -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule' -T add
+ TEMP=' -k '\'''\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\'''\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule'\'' -T '\''add'\'' --'
++ set -- -k '' -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule' -T add --
+ true
+ case "$1" in
+ task=
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule'
+ rm -f /home/qishanqing/tmp/merged/output.17828
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule'
+ svn_from_tb_merged
+ mails-cm -i 'code merged from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule'
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ head -n 4
++ awk -F '|' '{print$1}'
++ grep -C 3 $'Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule'
+ revision='r142764 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r143009 '
+ '[' '!' -z r142764 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule@r142764' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ echo tc
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule@r142764' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule'
+ svn ci -m '
Merged revision(s) r142764 -r143009   from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (22.8ms)
  Rendered merge/new.html.erb within layouts/application (22.8ms)
Completed 200 OK in 27839ms (Views: 103.8ms)


Completed 200 OK in 27839ms (Views: 103.8ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-08-31 17:49:17 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-08-31 17:49:17 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (5.6ms)
  Rendered merge/index.html.erb within layouts/application (5.6ms)
Completed 200 OK in 501ms (Views: 494.3ms)


Completed 200 OK in 501ms (Views: 494.3ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-08-31 17:49:50 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-08-31 17:49:50 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"dt", "trunk"=>"https://192.168.0.220/svn/tech/Trunk/事事分期/StageAll/StageModule", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule", "task"=>"", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"XXKmgM0qQQtBgleFZ80DcvdlTWAdzwoSvoof+CsKWC5Alc1pg5Ceghek2L/a8YgWLE/LEQp3D6Eksv7C9+8/3A=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"dt", "trunk"=>"https://192.168.0.220/svn/tech/Trunk/事事分期/StageAll/StageModule", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule", "task"=>"", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"XXKmgM0qQQtBgleFZ80DcvdlTWAdzwoSvoof+CsKWC5Alc1pg5Ceghek2L/a8YgWLE/LEQp3D6Eksv7C9+8/3A=="}
pid is 18110
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k '' -R '' -t $'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule' -T dt
+ TEMP=' -k '\'''\'' -R '\'''\'' -t '\''https://192.168.0.220/svn/tech/Trunk/事事分期/StageAll/StageModule'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule'\'' -T '\''dt'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\'''\'' -R '\'''\'' -t '\''https://192.168.0.220/svn/tech/Trunk/事事分期/StageAll/StageModule'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule'\'' -T '\''dt'\'' --'
++ set -- -k '' -R '' -t $'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule' -T dt --
+ true
+ case "$1" in
+ task=
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule'
+ shift 2
+ true
+ case "$1" in
+ types=dt
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule'
/home/qishanqing/myscript/sh/svn-merged.sh: line 104: https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageModule: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule'
+ test dt = add
+ test dt = del
+ test dt = dt
+ Basecode
+ test -z $'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule'
+ rm -f /home/qishanqing/tmp/merged/output.18110
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule'
+ svn_dt_merged
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageModule'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
正在升级 '.':
版本 143051。
++ awk -F '|' '{print$1}'
++ grep '^r'
++ tail -n 1
++ svn log -l 2
+ revision='r142764 '
+ mails-cm -i $'\345\267\262\345\233\236\351\200\200\347\211\210\346\234\254'
+ '[' -z ']'
+ svn merge -r HEAD:r142764 .
+ svn ci -m '版本回退至: r142764 '
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (19.4ms)
  Rendered merge/new.html.erb within layouts/application (19.4ms)
Completed 200 OK in 14191ms (Views: 115.2ms)


Completed 200 OK in 14191ms (Views: 115.2ms)


Started GET "/builder" for 192.168.5.26 at 2017-08-31 18:11:58 +0800
Started GET "/builder" for 192.168.5.26 at 2017-08-31 18:11:58 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (26.2ms)
  Rendered builder/index.html.erb within layouts/application (26.2ms)
Completed 200 OK in 666ms (Views: 635.0ms)


Completed 200 OK in 666ms (Views: 635.0ms)


Started POST "/start" for 192.168.5.26 at 2017-08-31 18:12:49 +0800
Started POST "/start" for 192.168.5.26 at 2017-08-31 18:12:49 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"wanghongkai@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/RepaymentBusiness2", "branch"=>"等本等息修改", "user"=>"wanghongkai tongzhongfu weishaolong wenshiyu songxinyu", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"EiZ+mUtT8DddF3tblUYb8OF7clbDvDNaBUm/x4aCHb0PwRVwBekvvgsx9GEoepCUOlH0J9QENumfcV79Wmd6Tw=="}
  Parameters: {"email"=>"wanghongkai@dafy.com", "types"=>"add", "trunk"=>"外部业务/P2P/Business/RepaymentBusiness2", "branch"=>"等本等息修改", "user"=>"wanghongkai tongzhongfu weishaolong wenshiyu songxinyu", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"EiZ+mUtT8DddF3tblUYb8OF7clbDvDNaBUm/x4aCHb0PwRVwBekvvgsx9GEoepCUOlH0J9QENumfcV79Wmd6Tw=="}
pid is 19122
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'wanghongkai tongzhongfu weishaolong wenshiyu songxinyu' -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' -e wanghongkai@dafy.com -E '' -b $'\347\255\211\346\234\254\347\255\211\346\201\257\344\277\256\346\224\271' -T add -d ''
+ TEMP=' -u '\''wanghongkai tongzhongfu weishaolong wenshiyu songxinyu'\'' -t '\''外部业务/P2P/Business/RepaymentBusiness2'\'' -e '\''wanghongkai@dafy.com'\'' -E '\'''\'' -b '\''等本等息修改'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''wanghongkai tongzhongfu weishaolong wenshiyu songxinyu'\'' -t '\''外部业务/P2P/Business/RepaymentBusiness2'\'' -e '\''wanghongkai@dafy.com'\'' -E '\'''\'' -b '\''等本等息修改'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'wanghongkai tongzhongfu weishaolong wenshiyu songxinyu' -t $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' -e wanghongkai@dafy.com -E '' -b $'\347\255\211\346\234\254\347\255\211\346\201\257\344\277\256\346\224\271' -T add -d '' --
+ true
+ case "$1" in
+ user='wanghongkai tongzhongfu weishaolong wenshiyu songxinyu'
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ shift 2
+ true
+ case "$1" in
+ email=wanghongkai@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\347\255\211\346\234\254\347\255\211\346\201\257\344\277\256\346\224\271'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=wanghongkai@dafy.com '
+ SMARTCM_EXTRA_MAIL='wanghongkai@dafy.com '
++ wanghongkai tongzhongfu weishaolong wenshiyu songxinyu
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: wanghongkai: command not found
++ for x in '$user'
++ echo wanghongkai=rw
++ for x in '$user'
++ echo tongzhongfu=rw
++ for x in '$user'
++ echo weishaolong=rw
++ for x in '$user'
++ echo wenshiyu=rw
++ for x in '$user'
++ echo songxinyu=rw
+ users='wanghongkai=rw
tongzhongfu=rw
weishaolong=rw
wenshiyu=rw
songxinyu=rw'
++ $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 外部业务/P2P/Business/RepaymentBusiness2: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ trunks=$'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' ']'
+ '[' -z $'\347\255\211\346\234\254\347\255\211\346\201\257\344\277\256\346\224\271' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170831
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201708
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201708311812
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170831-\347\255\211\346\234\254\347\255\211\346\201\257\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\347\255\211\346\234\254\347\255\211\346\201\257\344\277\256\346\224\271'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201708311812-\347\255\211\346\234\254\347\255\211\346\201\257\344\277\256\346\224\271'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170831-\347\255\211\346\234\254\347\255\211\346\201\257\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ awk -F / '{print $7}'
+ br=$'20170831-\347\255\211\346\234\254\347\255\211\346\201\257\344\277\256\346\224\271'
+ access=$'20170831-\347\255\211\346\234\254\347\255\211\346\201\257\344\277\256\346\224\271'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' $'https://192.168.0.220/svn/tech/Branch/20170831-\347\255\211\346\234\254\347\255\211\346\201\257\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.19122
+ echo $'https://192.168.0.220/svn/tech/Branch/20170831-\347\255\211\346\234\254\347\255\211\346\201\257\344\277\256\346\224\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/RepaymentBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170831-等本等息修改/Develop/外部业务/P2P/Business/RepaymentBusiness2'\'',now(),'\''wanghongkai'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business/RepaymentBusiness2'\'', '\''https://192.168.0.220/svn/tech/Branch/20170831-等本等息修改/Develop/外部业务/P2P/Business/RepaymentBusiness2'\'',now(),'\''wanghongkai'\'');'
+ cat /tmp/cmdb.db.19122
+ rm -f /tmp/cmdb.db.19122
+ check-acces
+ read num
+ ssh root@192.168.0.220 'grep -c 20170831-等本等息修改] /svn/authz.conf'
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z 'wanghongkai=rw
tongzhongfu=rw
weishaolong=rw
wenshiyu=rw
songxinyu=rw'
+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.5ms)
  Rendered builder/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 6816ms (Views: 75.8ms)


Completed 200 OK in 6816ms (Views: 75.8ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-09-01 09:39:01 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-09-01 09:39:01 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (164.6ms)
  Rendered merge/index.html.erb within layouts/application (164.6ms)
Completed 200 OK in 3762ms (Views: 3496.0ms)


Completed 200 OK in 3762ms (Views: 3496.0ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-09-01 09:40:08 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-09-01 09:40:08 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170727-新协议后台开发/Develop/基础业务/用户中心/UserBusiness", "task"=>"http://192.168.0.221/zentao/task-view-45902.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"QXkWBRGst7ZzcjtAi4QPWsppswXp9Ds40q6WqYZ9Kvdcnn3sXxZoPyVUtHo2uIQ+EUM1dP5MPotIlneTWphNBQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170727-新协议后台开发/Develop/基础业务/用户中心/UserBusiness", "task"=>"http://192.168.0.221/zentao/task-view-45902.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"QXkWBRGst7ZzcjtAi4QPWsppswXp9Ds40q6WqYZ9Kvdcnn3sXxZoPyVUtHo2uIQ+EUM1dP5MPotIlneTWphNBQ=="}
pid is 12979
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45902.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170727-\346\226\260\345\215\217\350\256\256\345\220\216\345\217\260\345\274\200\345\217\221/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45902.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170727-新协议后台开发/Develop/基础业务/用户中心/UserBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45902.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170727-新协议后台开发/Develop/基础业务/用户中心/UserBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45902.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170727-\346\226\260\345\215\217\350\256\256\345\220\216\345\217\260\345\274\200\345\217\221/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45902.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170727-\346\226\260\345\215\217\350\256\256\345\220\216\345\217\260\345\274\200\345\217\221/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170727-\346\226\260\345\215\217\350\256\256\345\220\216\345\217\260\345\274\200\345\217\221/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 103: https://192.168.0.220/svn/tech/Branch/20170727-新协议后台开发/Develop/基础业务/用户中心/UserBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\346\226\260\345\215\217\350\256\256\345\220\216\345\217\260\345\274\200\345\217\221/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170727-\346\226\260\345\215\217\350\256\256\345\220\216\345\217\260\345\274\200\345\217\221/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170727-\346\226\260\345\215\217\350\256\256\345\220\216\345\217\260\345\274\200\345\217\221/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170727-\346\226\260\345\215\217\350\256\256\345\220\216\345\217\260\345\274\200\345\217\221/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ die $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ mails-cm -i 'svn merged faild'
+ echo $'\345\210\206\346\224\257\345\220\215\350\276\223\345\205\245\351\224\231\350\257\257\346\210\226\350\200\205\345\210\206\346\224\257\345\267\262\345\205\263\351\227\255'
+ test -e /home/qishanqing/tmp/merged/output.12979
+ echo
+ cat /home/qishanqing/tmp/merged/output.12979
+ rm -f /home/qishanqing/tmp/merged/output.12979
+ rm -f /home/qishanqing/tmp/merged/output.12979
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170727-\346\226\260\345\215\217\350\256\256\345\220\216\345\217\260\345\274\200\345\217\221/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ mails-cm -i 'code merged from Branch/20170727-新协议后台开发/Develop/基础业务/用户中心/UserBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ awk -F '|' '{print$1}'
++ grep -C 3 $'Branch/20170727-\346\226\260\345\215\217\350\256\256\345\220\216\345\217\260\345\274\200\345\217\221/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ head -n 4
+ revision='r138628 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170727-\346\226\260\345\215\217\350\256\256\345\220\216\345\217\260\345\274\200\345\217\221/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
svn: E160013: 找不到路径 “/svn/tech/!svn/rvr/143178/Branch/20170727-%E6%96%B0%E5%8D%8F%E8%AE%AE%E5%90%8E%E5%8F%B0%E5%BC%80%E5%8F%91/Develop/%E5%9F%BA%E7%A1%80%E4%B8%9A%E5%8A%A1/%E7%94%A8%E6%88%B7%E4%B8%AD%E5%BF%83/UserBusiness”
+ head=
+ '[' '!' -z r138628 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170727-\346\226\260\345\215\217\350\256\256\345\220\216\345\217\260\345\274\200\345\217\221/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness@r138628' $'https://192.168.0.220/svn/tech/Branch/20170727-\346\226\260\345\215\217\350\256\256\345\220\216\345\217\260\345\274\200\345\217\221/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' .
svn: E160013: 找不到路径 “/svn/tech/!svn/rvr/143178/Branch/20170727-%E6%96%B0%E5%8D%8F%E8%AE%AE%E5%90%8E%E5%8F%B0%E5%BC%80%E5%8F%91/Develop/%E5%9F%BA%E7%A1%80%E4%B8%9A%E5%8A%A1/%E7%94%A8%E6%88%B7%E4%B8%AD%E5%BF%83/UserBusiness”
+ st=
+ '[' -z ']'
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170727-\346\226\260\345\215\217\350\256\256\345\220\216\345\217\260\345\274\200\345\217\221/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness@r138628' $'https://192.168.0.220/svn/tech/Branch/20170727-\346\226\260\345\215\217\350\256\256\345\220\216\345\217\260\345\274\200\345\217\221/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
svn: E160013: 找不到路径 “/svn/tech/!svn/rvr/143178/Branch/20170727-%E6%96%B0%E5%8D%8F%E8%AE%AE%E5%90%8E%E5%8F%B0%E5%BC%80%E5%8F%91/Develop/%E5%9F%BA%E7%A1%80%E4%B8%9A%E5%8A%A1/%E7%94%A8%E6%88%B7%E4%B8%AD%E5%BF%83/UserBusiness”
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45902.html
Merged revision(s) r138628 -  from Branch/20170727-新协议后台开发/Develop/基础业务/用户中心/UserBusiness' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.8ms)
  Rendered merge/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 37316ms (Views: 54.6ms)


Completed 200 OK in 37316ms (Views: 54.6ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-09-01 09:43:53 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-09-01 09:43:53 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (8.7ms)
  Rendered merge/index.html.erb within layouts/application (8.7ms)
Completed 200 OK in 248ms (Views: 242.8ms)


Completed 200 OK in 248ms (Views: 242.8ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-09-01 09:44:02 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-09-01 09:44:02 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite", "task"=>"http://192.168.0.221/zentao/task-view-45905.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"0EGVhMooUWvrloHWkUjTha6Kh6FzCOhGXn/yomvmzgfNpv5thJKO4r2wDuwsdFjhdaAB0GSw7fXERxOYtwOp9Q=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite", "task"=>"http://192.168.0.221/zentao/task-view-45905.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"0EGVhMooUWvrloHWkUjTha6Kh6FzCOhGXn/yomvmzgfNpv5thJKO4r2wDuwsdFjhdaAB0GSw7fXERxOYtwOp9Q=="}
pid is 13268
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45905.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45905.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45905.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45905.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45905.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
/home/qishanqing/myscript/sh/svn-merged.sh: line 103: https://192.168.0.220/svn/tech/Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ rm -f /home/qishanqing/tmp/merged/output.13268
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r141593 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r143131 '
+ '[' '!' -z r141593 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r141593' $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r141593' $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45905.html
Merged revision(s) r141593 -r143131   from Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite' --username qishanqing --password 372233
svn: E155015: 提交失败(细节如下): 
svn: E155015: 提交终止: “/home/qishanqing/workspace/code/Trunk/老系统/新达飞贷/网站中心/BossSite/config/TransFilter.xml” 处于冲突状态
+ die 'Svn merged conflicts the reasons for failure are as follows'
+ echo 'Svn merged conflicts the reasons for failure are as follows'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.13268
+ echo
+ cat /home/qishanqing/tmp/merged/output.13268
+ rm -f /home/qishanqing/tmp/merged/output.13268
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (28.6ms)
  Rendered merge/new.html.erb within layouts/application (28.6ms)
Completed 200 OK in 89129ms (Views: 80.8ms)


Completed 200 OK in 89129ms (Views: 80.8ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-09-01 10:00:51 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-09-01 10:00:51 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.8ms)
  Rendered merge/index.html.erb within layouts/application (3.8ms)
Completed 200 OK in 80ms (Views: 76.7ms)


Completed 200 OK in 80ms (Views: 76.7ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-09-01 10:01:17 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-09-01 10:01:17 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite", "task"=>"http://192.168.0.221/zentao/task-view-45905.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"vPelz8uSTJFS8KdjjNPrkXa1lIkOOgI+Sr8CjUS9uuehEM4mhSiTGATWKFkx72D1rZ8S+BmCB43Qh+O3mFjdFQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite", "task"=>"http://192.168.0.221/zentao/task-view-45905.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"vPelz8uSTJFS8KdjjNPrkXa1lIkOOgI+Sr8CjUS9uuehEM4mhSiTGATWKFkx72D1rZ8S+BmCB43Qh+O3mFjdFQ=="}
pid is 13803
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45905.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45905.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45905.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45905.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45905.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
/home/qishanqing/myscript/sh/svn-merged.sh: line 103: https://192.168.0.220/svn/tech/Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ rm -f /home/qishanqing/tmp/merged/output.13803
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite'
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ head -n 4
++ svn log
++ grep '^r'
++ awk -F '|' '{print$1}'
++ grep -C 3 $'Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ revision='r141593 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r143131 '
+ '[' '!' -z r141593 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r141593' $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r141593' $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45905.html
Merged revision(s) r141593 -r143131   from Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite' --username qishanqing --password 372233
svn: E155015: 提交失败(细节如下): 
svn: E155015: 提交终止: “/home/qishanqing/workspace/code/Trunk/老系统/新达飞贷/网站中心/BossSite/config/TransFilter.xml” 处于冲突状态
+ die 'Svn merged conflicts the reasons for failure are as follows'
+ echo 'Svn merged conflicts the reasons for failure are as follows'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.13803
+ echo
+ cat /home/qishanqing/tmp/merged/output.13803
+ rm -f /home/qishanqing/tmp/merged/output.13803
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (898.7ms)
  Rendered merge/new.html.erb within layouts/application (898.7ms)
Completed 200 OK in 21707ms (Views: 4980.3ms)


Completed 200 OK in 21707ms (Views: 4980.3ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-09-01 10:07:20 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-09-01 10:07:20 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (18.4ms)
  Rendered merge/index.html.erb within layouts/application (18.4ms)
Completed 200 OK in 74ms (Views: 70.6ms)


Completed 200 OK in 74ms (Views: 70.6ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-09-01 10:07:31 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-09-01 10:07:31 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite", "task"=>"http://192.168.0.221/zentao/task-view-45905.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"s5FaDyN6D6OKJ394zN6Go/z9myJPZrH4/XMFJYBrXmeudjHmbcDQKtwB8EJx4g3HJ9cdU1jetEtnS+QfXI45lQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite", "task"=>"http://192.168.0.221/zentao/task-view-45905.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"s5FaDyN6D6OKJ394zN6Go/z9myJPZrH4/XMFJYBrXmeudjHmbcDQKtwB8EJx4g3HJ9cdU1jetEtnS+QfXI45lQ=="}
pid is 13993
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45905.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45905.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45905.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45905.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45905.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
/home/qishanqing/myscript/sh/svn-merged.sh: line 103: https://192.168.0.220/svn/tech/Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
/home/qishanqing/myscript/sh/svn-merged.sh: line 145: syntax error near unexpected token `)'
/home/qishanqing/myscript/sh/svn-merged.sh: line 145: `				)'
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.3ms)
  Rendered merge/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 85ms (Views: 67.1ms)


Completed 200 OK in 85ms (Views: 67.1ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-09-01 10:08:31 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-09-01 10:08:31 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.8ms)
  Rendered merge/index.html.erb within layouts/application (3.8ms)
Completed 200 OK in 121ms (Views: 118.5ms)


Completed 200 OK in 121ms (Views: 118.5ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-09-01 10:08:42 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-09-01 10:08:42 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite", "task"=>"http://192.168.0.221/zentao/task-view-45905.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"lCWOjEZ8ChXUnvRQxcikX80LsOd5hpDA71Ebas/Hs6+JwuVlCMbVnIK4e2p49C87FiE2lm4+lXN1afpQEyLUXQ=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite", "task"=>"http://192.168.0.221/zentao/task-view-45905.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"lCWOjEZ8ChXUnvRQxcikX80LsOd5hpDA71Ebas/Hs6+JwuVlCMbVnIK4e2p49C87FiE2lm4+lXN1afpQEyLUXQ=="}
pid is 14024
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45905.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45905.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45905.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45905.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45905.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
/home/qishanqing/myscript/sh/svn-merged.sh: line 103: https://192.168.0.220/svn/tech/Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ rm -f /home/qishanqing/tmp/merged/output.14024
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite'
+ grep '^?'
+ xargs rm -rf
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r141593 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r143131 '
+ '[' '!' -z r141593 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r141593' $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' .
+ st=
+ '[' -z ']'
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r141593' $'https://192.168.0.220/svn/tech/Branch/20170822-\347\224\250\346\210\267\350\265\204\346\226\231-CA\345\257\274\345\207\272/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45905.html
Merged revision(s) r141593 -r143131   from Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite' --username qishanqing --password 372233
svn: E155015: 提交失败(细节如下): 
svn: E155015: 提交终止: “/home/qishanqing/workspace/code/Trunk/老系统/新达飞贷/网站中心/BossSite/config/TransFilter.xml” 处于冲突状态
+ svn_conflict_files
++ svn st
++ grep '^C'
++ awk '{print $2}'
+ filenames=config/TransFilter.xml
+ for filename in '$filenames'
+ mails-cm -i 'code merged conflict file '
+ svn resolve --accept=theirs-conflict config/TransFilter.xml
+ svn_conflict_trees
++ svn st
++ grep '^!'
++ awk '{print $3}'
+ filenames=
+ mails-cm -i 'code merged conflict tree file '
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45905.html
Merged revision(s) r141593 -r143131   from Branch/20170822-用户资料-CA导出/Develop/老系统/新达飞贷/网站中心/BossSite' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.5ms)
  Rendered merge/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 18564ms (Views: 78.0ms)


Completed 200 OK in 18564ms (Views: 78.0ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-09-01 10:12:11 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-09-01 10:12:11 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (23.2ms)
  Rendered merge/index.html.erb within layouts/application (23.2ms)
Completed 200 OK in 112ms (Views: 107.2ms)


Completed 200 OK in 112ms (Views: 107.2ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-09-01 10:17:40 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-09-01 10:17:40 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170821-内部项目修改需求/Develop/数据报表/内部项目/projectResourcesManager https://192.168.0.220/svn/tech/Branch/20170821-内部项目修改需求/Develop/数据报表/内部项目/businessPropertyManager", "task"=>"http://192.168.0.221/zentao/task-view-45892.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"xIoEDVStyqIuUvsHA9KfrJpEouZLVJFmkTJ5RBRwErnZbW/kGhcVK3h0dD2+7hTIQW4kl1zslNULCph+yJV1Sw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170821-内部项目修改需求/Develop/数据报表/内部项目/projectResourcesManager https://192.168.0.220/svn/tech/Branch/20170821-内部项目修改需求/Develop/数据报表/内部项目/businessPropertyManager", "task"=>"http://192.168.0.221/zentao/task-view-45892.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"xIoEDVStyqIuUvsHA9KfrJpEouZLVJFmkTJ5RBRwErnZbW/kGhcVK3h0dD2+7hTIQW4kl1zslNULCph+yJV1Sw=="}
pid is 14310
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45892.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170821-内部项目修改需求/Develop/数据报表/内部项目/projectResourcesManager https://192.168.0.220/svn/tech/Branch/20170821-内部项目修改需求/Develop/数据报表/内部项目/businessPropertyManager' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45892.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170821-内部项目修改需求/Develop/数据报表/内部项目/projectResourcesManager https://192.168.0.220/svn/tech/Branch/20170821-内部项目修改需求/Develop/数据报表/内部项目/businessPropertyManager'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45892.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170821-内部项目修改需求/Develop/数据报表/内部项目/projectResourcesManager https://192.168.0.220/svn/tech/Branch/20170821-内部项目修改需求/Develop/数据报表/内部项目/businessPropertyManager'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45892.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170821-内部项目修改需求/Develop/数据报表/内部项目/projectResourcesManager https://192.168.0.220/svn/tech/Branch/20170821-内部项目修改需求/Develop/数据报表/内部项目/businessPropertyManager' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45892.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170821-内部项目修改需求/Develop/数据报表/内部项目/projectResourcesManager https://192.168.0.220/svn/tech/Branch/20170821-内部项目修改需求/Develop/数据报表/内部项目/businessPropertyManager'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170821-\345\206\205\351\203\250\351\241\271\347\233\256\344\277\256\346\224\271\351\234\200\346\261\202/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/projectResourcesManager' $'https://192.168.0.220/svn/tech/Branch/20170821-\345\206\205\351\203\250\351\241\271\347\233\256\344\277\256\346\224\271\351\234\200\346\261\202/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/businessPropertyManager'
/home/qishanqing/myscript/sh/svn-merged.sh: line 103: https://192.168.0.220/svn/tech/Branch/20170821-内部项目修改需求/Develop/数据报表/内部项目/projectResourcesManager: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170821-\345\206\205\351\203\250\351\241\271\347\233\256\344\277\256\346\224\271\351\234\200\346\261\202/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/projectResourcesManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170821-\345\206\205\351\203\250\351\241\271\347\233\256\344\277\256\346\224\271\351\234\200\346\261\202/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/businessPropertyManager'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170821-内部项目修改需求/Develop/数据报表/内部项目/projectResourcesManager
https://192.168.0.220/svn/tech/Branch/20170821-内部项目修改需求/Develop/数据报表/内部项目/businessPropertyManager'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170821-\345\206\205\351\203\250\351\241\271\347\233\256\344\277\256\346\224\271\351\234\200\346\261\202/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/projectResourcesManager'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/projectResourcesManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170821-\345\206\205\351\203\250\351\241\271\347\233\256\344\277\256\346\224\271\351\234\200\346\261\202/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/projectResourcesManager'
+ rm -f /home/qishanqing/tmp/merged/output.14310
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/projectResourcesManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170821-\345\206\205\351\203\250\351\241\271\347\233\256\344\277\256\346\224\271\351\234\200\346\261\202/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/projectResourcesManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/projectResourcesManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/projectResourcesManager'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170821-内部项目修改需求/Develop/数据报表/内部项目/projectResourcesManager'
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170821-\345\206\205\351\203\250\351\241\271\347\233\256\344\277\256\346\224\271\351\234\200\346\261\202/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/projectResourcesManager'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r141966 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170821-\345\206\205\351\203\250\351\241\271\347\233\256\344\277\256\346\224\271\351\234\200\346\261\202/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/projectResourcesManager'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r143141 '
+ '[' '!' -z r141966 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170821-\345\206\205\351\203\250\351\241\271\347\233\256\344\277\256\346\224\271\351\234\200\346\261\202/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/projectResourcesManager@r141966' $'https://192.168.0.220/svn/tech/Branch/20170821-\345\206\205\351\203\250\351\241\271\347\233\256\344\277\256\346\224\271\351\234\200\346\261\202/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/projectResourcesManager' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170821-\345\206\205\351\203\250\351\241\271\347\233\256\344\277\256\346\224\271\351\234\200\346\261\202/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/projectResourcesManager@r141966' $'https://192.168.0.220/svn/tech/Branch/20170821-\345\206\205\351\203\250\351\241\271\347\233\256\344\277\256\346\224\271\351\234\200\346\261\202/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/projectResourcesManager'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45892.html
Merged revision(s) r141966 -r143141   from Branch/20170821-内部项目修改需求/Develop/数据报表/内部项目/projectResourcesManager' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170821-\345\206\205\351\203\250\351\241\271\347\233\256\344\277\256\346\224\271\351\234\200\346\261\202/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/businessPropertyManager'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/businessPropertyManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170821-\345\206\205\351\203\250\351\241\271\347\233\256\344\277\256\346\224\271\351\234\200\346\261\202/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/businessPropertyManager'
+ rm -f /home/qishanqing/tmp/merged/output.14310
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/businessPropertyManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170821-\345\206\205\351\203\250\351\241\271\347\233\256\344\277\256\346\224\271\351\234\200\346\261\202/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/businessPropertyManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/businessPropertyManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/businessPropertyManager'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170821-内部项目修改需求/Develop/数据报表/内部项目/businessPropertyManager'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ head -n 4
++ grep -C 3 $'Branch/20170821-\345\206\205\351\203\250\351\241\271\347\233\256\344\277\256\346\224\271\351\234\200\346\261\202/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/businessPropertyManager'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ revision='r140109 '
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170821-\345\206\205\351\203\250\351\241\271\347\233\256\344\277\256\346\224\271\351\234\200\346\261\202/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/businessPropertyManager'
+ head='r142794 '
+ '[' '!' -z r140109 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170821-\345\206\205\351\203\250\351\241\271\347\233\256\344\277\256\346\224\271\351\234\200\346\261\202/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/businessPropertyManager@r140109' $'https://192.168.0.220/svn/tech/Branch/20170821-\345\206\205\351\203\250\351\241\271\347\233\256\344\277\256\346\224\271\351\234\200\346\261\202/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/businessPropertyManager' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170821-\345\206\205\351\203\250\351\241\271\347\233\256\344\277\256\346\224\271\351\234\200\346\261\202/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/businessPropertyManager@r140109' $'https://192.168.0.220/svn/tech/Branch/20170821-\345\206\205\351\203\250\351\241\271\347\233\256\344\277\256\346\224\271\351\234\200\346\261\202/Develop/\346\225\260\346\215\256\346\212\245\350\241\250/\345\206\205\351\203\250\351\241\271\347\233\256/businessPropertyManager'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45892.html
Merged revision(s) r140109 -r142794   from Branch/20170821-内部项目修改需求/Develop/数据报表/内部项目/businessPropertyManager' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.8ms)
  Rendered merge/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 63735ms (Views: 75.7ms)


Completed 200 OK in 63735ms (Views: 75.7ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-09-01 10:22:31 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-09-01 10:22:31 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (5.2ms)
  Rendered merge/index.html.erb within layouts/application (5.2ms)
Completed 200 OK in 81ms (Views: 77.8ms)


Completed 200 OK in 81ms (Views: 77.8ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-09-01 10:22:47 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-09-01 10:22:47 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter https://192.168.0.220/svn/tech/Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-45890.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"ng1msKWzYGaNMKeIWCFnxjJQGO6yEj1hL3OWKlUoYNyD6g1Z6wm/79sWKLLlHeyi6Xqen6WqONK1S3cQic0HLg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter https://192.168.0.220/svn/tech/Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-45890.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"ng1msKWzYGaNMKeIWCFnxjJQGO6yEj1hL3OWKlUoYNyD6g1Z6wm/79sWKLLlHeyi6Xqen6WqONK1S3cQic0HLg=="}
pid is 14499
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45890.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter https://192.168.0.220/svn/tech/Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45890.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter https://192.168.0.220/svn/tech/Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45890.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter https://192.168.0.220/svn/tech/Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45890.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter https://192.168.0.220/svn/tech/Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45890.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter https://192.168.0.220/svn/tech/Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter' $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
/home/qishanqing/myscript/sh/svn-merged.sh: line 103: https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter
https://192.168.0.220/svn/tech/Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ rm -f /home/qishanqing/tmp/merged/output.14499
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter'
+ cd $'/home/qishanqing/workspace/code/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ awk -F '|' '{print$1}'
++ grep '^r'
++ grep -C 3 $'Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
++ head -n 4
+ revision='r142760 '
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ head='r143089 '
+ '[' '!' -z r142760 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter@r142760' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter' .
+ st=
+ '[' -z ']'
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter@r142760' $'https://192.168.0.220/svn/tech/Branch/20170802-\350\276\276\345\210\206\346\234\237\345\233\242\350\264\2552\346\234\237/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll/StageWechatCenter'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45890.html
Merged revision(s) r142760 -r143089   from Branch/20170802-达分期团购2期/Develop/事事分期/StageAll/StageWechatCenter' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ rm -f /home/qishanqing/tmp/merged/output.14499
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision='r142761 '
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ head='r143092 '
+ '[' '!' -z r142761 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r142761' $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' .
+ st=
+ '[' -z ']'
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r142761' $'https://192.168.0.220/svn/tech/Branch/20170808-\345\233\242\350\264\255\344\272\214\346\234\237/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45890.html
Merged revision(s) r142761 -r143092   from Branch/20170808-团购二期/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (25.3ms)
  Rendered merge/new.html.erb within layouts/application (25.3ms)
Completed 200 OK in 75647ms (Views: 101.1ms)


Completed 200 OK in 75647ms (Views: 101.1ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-09-01 10:24:14 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-09-01 10:24:14 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (5.3ms)
  Rendered merge/index.html.erb within layouts/application (5.3ms)
Completed 200 OK in 116ms (Views: 112.7ms)


Completed 200 OK in 116ms (Views: 112.7ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-09-01 10:25:48 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-09-01 10:25:48 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170821-云贷理财合规/Develop/基础业务/用户中心/UserBusiness https://192.168.0.220/svn/tech/Branch/20170829-用户推荐改版/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170829-用户推荐改版/Develop/自如/后台服务管理/ShareWebCenter", "task"=>"http://192.168.0.221/zentao/task-view-45929.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"yPebJgSc4Weh98h4H/ddISPiEmO2uZxhIsc4VvVoKsHVEPDPSiY+7vfRR0Kiy9ZF+MiUEqEBmdK4/9lsKY1NMw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170821-云贷理财合规/Develop/基础业务/用户中心/UserBusiness https://192.168.0.220/svn/tech/Branch/20170829-用户推荐改版/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170829-用户推荐改版/Develop/自如/后台服务管理/ShareWebCenter", "task"=>"http://192.168.0.221/zentao/task-view-45929.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"yPebJgSc4Weh98h4H/ddISPiEmO2uZxhIsc4VvVoKsHVEPDPSiY+7vfRR0Kiy9ZF+MiUEqEBmdK4/9lsKY1NMw=="}
pid is 14655
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45929.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170821-云贷理财合规/Develop/基础业务/用户中心/UserBusiness https://192.168.0.220/svn/tech/Branch/20170829-用户推荐改版/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170829-用户推荐改版/Develop/自如/后台服务管理/ShareWebCenter' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45929.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170821-云贷理财合规/Develop/基础业务/用户中心/UserBusiness https://192.168.0.220/svn/tech/Branch/20170829-用户推荐改版/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170829-用户推荐改版/Develop/自如/后台服务管理/ShareWebCenter'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45929.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170821-云贷理财合规/Develop/基础业务/用户中心/UserBusiness https://192.168.0.220/svn/tech/Branch/20170829-用户推荐改版/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170829-用户推荐改版/Develop/自如/后台服务管理/ShareWebCenter'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45929.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170821-云贷理财合规/Develop/基础业务/用户中心/UserBusiness https://192.168.0.220/svn/tech/Branch/20170829-用户推荐改版/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170829-用户推荐改版/Develop/自如/后台服务管理/ShareWebCenter' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45929.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170821-云贷理财合规/Develop/基础业务/用户中心/UserBusiness https://192.168.0.220/svn/tech/Branch/20170829-用户推荐改版/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client https://192.168.0.220/svn/tech/Branch/20170829-用户推荐改版/Develop/自如/后台服务管理/ShareWebCenter'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170821-\344\272\221\350\264\267\347\220\206\350\264\242\345\220\210\350\247\204/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/ShareWebCenter'
/home/qishanqing/myscript/sh/svn-merged.sh: line 103: https://192.168.0.220/svn/tech/Branch/20170821-云贷理财合规/Develop/基础业务/用户中心/UserBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170821-\344\272\221\350\264\267\347\220\206\350\264\242\345\220\210\350\247\204/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/ShareWebCenter'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170821-云贷理财合规/Develop/基础业务/用户中心/UserBusiness
https://192.168.0.220/svn/tech/Branch/20170829-用户推荐改版/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client
https://192.168.0.220/svn/tech/Branch/20170829-用户推荐改版/Develop/自如/后台服务管理/ShareWebCenter'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170821-\344\272\221\350\264\267\347\220\206\350\264\242\345\220\210\350\247\204/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170821-\344\272\221\350\264\267\347\220\206\350\264\242\345\220\210\350\247\204/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.14655
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170821-\344\272\221\350\264\267\347\220\206\350\264\242\345\220\210\350\247\204/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ mails-cm -i 'code merged from Branch/20170821-云贷理财合规/Develop/基础业务/用户中心/UserBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ awk -F '|' '{print$1}'
++ grep '^r'
++ grep -C 3 $'Branch/20170821-\344\272\221\350\264\267\347\220\206\350\264\242\345\220\210\350\247\204/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ head -n 4
+ revision='r140571 '
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170821-\344\272\221\350\264\267\347\220\206\350\264\242\345\220\210\350\247\204/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r143159 '
+ '[' '!' -z r140571 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170821-\344\272\221\350\264\267\347\220\206\350\264\242\345\220\210\350\247\204/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness@r140571' $'https://192.168.0.220/svn/tech/Branch/20170821-\344\272\221\350\264\267\347\220\206\350\264\242\345\220\210\350\247\204/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness' .
+ st=
+ '[' -z ']'
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170821-\344\272\221\350\264\267\347\220\206\350\264\242\345\220\210\350\247\204/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness@r140571' $'https://192.168.0.220/svn/tech/Branch/20170821-\344\272\221\350\264\267\347\220\206\350\264\242\345\220\210\350\247\204/Develop/\345\237\272\347\241\200\344\270\232\345\212\241/\347\224\250\346\210\267\344\270\255\345\277\203/UserBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45929.html
Merged revision(s) r140571 -r143159   from Branch/20170821-云贷理财合规/Develop/基础业务/用户中心/UserBusiness' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ rm -f /home/qishanqing/tmp/merged/output.14655
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ mails-cm -i 'code merged from Branch/20170829-用户推荐改版/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ head='r143155 '
+ '[' '!' -z ']'
++ tail -n 4
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ revision='r141981 '
+ '[' '!' -z r141981 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r141981' $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' .
+ st='  树冲突：14'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\23214' ']'
+ echo p
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r141981' $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn_conflict_files
++ svn st
++ grep '^C'
++ awk '{print $2}'
+ filenames='lineStage/merchant/commoditybuy.htm
lineStage/merchant/commoditybuy.js
lineStage/merchant/merchantDetail.js'
+ for filename in '$filenames'
+ svn resolve --accept=theirs-conflict lineStage/merchant/commoditybuy.htm
+ mails-cm -i 'code merged conflict file lineStage/merchant/commoditybuy.htm'
cat: -: 错误的文件描述符
+ for filename in '$filenames'
+ svn resolve --accept=theirs-conflict lineStage/merchant/commoditybuy.js
+ mails-cm -i 'code merged conflict file lineStage/merchant/commoditybuy.js'
cat: -: 错误的文件描述符
+ for filename in '$filenames'
+ svn resolve --accept=theirs-conflict lineStage/merchant/merchantDetail.js
+ mails-cm -i 'code merged conflict file lineStage/merchant/merchantDetail.js'
cat: -: 错误的文件描述符
+ svn_conflict_trees
++ svn st
++ awk '{print $3}'
++ grep '^!'
+ filenames='index/mallModle
lineStage/activity/img/hxbgm.png
lineStage/activity/img/kaquanbgm.png
lineStage/activity/img/share.png
lineStage/activity/img/shujia.png'
+ for filename in '$filenames'
+ svn resolve --accept=working index/mallModle
+ mails-cm -i 'code merged conflict file index/mallModle'
cat: -: 错误的文件描述符
+ for filename in '$filenames'
+ svn resolve --accept=working lineStage/activity/img/hxbgm.png
+ mails-cm -i 'code merged conflict file lineStage/activity/img/hxbgm.png'
cat: -: 错误的文件描述符
+ for filename in '$filenames'
+ svn resolve --accept=working lineStage/activity/img/kaquanbgm.png
+ mails-cm -i 'code merged conflict file lineStage/activity/img/kaquanbgm.png'
cat: -: 错误的文件描述符
+ for filename in '$filenames'
+ svn resolve --accept=working lineStage/activity/img/share.png
+ mails-cm -i 'code merged conflict file lineStage/activity/img/share.png'
cat: -: 错误的文件描述符
+ for filename in '$filenames'
+ svn resolve --accept=working lineStage/activity/img/shujia.png
+ mails-cm -i 'code merged conflict file lineStage/activity/img/shujia.png'
cat: -: 错误的文件描述符
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45929.html
Merged revision(s) r141981 -r143155   from Branch/20170829-用户推荐改版/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' --username qishanqing --password 372233
svn: E155015: 提交失败(细节如下): 
svn: E155015: 提交终止: “/home/qishanqing/workspace/code/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/lineStage/merchant/img/Billicon@2x.png” 处于冲突状态
+ die 'Svn merged conflicts the reasons for failure are as follows'
+ echo 'Svn merged conflicts the reasons for failure are as follows'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.14655
+ echo
+ cat /home/qishanqing/tmp/merged/output.14655
+ rm -f /home/qishanqing/tmp/merged/output.14655
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/ShareWebCenter'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/ShareWebCenter'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/ShareWebCenter'
+ rm -f /home/qishanqing/tmp/merged/output.14655
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/ShareWebCenter'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/ShareWebCenter'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/ShareWebCenter'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170829-用户推荐改版/Develop/自如/后台服务管理/ShareWebCenter'
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/ShareWebCenter'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ head -n 4
++ svn log
++ grep '^r'
++ awk -F '|' '{print$1}'
++ grep -C 3 $'Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/ShareWebCenter'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/ShareWebCenter'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r142800 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/ShareWebCenter'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r141984 '
+ '[' '!' -z r141984 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/ShareWebCenter@r141984' $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/ShareWebCenter' .
+ st=
+ '[' -z ']'
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/ShareWebCenter@r141984' $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\350\207\252\345\246\202/\345\220\216\345\217\260\346\234\215\345\212\241\347\256\241\347\220\206/ShareWebCenter'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45929.html
Merged revision(s) r141984 -r142800   from Branch/20170829-用户推荐改版/Develop/自如/后台服务管理/ShareWebCenter' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.5ms)
  Rendered merge/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 63569ms (Views: 58.4ms)


Completed 200 OK in 63569ms (Views: 58.4ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-09-01 10:28:36 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-09-01 10:28:36 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.9ms)
  Rendered merge/index.html.erb within layouts/application (4.9ms)
Completed 200 OK in 170ms (Views: 161.8ms)


Completed 200 OK in 170ms (Views: 161.8ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-09-01 10:29:44 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-09-01 10:29:44 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BillBusiness https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BillBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/RepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/IncomeBusiness", "task"=>"http://192.168.0.221/zentao/task-view-45930.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"O/ycgB+9dgqWuk7vMVDHMkE+hLdrPj6T2Qnl5ertxjYmG/dpUQepg8CcwdWMbExWmhQCxnyGOyBDMQTfNgihxA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BillBusiness https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BillBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/RepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/IncomeBusiness", "task"=>"http://192.168.0.221/zentao/task-view-45930.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"O/ycgB+9dgqWuk7vMVDHMkE+hLdrPj6T2Qnl5ertxjYmG/dpUQepg8CcwdWMbExWmhQCxnyGOyBDMQTfNgihxA=="}
pid is 14938
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45930.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BillBusiness https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BillBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/RepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/IncomeBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45930.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BillBusiness https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BillBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/RepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/IncomeBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45930.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BillBusiness https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BillBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/RepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/IncomeBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45930.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BillBusiness https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BillBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/RepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/IncomeBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45930.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BillBusiness https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BillBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/RepaymentBusiness https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BossBusiness https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/IncomeBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness' $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2' $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness' $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness' $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness' $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 103: https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BillBusiness: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BillBusiness
https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BillBusiness2
https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness
https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness2
https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/RepaymentBusiness
https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/RepaymentBusiness2
https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BossBusiness
https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/IncomeBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.14938
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness'
+ clean_workspace
+ mails-cm -i 'code merged from Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BillBusiness'
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r137832 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r137832 '
+ '[' '!' -z r137832 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness@r137832' $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness' .
+ st=
+ '[' -z ']'
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness@r137832' $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45930.html
Merged revision(s) r137832 -r137832   from Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BillBusiness' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2'
+ rm -f /home/qishanqing/tmp/merged/output.14938
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BillBusiness2'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ awk -F '|' '{print$1}'
++ head -n 4
++ grep -C 3 $'Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2'
+ revision=
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2'
+ head='r142610 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r137833 '
+ '[' '!' -z r137833 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2@r137833' $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2@r137833' $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BillBusiness2'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45930.html
Merged revision(s) r137833 -r142610   from Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BillBusiness2' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.14938
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ clean_workspace
+ svn cleanup .
+ grep '^?'
+ xargs rm -rf
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ awk -F '|' '{print$1}'
+ head='r143151 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ tail -n 4
+ revision='r137834 '
+ '[' '!' -z r137834 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness@r137834' $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：1'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2321' ']'
+ echo p
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness@r137834' $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ svn_conflict_files
++ svn st
++ awk '{print $2}'
++ grep '^C'
+ filenames=
+ svn_conflict_trees
++ grep '^!'
++ awk '{print $3}'
++ svn st
+ filenames=
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45930.html
Merged revision(s) r137834 -r143151   from Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness' --username qishanqing --password 372233
svn: E155015: 提交失败(细节如下): 
svn: E155015: 提交终止: “/home/qishanqing/workspace/code/Trunk/外部业务/P2P/Business/BorrowBusiness/config/sharp.config.properties” 处于冲突状态
+ die 'Svn merged conflicts the reasons for failure are as follows'
+ echo 'Svn merged conflicts the reasons for failure are as follows'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.14938
+ rm -f /home/qishanqing/tmp/merged/output.14938
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ rm -f /home/qishanqing/tmp/merged/output.14938
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness2'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r142489 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r137835 '
+ '[' '!' -z r137835 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2@r137835' $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' .
+ st=
+ '[' -z ']'
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2@r137835' $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45930.html
Merged revision(s) r137835 -r142489   from Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness2' --username qishanqing --password 372233
svn: E155015: 提交失败(细节如下): 
svn: E155015: 提交终止: “/home/qishanqing/workspace/code/Trunk/外部业务/P2P/Business/BorrowBusiness2/src/main/resources/NodeList.xml” 处于冲突状态
+ die 'Svn merged conflicts the reasons for failure are as follows'
+ mails-cm -i 'svn merged faild'
+ echo 'Svn merged conflicts the reasons for failure are as follows'
+ test -e /home/qishanqing/tmp/merged/output.14938
+ echo
+ cat /home/qishanqing/tmp/merged/output.14938
+ rm -f /home/qishanqing/tmp/merged/output.14938
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.14938
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/RepaymentBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
++ head -n 4
++ awk -F '|' '{print$1}'
+ revision=
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
++ grep '^r'
+ head='r137836 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r137836 '
+ '[' '!' -z r137836 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness@r137836' $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness@r137836' $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45930.html
Merged revision(s) r137836 -r137836   from Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/RepaymentBusiness' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ rm -f /home/qishanqing/tmp/merged/output.14938
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/RepaymentBusiness2'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ head='r143213 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r137837 '
+ '[' '!' -z r137837 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2@r137837' $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：3'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2323' ']'
+ echo p
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2@r137837' $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ svn_conflict_files
++ svn st
++ awk '{print $2}'
++ grep '^C'
+ filenames=src/main/java/com/dafy/RepaymentBusiness2/service/BillService.xml
+ for filename in '$filenames'
+ svn resolve --accept=theirs-conflict src/main/java/com/dafy/RepaymentBusiness2/service/BillService.xml
+ mails-cm -i 'code merged conflict file src/main/java/com/dafy/RepaymentBusiness2/service/BillService.xml'
cat: -: 错误的文件描述符
+ svn_conflict_trees
++ svn st
++ awk '{print $3}'
++ grep '^!'
+ filenames=
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45930.html
Merged revision(s) r137837 -r143213   from Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/RepaymentBusiness2' --username qishanqing --password 372233
svn: E155015: 提交失败(细节如下): 
svn: E155015: 提交终止: “/home/qishanqing/workspace/code/Trunk/外部业务/P2P/Business/RepaymentBusiness2/src/main/java/com/dafy/RepaymentBusiness2/service/FundProviderRouterService.java” 处于冲突状态
+ die 'Svn merged conflicts the reasons for failure are as follows'
+ echo 'Svn merged conflicts the reasons for failure are as follows'
+ test -e /home/qishanqing/tmp/merged/output.14938
+ echo
+ mails-cm -i 'svn merged faild'
+ cat /home/qishanqing/tmp/merged/output.14938
+ rm -f /home/qishanqing/tmp/merged/output.14938
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.14938
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BossBusiness'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ awk -F '|' '{print$1}'
++ grep '^r'
++ grep -C 3 $'Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
++ head -n 4
+ revision=
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ head='r137865 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r137865 '
+ '[' '!' -z r137865 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness@r137865' $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness@r137865' $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BossBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45930.html
Merged revision(s) r137865 -r137865   from Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BossBusiness' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.14938
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/IncomeBusiness'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness'
++ awk -F '|' '{print$1}'
+ head='r143171 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r139521 '
+ '[' '!' -z r139521 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness@r139521' $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness' .
+ st=
+ '[' -z ']'
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness@r139521' $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/IncomeBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45930.html
Merged revision(s) r139521 -r143171   from Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/IncomeBusiness' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.8ms)
  Rendered merge/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 158196ms (Views: 58.2ms)


Completed 200 OK in 158196ms (Views: 58.2ms)


Started GET "/builder" for 192.168.5.26 at 2017-09-01 10:33:32 +0800
Started GET "/builder" for 192.168.5.26 at 2017-09-01 10:33:32 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (59.6ms)
  Rendered builder/index.html.erb within layouts/application (59.6ms)
Completed 200 OK in 201ms (Views: 121.7ms)


Completed 200 OK in 201ms (Views: 121.7ms)


Started POST "/start" for 192.168.5.26 at 2017-09-01 10:34:08 +0800
Started POST "/start" for 192.168.5.26 at 2017-09-01 10:34:08 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"zhangjiawen@dafy.com", "types"=>"add", "trunk"=>"事事分期/StageAll", "branch"=>"准实时报表", "user"=>"zhangjiawen anliguo", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"bjf57SA/eWEfuX1btxeRbbvXMvzT9AcsLKvlAJxMBWBz0JIEboWm6Emf8mEKKxoJYP20jcRMAp+2kwQ6QKlikg=="}
  Parameters: {"email"=>"zhangjiawen@dafy.com", "types"=>"add", "trunk"=>"事事分期/StageAll", "branch"=>"准实时报表", "user"=>"zhangjiawen anliguo", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"bjf57SA/eWEfuX1btxeRbbvXMvzT9AcsLKvlAJxMBWBz0JIEboWm6Emf8mEKKxoJYP20jcRMAp+2kwQ6QKlikg=="}
pid is 15470
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u 'zhangjiawen anliguo' -t $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll' -e zhangjiawen@dafy.com -E '' -b $'\345\207\206\345\256\236\346\227\266\346\212\245\350\241\250' -T add -d ''
+ TEMP=' -u '\''zhangjiawen anliguo'\'' -t '\''事事分期/StageAll'\'' -e '\''zhangjiawen@dafy.com'\'' -E '\'''\'' -b '\''准实时报表'\'' -T '\''add'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\''zhangjiawen anliguo'\'' -t '\''事事分期/StageAll'\'' -e '\''zhangjiawen@dafy.com'\'' -E '\'''\'' -b '\''准实时报表'\'' -T '\''add'\'' -d '\'''\'' --'
++ set -- -u 'zhangjiawen anliguo' -t $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll' -e zhangjiawen@dafy.com -E '' -b $'\345\207\206\345\256\236\346\227\266\346\212\245\350\241\250' -T add -d '' --
+ true
+ case "$1" in
+ user='zhangjiawen anliguo'
+ shift 2
+ true
+ case "$1" in
+ trunk=$'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
+ shift 2
+ true
+ case "$1" in
+ email=zhangjiawen@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'\345\207\206\345\256\236\346\227\266\346\212\245\350\241\250'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=zhangjiawen@dafy.com '
+ SMARTCM_EXTRA_MAIL='zhangjiawen@dafy.com '
++ zhangjiawen anliguo
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 108: zhangjiawen: command not found
++ for x in '$user'
++ echo zhangjiawen=rw
++ for x in '$user'
++ echo anliguo=rw
+ users='zhangjiawen=rw
anliguo=rw'
++ $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 事事分期/StageAll: 没有那个文件或目录
++ for y in '$trunk'
++ echo $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
+ trunks=$'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
+ test add = add
+ addbranch
+ for trunk in '${trunks[@]}'
+ '[' -z $'\344\272\213\344\272\213\345\210\206\346\234\237/StageAll' ']'
+ '[' -z $'\345\207\206\345\256\236\346\227\266\346\212\245\350\241\250' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170901
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201709
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201709011034
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170901-\345\207\206\345\256\236\346\227\266\346\212\245\350\241\250/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/\345\207\206\345\256\236\346\227\266\346\212\245\350\241\250'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201709011034-\345\207\206\345\256\236\346\227\266\346\212\245\350\241\250'
++ awk -F / '{print $7}'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170901-\345\207\206\345\256\236\346\227\266\346\212\245\350\241\250/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
+ br=$'20170901-\345\207\206\345\256\236\346\227\266\346\212\245\350\241\250'
+ access=$'20170901-\345\207\206\345\256\236\346\227\266\346\212\245\350\241\250'
+ svn copy $'https://192.168.0.220/svn/tech/Trunk/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll' $'https://192.168.0.220/svn/tech/Branch/20170901-\345\207\206\345\256\236\346\227\266\346\212\245\350\241\250/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll' --parents --username builder --password ant@ -m $'\346\226\260\345\273\272\351\241\271\347\233\256\345\274\200\345\217\221\345\210\206\346\224\257'
+ rm -f /home/qishanqing/tmp/output.15470
+ echo $'https://192.168.0.220/svn/tech/Branch/20170901-\345\207\206\345\256\236\346\227\266\346\212\245\350\241\250/Develop/\344\272\213\344\272\213\345\210\206\346\234\237/StageAll'
+ cmdb-mysql 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/事事分期/StageAll'\'', '\''https://192.168.0.220/svn/tech/Branch/20170901-准实时报表/Develop/事事分期/StageAll'\'',now(),'\''zhangjiawen'\'');'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'insert into scm(scm_trunk,scm_branch,scm_date,scm_description) values ('\''https://192.168.0.220/svn/tech/Trunk/事事分期/StageAll'\'', '\''https://192.168.0.220/svn/tech/Branch/20170901-准实时报表/Develop/事事分期/StageAll'\'',now(),'\''zhangjiawen'\'');'
+ cat /tmp/cmdb.db.15470
+ rm -f /tmp/cmdb.db.15470
+ check-acces
+ read num
+ ssh root@192.168.0.220 'grep -c 20170901-准实时报表] /svn/authz.conf'
+ '[' 0 -eq 0 ']'
+ echo 'access authz no add,ready to go '
access authz no add,ready to go 
+ svn-connt
+ ping -c 5 192.168.0.220
+ test -z 'zhangjiawen=rw
+ ssh root@192.168.0.220 'cat  >> /svn/authz.conf'
anliguo=rw'
+ cat
+ read num
+ cat
+ mails-cm -i 'svnbranch-add from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 6081ms (Views: 85.5ms)


Completed 200 OK in 6081ms (Views: 85.5ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-09-01 10:52:32 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-09-01 10:52:32 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (4.8ms)
  Rendered merge/index.html.erb within layouts/application (4.8ms)
Completed 200 OK in 85ms (Views: 81.3ms)


Completed 200 OK in 85ms (Views: 81.3ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-09-01 10:56:15 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-09-01 10:56:15 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness", "task"=>"http://192.168.0.221/zentao/task-view-45930.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"yMo/hV0CTjt7TKFVIa0adaK9pUZGH4v3viX+iHcfGUXVLVRsE7iRsi1qLm+ckZEReZcjN1GnjkQkHR+yq/p+tw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness", "task"=>"http://192.168.0.221/zentao/task-view-45930.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"yMo/hV0CTjt7TKFVIa0adaK9pUZGH4v3viX+iHcfGUXVLVRsE7iRsi1qLm+ckZEReZcjN1GnjkQkHR+yq/p+tw=="}
pid is 16151
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45930.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45930.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45930.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45930.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45930.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 103: https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/RepaymentBusiness2: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/RepaymentBusiness2
https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness2
https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 168: syntax error near unexpected token `)'
/home/qishanqing/myscript/sh/svn-merged.sh: line 168: `		) | mails-cm -i "code merged from ${branch#*tech/}" || true'
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.7ms)
  Rendered merge/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 78ms (Views: 58.2ms)


Completed 200 OK in 78ms (Views: 58.2ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-09-01 10:56:20 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-09-01 10:56:20 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (5.0ms)
  Rendered merge/index.html.erb within layouts/application (5.0ms)
Completed 200 OK in 102ms (Views: 98.9ms)


Completed 200 OK in 102ms (Views: 98.9ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-09-01 11:02:46 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-09-01 11:02:46 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness", "task"=>"http://192.168.0.221/zentao/task-view-45930.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"K57fuqWXT5cK9snrMtUv7r3Ocn2QKxbI+3FsM2mwPAg2ebRT6y2QHlzQRtGP6aSKZuT0DIeTE3thSY0JtVVb+g=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness", "task"=>"http://192.168.0.221/zentao/task-view-45930.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"K57fuqWXT5cK9snrMtUv7r3Ocn2QKxbI+3FsM2mwPAg2ebRT6y2QHlzQRtGP6aSKZuT0DIeTE3thSY0JtVVb+g=="}
pid is 16332
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45930.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45930.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45930.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45930.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45930.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/RepaymentBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness2 https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 103: https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/RepaymentBusiness2: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/RepaymentBusiness2
https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness2
https://192.168.0.220/svn/tech/Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ rm -f /home/qishanqing/tmp/merged/output.16332
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ mails-cm -i 'code merged from Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/RepaymentBusiness2'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ grep '^r'
+ head='r143213 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r137837 '
+ '[' '!' -z r137837 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2@r137837' $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：3'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2323' ']'
+ echo p
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2@r137837' $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/RepaymentBusiness2'
+ svn_conflict_files
++ awk '{print $2}'
++ grep '^C'
++ svn st
+ filenames=src/main/java/com/dafy/RepaymentBusiness2/service/BillService.xml
+ for filename in '$filenames'
+ svn resolve --accept=theirs-conflict src/main/java/com/dafy/RepaymentBusiness2/service/BillService.xml
+ mails-cm -i 'code merged conflict file src/main/java/com/dafy/RepaymentBusiness2/service/BillService.xml'
cat: -: 错误的文件描述符
+ svn_conflict_trees
++ svn st
++ awk '{print $2}'
++ egrep '^[ ]'
++ grep C
+ filenames='src/main/java/com/dafy/RepaymentBusiness2/service/FundProviderRouterService.java
src/main/java/com/dafy/RepaymentBusiness2/service/voucher
src/test/java/com/dafy/RepaymentBusiness2/businessplugin/SendBorrowAccountTaskServiceTest.java'
+ for filename in '$filenames'
+ svn resolve --accept=working src/main/java/com/dafy/RepaymentBusiness2/service/FundProviderRouterService.java
+ mails-cm -i 'code merged conflict file src/main/java/com/dafy/RepaymentBusiness2/service/FundProviderRouterService.java'
cat: -: 错误的文件描述符
+ for filename in '$filenames'
+ svn resolve --accept=working src/main/java/com/dafy/RepaymentBusiness2/service/voucher
+ mails-cm -i 'code merged conflict file src/main/java/com/dafy/RepaymentBusiness2/service/voucher'
cat: -: 错误的文件描述符
+ for filename in '$filenames'
+ svn resolve --accept=working src/test/java/com/dafy/RepaymentBusiness2/businessplugin/SendBorrowAccountTaskServiceTest.java
+ mails-cm -i 'code merged conflict file src/test/java/com/dafy/RepaymentBusiness2/businessplugin/SendBorrowAccountTaskServiceTest.java'
cat: -: 错误的文件描述符
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45930.html
Merged revision(s) r137837 -r143213   from Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/RepaymentBusiness2' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ rm -f /home/qishanqing/tmp/merged/output.16332
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness2'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ head -n 4
++ awk -F '|' '{print$1}'
+ revision=
++ awk -F '|' '{print$1}'
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ head='r143218 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
++ awk -F '|' '{print$1}'
++ grep '^r'
++ tail -n 4
+ revision='r137835 '
+ '[' '!' -z r137835 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2@r137835' $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：2'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2322' ']'
+ echo p
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2@r137835' $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness2'
+ svn_conflict_files
++ svn st
++ grep '^C'
++ awk '{print $2}'
+ filenames='src/main/java/com/dafy/borrowbusiness/plugin/borrow/BorrowerBillCallBackService.java
src/main/resources/NodeList.xml'
+ for filename in '$filenames'
+ svn resolve --accept=theirs-conflict src/main/java/com/dafy/borrowbusiness/plugin/borrow/BorrowerBillCallBackService.java
+ mails-cm -i 'code merged conflict file src/main/java/com/dafy/borrowbusiness/plugin/borrow/BorrowerBillCallBackService.java'
cat: -: 错误的文件描述符
+ for filename in '$filenames'
+ svn resolve --accept=theirs-conflict src/main/resources/NodeList.xml
+ mails-cm -i 'code merged conflict file src/main/resources/NodeList.xml'
cat: -: 错误的文件描述符
+ svn_conflict_trees
++ svn st
++ awk '{print $2}'
++ egrep '^[ ]'
++ grep C
+ filenames='src/main/java/com/dafy/borrowbusiness/business/utils/CardOperationUtil.java
src/main/java/com/dafy/borrowbusiness/business/utils/UtilMethod.java'
+ for filename in '$filenames'
+ svn resolve --accept=working src/main/java/com/dafy/borrowbusiness/business/utils/CardOperationUtil.java
+ mails-cm -i 'code merged conflict file src/main/java/com/dafy/borrowbusiness/business/utils/CardOperationUtil.java'
cat: -: 错误的文件描述符
+ for filename in '$filenames'
+ svn resolve --accept=working src/main/java/com/dafy/borrowbusiness/business/utils/UtilMethod.java
+ mails-cm -i 'code merged conflict file src/main/java/com/dafy/borrowbusiness/business/utils/UtilMethod.java'
cat: -: 错误的文件描述符
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45930.html
Merged revision(s) r137835 -r143218   from Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness2' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.16332
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ mails-cm -i 'code merged from Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ awk -F '|' '{print$1}'
+ head='r143236 '
+ '[' '!' -z ']'
++ grep '^r'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r137834 '
+ '[' '!' -z r137834 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness@r137834' $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness' .
+ st='  树冲突：2'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\2322' ']'
+ echo p
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness@r137834' $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/\345\244\226\351\203\250\344\270\232\345\212\241/P2P/Business/BorrowBusiness'
+ svn_conflict_files
++ svn st
++ grep '^C'
++ awk '{print $2}'
+ filenames=
+ svn_conflict_trees
++ svn st
++ awk '{print $2}'
++ egrep '^[ ]'
++ grep C
+ filenames='businessplugin/com/dafy/borrowbusiness/utils/HaierBorrowBlackUtil.java
config/sharp.config.properties'
+ for filename in '$filenames'
+ svn resolve --accept=working businessplugin/com/dafy/borrowbusiness/utils/HaierBorrowBlackUtil.java
+ mails-cm -i 'code merged conflict file businessplugin/com/dafy/borrowbusiness/utils/HaierBorrowBlackUtil.java'
cat: -: 错误的文件描述符
+ for filename in '$filenames'
+ svn resolve --accept=working config/sharp.config.properties
+ mails-cm -i 'code merged conflict file config/sharp.config.properties'
cat: -: 错误的文件描述符
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45930.html
Merged revision(s) r137834 -r143236   from Branch/20170816-商品分期服务费/Develop/外部业务/P2P/Business/BorrowBusiness' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (2.4ms)
  Rendered merge/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 51713ms (Views: 70.3ms)


Completed 200 OK in 51713ms (Views: 70.3ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-09-01 11:13:50 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-09-01 11:13:50 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (6.4ms)
  Rendered merge/index.html.erb within layouts/application (6.4ms)
Completed 200 OK in 132ms (Views: 128.6ms)


Completed 200 OK in 132ms (Views: 128.6ms)


Started GET "/builder" for 192.168.5.26 at 2017-09-01 11:14:53 +0800
Started GET "/builder" for 192.168.5.26 at 2017-09-01 11:14:53 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (6.8ms)
  Rendered builder/index.html.erb within layouts/application (6.8ms)
Completed 200 OK in 117ms (Views: 114.4ms)


Completed 200 OK in 117ms (Views: 114.4ms)


Started POST "/start" for 192.168.5.26 at 2017-09-01 11:14:56 +0800
Started POST "/start" for 192.168.5.26 at 2017-09-01 11:14:56 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170816-商品分期服务费", "branch"=>"20170816-商品分期服务费", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"B1EU8P+JNbFWSJd7YeSF037mt/gISP4xBxJSkH4j5V4atn8ZsTPqOABuGEHc2A63pcwxiR/w+4KdKrOqosaCrA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170816-商品分期服务费", "branch"=>"20170816-商品分期服务费", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"B1EU8P+JNbFWSJd7YeSF037mt/gISP4xBxJSkH4j5V4atn8ZsTPqOABuGEHc2A63pcwxiR/w+4KdKrOqosaCrA=="}
pid is 16853
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271' -e qishanqing@dafy.com -E '' -b $'20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170816-商品分期服务费'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170816-商品分期服务费'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170816-商品分期服务费'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170816-商品分期服务费'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271' -e qishanqing@dafy.com -E '' -b $'20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170816-商品分期服务费: command not found
++ for y in '$trunk'
++ echo $'20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271'
+ trunks=$'20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271'
+ test del = add
+ delbranch
+ '[' -z $'20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170901
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201709
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201709011114
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170901-20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201709011114-20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170901-20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271/Develop/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271'
++ awk -F / '{print $7}'
+ br=$'20170901-20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271'
+ access=$'20170901-20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201709011114-20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.16853
+ echo $'https://192.168.0.220/svn/tech/Branch/20170816-\345\225\206\345\223\201\345\210\206\346\234\237\346\234\215\345\212\241\350\264\271'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170816-商品分期服务费%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170816-商品分期服务费%'\'';'
+ cat /tmp/cmdb.db.16853
+ rm -f /tmp/cmdb.db.16853
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.7ms)
  Rendered builder/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 2186ms (Views: 168.7ms)


Completed 200 OK in 2186ms (Views: 168.7ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-09-01 11:15:47 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-09-01 11:15:47 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170829-小助手添加接口/Develop/老系统/新达飞贷/网站中心/BossSite", "task"=>"http://192.168.0.221/zentao/task-view-45768.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"e/4hd1vCxnlF8VAiv2KwnRBF0end7Avj9kcgoelAhLxmGUqeFXgZ8BPX3xgCXjv5y29XmMpUDlBsf8GbNaXjTg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170829-小助手添加接口/Develop/老系统/新达飞贷/网站中心/BossSite", "task"=>"http://192.168.0.221/zentao/task-view-45768.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"e/4hd1vCxnlF8VAiv2KwnRBF0end7Avj9kcgoelAhLxmGUqeFXgZ8BPX3xgCXjv5y29XmMpUDlBsf8GbNaXjTg=="}
pid is 16904
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45768.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170829-\345\260\217\345\212\251\346\211\213\346\267\273\345\212\240\346\216\245\345\217\243/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45768.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170829-小助手添加接口/Develop/老系统/新达飞贷/网站中心/BossSite'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45768.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170829-小助手添加接口/Develop/老系统/新达飞贷/网站中心/BossSite'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45768.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170829-\345\260\217\345\212\251\346\211\213\346\267\273\345\212\240\346\216\245\345\217\243/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45768.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170829-\345\260\217\345\212\251\346\211\213\346\267\273\345\212\240\346\216\245\345\217\243/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170829-\345\260\217\345\212\251\346\211\213\346\267\273\345\212\240\346\216\245\345\217\243/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
/home/qishanqing/myscript/sh/svn-merged.sh: line 103: https://192.168.0.220/svn/tech/Branch/20170829-小助手添加接口/Develop/老系统/新达飞贷/网站中心/BossSite: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170829-\345\260\217\345\212\251\346\211\213\346\267\273\345\212\240\346\216\245\345\217\243/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170829-\345\260\217\345\212\251\346\211\213\346\267\273\345\212\240\346\216\245\345\217\243/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170829-\345\260\217\345\212\251\346\211\213\346\267\273\345\212\240\346\216\245\345\217\243/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170829-\345\260\217\345\212\251\346\211\213\346\267\273\345\212\240\346\216\245\345\217\243/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ rm -f /home/qishanqing/tmp/merged/output.16904
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170829-\345\260\217\345\212\251\346\211\213\346\267\273\345\212\240\346\216\245\345\217\243/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170829-小助手添加接口/Develop/老系统/新达飞贷/网站中心/BossSite'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ head -n 4
++ grep '^r'
++ svn log
++ awk -F '|' '{print$1}'
++ grep -C 3 $'Branch/20170829-\345\260\217\345\212\251\346\211\213\346\267\273\345\212\240\346\216\245\345\217\243/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ revision=
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170829-\345\260\217\345\212\251\346\211\213\346\267\273\345\212\240\346\216\245\345\217\243/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ awk -F '|' '{print$1}'
+ head='r142571 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170829-\345\260\217\345\212\251\346\211\213\346\267\273\345\212\240\346\216\245\345\217\243/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r142156 '
+ '[' '!' -z r142156 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170829-\345\260\217\345\212\251\346\211\213\346\267\273\345\212\240\346\216\245\345\217\243/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r142156' $'https://192.168.0.220/svn/tech/Branch/20170829-\345\260\217\345\212\251\346\211\213\346\267\273\345\212\240\346\216\245\345\217\243/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite' .
+ st=
+ '[' -z ']'
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170829-\345\260\217\345\212\251\346\211\213\346\267\273\345\212\240\346\216\245\345\217\243/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite@r142156' $'https://192.168.0.220/svn/tech/Branch/20170829-\345\260\217\345\212\251\346\211\213\346\267\273\345\212\240\346\216\245\345\217\243/Develop/\350\200\201\347\263\273\347\273\237/\346\226\260\350\276\276\351\243\236\350\264\267/\347\275\221\347\253\231\344\270\255\345\277\203/BossSite'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45768.html
Merged revision(s) r142156 -r142571   from Branch/20170829-小助手添加接口/Develop/老系统/新达飞贷/网站中心/BossSite' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.8ms)
  Rendered merge/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 17802ms (Views: 93.4ms)


Completed 200 OK in 17802ms (Views: 93.4ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-09-01 11:16:42 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-09-01 11:16:42 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (10.2ms)
  Rendered merge/index.html.erb within layouts/application (10.2ms)
Completed 200 OK in 65ms (Views: 61.8ms)


Completed 200 OK in 65ms (Views: 61.8ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-09-01 11:16:50 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-09-01 11:16:50 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170829-用户推荐改版/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-45929.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"mBWwa+oPdFd81kGcmk+16kh2lHxSm+ZQhfnVfYzpk76F8tuCpLWr3irwzqYncz6Ok1wSDUUj4+MfwTRHUAz0TA=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170829-用户推荐改版/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-45929.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"mBWwa+oPdFd81kGcmk+16kh2lHxSm+ZQhfnVfYzpk76F8tuCpLWr3irwzqYncz6Ok1wSDUUj4+MfwTRHUAz0TA=="}
pid is 16971
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45929.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45929.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170829-用户推荐改版/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45929.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170829-用户推荐改版/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45929.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45929.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
/home/qishanqing/myscript/sh/svn-merged.sh: line 103: https://192.168.0.220/svn/tech/Branch/20170829-用户推荐改版/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ rm -f /home/qishanqing/tmp/merged/output.16971
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170829-用户推荐改版/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ head -n 4
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r143155 '
+ '[' '!' -z ']'
++ grep '^r'
++ tail -n 4
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ revision='r141981 '
+ '[' '!' -z r141981 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r141981' $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' .
+ st='  树冲突：14'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\23214' ']'
+ echo p
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r141981' $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn_conflict_files
++ svn st
++ grep '^C'
++ awk '{print $2}'
+ filenames='lineStage/merchant/commoditybuy.htm
lineStage/merchant/commoditybuy.js
lineStage/merchant/merchantDetail.js'
+ for filename in '$filenames'
+ svn resolve --accept=theirs-conflict lineStage/merchant/commoditybuy.htm
+ for filename in '$filenames'
+ svn resolve --accept=theirs-conflict lineStage/merchant/commoditybuy.js
+ for filename in '$filenames'
+ svn resolve --accept=theirs-conflict lineStage/merchant/merchantDetail.js
+ svn_conflict_trees
++ svn st
++ awk '{print $2}'
++ egrep '^[ ]'
++ grep C
+ filenames='lineStage/merchant/img/Billicon@2x.png
lineStage/merchant/img/Bitmap.png
lineStage/merchant/img/date.png
lineStage/merchant/img/fenqi@2x.png
lineStage/merchant/img/fenqihui@2x.png
lineStage/merchant/img/quane@2x.png
lineStage/merchant/img/quanehui@2x.png
lineStage/merchant/img/scanresult.png
lineStage/merchant/img/shuombg.png'
+ for filename in '$filenames'
+ svn resolve --accept=working lineStage/merchant/img/Billicon@2x.png
svn: E200009: 'lineStage/merchant/img/Billicon@2x.png': 此处不允许铆钉版本范围
+ for filename in '$filenames'
+ svn resolve --accept=working lineStage/merchant/img/Bitmap.png
+ for filename in '$filenames'
+ svn resolve --accept=working lineStage/merchant/img/date.png
+ for filename in '$filenames'
+ svn resolve --accept=working lineStage/merchant/img/fenqi@2x.png
svn: E200009: 'lineStage/merchant/img/fenqi@2x.png': 此处不允许铆钉版本范围
+ for filename in '$filenames'
+ svn resolve --accept=working lineStage/merchant/img/fenqihui@2x.png
svn: E200009: 'lineStage/merchant/img/fenqihui@2x.png': 此处不允许铆钉版本范围
+ for filename in '$filenames'
+ svn resolve --accept=working lineStage/merchant/img/quane@2x.png
svn: E200009: 'lineStage/merchant/img/quane@2x.png': 此处不允许铆钉版本范围
+ for filename in '$filenames'
+ svn resolve --accept=working lineStage/merchant/img/quanehui@2x.png
svn: E200009: 'lineStage/merchant/img/quanehui@2x.png': 此处不允许铆钉版本范围
+ for filename in '$filenames'
+ svn resolve --accept=working lineStage/merchant/img/scanresult.png
+ for filename in '$filenames'
+ svn resolve --accept=working lineStage/merchant/img/shuombg.png
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45929.html
Merged revision(s) r141981 -r143155   from Branch/20170829-用户推荐改版/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' --username qishanqing --password 372233
svn: E155015: 提交失败(细节如下): 
svn: E155015: 提交终止: “/home/qishanqing/workspace/code/Trunk/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client/index/mallModle” 处于冲突状态
+ die 'Svn merged conflicts the reasons for failure are as follows'
+ echo 'Svn merged conflicts the reasons for failure are as follows'
+ mails-cm -i 'svn merged faild'
+ test -e /home/qishanqing/tmp/merged/output.16971
+ rm -f /home/qishanqing/tmp/merged/output.16971
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (4.1ms)
  Rendered merge/new.html.erb within layouts/application (4.1ms)
Completed 200 OK in 26333ms (Views: 124.8ms)


Completed 200 OK in 26333ms (Views: 124.8ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-09-01 11:54:59 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-09-01 11:54:59 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (3.6ms)
  Rendered merge/index.html.erb within layouts/application (3.6ms)
Completed 200 OK in 182ms (Views: 177.9ms)


Completed 200 OK in 182ms (Views: 177.9ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-09-01 11:55:07 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-09-01 11:55:07 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170829-用户推荐改版/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-45929.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"j1lSPqFBFNYOaFXJX837lTra6AUkkOaR9CZoHKlvsWySvjnX7/vLX1hO2vPi8XDx4fBudDMo4yJuHokmdYrWng=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170829-用户推荐改版/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client", "task"=>"http://192.168.0.221/zentao/task-view-45929.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"j1lSPqFBFNYOaFXJX837lTra6AUkkOaR9CZoHKlvsWySvjnX7/vLX1hO2vPi8XDx4fBudDMo4yJuHokmdYrWng=="}
pid is 18094
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45929.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45929.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170829-用户推荐改版/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45929.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170829-用户推荐改版/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45929.html -R '' -t '' -e qishanqing@dafy.com -E '' -b $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45929.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
/home/qishanqing/myscript/sh/svn-merged.sh: line 103: https://192.168.0.220/svn/tech/Branch/20170829-用户推荐改版/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ branchs=$'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ rm -f /home/qishanqing/tmp/merged/output.18094
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170829-用户推荐改版/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ svn st
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ awk -F '|' '{print$1}'
++ head -n 4
++ grep -C 3 $'Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ svn log
++ grep '^r'
+ revision=
++ grep '^r'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ awk -F '|' '{print$1}'
+ head='r143155 '
+ '[' '!' -z ']'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
++ tail -n 4
+ revision='r141981 '
+ '[' '!' -z r141981 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r141981' $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client' .
++ grep -Ei 'conflicts|树冲突'
+ st='  树冲突：14'
+ '[' -z $'\346\240\221\345\206\262\347\252\201\357\274\23214' ']'
+ echo p
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client@r141981' $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\276\276\351\243\236\344\272\221\350\264\267/\345\256\242\346\210\267\347\253\257/Mobile/CloudLoanH5Client'
+ svn_conflict_files
++ svn st
++ awk '{print $2}'
++ grep '^C'
+ filenames='lineStage/merchant/commoditybuy.htm
lineStage/merchant/commoditybuy.js
lineStage/merchant/merchantDetail.js'
+ for filename in '$filenames'
+ svn resolve --accept=theirs-conflict lineStage/merchant/commoditybuy.htm
+ for filename in '$filenames'
+ svn resolve --accept=theirs-conflict lineStage/merchant/commoditybuy.js
+ for filename in '$filenames'
+ svn resolve --accept=theirs-conflict lineStage/merchant/merchantDetail.js
+ svn_conflict_trees
++ egrep '^[ ]'
++ awk '{print $2}'
++ grep C
++ svn st
+ filenames='lineStage/merchant/img/Billicon@2x.png
lineStage/merchant/img/Bitmap.png
lineStage/merchant/img/date.png
lineStage/merchant/img/fenqi@2x.png
lineStage/merchant/img/fenqihui@2x.png
lineStage/merchant/img/quane@2x.png
lineStage/merchant/img/quanehui@2x.png
lineStage/merchant/img/scanresult.png
lineStage/merchant/img/shuombg.png'
++ grep '^!'
++ svn st
++ awk '{print $3}'
+ filenames1='index/mallModle
lineStage/activity/img/hxbgm.png
lineStage/activity/img/kaquanbgm.png
lineStage/activity/img/share.png
lineStage/activity/img/shujia.png'
+ for filename in '$filenames' '$filenames1'
+ [[ lineStage/merchant/img/Billicon@2x.png =~ @ ]]
+ svn resolve --accept=working lineStage/merchant/img/Billicon@2x.png@
+ for filename in '$filenames' '$filenames1'
+ [[ lineStage/merchant/img/Bitmap.png =~ @ ]]
+ svn resolve --accept=working lineStage/merchant/img/Bitmap.png
+ for filename in '$filenames' '$filenames1'
+ [[ lineStage/merchant/img/date.png =~ @ ]]
+ svn resolve --accept=working lineStage/merchant/img/date.png
+ for filename in '$filenames' '$filenames1'
+ [[ lineStage/merchant/img/fenqi@2x.png =~ @ ]]
+ svn resolve --accept=working lineStage/merchant/img/fenqi@2x.png@
+ for filename in '$filenames' '$filenames1'
+ [[ lineStage/merchant/img/fenqihui@2x.png =~ @ ]]
+ svn resolve --accept=working lineStage/merchant/img/fenqihui@2x.png@
+ for filename in '$filenames' '$filenames1'
+ [[ lineStage/merchant/img/quane@2x.png =~ @ ]]
+ svn resolve --accept=working lineStage/merchant/img/quane@2x.png@
+ for filename in '$filenames' '$filenames1'
+ [[ lineStage/merchant/img/quanehui@2x.png =~ @ ]]
+ svn resolve --accept=working lineStage/merchant/img/quanehui@2x.png@
+ for filename in '$filenames' '$filenames1'
+ [[ lineStage/merchant/img/scanresult.png =~ @ ]]
+ svn resolve --accept=working lineStage/merchant/img/scanresult.png
+ for filename in '$filenames' '$filenames1'
+ [[ lineStage/merchant/img/shuombg.png =~ @ ]]
+ svn resolve --accept=working lineStage/merchant/img/shuombg.png
+ for filename in '$filenames' '$filenames1'
+ [[ index/mallModle =~ @ ]]
+ svn resolve --accept=working index/mallModle
+ for filename in '$filenames' '$filenames1'
+ [[ lineStage/activity/img/hxbgm.png =~ @ ]]
+ svn resolve --accept=working lineStage/activity/img/hxbgm.png
+ for filename in '$filenames' '$filenames1'
+ [[ lineStage/activity/img/kaquanbgm.png =~ @ ]]
+ svn resolve --accept=working lineStage/activity/img/kaquanbgm.png
+ for filename in '$filenames' '$filenames1'
+ [[ lineStage/activity/img/share.png =~ @ ]]
+ svn resolve --accept=working lineStage/activity/img/share.png
+ for filename in '$filenames' '$filenames1'
+ [[ lineStage/activity/img/shujia.png =~ @ ]]
+ svn resolve --accept=working lineStage/activity/img/shujia.png
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45929.html
Merged revision(s) r141981 -r143155   from Branch/20170829-用户推荐改版/Develop/前端业务/达飞云贷/客户端/Mobile/CloudLoanH5Client' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.1ms)
  Rendered merge/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 29856ms (Views: 53.6ms)


Completed 200 OK in 29856ms (Views: 53.6ms)


Started GET "/merge/index" for 192.168.5.26 at 2017-09-01 11:56:00 +0800
Started GET "/merge/index" for 192.168.5.26 at 2017-09-01 11:56:00 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#index as HTML
Processing by MergeController#index as HTML
  Rendering merge/index.html.erb within layouts/application
  Rendering merge/index.html.erb within layouts/application
  Rendered merge/index.html.erb within layouts/application (24.0ms)
  Rendered merge/index.html.erb within layouts/application (24.0ms)
Completed 200 OK in 92ms (Views: 90.2ms)


Completed 200 OK in 92ms (Views: 90.2ms)


Started GET "/builder" for 192.168.5.26 at 2017-09-01 11:56:50 +0800
Started GET "/builder" for 192.168.5.26 at 2017-09-01 11:56:50 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (5.6ms)
  Rendered builder/index.html.erb within layouts/application (5.6ms)
Completed 200 OK in 93ms (Views: 90.4ms)


Completed 200 OK in 93ms (Views: 90.4ms)


Started POST "/start" for 192.168.5.26 at 2017-09-01 13:42:22 +0800
Started POST "/start" for 192.168.5.26 at 2017-09-01 13:42:22 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170829-用户推荐改版", "branch"=>"20170829-用户推荐改版", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"UunwIjDzOYsB21cVgqMwR24tL4fr/ghQlPkcmX1rIhVPDpvLfknmAlf92C8/n7sjtQep9vxGDeMOwf2joY5F5w=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170829-用户推荐改版", "branch"=>"20170829-用户推荐改版", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"UunwIjDzOYsB21cVgqMwR24tL4fr/ghQlPkcmX1rIhVPDpvLfknmAlf92C8/n7sjtQep9vxGDeMOwf2joY5F5w=="}
pid is 21148
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210' -e qishanqing@dafy.com -E '' -b $'20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170829-用户推荐改版'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170829-用户推荐改版'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170829-用户推荐改版'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170829-用户推荐改版'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210' -e qishanqing@dafy.com -E '' -b $'20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170829-用户推荐改版: command not found
++ for y in '$trunk'
++ echo $'20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210'
+ trunks=$'20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210'
+ test del = add
+ delbranch
+ '[' -z $'20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170901
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201709
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201709011342
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170901-20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201709011342-20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170901-20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210/Develop/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210'
++ awk -F / '{print $7}'
+ br=$'20170901-20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210'
+ access=$'20170901-20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201709011342-20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.21148
+ echo $'https://192.168.0.220/svn/tech/Branch/20170829-\347\224\250\346\210\267\346\216\250\350\215\220\346\224\271\347\211\210'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170829-用户推荐改版%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170829-用户推荐改版%'\'';'
+ cat /tmp/cmdb.db.21148
+ rm -f /tmp/cmdb.db.21148
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (68.8ms)
  Rendered builder/new.html.erb within layouts/application (68.8ms)
Completed 200 OK in 1370ms (Views: 451.3ms)


Completed 200 OK in 1370ms (Views: 451.3ms)


Started POST "/merge/new" for 192.168.5.26 at 2017-09-01 13:46:01 +0800
Started POST "/merge/new" for 192.168.5.26 at 2017-09-01 13:46:01 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MergeController#new as HTML
Processing by MergeController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherManagerBase https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusinessApp https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusinessBase https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusinessCenter https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherManager https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness", "task"=>"http://192.168.0.221/zentao/task-view-45967.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"JRL7O3sbJCQPBceMgfn1uvNLqZLGN7TvcLk5oIM884049ZDSNaH7rVkjSLY8xX7eKGEv49GPsVzqgdiaX9mUfw=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"add", "trunk"=>"", "branch"=>"https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherManagerBase https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusinessApp https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusinessBase https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusinessCenter https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherManager https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness", "task"=>"http://192.168.0.221/zentao/task-view-45967.html", "rev"=>"", "extra_mails"=>"", "authenticity_token"=>"JRL7O3sbJCQPBceMgfn1uvNLqZLGN7TvcLk5oIM884049ZDSNaH7rVkjSLY8xX7eKGEv49GPsVzqgdiaX9mUfw=="}
pid is 21245
+++ basename -- /home/qishanqing/myscript/sh/svn-merged.sh
++ getopt -o k:e:E:t:b:T:R:h --long rev:,types:,task:,email:,extra_mails:,trunk:,branch:,help -n svn-merged.sh -- -k http://192.168.0.221/zentao/task-view-45967.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherManagerBase https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusinessApp https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusinessBase https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusinessCenter https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherManager https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness' -T add
+ TEMP=' -k '\''http://192.168.0.221/zentao/task-view-45967.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherManagerBase https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusinessApp https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusinessBase https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusinessCenter https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherManager https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness'\'' -T '\''add'\'' --'
+ rev=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ task=
+ types=
+ eval set -- ' -k '\''http://192.168.0.221/zentao/task-view-45967.html'\'' -R '\'''\'' -t '\'''\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherManagerBase https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusinessApp https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusinessBase https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusinessCenter https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherManager https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness'\'' -T '\''add'\'' --'
++ set -- -k http://192.168.0.221/zentao/task-view-45967.html -R '' -t '' -e qishanqing@dafy.com -E '' -b 'https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherManagerBase https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusinessApp https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusinessBase https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusinessCenter https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherManager https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness' -T add --
+ true
+ case "$1" in
+ task=http://192.168.0.221/zentao/task-view-45967.html
+ shift 2
+ true
+ case "$1" in
+ rev=
+ shift 2
+ true
+ case "$1" in
+ trunk=
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch='https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherManagerBase https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusinessApp https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusinessBase https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusinessCenter https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherManager https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness'
+ shift 2
+ true
+ case "$1" in
+ types=add
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ export -f Basecode
++ $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManagerBase' $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessApp' $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessBase' $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessCenter' $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManager' $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
/home/qishanqing/myscript/sh/svn-merged.sh: line 103: https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherManagerBase: 没有那个文件或目录
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManagerBase'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessApp'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessBase'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessCenter'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManager'
++ for y in '$branch'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ branchs='https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherManagerBase
https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusinessApp
https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusinessBase
https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusinessCenter
https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherManager
https://192.168.0.220/svn/tech/Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness'
+ test add = add
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManagerBase'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManagerBase'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManagerBase'
+ rm -f /home/qishanqing/tmp/merged/output.21245
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManagerBase'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManagerBase'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManagerBase'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManagerBase'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherManagerBase'
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ head -n 4
++ grep -C 3 $'Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManagerBase'
++ awk -F '|' '{print$1}'
+ revision=
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManagerBase'
+ head='r142444 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManagerBase'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r142444 '
+ '[' '!' -z r142444 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManagerBase@r142444' $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManagerBase' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManagerBase@r142444' $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManagerBase'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45967.html
Merged revision(s) r142444 -r142444   from Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherManagerBase' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessApp'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessApp'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessApp'
+ rm -f /home/qishanqing/tmp/merged/output.21245
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessApp'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessApp'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessApp'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusinessApp'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessApp'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ awk -F '|' '{print$1}'
++ grep '^r'
++ grep -C 3 $'Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessApp'
++ head -n 4
+ revision=
++ awk -F '|' '{print$1}'
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessApp'
++ grep '^r'
+ head='r142997 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessApp'
++ awk -F '|' '{print$1}'
++ tail -n 4
++ grep '^r'
+ revision='r142445 '
+ '[' '!' -z r142445 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessApp@r142445' $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessApp' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessApp@r142445' $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessApp'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45967.html
Merged revision(s) r142445 -r142997   from Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusinessApp' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessBase'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessBase'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessBase'
+ rm -f /home/qishanqing/tmp/merged/output.21245
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessBase'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessBase'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessBase'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessBase'
+ mails-cm -i 'code merged from Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusinessBase'
+ clean_workspace
+ svn cleanup .
+ xargs rm -rf
+ grep '^?'
+ svn st
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ awk -F '|' '{print$1}'
++ grep '^r'
++ grep -C 3 $'Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessBase'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessBase'
++ awk -F '|' '{print$1}'
++ grep '^r'
+ head='r142446 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessBase'
++ grep '^r'
++ tail -n 4
++ awk -F '|' '{print$1}'
+ revision='r142446 '
+ '[' '!' -z r142446 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessBase@r142446' $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessBase' .
+ st=
+ '[' -z ']'
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessBase@r142446' $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessBase'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45967.html
Merged revision(s) r142446 -r142446   from Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusinessBase' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessCenter'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessCenter'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessCenter'
+ rm -f /home/qishanqing/tmp/merged/output.21245
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessCenter'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessCenter'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessCenter'
+ svn_from_tb_merged
+ set -x
+ mails-cm -i 'code merged from Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusinessCenter'
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessCenter'
+ clean_workspace
+ svn cleanup .
+ svn st
+ grep '^?'
+ xargs rm -rf
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessCenter'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessCenter'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r142447 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessCenter'
++ tail -n 4
++ grep '^r'
++ awk -F '|' '{print$1}'
+ revision='r142447 '
+ '[' '!' -z r142447 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessCenter@r142447' $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessCenter' .
+ st=
+ '[' -z ']'
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessCenter@r142447' $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusinessCenter'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45967.html
Merged revision(s) r142447 -r142447   from Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusinessCenter' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManager'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManager'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManager'
+ rm -f /home/qishanqing/tmp/merged/output.21245
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManager'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManager'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManager'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManager'
+ mails-cm -i 'code merged from Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherManager'
+ clean_workspace
+ svn cleanup .
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManager'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManager'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r142448 '
+ '[' '!' -z ']'
++ tail -n 4
++ grep '^r'
++ awk -F '|' '{print$1}'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManager'
+ revision='r142448 '
+ '[' '!' -z r142448 ']'
++ grep -Ei 'conflicts|树冲突'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManager@r142448' $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManager' .
+ st=
+ '[' -z ']'
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManager@r142448' $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherManager'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45967.html
Merged revision(s) r142448 -r142448   from Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherManager' --username qishanqing --password 372233
+ unset trunk
+ for branch in '${branchs[@]}'
+ Basecode
+ test -z
++ echo $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
++ perl -npe 's,Branch/.*/Develop,Trunk,g'
+ trunk=$'https://192.168.0.220/svn/tech/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ rm -f /home/qishanqing/tmp/merged/output.21245
+ Basetrunk=/home/qishanqing/workspace/code/Trunk/
+ Basetrunkcode=$'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ Basebranch=/home/qishanqing/workspace/code/Branch/
+ Basebranchcode=$'/home/qishanqing/workspace/code/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ test -d $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ svn_from_tb_merged
+ set -x
+ cd $'/home/qishanqing/workspace/code/Trunk/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ clean_workspace
+ svn cleanup .
+ mails-cm -i 'code merged from Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness'
+ svn st
+ xargs rm -rf
+ grep '^?'
+ svn revert --depth=infinity .
+ svn up .
++ svn log
++ grep '^r'
++ grep -C 3 $'Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
++ awk -F '|' '{print$1}'
++ head -n 4
+ revision=
++ svn log -l 1 $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
+ head='r142449 '
+ '[' '!' -z ']'
++ svn log --stop-on-copy $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
++ grep '^r'
++ awk -F '|' '{print$1}'
++ tail -n 4
+ revision='r142449 '
+ '[' '!' -z r142449 ']'
++ svn merge --dry-run $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness@r142449' $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness' .
++ grep -Ei 'conflicts|树冲突'
+ st=
+ '[' -z ']'
+ svn merge $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness@r142449' $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/\345\211\215\347\253\257\344\270\232\345\212\241/\350\220\245\351\224\200\346\264\273\345\212\250/\345\215\241\345\215\267\347\263\273\347\273\237/CardVoucherBusiness'
+ svn ci -m 'http://192.168.0.221/zentao/task-view-45967.html
Merged revision(s) r142449 -r142449   from Branch/20170830-抽奖分流/Develop/前端业务/营销活动/卡卷系统/CardVoucherBusiness' --username qishanqing --password 372233
+ unset trunk
  Rendering merge/new.html.erb within layouts/application
  Rendering merge/new.html.erb within layouts/application
  Rendered merge/new.html.erb within layouts/application (1.8ms)
  Rendered merge/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 101700ms (Views: 61.9ms)


Completed 200 OK in 101700ms (Views: 61.9ms)


Started GET "/builder" for 192.168.5.26 at 2017-09-01 13:50:26 +0800
Started GET "/builder" for 192.168.5.26 at 2017-09-01 13:50:26 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#index as HTML
Processing by BuilderController#index as HTML
  Rendering builder/index.html.erb within layouts/application
  Rendering builder/index.html.erb within layouts/application
  Rendered builder/index.html.erb within layouts/application (5.9ms)
  Rendered builder/index.html.erb within layouts/application (5.9ms)
Completed 200 OK in 146ms (Views: 139.5ms)


Completed 200 OK in 146ms (Views: 139.5ms)


Started POST "/start" for 192.168.5.26 at 2017-09-01 13:50:30 +0800
Started POST "/start" for 192.168.5.26 at 2017-09-01 13:50:30 +0800
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Cannot render console from 192.168.5.26! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BuilderController#new as HTML
Processing by BuilderController#new as HTML
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170830-抽奖分流", "branch"=>"20170830-抽奖分流", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"PGU2ohzK5fWt6MZWZUk1gS7xxrBLINUEAV+0d0apRnwhgl1LUnA6fPvOSWzYdb7l9dtAwVyY0LebZ1VNmkwhjg=="}
  Parameters: {"email"=>"qishanqing@dafy.com", "types"=>"del", "trunk"=>"20170830-抽奖分流", "branch"=>"20170830-抽奖分流", "user"=>"", "extra_mails"=>"", "riqi"=>"", "authenticity_token"=>"PGU2ohzK5fWt6MZWZUk1gS7xxrBLINUEAV+0d0apRnwhgl1LUnA6fPvOSWzYdb7l9dtAwVyY0LebZ1VNmkwhjg=="}
pid is 21597
+++ basename -- /home/qishanqing/myscript/sh/svn-branchcreate.sh
++ getopt -o u:e:E:t:b:d:T:h --long types:,user:,email:,extra_mails:,trunk:,branch:,riqi:,help -n svn-branchcreate.sh -- -u '' -t $'20170830-\346\212\275\345\245\226\345\210\206\346\265\201' -e qishanqing@dafy.com -E '' -b $'20170830-\346\212\275\345\245\226\345\210\206\346\265\201' -T del -d ''
+ TEMP=' -u '\'''\'' -t '\''20170830-抽奖分流'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170830-抽奖分流'\'' -T '\''del'\'' -d '\'''\'' --'
+ user=
+ email=
+ extra_mails=
+ trunk=
+ branch=
+ riqi=
+ types=
+ eval set -- ' -u '\'''\'' -t '\''20170830-抽奖分流'\'' -e '\''qishanqing@dafy.com'\'' -E '\'''\'' -b '\''20170830-抽奖分流'\'' -T '\''del'\'' -d '\'''\'' --'
++ set -- -u '' -t $'20170830-\346\212\275\345\245\226\345\210\206\346\265\201' -e qishanqing@dafy.com -E '' -b $'20170830-\346\212\275\345\245\226\345\210\206\346\265\201' -T del -d '' --
+ true
+ case "$1" in
+ user=
+ shift 2
+ true
+ case "$1" in
+ trunk=$'20170830-\346\212\275\345\245\226\345\210\206\346\265\201'
+ shift 2
+ true
+ case "$1" in
+ email=qishanqing@dafy.com
+ shift 2
+ true
+ case "$1" in
+ extra_mails=
+ shift 2
+ true
+ case "$1" in
+ branch=$'20170830-\346\212\275\345\245\226\345\210\206\346\265\201'
+ shift 2
+ true
+ case "$1" in
+ types=del
+ shift 2
+ true
+ case "$1" in
+ riqi=
+ shift 2
+ true
+ case "$1" in
+ shift
+ break
+ export 'SMARTCM_EXTRA_MAIL=qishanqing@dafy.com '
+ SMARTCM_EXTRA_MAIL='qishanqing@dafy.com '
+ users=
++ $'20170830-\346\212\275\345\245\226\345\210\206\346\265\201'
/home/qishanqing/myscript/sh/svn-branchcreate.sh: line 239: 20170830-抽奖分流: command not found
++ for y in '$trunk'
++ echo $'20170830-\346\212\275\345\245\226\345\210\206\346\265\201'
+ trunks=$'20170830-\346\212\275\345\245\226\345\210\206\346\265\201'
+ test del = add
+ delbranch
+ '[' -z $'20170830-\346\212\275\345\245\226\345\210\206\346\265\201' ']'
+ inport_source
+ SVN_Trunk=https://192.168.0.220/svn/tech/Trunk/
+ SVN_Branch=https://192.168.0.220/svn/tech/Branch/
+ BaseLine=https://192.168.0.220/svn/tech/Version/
++ date +%Y%m%d
+ TIME_DIR=20170901
++ date +%Y
+ Level_1=2017
++ date +%Y%m
+ Level_2=201709
++ date +%Y%m%d%H%M
+ TIME_DIR_CLOSE=201709011350
+ move_dir=Closed/--close+
+ Trunk_name=$'https://192.168.0.220/svn/tech/Trunk/20170830-\346\212\275\345\245\226\345\210\206\346\265\201'
+ branch_name=$'https://192.168.0.220/svn/tech/Branch/20170901-20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/20170830-\346\212\275\345\245\226\345\210\206\346\265\201'
+ source_name=$'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201'
+ dest_name=$'https://192.168.0.220/svn/tech/Branch/Closed/--close+201709011350-20170830-\346\212\275\345\245\226\345\210\206\346\265\201'
++ echo $'https://192.168.0.220/svn/tech/Branch/20170901-20170830-\346\212\275\345\245\226\345\210\206\346\265\201/Develop/20170830-\346\212\275\345\245\226\345\210\206\346\265\201'
++ awk -F / '{print $7}'
+ br=$'20170901-20170830-\346\212\275\345\245\226\345\210\206\346\265\201'
+ access=$'20170901-20170830-\346\212\275\345\245\226\345\210\206\346\265\201'
+ svn move $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201' $'https://192.168.0.220/svn/tech/Branch/Closed/--close+201709011350-20170830-\346\212\275\345\245\226\345\210\206\346\265\201' --username builder --password ant@ -m $'\345\210\206\346\224\257\345\220\210\345\271\266\350\207\263\344\270\273\345\271\262\345\220\216\357\274\214\345\205\263\351\227\255\345\210\206\346\224\257\346\224\266\345\233\236\346\235\203\351\231\220'
+ rm -f /home/qishanqing/tmp/output.21597
+ echo $'https://192.168.0.220/svn/tech/Branch/20170830-\346\212\275\345\245\226\345\210\206\346\265\201'
+ cmdb-mysql 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170830-抽奖分流%'\'';'
++ cat /home/qishanqing/.ssh/mysql-cmdb.pass
+ mysql -u root --password=cm@dafy cmdb -h 192.168.0.232 -e 'update scm set scm_del = 0,scm_del_date=now() WHERE scm_branch like '\''%20170830-抽奖分流%'\'';'
+ cat /tmp/cmdb.db.21597
+ rm -f /tmp/cmdb.db.21597
+ cat
+ mails-cm -i 'svnbranch-del from svn branch create web'
  Rendering builder/new.html.erb within layouts/application
  Rendering builder/new.html.erb within layouts/application
  Rendered builder/new.html.erb within layouts/application (1.2ms)
  Rendered builder/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 1341ms (Views: 49.2ms)


Completed 200 OK in 1341ms (Views: 49.2ms)


